<script>
	import { WEBUI_API_BASE_URL } from '$lib/constants';
	import { getContext } from 'svelte';

	const i18n = getContext('i18n');
</script>

<div>
	<button
		class="fr-background-action-high--blue-france proconnect-button"
		on:click={() => {
			window.location.href = `${WEBUI_API_BASE_URL}/auths/signin`;
		}}
	>
		<svg xmlns="http://www.w3.org/2000/svg" width="214" height="56" fill="none"
			><path
				fill="#fff"
				d="m69.986 26.368 1.156-1.07c.833 1.053 1.819 1.597 2.94 1.597 1.293 0 2.04-.816 2.04-1.904 0-2.55-5.626-2.244-5.626-6.035 0-1.734 1.428-3.196 3.45-3.196 1.684 0 2.908.765 3.792 1.938l-1.19 1.037c-.697-1.003-1.547-1.547-2.584-1.547-1.105 0-1.836.748-1.836 1.734 0 2.567 5.627 2.244 5.627 6.052 0 2.023-1.581 3.35-3.655 3.35-1.768 0-3.077-.664-4.114-1.956m10.817-5.712H79.46l1.445-4.556h1.649zm4.818-3.45c-.56 0-1.02-.46-1.02-1.02a1.02 1.02 0 0 1 1.02-1.004c.56 0 1.003.46 1.003 1.003 0 .561-.442 1.02-1.003 1.02M84.89 28v-8.568h1.444V28zm3.767-4.284c0-2.499 1.717-4.624 4.403-4.624 1.24 0 2.26.46 3.043 1.292V15.25h1.445V28h-1.445v-.952c-.782.833-1.802 1.292-3.043 1.292-2.686 0-4.403-2.125-4.403-4.624m1.53 0c0 1.82 1.224 3.264 3.043 3.264 1.19 0 2.21-.578 2.873-1.598V22.05c-.68-1.037-1.7-1.598-2.873-1.598-1.82 0-3.043 1.445-3.043 3.264m18.023 2.873c-.799 1.071-2.074 1.751-3.672 1.751-2.89 0-4.675-2.125-4.675-4.624 0-2.6 1.666-4.624 4.318-4.624 2.329 0 3.842 1.581 3.842 3.723 0 .34-.051.68-.102.918h-6.562v.034c0 1.887 1.292 3.264 3.213 3.264 1.088 0 2.006-.51 2.567-1.275zm-4.012-6.256c-1.394 0-2.38.782-2.72 2.261h5.083c-.051-1.24-.952-2.26-2.363-2.26M110.473 28v-8.568h1.445v.97c.697-.766 1.581-1.31 2.856-1.31 1.921 0 3.349 1.292 3.349 3.723V28h-1.462v-5.134c0-1.53-.85-2.414-2.176-2.414-1.241 0-2.023.714-2.567 1.615V28zm11.052-2.873v-4.369h-1.615v-1.326h1.615V17.29h1.462v2.142h2.975v1.326h-2.975v4.37c0 1.342.68 1.716 1.717 1.716.561 0 .952-.068 1.275-.204v1.292c-.408.17-.867.238-1.479.238-1.904 0-2.975-.952-2.975-3.043m7.377-7.922c-.561 0-1.02-.459-1.02-1.02a1.02 1.02 0 0 1 1.02-1.003c.561 0 1.003.46 1.003 1.003 0 .561-.442 1.02-1.003 1.02M128.171 28v-8.568h1.445V28zm3.377-8.568h1.615v-1.054c0-1.836 1.207-3.128 3.043-3.128.952 0 1.7.34 2.21.833l-.901 1.054a1.64 1.64 0 0 0-1.292-.578c-.935 0-1.598.68-1.598 1.785v1.088h2.975v1.326h-2.975V28h-1.462v-7.242h-1.615zm8.543-2.227c-.561 0-1.02-.459-1.02-1.02a1.02 1.02 0 0 1 1.02-1.003c.561 0 1.003.46 1.003 1.003 0 .561-.442 1.02-1.003 1.02M139.36 28v-8.568h1.445V28zm12.115-1.41c-.799 1.07-2.074 1.75-3.672 1.75-2.89 0-4.675-2.125-4.675-4.624 0-2.6 1.666-4.624 4.318-4.624 2.329 0 3.842 1.581 3.842 3.723 0 .34-.051.68-.102.918h-6.562v.034c0 1.887 1.292 3.264 3.213 3.264 1.088 0 2.006-.51 2.567-1.275zm-4.012-6.257c-1.394 0-2.38.782-2.72 2.261h5.083c-.051-1.24-.952-2.26-2.363-2.26M153.737 28v-8.568h1.445v1.071c.629-.748 1.411-1.24 2.499-1.24.272 0 .527.033.731.101v1.496a3.1 3.1 0 0 0-.85-.119c-1.122 0-1.853.578-2.38 1.445V28zm13.685.34c-1.683 0-2.822-.952-2.822-2.448 0-1.326.986-2.278 2.822-2.567l2.873-.476v-.595c0-1.19-.85-1.87-2.057-1.87-1.003 0-1.836.442-2.329 1.19l-1.088-.833c.748-1.02 1.955-1.649 3.451-1.649 2.176 0 3.468 1.275 3.468 3.162V28h-1.445v-1.088c-.646.901-1.717 1.428-2.873 1.428m-1.377-2.499c0 .731.629 1.292 1.615 1.292 1.139 0 2.04-.595 2.635-1.58V23.92l-2.533.442c-1.19.187-1.717.731-1.717 1.48m7.252-6.409h1.564l2.737 7.055 2.737-7.055h1.564L178.55 28h-1.904zm17.856 7.157c-.799 1.071-2.074 1.751-3.672 1.751-2.89 0-4.675-2.125-4.675-4.624 0-2.6 1.666-4.624 4.318-4.624 2.329 0 3.842 1.581 3.842 3.723 0 .34-.051.68-.102.918h-6.562v.034c0 1.887 1.292 3.264 3.213 3.264 1.088 0 2.006-.51 2.567-1.275zm-4.012-6.256c-1.394 0-2.38.782-2.72 2.261h5.083c-.051-1.24-.952-2.26-2.363-2.26m10.185 6.647c1.054 0 1.904-.51 2.431-1.275l1.156.884c-.799 1.071-2.04 1.751-3.604 1.751-2.839 0-4.658-2.125-4.658-4.624s1.819-4.624 4.658-4.624c1.547 0 2.805.697 3.604 1.751l-1.156.884a2.93 2.93 0 0 0-2.448-1.275c-1.836 0-3.145 1.445-3.145 3.264 0 1.836 1.309 3.264 3.162 3.264M70.854 45V32.4h4.158c2.772 0 4.464 1.422 4.464 3.762 0 2.322-1.692 3.744-4.464 3.744H73.41V45zm4.266-10.422h-1.71v3.15h1.71c1.08 0 1.728-.576 1.728-1.602 0-.954-.648-1.548-1.728-1.548M81.249 45v-9.072h2.286v.9c.594-.612 1.368-1.08 2.394-1.08.306 0 .576.054.792.126v2.394a4 4 0 0 0-1.008-.126c-1.116 0-1.836.612-2.178 1.17V45zm11.386-9.432c2.952 0 4.968 2.178 4.968 4.896s-2.016 4.896-4.968 4.896-4.968-2.178-4.968-4.896 2.016-4.896 4.968-4.896m.036 7.632c1.458 0 2.556-1.17 2.556-2.736 0-1.584-1.098-2.736-2.556-2.736-1.512 0-2.628 1.152-2.628 2.736S91.159 43.2 92.67 43.2m13.172-.234c1.44 0 2.574-.702 3.294-1.728l2.016 1.548c-1.152 1.566-3.024 2.574-5.31 2.574-3.978 0-6.696-3.06-6.696-6.66s2.718-6.66 6.696-6.66c2.286 0 4.158 1.026 5.31 2.556l-2.016 1.566c-.72-1.026-1.854-1.728-3.294-1.728-2.376 0-4.068 1.854-4.068 4.266s1.692 4.266 4.068 4.266m11.366-7.398c2.952 0 4.968 2.178 4.968 4.896s-2.016 4.896-4.968 4.896-4.968-2.178-4.968-4.896 2.016-4.896 4.968-4.896m.036 7.632c1.458 0 2.556-1.17 2.556-2.736 0-1.584-1.098-2.736-2.556-2.736-1.512 0-2.628 1.152-2.628 2.736s1.116 2.736 2.628 2.736m7.018 1.8v-9.072h2.286v.72c.63-.612 1.476-1.08 2.682-1.08 1.962 0 3.528 1.35 3.528 4.032V45h-2.322v-5.31c0-1.206-.666-1.962-1.782-1.962-1.152 0-1.764.774-2.106 1.35V45zm11.091 0v-9.072h2.286v.72c.63-.612 1.476-1.08 2.682-1.08 1.962 0 3.528 1.35 3.528 4.032V45h-2.322v-5.31c0-1.206-.666-1.962-1.782-1.962-1.152 0-1.764.774-2.106 1.35V45zm19.444-1.476c-.846 1.134-2.25 1.836-3.96 1.836-3.222 0-5.04-2.25-5.04-4.896 0-2.682 1.692-4.896 4.662-4.896 2.52 0 4.176 1.692 4.176 4.068 0 .504-.072.99-.144 1.296h-6.354c.144 1.494 1.188 2.376 2.736 2.376.99 0 1.8-.432 2.286-1.08zm-4.338-6.048c-1.116 0-1.872.54-2.178 1.728h4.086c-.036-.9-.702-1.728-1.908-1.728m10.696 5.724c.882 0 1.584-.432 2.016-1.062l1.818 1.386c-.846 1.116-2.178 1.836-3.834 1.836-3.132 0-5.004-2.25-5.004-4.896s1.872-4.896 5.004-4.896c1.656 0 2.988.72 3.834 1.836l-1.818 1.386c-.432-.63-1.116-1.062-2.052-1.062-1.494 0-2.592 1.152-2.592 2.736 0 1.602 1.098 2.736 2.628 2.736m6.204-1.512v-3.672h-1.692v-2.088h1.692V33.66h2.304v2.268h2.772v2.088h-2.772v3.672c0 1.008.54 1.404 1.44 1.404.63 0 1.044-.072 1.35-.198v1.998c-.45.198-.99.288-1.746.288-2.268 0-3.348-1.278-3.348-3.492"
			></path><path
				fill="#FCC63A"
				d="m26.641 19.598-5.029 8.628-4.557-9.175 5.39-3.113 4.49 3.16zm20.656 16.98V19.62a.6.6 0 0 0-.306-.523L31.998 10.42"
			></path><path
				fill="#0063CB"
				d="M16.7 36.578 32 10.42v35.362l-14.996-8.605a.67.67 0 0 1-.306-.524V19.706zm24.67-20.735 5.457 3.155-4.489 9.15-5.387-9.236 4.418-3.07"
			></path><path
				fill="#fff"
				d="m51.606 16.303-19.19-11.02a.93.93 0 0 0-.832 0l-19.19 11.02a.89.89 0 0 0-.394.695v22a.88.88 0 0 0 .394.7l19.189 11.02a.93.93 0 0 0 .832 0l19.191-11.02a.89.89 0 0 0 .394-.7v-22a.89.89 0 0 0-.394-.695M22.789 34.059h.079c-.042 0-.079.007-.079.05 0 .1.151 0 .2.1a.9.9 0 0 0-.629.276c0 .05.1.05.151.05-.075.1-.226.05-.277.152a.18.18 0 0 0 .1.05c-.05 0-.1 0-.1.05v.152c-.126 0-.176.1-.277.15.2.152.327 0 .528 0-.528.2-.956.479-1.484.63-.1 0 0 .15-.1.15.151.1.227-.05.377-.05-.654.378-1.333.7-2.037 1.133a.35.35 0 0 0-.1.2h-.2c-.1.05-.05.176-.151.277.226.15.5-.2.654 0 .05 0-.1.05-.2.05-.05 0-.05.1-.1.1h-.154c-.1.075-.2.126-.2.276a.22.22 0 0 0-.226.1 9 9 0 0 0 3.144-.578 7.7 7.7 0 0 0 2.088-1.56.18.18 0 0 1 .05.1c-.147.437-.43.816-.806 1.08-.277.152-.478.378-.7.479a4 4 0 0 0-.428.276 10.7 10.7 0 0 1-1.939.412l-.305.044q-.338.05-.671.108l-1.993-1.138a.65.65 0 0 1-.288-.411.6.6 0 0 0 .094-.063.3.3 0 0 0-.113-.071v-.65a12.8 12.8 0 0 0 3.038-.942 8.8 8.8 0 0 0-3.037-1.343v-1.515a12 12 0 0 1 1.639.392q.621.228 1.182.578.221.211.478.377a.91.91 0 0 0 .8.05h.33a3.96 3.96 0 0 0 1.937-.905c0 .05.05.05.1.05a3.6 3.6 0 0 1-.428 1.132c.003.05-.048.152.053.202m2.817 3.57c.251-.1.4-.276.629-.376-.05.05-.05.15-.1.2a3.7 3.7 0 0 0-.528.4 16 16 0 0 0-1.585 1.61c-.252.3-.528.578-.8.855q-.145.135-.31.245l-2.527-1.45q.542.046 1.076-.053.442-.124.855-.327v.1c.7-.277 1.232-.906 1.937-1.132.025 0 .126.1.226.05a1.88 1.88 0 0 1 1.509-.7c0 .05 0 .1.05.1h.025c-.151.126-.327.25-.5.377-.057.052-.007.1.043.1m-8.908-6.163v-.186a5.8 5.8 0 0 1 1.588-.188 1.5 1.5 0 0 1 .478 0 5.9 5.9 0 0 0-2.066.374m30.6 5.088a.67.67 0 0 1-.306.524l-10.079 5.85a32 32 0 0 1-3.408-1.184 2.83 2.83 0 0 1-.05-2.245q.12-.464.352-.883c.025-.025.05-.05.05-.076a.025.025 0 0 0 .025-.025 4.3 4.3 0 0 1 .377-.555l.015-.015.02-.021.015-.015c0-.025.025-.05.05-.076.025-.051.075-.076.1-.126q.265-.28.579-.5.32-.115.654-.177 1.217.09 2.415.328a.8.8 0 0 1 .277.1c.301.059.612.04.905-.05a1.14 1.14 0 0 0 .855-.706 1.21 1.21 0 0 0 .05-1.06c-.178-.275-.013-.436.181-.59l.068-.054q.13-.092.231-.216c.126-.252-.1-.4-.151-.63-.05-.1-.226-.05-.327-.2.352-.151.855-.43.629-.857-.151-.227-.377-.63-.1-.857.352-.2.855-.151 1.006-.48a1.14 1.14 0 0 0-.292-1.084l-.075-.108a5 5 0 0 1-.211-.32 7 7 0 0 0-.528-.757 4.3 4.3 0 0 1-.528-1.01c-.151-.377.05-.705.05-1.083a6.4 6.4 0 0 0-.327-2.144c-.126-.353-.176-.731-.327-1.06a1.1 1.1 0 0 0-.226-.58.37.37 0 0 1 0-.327q.308-.218.579-.48a.57.57 0 0 0-.2-.705c-.327-.151-.3.328-.528.429h-.151c-.05-.126.05-.177.151-.277 0-.05 0-.151-.05-.151-.2 0-.377-.051-.428-.151a3.96 3.96 0 0 0-1.861-1.286q.283.086.579.1c.338.07.69.036 1.006-.1.227-.076.277-.48.377-.706a.8.8 0 0 0-.151-.631 2.2 2.2 0 0 0-.906-.756 9 9 0 0 1-.679-.353 1 1 0 0 0-.251-.126c-2.965-1.485-9.069-.2-9.534 0h-.009a8 8 0 0 0-1.249.475 3.92 3.92 0 0 0-2.365 2.465 3.83 3.83 0 0 0-1.333 1.509c-.428.8-1.056 1.509-.956 2.414.1.78.277 1.484.428 2.289q.065.409.2.8c.1.276 0 .629.151.855.075.15.025.327.227.428v.2c.05.05.05.1.151.1v.2c.435.423.807.906 1.107 1.434.1.276-.478.15-.7.05a6 6 0 0 1-1.132-.956.18.18 0 0 0-.051.1c.2.352.906.78.528 1.006-.2.1-.428-.151-.629.05-.05.076 0 .177 0 .277-.277-.2-.578-.1-.855-.2-.2-.05-.252-.427-.478-.427a15 15 0 0 0-1.811-.327 15 15 0 0 0-1.739-.16V19.707a.6.6 0 0 1 .306-.524l14.987-8.761 14.994 8.677a.6.6 0 0 1 .306.524zm-7.954-8.261a.33.33 0 0 1-.282.149 3 3 0 0 0-.282.273c.1 0 0 .149.1.149-.205.223.077.694-.205.793-.37.099-.758.099-1.127 0a.7.7 0 0 1 .167-.016h.085a.38.38 0 0 0 .337-.132v-.2c0-.05-.051-.05-.1-.05a.16.16 0 0 1-.1.05.22.22 0 0 0-.154-.2.8.8 0 0 1-.718-.273.67.67 0 0 1 .436-.05c.128 0 .077-.223.231-.322h.154c.307-.372.871-.471.974-.843 0-.1-.282-.1-.487-.15a2.3 2.3 0 0 0-.82.05q-.541.076-1.051.274a3.2 3.2 0 0 1 .923-.471q.35-.135.718-.2l.132-.026.133-.027a.97.97 0 0 1 .556 0c.231.1.615.1.666.248.1.273-.154.545-.435.744-.057.08.149.135.149.23"
			></path><path
				fill="#FCC63A"
				d="M64.56 5H39a2 2 0 0 0-2 2v9.302a2 2 0 0 0 2 2h25.56a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2"
			></path><path
				fill="#161616"
				d="M39.562 16.168V7.316h2.921q1.454 0 2.289.708.847.708.847 1.935 0 1.215-.847 1.922-.836.708-2.289.708h-1.125v3.579zm2.997-7.322h-1.201v2.213h1.2q.57 0 .886-.29.33-.292.329-.836 0-.505-.329-.796-.316-.291-.885-.291m4.671 7.322V7.316h2.707q1.454 0 2.301.708t.847 1.935q0 .796-.379 1.39-.366.583-1.037.899l2.782 3.92h-2.15l-2.352-3.58h-.923v3.58zm2.808-7.322h-1.012v2.213h1.012q.57 0 .885-.29.316-.292.316-.836 0-.505-.316-.796t-.885-.291m9.511-1.783q1.036 0 1.896.38.874.379 1.492 1.01.62.633.962 1.493.34.848.341 1.796 0 .948-.341 1.808a4.5 4.5 0 0 1-.962 1.48q-.62.631-1.492 1.01a4.65 4.65 0 0 1-1.896.38 4.74 4.74 0 0 1-3.402-1.39 4.5 4.5 0 0 1-.961-1.48 4.9 4.9 0 0 1-.342-1.808q0-.949.342-1.796.341-.86.961-1.492.62-.634 1.492-1.012a4.7 4.7 0 0 1 1.91-.38m0 7.676a2.8 2.8 0 0 0 1.138-.228q.53-.24.898-.632.378-.405.594-.95a3.3 3.3 0 0 0 .215-1.187 3.2 3.2 0 0 0-.215-1.176 2.8 2.8 0 0 0-.595-.95 2.55 2.55 0 0 0-.897-.631 2.7 2.7 0 0 0-1.138-.24q-.62 0-1.151.24c-.344.145-.654.36-.91.632a2.9 2.9 0 0 0-.582.949 3.2 3.2 0 0 0-.215 1.176q0 .63.215 1.188.215.544.581.949.38.391.91.632.532.228 1.152.228"
			></path></svg
		>
		<span class="proconnect-sr-only">S'identifier avec ProConnect</span>
	</button>
	<p>
		<a
			href="https://www.proconnect.gouv.fr/"
			target="_blank"
			rel="noopener noreferrer"
			title={$i18n.t("What is ProConnect ? - New window")}
			class="underline"
		>
			{$i18n.t("What is ProConnect ?")}
		</a>
	</p>
</div>

<style>
	.proconnect-sr-only {
		position: absolute;
		width: 1px;
		height: 1px;
		padding: 0;
		margin: -1px;
		overflow: hidden;
		clip: rect(0, 0, 0, 0);
		white-space: nowrap;
		border-width: 0;
	}

	.proconnect-button {
		width: 214px;
		height: 56px;
		border: none;
	}

	.proconnect-button:hover {
		background-color: var(--hover) !important;
	}
</style>
