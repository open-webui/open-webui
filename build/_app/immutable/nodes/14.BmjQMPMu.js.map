{"version":3,"file":"14.BmjQMPMu.js","sources":["../../../../../../src/lib/components/admin/Functions/FunctionMenu.svelte","../../../../../../src/lib/components/admin/Functions/AddFunctionMenu.svelte","../../../../../../src/lib/components/admin/Functions.svelte","../../../../../../src/routes/(app)/admin/functions/+page.svelte"],"sourcesContent":["<script lang=\"ts\">\n\timport { DropdownMenu } from 'bits-ui';\n\timport { flyAndScale } from '$lib/utils/transitions';\n\timport { getContext } from 'svelte';\n\n\timport Dropdown from '$lib/components/common/Dropdown.svelte';\n\timport GarbageBin from '$lib/components/icons/GarbageBin.svelte';\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\n\timport Share from '$lib/components/icons/Share.svelte';\n\timport DocumentDuplicate from '$lib/components/icons/DocumentDuplicate.svelte';\n\timport Download from '$lib/components/icons/Download.svelte';\n\timport Switch from '$lib/components/common/Switch.svelte';\n\timport GlobeAlt from '$lib/components/icons/GlobeAlt.svelte';\n\n\tconst i18n = getContext('i18n');\n\n\texport let func;\n\n\texport let editHandler: Function;\n\texport let shareHandler: Function;\n\texport let cloneHandler: Function;\n\texport let exportHandler: Function;\n\texport let deleteHandler: Function;\n\texport let toggleGlobalHandler: Function;\n\n\texport let onClose: Function;\n\n\tlet show = false;\n</script>\n\n<Dropdown\n\tbind:show\n\ton:change={(e) => {\n\t\tif (e.detail === false) {\n\t\t\tonClose();\n\t\t}\n\t}}\n>\n\t<Tooltip content={$i18n.t('More')}>\n\t\t<slot />\n\t</Tooltip>\n\n\t<div slot=\"content\">\n\t\t<DropdownMenu.Content\n\t\t\tclass=\"w-full max-w-[180px] rounded-xl p-1 border border-gray-100  dark:border-gray-800 z-50 bg-white dark:bg-gray-850 dark:text-white shadow-sm\"\n\t\t\tsideOffset={-2}\n\t\t\tside=\"bottom\"\n\t\t\talign=\"start\"\n\t\t\ttransition={flyAndScale}\n\t\t>\n\t\t\t{#if ['filter', 'action'].includes(func.type)}\n\t\t\t\t<div\n\t\t\t\t\tclass=\"flex gap-2 justify-between items-center px-3 py-1.5 text-sm font-medium cursor-pointerrounded-md\"\n\t\t\t\t>\n\t\t\t\t\t<div class=\"flex gap-2 items-center\">\n\t\t\t\t\t\t<GlobeAlt />\n\n\t\t\t\t\t\t<div class=\"flex items-center\">{$i18n.t('Global')}</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Switch on:change={toggleGlobalHandler} bind:state={func.is_global} />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<hr class=\"border-gray-50 dark:border-gray-850/30 my-1\" />\n\t\t\t{/if}\n\n\t\t\t<DropdownMenu.Item\n\t\t\t\tclass=\"flex gap-2 items-center px-3 py-1.5 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800  rounded-md\"\n\t\t\t\ton:click={() => {\n\t\t\t\t\teditHandler();\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<svg\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\tfill=\"none\"\n\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\tstroke-width=\"1.5\"\n\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t>\n\t\t\t\t\t<path\n\t\t\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t\t\t\td=\"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125\"\n\t\t\t\t\t/>\n\t\t\t\t</svg>\n\n\t\t\t\t<div class=\"flex items-center\">{$i18n.t('Edit')}</div>\n\t\t\t</DropdownMenu.Item>\n\n\t\t\t<DropdownMenu.Item\n\t\t\t\tclass=\"flex gap-2 items-center px-3 py-1.5 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800  rounded-md\"\n\t\t\t\ton:click={() => {\n\t\t\t\t\tshareHandler();\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Share />\n\t\t\t\t<div class=\"flex items-center\">{$i18n.t('Share')}</div>\n\t\t\t</DropdownMenu.Item>\n\n\t\t\t<DropdownMenu.Item\n\t\t\t\tclass=\"flex gap-2 items-center px-3 py-1.5 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md\"\n\t\t\t\ton:click={() => {\n\t\t\t\t\tcloneHandler();\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<DocumentDuplicate />\n\n\t\t\t\t<div class=\"flex items-center\">{$i18n.t('Clone')}</div>\n\t\t\t</DropdownMenu.Item>\n\n\t\t\t<DropdownMenu.Item\n\t\t\t\tclass=\"flex gap-2 items-center px-3 py-1.5 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md\"\n\t\t\t\ton:click={() => {\n\t\t\t\t\texportHandler();\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Download />\n\n\t\t\t\t<div class=\"flex items-center\">{$i18n.t('Export')}</div>\n\t\t\t</DropdownMenu.Item>\n\n\t\t\t<hr class=\"border-gray-50 dark:border-gray-850/30 my-1\" />\n\n\t\t\t<DropdownMenu.Item\n\t\t\t\tclass=\"flex  gap-2  items-center px-3 py-1.5 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md\"\n\t\t\t\ton:click={() => {\n\t\t\t\t\tdeleteHandler();\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<GarbageBin strokeWidth=\"2\" />\n\t\t\t\t<div class=\"flex items-center\">{$i18n.t('Delete')}</div>\n\t\t\t</DropdownMenu.Item>\n\t\t</DropdownMenu.Content>\n\t</div>\n</Dropdown>\n","<script lang=\"ts\">\n\timport { DropdownMenu } from 'bits-ui';\n\timport { flyAndScale } from '$lib/utils/transitions';\n\timport { getContext } from 'svelte';\n\n\timport Dropdown from '$lib/components/common/Dropdown.svelte';\n\timport GarbageBin from '$lib/components/icons/GarbageBin.svelte';\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\n\timport Share from '$lib/components/icons/Share.svelte';\n\timport DocumentDuplicate from '$lib/components/icons/DocumentDuplicate.svelte';\n\timport Download from '$lib/components/icons/Download.svelte';\n\timport Switch from '$lib/components/common/Switch.svelte';\n\timport GlobeAlt from '$lib/components/icons/GlobeAlt.svelte';\n\timport Github from '$lib/components/icons/Github.svelte';\n\timport Plus from '$lib/components/icons/Plus.svelte';\n\timport Pencil from '$lib/components/icons/Pencil.svelte';\n\timport PencilSolid from '$lib/components/icons/PencilSolid.svelte';\n\timport Link from '$lib/components/icons/Link.svelte';\n\n\tconst i18n = getContext('i18n');\n\n\texport let createHandler: Function;\n\texport let importFromLinkHandler: Function;\n\n\texport let onClose: Function = () => {};\n\n\tlet show = false;\n</script>\n\n<Dropdown\n\tbind:show\n\ton:change={(e) => {\n\t\tif (e.detail === false) {\n\t\t\tonClose();\n\t\t}\n\t}}\n>\n\t<Tooltip content={$i18n.t('Create')}>\n\t\t<slot />\n\t</Tooltip>\n\n\t<div slot=\"content\">\n\t\t<DropdownMenu.Content\n\t\t\tclass=\"w-full max-w-[190px] rounded-2xl px-1 py-1 border border-gray-100  dark:border-gray-800 z-50 bg-white dark:bg-gray-850 dark:text-white shadow-lg\"\n\t\t\tsideOffset={6}\n\t\t\tside=\"bottom\"\n\t\t\talign=\"start\"\n\t\t\ttransition={flyAndScale}\n\t\t>\n\t\t\t<button\n\t\t\t\tclass=\"flex gap-2 items-center px-3 py-1.5 text-sm cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-xl w-full\"\n\t\t\t\ton:click={async () => {\n\t\t\t\t\tcreateHandler();\n\t\t\t\t\tshow = false;\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div class=\" self-center mr-2\">\n\t\t\t\t\t<Pencil />\n\t\t\t\t</div>\n\t\t\t\t<div class=\" self-center truncate\">{$i18n.t('New Function')}</div>\n\t\t\t</button>\n\n\t\t\t<button\n\t\t\t\tclass=\"flex gap-2 items-center px-3 py-1.5 text-sm cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-xl w-full\"\n\t\t\t\ton:click={async () => {\n\t\t\t\t\timportFromLinkHandler();\n\t\t\t\t\tshow = false;\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div class=\" self-center mr-2\">\n\t\t\t\t\t<Link />\n\t\t\t\t</div>\n\t\t\t\t<div class=\" self-center truncate\">{$i18n.t('Import From Link')}</div>\n\t\t\t</button>\n\t\t</DropdownMenu.Content>\n\t</div>\n</Dropdown>\n","<script lang=\"ts\">\n\timport { toast } from 'svelte-sonner';\n\timport fileSaver from 'file-saver';\n\tconst { saveAs } = fileSaver;\n\n\timport { WEBUI_NAME, config, functions as _functions, models, settings, user } from '$lib/stores';\n\timport { onMount, getContext, tick } from 'svelte';\n\n\timport { goto } from '$app/navigation';\n\timport {\n\t\tcreateNewFunction,\n\t\tdeleteFunctionById,\n\t\texportFunctions,\n\t\tgetFunctionById,\n\t\tgetFunctionList,\n\t\tgetFunctions,\n\t\tloadFunctionByUrl,\n\t\ttoggleFunctionById,\n\t\ttoggleGlobalById\n\t} from '$lib/apis/functions';\n\n\timport Download from '../icons/Download.svelte';\n\timport Tooltip from '../common/Tooltip.svelte';\n\timport ConfirmDialog from '../common/ConfirmDialog.svelte';\n\timport { getModels } from '$lib/apis';\n\timport FunctionMenu from './Functions/FunctionMenu.svelte';\n\timport EllipsisHorizontal from '../icons/EllipsisHorizontal.svelte';\n\timport Switch from '../common/Switch.svelte';\n\timport ValvesModal from '../workspace/common/ValvesModal.svelte';\n\timport ManifestModal from '../workspace/common/ManifestModal.svelte';\n\timport Heart from '../icons/Heart.svelte';\n\timport DeleteConfirmDialog from '$lib/components/common/ConfirmDialog.svelte';\n\timport GarbageBin from '../icons/GarbageBin.svelte';\n\timport Search from '../icons/Search.svelte';\n\timport Plus from '../icons/Plus.svelte';\n\timport ChevronRight from '../icons/ChevronRight.svelte';\n\timport XMark from '../icons/XMark.svelte';\n\timport AddFunctionMenu from './Functions/AddFunctionMenu.svelte';\n\timport ImportModal from '../ImportModal.svelte';\n\timport ViewSelector from '../workspace/common/ViewSelector.svelte';\n\timport TagSelector from '../workspace/common/TagSelector.svelte';\n\timport { capitalizeFirstLetter } from '$lib/utils';\n\timport Spinner from '../common/Spinner.svelte';\n\n\tconst i18n = getContext('i18n');\n\n\tlet shiftKey = false;\n\n\tlet functionsImportInputElement: HTMLInputElement;\n\tlet importFiles;\n\n\tlet tagsContainerElement: HTMLDivElement;\n\tlet viewOption = '';\n\n\tlet query = '';\n\tlet selectedTag = '';\n\tlet selectedType = '';\n\n\tlet showImportModal = false;\n\n\tlet showConfirm = false;\n\n\tlet showManifestModal = false;\n\tlet showValvesModal = false;\n\tlet selectedFunction = null;\n\n\tlet showDeleteConfirm = false;\n\n\tlet loaded = false;\n\tlet functions = null;\n\tlet filteredItems = [];\n\n\t$: if (\n\t\tfunctions &&\n\t\tquery !== undefined &&\n\t\tselectedType !== undefined &&\n\t\tviewOption !== undefined\n\t) {\n\t\tsetFilteredItems();\n\t}\n\n\tconst setFilteredItems = () => {\n\t\tfilteredItems = functions\n\t\t\t.filter(\n\t\t\t\t(f) =>\n\t\t\t\t\t(selectedType !== '' ? f.type === selectedType : true) &&\n\t\t\t\t\t(query === '' ||\n\t\t\t\t\t\tf.name.toLowerCase().includes(query.toLowerCase()) ||\n\t\t\t\t\t\tf.id.toLowerCase().includes(query.toLowerCase())) &&\n\t\t\t\t\t(viewOption === '' ||\n\t\t\t\t\t\t(viewOption === 'created' && f.user_id === $user?.id) ||\n\t\t\t\t\t\t(viewOption === 'shared' && f.user_id !== $user?.id))\n\t\t\t)\n\t\t\t.sort((a, b) => a.type.localeCompare(b.type) || a.name.localeCompare(b.name));\n\t};\n\tconst shareHandler = async (func) => {\n\t\tconst item = await getFunctionById(localStorage.token, func.id).catch((error) => {\n\t\t\ttoast.error(`${error}`);\n\t\t\treturn null;\n\t\t});\n\n\t\ttoast.success($i18n.t('Redirecting you to Open WebUI Community'));\n\n\t\tconst url = 'https://openwebui.com';\n\n\t\tconst tab = await window.open(`${url}/functions/create`, '_blank');\n\n\t\t// Define the event handler function\n\t\tconst messageHandler = (event) => {\n\t\t\tif (event.origin !== url) return;\n\t\t\tif (event.data === 'loaded') {\n\t\t\t\ttab.postMessage(JSON.stringify(item), '*');\n\n\t\t\t\t// Remove the event listener after handling the message\n\t\t\t\twindow.removeEventListener('message', messageHandler);\n\t\t\t}\n\t\t};\n\n\t\twindow.addEventListener('message', messageHandler, false);\n\t\tconsole.log(item);\n\t};\n\n\tconst cloneHandler = async (func) => {\n\t\tconst _function = await getFunctionById(localStorage.token, func.id).catch((error) => {\n\t\t\ttoast.error(`${error}`);\n\t\t\treturn null;\n\t\t});\n\n\t\tif (_function) {\n\t\t\tsessionStorage.function = JSON.stringify({\n\t\t\t\t..._function,\n\t\t\t\tid: `${_function.id}_clone`,\n\t\t\t\tname: `${_function.name} (${$i18n.t('Clone')})`\n\t\t\t});\n\t\t\tgoto('/admin/functions/create');\n\t\t}\n\t};\n\n\tconst exportHandler = async (func) => {\n\t\tconst _function = await getFunctionById(localStorage.token, func.id).catch((error) => {\n\t\t\ttoast.error(`${error}`);\n\t\t\treturn null;\n\t\t});\n\n\t\tif (_function) {\n\t\t\tlet blob = new Blob([JSON.stringify([_function])], {\n\t\t\t\ttype: 'application/json'\n\t\t\t});\n\t\t\tsaveAs(blob, `function-${_function.id}-export-${Date.now()}.json`);\n\t\t}\n\t};\n\n\tconst deleteHandler = async (func) => {\n\t\tconst res = await deleteFunctionById(localStorage.token, func.id).catch((error) => {\n\t\t\ttoast.error(`${error}`);\n\t\t\treturn null;\n\t\t});\n\n\t\tif (res) {\n\t\t\ttoast.success($i18n.t('Function deleted successfully'));\n\t\t\tfunctions = functions.filter((f) => f.id !== func.id);\n\n\t\t\t_functions.set(await getFunctions(localStorage.token));\n\t\t\tmodels.set(\n\t\t\t\tawait getModels(\n\t\t\t\t\tlocalStorage.token,\n\t\t\t\t\t$config?.features?.enable_direct_connections && ($settings?.directConnections ?? null),\n\t\t\t\t\tfalse,\n\t\t\t\t\ttrue\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t};\n\n\tconst toggleGlobalHandler = async (func) => {\n\t\tconst res = await toggleGlobalById(localStorage.token, func.id).catch((error) => {\n\t\t\ttoast.error(`${error}`);\n\t\t});\n\n\t\tif (res) {\n\t\t\tif (func.is_global) {\n\t\t\t\tfunc.type === 'filter'\n\t\t\t\t\t? toast.success($i18n.t('Filter is now globally enabled'))\n\t\t\t\t\t: toast.success($i18n.t('Function is now globally enabled'));\n\t\t\t} else {\n\t\t\t\tfunc.type === 'filter'\n\t\t\t\t\t? toast.success($i18n.t('Filter is now globally disabled'))\n\t\t\t\t\t: toast.success($i18n.t('Function is now globally disabled'));\n\t\t\t}\n\n\t\t\t_functions.set(await getFunctions(localStorage.token));\n\t\t\tmodels.set(\n\t\t\t\tawait getModels(\n\t\t\t\t\tlocalStorage.token,\n\t\t\t\t\t$config?.features?.enable_direct_connections && ($settings?.directConnections ?? null),\n\t\t\t\t\tfalse,\n\t\t\t\t\ttrue\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t};\n\n\tonMount(async () => {\n\t\tviewOption = localStorage?.workspaceViewOption || '';\n\t\tfunctions = await getFunctionList(localStorage.token).catch((error) => {\n\t\t\ttoast.error(`${error}`);\n\t\t\treturn [];\n\t\t});\n\n\t\tawait tick();\n\t\tloaded = true;\n\n\t\tconst onKeyDown = (event) => {\n\t\t\tif (event.key === 'Shift') {\n\t\t\t\tshiftKey = true;\n\t\t\t}\n\t\t};\n\n\t\tconst onKeyUp = (event) => {\n\t\t\tif (event.key === 'Shift') {\n\t\t\t\tshiftKey = false;\n\t\t\t}\n\t\t};\n\n\t\tconst onBlur = () => {\n\t\t\tshiftKey = false;\n\t\t};\n\n\t\twindow.addEventListener('keydown', onKeyDown);\n\t\twindow.addEventListener('keyup', onKeyUp);\n\t\twindow.addEventListener('blur-sm', onBlur);\n\n\t\treturn () => {\n\t\t\twindow.removeEventListener('keydown', onKeyDown);\n\t\t\twindow.removeEventListener('keyup', onKeyUp);\n\t\t\twindow.removeEventListener('blur-sm', onBlur);\n\t\t};\n\t});\n</script>\n\n<svelte:head>\n\t<title>\n\t\t{$i18n.t('Functions')} â€¢ {$WEBUI_NAME}\n\t</title>\n</svelte:head>\n\n<ImportModal\n\tbind:show={showImportModal}\n\tloadUrlHandler={async (url) => {\n\t\treturn await loadFunctionByUrl(localStorage.token, url);\n\t}}\n\tonImport={(func) => {\n\t\tsessionStorage.function = JSON.stringify({\n\t\t\t...func\n\t\t});\n\t\tgoto('/admin/functions/create');\n\t}}\n/>\n\n{#if loaded}\n\t<div class=\"px-4.5 w-full\">\n\t\t<div class=\"flex flex-col gap-1 px-1 mt-2.5 mb-2\">\n\t\t\t<div class=\"flex justify-between items-center mb-1 w-full\">\n\t\t\t\t<input\n\t\t\t\t\tid=\"documents-import-input\"\n\t\t\t\t\tbind:this={functionsImportInputElement}\n\t\t\t\t\tbind:files={importFiles}\n\t\t\t\t\ttype=\"file\"\n\t\t\t\t\taccept=\".json\"\n\t\t\t\t\thidden\n\t\t\t\t\ton:change={() => {\n\t\t\t\t\t\tconsole.log(importFiles);\n\t\t\t\t\t\tshowConfirm = true;\n\t\t\t\t\t}}\n\t\t\t\t/>\n\n\t\t\t\t<div class=\"flex justify-between items-center w-full\">\n\t\t\t\t\t<div class=\"flex items-center md:self-center text-xl font-medium px-0.5 gap-2 shrink-0\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t{$i18n.t('Functions')}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"text-lg font-medium text-gray-500 dark:text-gray-500\">\n\t\t\t\t\t\t\t{filteredItems.length}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"flex w-full justify-end gap-1.5\">\n\t\t\t\t\t\t{#if $user?.role === 'admin'}\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\"flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-200 transition\"\n\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\tfunctionsImportInputElement.click();\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div class=\" self-center font-medium line-clamp-1\">\n\t\t\t\t\t\t\t\t\t{$i18n.t('Import')}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t\t{#if functions.length}\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclass=\"flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-200 transition\"\n\t\t\t\t\t\t\t\t\ton:click={async () => {\n\t\t\t\t\t\t\t\t\t\tconst _functions = await exportFunctions(localStorage.token).catch((error) => {\n\t\t\t\t\t\t\t\t\t\t\ttoast.error(`${error}`);\n\t\t\t\t\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t\t\tif (_functions) {\n\t\t\t\t\t\t\t\t\t\t\tlet blob = new Blob([JSON.stringify(_functions)], {\n\t\t\t\t\t\t\t\t\t\t\t\ttype: 'application/json'\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\tsaveAs(blob, `functions-export-${Date.now()}.json`);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div class=\" self-center font-medium line-clamp-1\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Export')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t<AddFunctionMenu\n\t\t\t\t\t\t\tcreateHandler={() => {\n\t\t\t\t\t\t\t\tgoto('/admin/functions/create');\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\timportFromLinkHandler={() => {\n\t\t\t\t\t\t\t\tshowImportModal = true;\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclass=\" px-2 py-1.5 rounded-xl bg-black text-white dark:bg-white dark:text-black transition font-medium text-sm flex items-center\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Plus className=\"size-3\" strokeWidth=\"2.5\" />\n\n\t\t\t\t\t\t\t\t<div class=\" hidden md:block md:ml-1 text-xs\">{$i18n.t('New Function')}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</AddFunctionMenu>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div\n\t\t\tclass=\"py-2 bg-white dark:bg-gray-900 rounded-3xl border border-gray-100/30 dark:border-gray-850/30\"\n\t\t>\n\t\t\t<div class=\"px-3.5 flex flex-1 items-center w-full space-x-2 py-0.5 pb-2\">\n\t\t\t\t<div class=\"flex flex-1\">\n\t\t\t\t\t<div class=\" self-center ml-1 mr-3\">\n\t\t\t\t\t\t<Search className=\"size-3.5\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<input\n\t\t\t\t\t\tclass=\" w-full text-sm pr-4 py-1 rounded-r-xl outline-hidden bg-transparent\"\n\t\t\t\t\t\tbind:value={query}\n\t\t\t\t\t\tplaceholder={$i18n.t('Search Functions')}\n\t\t\t\t\t/>\n\n\t\t\t\t\t{#if query}\n\t\t\t\t\t\t<div class=\"self-center pl-1.5 translate-y-[0.5px] rounded-l-xl bg-transparent\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\"p-0.5 rounded-full hover:bg-gray-100 dark:hover:bg-gray-900 transition\"\n\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\tquery = '';\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<XMark className=\"size-3\" strokeWidth=\"2\" />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{/if}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div\n\t\t\t\tclass=\"px-3 flex w-full bg-transparent overflow-x-auto scrollbar-none\"\n\t\t\t\ton:wheel={(e) => {\n\t\t\t\t\tif (e.deltaY !== 0) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\te.currentTarget.scrollLeft += e.deltaY;\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tclass=\"flex gap-0.5 w-fit text-center text-sm rounded-full bg-transparent px-0.5 whitespace-nowrap\"\n\t\t\t\t\tbind:this={tagsContainerElement}\n\t\t\t\t>\n\t\t\t\t\t<ViewSelector\n\t\t\t\t\t\tbind:value={viewOption}\n\t\t\t\t\t\tonChange={async (value) => {\n\t\t\t\t\t\t\tlocalStorage.workspaceViewOption = value;\n\n\t\t\t\t\t\t\tawait tick();\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<TagSelector\n\t\t\t\t\t\tbind:value={selectedType}\n\t\t\t\t\t\titems={[\n\t\t\t\t\t\t\t{ value: 'pipe', label: $i18n.t('Pipe') },\n\t\t\t\t\t\t\t{ value: 'filter', label: $i18n.t('Filter') },\n\t\t\t\t\t\t\t{ value: 'action', label: $i18n.t('Action') }\n\t\t\t\t\t\t]}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{#if (filteredItems ?? []).length !== 0}\n\t\t\t\t<div class=\"px-3 my-2 gap-1 lg:gap-2 grid lg:grid-cols-2\">\n\t\t\t\t\t{#each filteredItems as func (func.id)}\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclass=\" flex space-x-4 cursor-pointer w-full px-2 py-2 dark:hover:bg-white/5 hover:bg-black/5 rounded-xl\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\tclass=\" flex flex-1 space-x-3.5 cursor-pointer w-full\"\n\t\t\t\t\t\t\t\thref={`/admin/functions/edit?id=${encodeURIComponent(func.id)}`}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div class=\"flex items-center text-left\">\n\t\t\t\t\t\t\t\t\t<div class=\" flex-1 self-center pl-1\">\n\t\t\t\t\t\t\t\t\t\t<Tooltip content={func.id} placement=\"top-start\">\n\t\t\t\t\t\t\t\t\t\t\t<div class=\" flex items-center gap-1.5\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\" text-xs font-semibold px-1 rounded-sm uppercase line-clamp-1 bg-gray-500/20 text-gray-700 dark:text-gray-200\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{func.type}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"line-clamp-1 text-sm\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{func.name}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t{#if func?.meta?.manifest?.version}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\" text-gray-500 text-xs font-medium shrink-0\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tv{func?.meta?.manifest?.version ?? ''}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\n\t\t\t\t\t\t\t\t\t\t<div class=\"flex gap-1.5 px-1\">\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"text-xs text-gray-500 shrink-0\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontent={func?.user?.email ?? $i18n.t('Deleted User')}\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"flex shrink-0\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tplacement=\"top-start\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('By {{name}}', {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: capitalizeFirstLetter(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfunc?.user?.name ?? func?.user?.email ?? $i18n.t('Deleted User')\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class=\" text-xs overflow-hidden text-ellipsis line-clamp-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t{func.meta.description}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t<div class=\"flex flex-row gap-0.5 self-center\">\n\t\t\t\t\t\t\t\t{#if shiftKey}\n\t\t\t\t\t\t\t\t\t<Tooltip content={$i18n.t('Delete')}>\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tclass=\"self-center w-fit text-sm px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl\"\n\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\t\t\t\tdeleteHandler(func);\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<GarbageBin />\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t{#if func?.meta?.manifest?.funding_url ?? false}\n\t\t\t\t\t\t\t\t\t\t<Tooltip content={$i18n.t('Support')}>\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"self-center w-fit text-sm px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl\"\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tselectedFunction = func;\n\t\t\t\t\t\t\t\t\t\t\t\t\tshowManifestModal = true;\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<Heart />\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t{/if}\n\n\t\t\t\t\t\t\t\t\t<Tooltip content={$i18n.t('Valves')}>\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tclass=\"self-center w-fit text-sm px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl\"\n\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\t\t\t\tselectedFunction = func;\n\t\t\t\t\t\t\t\t\t\t\t\tshowValvesModal = true;\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t\t\tstroke-width=\"1.5\"\n\t\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"size-4\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t</Tooltip>\n\n\t\t\t\t\t\t\t\t\t<FunctionMenu\n\t\t\t\t\t\t\t\t\t\t{func}\n\t\t\t\t\t\t\t\t\t\teditHandler={() => {\n\t\t\t\t\t\t\t\t\t\t\tgoto(`/admin/functions/edit?id=${encodeURIComponent(func.id)}`);\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tshareHandler={() => {\n\t\t\t\t\t\t\t\t\t\t\tshareHandler(func);\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tcloneHandler={() => {\n\t\t\t\t\t\t\t\t\t\t\tcloneHandler(func);\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\texportHandler={() => {\n\t\t\t\t\t\t\t\t\t\t\texportHandler(func);\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tdeleteHandler={async () => {\n\t\t\t\t\t\t\t\t\t\t\tselectedFunction = func;\n\t\t\t\t\t\t\t\t\t\t\tshowDeleteConfirm = true;\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\ttoggleGlobalHandler={() => {\n\t\t\t\t\t\t\t\t\t\t\tif (['filter', 'action'].includes(func.type)) {\n\t\t\t\t\t\t\t\t\t\t\t\ttoggleGlobalHandler(func);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tonClose={() => {}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tclass=\"self-center w-fit text-sm p-1.5 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl\"\n\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<EllipsisHorizontal className=\"size-5\" />\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t</FunctionMenu>\n\t\t\t\t\t\t\t\t{/if}\n\n\t\t\t\t\t\t\t\t<div class=\" self-center mx-1\">\n\t\t\t\t\t\t\t\t\t<Tooltip content={func.is_active ? $i18n.t('Enabled') : $i18n.t('Disabled')}>\n\t\t\t\t\t\t\t\t\t\t<Switch\n\t\t\t\t\t\t\t\t\t\t\tbind:state={func.is_active}\n\t\t\t\t\t\t\t\t\t\t\ton:change={async (e) => {\n\t\t\t\t\t\t\t\t\t\t\t\ttoggleFunctionById(localStorage.token, func.id);\n\t\t\t\t\t\t\t\t\t\t\t\tmodels.set(\n\t\t\t\t\t\t\t\t\t\t\t\t\tawait getModels(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.token,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t$config?.features?.enable_direct_connections &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t($settings?.directConnections ?? null),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{/each}\n\t\t\t\t</div>\n\t\t\t{:else}\n\t\t\t\t<div class=\" w-full h-full flex flex-col justify-center items-center my-16 mb-24\">\n\t\t\t\t\t<div class=\"max-w-md text-center\">\n\t\t\t\t\t\t<div class=\" text-3xl mb-3\">ðŸ˜•</div>\n\t\t\t\t\t\t<div class=\" text-lg font-medium mb-1\">{$i18n.t('No functions found')}</div>\n\t\t\t\t\t\t<div class=\" text-gray-500 text-center text-xs\">\n\t\t\t\t\t\t\t{$i18n.t('Try adjusting your search or filter to find what you are looking for.')}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t{/if}\n\t\t</div>\n\n\t\t<!-- <div class=\" text-gray-500 text-xs mt-1 mb-2\">\n\tâ“˜ {$i18n.t(\n\t\t'Admins have access to all tools at all times; users need tools assigned per model in the workspace.'\n\t)}\n</div> -->\n\n\t\t{#if $config?.features.enable_community_sharing}\n\t\t\t<div class=\" my-16\">\n\t\t\t\t<div class=\" text-xl font-medium mb-1 line-clamp-1\">\n\t\t\t\t\t{$i18n.t('Made by Open WebUI Community')}\n\t\t\t\t</div>\n\n\t\t\t\t<a\n\t\t\t\t\tclass=\" flex cursor-pointer items-center justify-between hover:bg-gray-50 dark:hover:bg-gray-850 w-full mb-2 px-3.5 py-1.5 rounded-xl transition\"\n\t\t\t\t\thref=\"https://openwebui.com/functions\"\n\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t>\n\t\t\t\t\t<div class=\" self-center\">\n\t\t\t\t\t\t<div class=\" font-semibold line-clamp-1\">{$i18n.t('Discover a function')}</div>\n\t\t\t\t\t\t<div class=\" text-sm line-clamp-1\">\n\t\t\t\t\t\t\t{$i18n.t('Discover, download, and explore custom functions')}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<ChevronRight />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t{/if}\n\t</div>\n\n\t<DeleteConfirmDialog\n\t\tbind:show={showDeleteConfirm}\n\t\ttitle={$i18n.t('Delete function?')}\n\t\ton:confirm={() => {\n\t\t\tdeleteHandler(selectedFunction);\n\t\t}}\n\t>\n\t\t<div class=\" text-sm text-gray-500 truncate\">\n\t\t\t{$i18n.t('This will delete')} <span class=\"  font-semibold\">{selectedFunction.name}</span>.\n\t\t</div>\n\t</DeleteConfirmDialog>\n\n\t<ManifestModal bind:show={showManifestModal} manifest={selectedFunction?.meta?.manifest ?? {}} />\n\t<ValvesModal\n\t\tbind:show={showValvesModal}\n\t\ttype=\"function\"\n\t\tid={selectedFunction?.id ?? null}\n\t\ton:save={async () => {\n\t\t\tawait tick();\n\t\t\tmodels.set(\n\t\t\t\tawait getModels(\n\t\t\t\t\tlocalStorage.token,\n\t\t\t\t\t$config?.features?.enable_direct_connections && ($settings?.directConnections ?? null),\n\t\t\t\t\tfalse,\n\t\t\t\t\ttrue\n\t\t\t\t)\n\t\t\t);\n\t\t}}\n\t/>\n\n\t<ConfirmDialog\n\t\tbind:show={showConfirm}\n\t\ton:confirm={() => {\n\t\t\tconst reader = new FileReader();\n\t\t\treader.onload = async (event) => {\n\t\t\t\tconst _functions = JSON.parse(event.target.result);\n\t\t\t\tconsole.log(_functions);\n\n\t\t\t\tfor (let func of _functions) {\n\t\t\t\t\tif ('function' in func) {\n\t\t\t\t\t\t// Required for Community JSON import\n\t\t\t\t\t\tfunc = func.function;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst res = await createNewFunction(localStorage.token, func).catch((error) => {\n\t\t\t\t\t\ttoast.error(`${error}`);\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\ttoast.success($i18n.t('Functions imported successfully'));\n\t\t\t\tfunctions.set(await getFunctions(localStorage.token));\n\t\t\t\tmodels.set(\n\t\t\t\t\tawait getModels(\n\t\t\t\t\t\tlocalStorage.token,\n\t\t\t\t\t\t$config?.features?.enable_direct_connections && ($settings?.directConnections ?? null),\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\ttrue\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t};\n\n\t\t\treader.readAsText(importFiles[0]);\n\t\t}}\n\t>\n\t\t<div class=\"text-sm text-gray-500\">\n\t\t\t<div class=\" bg-yellow-500/20 text-yellow-700 dark:text-yellow-200 rounded-lg px-4 py-3\">\n\t\t\t\t<div>{$i18n.t('Please carefully review the following warnings:')}</div>\n\n\t\t\t\t<ul class=\" mt-1 list-disc pl-4 text-xs\">\n\t\t\t\t\t<li>{$i18n.t('Functions allow arbitrary code execution.')}</li>\n\t\t\t\t\t<li>{$i18n.t('Do not install functions from sources you do not fully trust.')}</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\n\t\t\t<div class=\"my-3\">\n\t\t\t\t{$i18n.t(\n\t\t\t\t\t'I acknowledge that I have read and I understand the implications of my action. I am aware of the risks associated with executing arbitrary code and I have verified the trustworthiness of the source.'\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t</ConfirmDialog>\n{:else}\n\t<div class=\"w-full h-full flex justify-center items-center\">\n\t\t<Spinner className=\"size-5\" />\n\t</div>\n{/if}\n","<script>\n\timport { onMount } from 'svelte';\n\timport { functions } from '$lib/stores';\n\n\timport { getFunctions } from '$lib/apis/functions';\n\timport Functions from '$lib/components/admin/Functions.svelte';\n\n\tonMount(async () => {\n\t\tawait Promise.all([\n\t\t\t(async () => {\n\t\t\t\tfunctions.set(await getFunctions(localStorage.token));\n\t\t\t})()\n\t\t]);\n\t});\n</script>\n\n{#if $functions !== null}\n\t<Functions />\n{/if}\n"],"names":["i18n","getContext","func","$.prop","$$props","editHandler","shareHandler","cloneHandler","exportHandler","deleteHandler","toggleGlobalHandler","onClose","show","Dropdown","$$anchor","$$value","e","$i18n","Tooltip","div","root_3","flyAndScale","div_1","$.first_child","fragment_4","div_2","$.child","GlobeAlt","node_3","div_3","$.sibling","div_4","Switch","node_4","_a","$$args","$.reset","$.untrack","div_5","fragment_5","Share","node_7","div_6","DocumentDuplicate","node_9","div_7","Download","node_11","div_8","GarbageBin","node_13","div_9","createHandler","importFromLinkHandler","button","fragment_3","Pencil","node_2","button_1","Link","$.set","saveAs","fileSaver","shiftKey","functionsImportInputElement","$.mutable_source","importFiles","tagsContainerElement","viewOption","query","selectedType","showImportModal","showConfirm","showManifestModal","showValvesModal","selectedFunction","showDeleteConfirm","loaded","functions","filteredItems","setFilteredItems","$.get","f","$user","_b","a","b","item","getFunctionById","error","toast","url","tab","messageHandler","event","_function","goto","blob","deleteFunctionById","_functions","getFunctions","models","getModels","$config","_c","$settings","toggleGlobalById","onMount","getFunctionList","tick","onKeyDown","onKeyUp","onBlur","$.head","$WEBUI_NAME","ImportModal","node","loadFunctionByUrl","fragment_1","input","fragment_2","root_4","exportFunctions","$.append","$$render","consequent","consequent_1","AddFunctionMenu","div_10","root_5","node_5","Plus","div_11","div_12","div_13","div_14","div_15","Search","node_6","input_1","$.remove_input_defaults","div_16","root_6","button_2","node_8","XMark","consequent_2","div_17","div_18","ViewSelector","value","TagSelector","node_10","div_19","root_7","$$index","div_20","root_8","a_1","div_21","div_22","node_12","div_23","root_9","div_24","text_5","div_25","div_26","root_10","div_27","div_28","node_14","capitalizeFirstLetter","div_29","div_30","button_3","root_13","node_16","button_4","root_16","node_18","Heart","node_19","button_5","root_17","FunctionMenu","node_20","button_6","root_18","node_21","EllipsisHorizontal","consequent_4","alternate","div_31","node_15","node_22","toggleFunctionById","$.set_attribute","$0","$.set_text","text_9","div_32","root_20","div_33","div_34","div_35","node_23","div_36","root_21","div_37","a_2","div_38","div_39","div_40","div_41","div_42","ChevronRight","node_24","DeleteConfirmDialog","node_25","div_43","root_22","span","text_15","ManifestModal","node_26","ValvesModal","node_27","ConfirmDialog","node_28","reader","createNewFunction","div_44","root_23","div_45","div_46","ul","li","li_1","div_47","$1","$.event","div_48","root_24","Spinner","node_29","consequent_8","alternate_2","Functions","$functions"],"mappings":"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"}