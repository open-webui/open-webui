import"../chunks/CWj6FrbW.js";import"../chunks/69_IOA4Y.js";import{p as N,g as O,o as $,d as b,e as V,a as m,b as k,i as y,m as T,j as r,f as U,c as p,r as u}from"../chunks/0WpKKl27.js";import{i as B}from"../chunks/Cmf4RC8y.js";import{i as W}from"../chunks/C3k0oZ3o.js";import{s as q,a as g}from"../chunks/BVrWTcfB.js";import{g as x}from"../chunks/B5RARo22.js";import{p as P}from"../chunks/CLoTtgoA.js";import{a as j,u as C,g as D}from"../chunks/gENSTQXg.js";import{S as Q}from"../chunks/BO1efK8r.js";import{T as z}from"../chunks/BwFqwAiy.js";import{W as f}from"../chunks/DLhnqOlE.js";import{t as F}from"../chunks/PCOILo-8.js";import{e as H,c as M}from"../chunks/cX8aofVu.js";import{t as s}from"../chunks/DYdr9DjX.js";var A=U('<div class="flex items-center justify-center h-full"><div class=" pb-16"><!></div></div>');function co(_,d){N(d,!1);const i=()=>g(I,"$i18n",c),v=()=>g(P,"$page",c),[c,E]=q(),I=O("i18n");let t=T(null);const S=async o=>{const e=H(o.content);if(M((e==null?void 0:e.required_open_webui_version)??"0.0.0",f)){s.error(i().t("Open WebUI version (v{{OPEN_WEBUI_VERSION}}) is lower than required version (v{{REQUIRED_VERSION}})",{OPEN_WEBUI_VERSION:f,REQUIRED_VERSION:(e==null?void 0:e.required_open_webui_version)??"0.0.0"}));return}await C(localStorage.token,r(t).id,{id:o.id,name:o.name,meta:o.meta,content:o.content,access_control:o.access_control}).catch(n=>(s.error(`${n}`),null))&&(s.success(i().t("Tool updated successfully")),F.set(await D(localStorage.token)))};$(async()=>{const o=v().url.searchParams.get("id");o&&(y(t,await j(localStorage.token,o).catch(e=>(s.error(`${e}`),x("/workspace/tools"),null))),r(t))}),W();var l=b(),h=V(l);{var R=o=>{z(o,{edit:!0,get id(){return r(t).id},get name(){return r(t).name},get meta(){return r(t).meta},get content(){return r(t).content},get accessControl(){return r(t).access_control},onSave:e=>{S(e)}})},w=o=>{var e=A(),a=p(e),n=p(a);Q(n,{className:"size-5"}),u(a),u(e),m(o,e)};B(h,o=>{r(t)?o(R):o(w,!1)})}m(_,l),k(),E()}export{co as component};
//# sourceMappingURL=42.DEur97kK.js.map
