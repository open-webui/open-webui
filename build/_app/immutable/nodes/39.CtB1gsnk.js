import"../chunks/CWj6FrbW.js";import"../chunks/69_IOA4Y.js";import{p as h,g as y,o as S,d as v,e as C,a as x,b as B,i,m as l,j as e}from"../chunks/0WpKKl27.js";import{i as j}from"../chunks/Cmf4RC8y.js";import{i as E}from"../chunks/C3k0oZ3o.js";import{s as M,a as u}from"../chunks/BVrWTcfB.js";import{t as r}from"../chunks/DYdr9DjX.js";import{g as n}from"../chunks/B5RARo22.js";import{p as q}from"../chunks/PCOILo-8.js";import{a as z,u as A,g as D}from"../chunks/ClqMzEOS.js";import{p as F}from"../chunks/CLoTtgoA.js";import{P as G}from"../chunks/lFKG7_8a.js";function W(f,g){h(g,!1);const d=()=>u(k,"$i18n",c),$=()=>u(F,"$page",c),[c,w]=M(),k=y("i18n");let a=l(null),m=l(!1);const P=async o=>{await A(localStorage.token,o).catch(s=>(r.error(`${s}`),null))&&(r.success(d().t("Prompt updated successfully")),await q.set(await D(localStorage.token)),await n("/workspace/prompts"))};S(async()=>{const o=$().url.searchParams.get("command");if(o){const t=await z(localStorage.token,o.replace(/\//g,"")).catch(s=>(r.error(`${s}`),null));t?(i(m,!t.write_access),i(a,{title:t.title,command:t.command,content:t.content,access_control:(t==null?void 0:t.access_control)===void 0?{}:t==null?void 0:t.access_control})):n("/workspace/prompts")}else n("/workspace/prompts")}),E();var p=v(),b=C(p);{var _=o=>{G(o,{get prompt(){return e(a)},onSubmit:P,get disabled(){return e(m)},edit:!0})};j(b,o=>{e(a)&&o(_)})}x(f,p),B(),w()}export{W as component};
//# sourceMappingURL=39.CtB1gsnk.js.map
