import"../chunks/CWj6FrbW.js";import"../chunks/69_IOA4Y.js";import{p as x,g as y,o as U,d as k,e as B,a as l,b as W,i as q,m as P,j as r,f as _,c as m,r as u}from"../chunks/0WpKKl27.js";import{i as j}from"../chunks/Cmf4RC8y.js";import{i as C}from"../chunks/C3k0oZ3o.js";import{s as D,a as i}from"../chunks/BVrWTcfB.js";import{t as c}from"../chunks/DYdr9DjX.js";import{g as M}from"../chunks/B5RARo22.js";import{p as Q}from"../chunks/CLoTtgoA.js";import{f as z,a as H,c as A,b as G}from"../chunks/PCOILo-8.js";import{a as J,u as K,g as L}from"../chunks/Dcv_5MKS.js";import{F as T}from"../chunks/CfUGEAnO.js";import{S as X}from"../chunks/BO1efK8r.js";import{g as Y}from"../chunks/B6gyXX6T.js";import{e as Z,c as ee}from"../chunks/cX8aofVu.js";import{W as v}from"../chunks/DLhnqOlE.js";var oe=_('<div class="px-[16px] h-full"><!></div>'),te=_('<div class="flex items-center justify-center h-full"><div class=" pb-16"><!></div></div>');function Ie(E,I){x(I,!1);const p=()=>i(R,"$i18n",a),S=()=>i(A,"$config",a),$=()=>i(G,"$settings",a),h=()=>i(Q,"$page",a),[a,b]=D(),R=y("i18n");let t=P(null);const w=async e=>{var s,d,g;const o=Z(e.content);if(ee((o==null?void 0:o.required_open_webui_version)??"0.0.0",v)){c.error(p().t("Open WebUI version (v{{OPEN_WEBUI_VERSION}}) is lower than required version (v{{REQUIRED_VERSION}})",{OPEN_WEBUI_VERSION:v,REQUIRED_VERSION:(o==null?void 0:o.required_open_webui_version)??"0.0.0"}));return}await K(localStorage.token,r(t).id,{id:e.id,name:e.name,meta:e.meta,content:e.content}).catch(V=>(c.error(`${V}`),null))&&(c.success(p().t("Function updated successfully")),z.set(await L(localStorage.token)),H.set(await Y(localStorage.token,((d=(s=S())==null?void 0:s.features)==null?void 0:d.enable_direct_connections)&&(((g=$())==null?void 0:g.directConnections)??null),!1,!0)))};U(async()=>{const e=h().url.searchParams.get("id");e&&(q(t,await J(localStorage.token,e).catch(o=>(c.error(`${o}`),M("/admin/functions"),null))),r(t))}),C();var f=k(),N=B(f);{var O=e=>{var o=oe(),n=m(o);T(n,{edit:!0,get id(){return r(t).id},get name(){return r(t).name},get meta(){return r(t).meta},get content(){return r(t).content},onSave:s=>{w(s)}}),u(o),l(e,o)},F=e=>{var o=te(),n=m(o),s=m(n);X(s,{className:"size-5"}),u(n),u(o),l(e,o)};j(N,e=>{r(t)?e(O):e(F,!1)})}l(E,f),W(),b()}export{Ie as component};
//# sourceMappingURL=16.CaMITRjV.js.map
