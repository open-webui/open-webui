import"../chunks/CWj6FrbW.js";import"../chunks/69_IOA4Y.js";import{p as Qe,g as et,f as u,c as a,e as Z,k as i,r,t as w,w as n,s as x,a as v,d as yt,j as e,n as Y,i as g,m as M,b as tt,l as ne,o as Rt,q as qt,v as Kt,h as Gt,$ as Xt,x as Yt,A as Ye,z as pt,u as gt}from"../chunks/0WpKKl27.js";import{i as U}from"../chunks/Cmf4RC8y.js";import{e as Zt,i as Qt}from"../chunks/u5Cnd4mY.js";import{h as er}from"../chunks/Bwqchdu-.js";import{r as tr,a as xt,s as rr}from"../chunks/CZ1y6KaE.js";import{a as ar,b as sr}from"../chunks/kb1CvZ3a.js";import{b as _t}from"../chunks/Bo3ZTtFv.js";import{i as rt}from"../chunks/C3k0oZ3o.js";import{a as Se,s as at}from"../chunks/BVrWTcfB.js";import{t as ge}from"../chunks/DYdr9DjX.js";import{f as or}from"../chunks/CsWaRabF.js";import{c as bt,u as kt,t as lr,W as nr}from"../chunks/PCOILo-8.js";import{g as Ve}from"../chunks/B5RARo22.js";import{l as ir,j as dr,g as ht,c as vr,k as cr,m as ur,a as Ze}from"../chunks/gENSTQXg.js";import{k as Je}from"../chunks/cX8aofVu.js";import{T as ie}from"../chunks/Db0gdTVr.js";import{C as wt}from"../chunks/ByHAJgVC.js";import{s as St}from"../chunks/3-JilrU5.js";import{p as xe}from"../chunks/DpN1w328.js";import"../chunks/BtReZMDb.js";import{b as Ht,c as We}from"../chunks/DA2vpIKA.js";import{f as Pt}from"../chunks/Dbtivbjp.js";import{D as Ct}from"../chunks/DD5ATWsz.js";import{G as Tt}from"../chunks/CYXXpf3O.js";import{S as fr}from"../chunks/DM0r1jA3.js";import{D as mr}from"../chunks/DLpHo_PE.js";import{D as pr}from"../chunks/CmPVC7JK.js";import{E as gr}from"../chunks/C2rnPICT.js";import{V as xr}from"../chunks/LIBr8nyO.js";import{I as _r,M as hr}from"../chunks/z0wYL8_c.js";import{H as wr}from"../chunks/B3Vrv829.js";import{S as $r}from"../chunks/BqWDuYyJ.js";import{P as $t}from"../chunks/BonmQdqt.js";import{C as yr}from"../chunks/DAAddo_l.js";import{S as br}from"../chunks/BO1efK8r.js";import{X as kr}from"../chunks/CZmZoefv.js";import{P as Sr}from"../chunks/DVjsywiU.js";import{L as Hr}from"../chunks/1w6CVy8g.js";import{V as Pr}from"../chunks/3t3HGsuI.js";import{B as Cr}from"../chunks/DUufguWK.js";var Tr=u('<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"></path></svg> <div class="flex items-center"> </div>',1),Lr=u('<!> <div class="flex items-center"> </div>',1),Mr=u('<!> <div class="flex items-center"> </div>',1),Ir=u('<!> <div class="flex items-center"> </div>',1),Dr=u('<!> <div class="flex items-center"> </div>',1),Nr=u('<!> <!> <!> <!> <hr class="border-gray-50 dark:border-gray-850/30 my-1"/> <!>',1),Er=u('<div slot="content"><!></div>');function jr(He,I){Qe(I,!1);const p=()=>Se(Be,"$i18n",_e),s=()=>Se(bt,"$config",_e),Pe=()=>Se(kt,"$user",_e),[_e,he]=at(),Be=et("i18n");let Ie=xe(I,"editHandler",8),we=xe(I,"shareHandler",8),z=xe(I,"cloneHandler",8),De=xe(I,"exportHandler",8),Q=xe(I,"deleteHandler",8),oe=xe(I,"onClose",8),de=M(!1);rt(),Ct(He,{get show(){return e(de)},set show(b){g(de,b)},$$events:{change:b=>{b.detail===!1&&oe()()}},children:(b,le)=>{{let W=Y(()=>(p(),n(()=>p().t("More"))));ie(b,{get content(){return e(W)},children:(C,$e)=>{var A=yt(),V=Z(A);St(V,I,"default",{},null),v(C,A)},$$slots:{default:!0}})}},$$slots:{default:!0,content:(b,le)=>{var W=Er(),C=a(W);Ht(C,{class:"w-full max-w-[170px] rounded-2xl px-1 py-1 border border-gray-100  dark:border-gray-800 z-50 bg-white dark:bg-gray-850 dark:text-white shadow-lg",sideOffset:-2,side:"bottom",align:"start",get transition(){return Pt},children:($e,A)=>{var V=Nr(),ve=Z(V);We(ve,{class:"flex gap-2 items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800  rounded-xl",$$events:{click:()=>{Ie()()}},children:(N,K)=>{var E=Tr(),k=i(Z(E),2),T=a(k,!0);r(k),w(J=>x(T,J),[()=>(p(),n(()=>p().t("Edit")))]),v(N,E)},$$slots:{default:!0}});var D=i(ve,2);{var Ce=N=>{We(N,{class:"flex gap-2 items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800  rounded-xl",$$events:{click:()=>{we()()}},children:(K,E)=>{var k=Lr(),T=Z(k);fr(T,{});var J=i(T,2),ce=a(J,!0);r(J),w(m=>x(ce,m),[()=>(p(),n(()=>p().t("Share")))]),v(K,k)},$$slots:{default:!0}})};U(D,N=>{s(),n(()=>s().features.enable_community_sharing)&&N(Ce)})}var Te=i(D,2);We(Te,{class:"flex gap-2 items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-xl",$$events:{click:()=>{z()()}},children:(N,K)=>{var E=Mr(),k=Z(E);mr(k,{});var T=i(k,2),J=a(T,!0);r(T),w(ce=>x(J,ce),[()=>(p(),n(()=>p().t("Clone")))]),v(N,E)},$$slots:{default:!0}});var Ne=i(Te,2);{var Oe=N=>{We(N,{class:"flex gap-2 items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-xl",$$events:{click:()=>{De()()}},children:(K,E)=>{var k=Ir(),T=Z(k);pr(T,{});var J=i(T,2),ce=a(J,!0);r(J),w(m=>x(ce,m),[()=>(p(),n(()=>p().t("Export")))]),v(K,k)},$$slots:{default:!0}})};U(Ne,N=>{Pe(),n(()=>{var K,E,k,T;return((K=Pe())==null?void 0:K.role)==="admin"||((T=(k=(E=Pe())==null?void 0:E.permissions)==null?void 0:k.workspace)==null?void 0:T.tools_export)})&&N(Oe)})}var Ue=i(Ne,4);We(Ue,{class:"flex  gap-2  items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-xl",$$events:{click:()=>{Q()()}},children:(N,K)=>{var E=Dr(),k=Z(E);Tt(k,{});var T=i(k,2),J=a(T,!0);r(T),w(ce=>x(J,ce),[()=>(p(),n(()=>p().t("Delete")))]),v(N,E)},$$slots:{default:!0}}),v($e,V)},$$slots:{default:!0}}),r(W),v(b,W)}},$$legacy:!0}),tt(),he()}var Br=u('<button class="flex gap-2 items-center px-3 py-1.5 text-sm cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-xl w-full"><div class=" self-center mr-2"><!></div> <div class=" self-center truncate"> </div></button> <button class="flex gap-2 items-center px-3 py-1.5 text-sm cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-xl w-full"><div class=" self-center mr-2"><!></div> <div class=" self-center truncate"> </div></button>',1),Or=u('<div slot="content"><!></div>');function Ur(He,I){Qe(I,!1);const p=()=>Se(_e,"$i18n",s),[s,Pe]=at(),_e=et("i18n");let he=xe(I,"createHandler",8),Be=xe(I,"importFromLinkHandler",8),Ie=xe(I,"onClose",8,()=>{}),we=M(!1);rt(),Ct(He,{get show(){return e(we)},set show(z){g(we,z)},$$events:{change:z=>{z.detail===!1&&Ie()()}},children:(z,De)=>{{let Q=Y(()=>(p(),n(()=>p().t("Create"))));ie(z,{get content(){return e(Q)},children:(oe,de)=>{var b=yt(),le=Z(b);St(le,I,"default",{},null),v(oe,b)},$$slots:{default:!0}})}},$$slots:{default:!0,content:(z,De)=>{var Q=Or(),oe=a(Q);Ht(oe,{class:"w-full max-w-[190px] rounded-2xl px-1 py-1 border border-gray-100  dark:border-gray-800 z-50 bg-white dark:bg-gray-850 dark:text-white shadow-lg",sideOffset:6,side:"bottom",align:"start",get transition(){return Pt},children:(de,b)=>{var le=Br(),W=Z(le),C=a(W),$e=a(C);Sr($e,{}),r(C);var A=i(C,2),V=a(A,!0);r(A),r(W);var ve=i(W,2),D=a(ve),Ce=a(D);Hr(Ce,{}),r(D);var Te=i(D,2),Ne=a(Te,!0);r(Te),r(ve),w((Oe,Ue)=>{x(V,Oe),x(Ne,Ue)},[()=>(p(),n(()=>p().t("New Tool"))),()=>(p(),n(()=>p().t("Import From Link")))]),ne("click",W,async()=>{he()(),g(we,!1)}),ne("click",ve,async()=>{Be()(),g(we,!1)}),v(de,le)},$$slots:{default:!0}}),r(Q),v(z,Q)}},$$legacy:!0}),tt(),Pe()}var zr=u('<button class="flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-200 transition"><div class=" self-center font-medium line-clamp-1"> </div></button>'),Wr=u('<button class="flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-200 transition"><div class=" self-center font-medium line-clamp-1"> </div></button>'),Ar=u('<div class=" px-2 py-1.5 rounded-xl bg-black text-white dark:bg-white dark:text-black transition font-medium text-sm flex items-center"><!> <div class=" hidden md:block md:ml-1 text-xs"> </div></div>'),Fr=u('<a class=" px-2 py-1.5 rounded-xl bg-black text-white dark:bg-white dark:text-black transition font-medium text-sm flex items-center" href="/workspace/tools/create"><!> <div class=" hidden md:block md:ml-1 text-xs"> </div></a>'),Vr=u('<div class="self-center pl-1.5 translate-y-[0.5px] rounded-l-xl bg-transparent"><button class="p-0.5 rounded-full hover:bg-gray-100 dark:hover:bg-gray-900 transition"><!></button></div>'),Jr=u('<div class=" text-gray-500 text-xs font-medium shrink-0"> </div>'),Rr=u('<div class="flex items-center gap-2"><div class="line-clamp-1 text-sm"> </div> <!></div>'),qr=u('<a class=" flex flex-1 space-x-3.5 cursor-pointer w-full"><div class="flex items-center text-left"><div class=" flex-1 self-center"><!> <div class="px-0.5"><div class="text-xs text-gray-500 shrink-0"><!></div></div></div></div></a>'),Kr=u('<div class=" text-gray-500 text-xs font-medium shrink-0"> </div>'),Gr=u('<div class="flex items-center gap-2"><div class="line-clamp-1 text-sm"> </div> <!></div>'),Xr=u('<div class=" flex flex-1 space-x-3.5 w-full"><div class="flex items-center text-left w-full"><div class="flex-1 self-center w-full"><div class="flex items-center justify-between w-full gap-2"><!> <!></div> <div class="px-0.5"><div class="text-xs text-gray-500 shrink-0"><!></div></div></div></div></div>'),Yr=u('<button class="self-center w-fit text-sm px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl" type="button"><!></button>'),Zr=u('<button class="self-center w-fit text-sm px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl" type="button"><!></button>'),Qr=u('<button class="self-center w-fit text-sm px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl" type="button"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-4"><path stroke-linecap="round" stroke-linejoin="round" d="M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"></path><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"></path></svg></button>'),ea=u('<button class="self-center w-fit text-sm p-1.5 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl" type="button"><!></button>'),ta=u("<!> <!> <!>",1),ra=u('<div class="flex flex-row gap-0.5 self-center"><!></div>'),aa=u("<div><!> <!></div>"),sa=u('<div class=" my-2 gap-2 grid px-3 lg:grid-cols-2"></div>'),oa=u('<div class=" w-full h-full flex flex-col justify-center items-center my-16 mb-24"><div class="max-w-md text-center"><div class=" text-3xl mb-3">ðŸ˜•</div> <div class=" text-lg font-medium mb-1"> </div> <div class=" text-gray-500 text-center text-xs"> </div></div></div>'),la=u('<div class=" my-16"><div class=" text-xl font-medium mb-1 line-clamp-1"> </div> <a class=" flex cursor-pointer items-center justify-between hover:bg-gray-50 dark:hover:bg-gray-850 w-full mb-2 px-3.5 py-1.5 rounded-xl transition" href="https://openwebui.com/tools" target="_blank"><div class=" self-center"><div class=" font-medium line-clamp-1"> </div> <div class=" text-sm line-clamp-1"> </div></div> <div><div><!></div></div></a></div>'),na=u('<div class=" text-sm text-gray-500 truncate"> <span class="  font-medium"> </span>.</div>'),ia=u('<div class="text-sm text-gray-500"><div class=" bg-yellow-500/20 text-yellow-700 dark:text-yellow-200 rounded-lg px-4 py-3"><div> </div> <ul class=" mt-1 list-disc pl-4 text-xs"><li> </li> <li> </li></ul></div> <div class="my-3"> </div></div>'),da=u('<div class="flex flex-col gap-1 px-1 mt-1.5 mb-3"><input id="documents-import-input" type="file" accept=".json" hidden=""/> <div class="flex justify-between items-center"><div class="flex items-center md:self-center text-xl font-medium px-0.5 gap-2 shrink-0"><div> </div> <div class="text-lg font-medium text-gray-500 dark:text-gray-500"> </div></div> <div class="flex w-full justify-end gap-1.5"><!> <!> <!></div></div></div> <div class="py-2 bg-white dark:bg-gray-900 rounded-3xl border border-gray-100/30 dark:border-gray-850/30"><div class=" flex w-full space-x-2 py-0.5 px-3.5 pb-2"><div class="flex flex-1"><div class=" self-center ml-1 mr-3"><!></div> <input class=" w-full text-sm pr-4 py-1 rounded-r-xl outline-hidden bg-transparent"/> <!></div></div> <div class="px-3 flex w-full bg-transparent overflow-x-auto scrollbar-none -mx-1"><div class="flex gap-0.5 w-fit text-center text-sm rounded-full bg-transparent px-1.5 whitespace-nowrap"><!></div></div> <!></div> <!> <!> <!> <!> <!>',1),va=u('<div class="w-full h-full flex justify-center items-center"><!></div>'),ca=u("<!> <!>",1);function ua(He,I){Qe(I,!1);const p=()=>Se(kt,"$user",he),s=()=>Se(we,"$i18n",he),Pe=()=>Se(nr,"$WEBUI_NAME",he),_e=()=>Se(bt,"$config",he),[he,Be]=at(),{saveAs:Ie}=or,we=et("i18n");let z=M(!1),De=M(!1),Q=M(),oe=M(),de=M(!1),b=M(""),le=M(!1),W=M(!1),C=M(null),$e=M(!1),A=M([]),V=M([]),ve=M(),D=M(""),Ce=M(!1);const Te=()=>{g(V,e(A).filter(m=>{var $,R,ye,ee;if(e(b)===""&&e(D)==="")return!0;const c=e(b).toLowerCase();return((m.name||"").toLowerCase().includes(c)||(m.id||"").toLowerCase().includes(c)||((($=m.user)==null?void 0:$.name)||"").toLowerCase().includes(c)||(((R=m.user)==null?void 0:R.email)||"").toLowerCase().includes(c))&&(e(D)===""||e(D)==="created"&&m.user_id===((ye=p())==null?void 0:ye.id)||e(D)==="shared"&&m.user_id!==((ee=p())==null?void 0:ee.id))}))},Ne=async m=>{const c=await Ze(localStorage.token,m.id).catch(ee=>(ge.error(`${ee}`),null));ge.success(s().t("Redirecting you to Open WebUI Community"));const $="https://openwebui.com",R=await window.open(`${$}/tools/create`,"_blank"),ye=ee=>{ee.origin===$&&ee.data==="loaded"&&(R.postMessage(JSON.stringify(c),"*"),window.removeEventListener("message",ye))};window.addEventListener("message",ye,!1)},Oe=async m=>{const c=await Ze(localStorage.token,m.id).catch($=>(ge.error(`${$}`),null));c&&(sessionStorage.tool=JSON.stringify({...c,id:`${c.id}_clone`,name:`${c.name} (Clone)`}),Ve("/workspace/tools/create"))},Ue=async m=>{const c=await Ze(localStorage.token,m.id).catch($=>(ge.error(`${$}`),null));if(c){let $=new Blob([JSON.stringify([c])],{type:"application/json"});Ie($,`tool-${c.id}-export-${Date.now()}.json`)}},N=async m=>{await cr(localStorage.token,m.id).catch($=>(ge.error(`${$}`),null))&&(ge.success(s().t("Tool deleted successfully")),await K())},K=async()=>{g(A,await dr(localStorage.token)),lr.set(await ht(localStorage.token))};Rt(async()=>{g(D,(localStorage==null?void 0:localStorage.workspaceViewOption)||""),await K(),g(De,!0);const m=R=>{R.key==="Shift"&&g(z,!0)},c=R=>{R.key==="Shift"&&g(z,!1)},$=()=>{g(z,!1)};return window.addEventListener("keydown",m),window.addEventListener("keyup",c),window.addEventListener("blur-sm",$),()=>{window.removeEventListener("keydown",m),window.removeEventListener("keyup",c),window.removeEventListener("blur-sm",$)}}),qt(()=>(e(A),e(b),e(D)),()=>{e(A)&&e(b)!==void 0&&e(D)!==void 0&&Te()}),Kt(),rt();var E=ca();er("kq2jg5",m=>{Gt(c=>{Xt.title=`
		${c??""} â€¢ ${Pe()??""}
	`},[()=>(s(),n(()=>s().t("Tools")))])});var k=Z(E);{let m=Y(()=>(s(),n(()=>s().t("Tool imported successfully"))));_r(k,{onImport:c=>{sessionStorage.tool=JSON.stringify({...c}),Ve("/workspace/tools/create")},loadUrlHandler:async c=>await ir(localStorage.token,c),get successMessage(){return e(m)},get show(){return e(Ce)},set show(c){g(Ce,c)},$$legacy:!0})}var T=i(k,2);{var J=m=>{var c=da(),$=Z(c),R=a($);_t(R,l=>g(Q,l),()=>e(Q));var ye=i(R,2),ee=a(ye),Re=a(ee),Lt=a(Re,!0);r(Re);var st=i(Re,2),Mt=a(st,!0);r(st),r(ee);var ot=i(ee,2),lt=a(ot);{var It=l=>{var o=zr(),d=a(o),t=a(d,!0);r(d),r(o),w(f=>x(t,f),[()=>(s(),n(()=>s().t("Import")))]),ne("click",o,()=>{e(Q).click()}),v(l,o)};U(lt,l=>{p(),n(()=>{var o,d,t,f;return((o=p())==null?void 0:o.role)==="admin"||((f=(t=(d=p())==null?void 0:d.permissions)==null?void 0:t.workspace)==null?void 0:f.tools_import)})&&l(It)})}var nt=i(lt,2);{var Dt=l=>{var o=Wr(),d=a(o),t=a(d,!0);r(d),r(o),w(f=>x(t,f),[()=>(s(),n(()=>s().t("Export")))]),ne("click",o,async()=>{const f=await ur(localStorage.token).catch(_=>(ge.error(`${_}`),null));if(f){let _=new Blob([JSON.stringify(f)],{type:"application/json"});Ie(_,`tools-export-${Date.now()}.json`)}}),v(l,o)};U(nt,l=>{e(A),p(),n(()=>{var o,d,t,f;return e(A).length&&(((o=p())==null?void 0:o.role)==="admin"||((f=(t=(d=p())==null?void 0:d.permissions)==null?void 0:t.workspace)==null?void 0:f.tools_export))})&&l(Dt)})}var Nt=i(nt,2);{var Et=l=>{Ur(l,{createHandler:()=>{Ve("/workspace/tools/create")},importFromLinkHandler:()=>{g(Ce,!0)},children:(o,d)=>{var t=Ar(),f=a(t);$t(f,{className:"size-3",strokeWidth:"2.5"});var _=i(f,2),j=a(_,!0);r(_),r(t),w(P=>x(j,P),[()=>(s(),n(()=>s().t("New Tool")))]),v(o,t)},$$slots:{default:!0}})},jt=l=>{var o=Fr(),d=a(o);$t(d,{className:"size-3",strokeWidth:"2.5"});var t=i(d,2),f=a(t,!0);r(t),r(o),w(_=>x(f,_),[()=>(s(),n(()=>s().t("New Tool")))]),v(l,o)};U(Nt,l=>{p(),n(()=>{var o;return((o=p())==null?void 0:o.role)==="admin"})?l(Et):l(jt,!1)})}r(ot),r(ye),r($);var qe=i($,2),Ke=a(qe),it=a(Ke),Ge=a(it),Bt=a(Ge);$r(Bt,{className:"size-3.5"}),r(Ge);var Ae=i(Ge,2);tr(Ae);var Ot=i(Ae,2);{var Ut=l=>{var o=Vr(),d=a(o),t=a(d);kr(t,{className:"size-3",strokeWidth:"2"}),r(d),r(o),ne("click",d,()=>{g(b,"")}),v(l,o)};U(Ot,l=>{e(b)&&l(Ut)})}r(it),r(Ke);var Fe=i(Ke,2),Xe=a(Fe),zt=a(Xe);Pr(zt,{onChange:async l=>{localStorage.workspaceViewOption=l,await Yt()},get value(){return e(D)},set value(l){g(D,l)},$$legacy:!0}),r(Xe),_t(Xe,l=>g(ve,l),()=>e(ve)),r(Fe);var Wt=i(Fe,2);{var At=l=>{var o=sa();Zt(o,5,()=>e(V),Qt,(d,t)=>{{let f=Y(()=>(e(t),n(()=>{var _,j,P;return((j=(_=e(t))==null?void 0:_.meta)==null?void 0:j.description)??((P=e(t))==null?void 0:P.id)})));ie(d,{get content(){return e(f)},children:(_,j)=>{var P=aa(),ue=a(P);{var Ee=F=>{var B=qr(),te=a(B),fe=a(te),be=a(fe);ie(be,{get content(){return e(t),n(()=>e(t).id)},placement:"top-start",children:(re,O)=>{var L=Rr(),S=a(L),y=a(S,!0);r(S);var H=i(S,2);{var h=q=>{var ae=Jr(),se=a(ae);r(ae),w(()=>x(se,`v${e(t),n(()=>{var X,Me,ke;return((ke=(Me=(X=e(t))==null?void 0:X.meta)==null?void 0:Me.manifest)==null?void 0:ke.version)??""})??""}`)),v(q,ae)};U(H,q=>{e(t),n(()=>{var ae,se,X;return(X=(se=(ae=e(t))==null?void 0:ae.meta)==null?void 0:se.manifest)==null?void 0:X.version})&&q(h)})}r(L),w(()=>x(y,(e(t),n(()=>e(t).name)))),v(re,L)},$$slots:{default:!0}});var G=i(be,2),me=a(G),pe=a(me);{let re=Y(()=>(e(t),s(),n(()=>{var O,L;return((L=(O=e(t))==null?void 0:O.user)==null?void 0:L.email)??s().t("Deleted User")})));ie(pe,{get content(){return e(re)},className:"flex shrink-0",placement:"top-start",children:(O,L)=>{Ye();var S=pt();w(y=>x(S,y),[()=>(s(),gt(Je),e(t),n(()=>{var y,H,h,q;return s().t("By {{name}}",{name:Je(((H=(y=e(t))==null?void 0:y.user)==null?void 0:H.name)??((q=(h=e(t))==null?void 0:h.user)==null?void 0:q.email)??s().t("Deleted User"))})}))]),v(O,S)},$$slots:{default:!0}})}r(me),r(G),r(fe),r(te),r(B),w(re=>xt(B,"href",re),[()=>(e(t),n(()=>`/workspace/tools/edit?id=${encodeURIComponent(e(t).id)}`))]),v(F,B)},je=F=>{var B=Xr(),te=a(B),fe=a(te),be=a(fe),G=a(be);ie(G,{get content(){return e(t),n(()=>e(t).id)},placement:"top-start",children:(L,S)=>{var y=Gr(),H=a(y),h=a(H,!0);r(H);var q=i(H,2);{var ae=se=>{var X=Kr(),Me=a(X);r(X),w(()=>x(Me,`v${e(t),n(()=>{var ke,ft,mt;return((mt=(ft=(ke=e(t))==null?void 0:ke.meta)==null?void 0:ft.manifest)==null?void 0:mt.version)??""})??""}`)),v(se,X)};U(q,se=>{e(t),n(()=>{var X,Me,ke;return(ke=(Me=(X=e(t))==null?void 0:X.meta)==null?void 0:Me.manifest)==null?void 0:ke.version})&&se(ae)})}r(y),w(()=>x(h,(e(t),n(()=>e(t).name)))),v(L,y)},$$slots:{default:!0}});var me=i(G,2);{let L=Y(()=>(s(),n(()=>s().t("Read Only"))));Cr(me,{type:"muted",get content(){return e(L)}})}r(be);var pe=i(be,2),re=a(pe),O=a(re);{let L=Y(()=>(e(t),s(),n(()=>{var S,y;return((y=(S=e(t))==null?void 0:S.user)==null?void 0:y.email)??s().t("Deleted User")})));ie(O,{get content(){return e(L)},className:"flex shrink-0",placement:"top-start",children:(S,y)=>{Ye();var H=pt();w(h=>x(H,h),[()=>(s(),gt(Je),e(t),n(()=>{var h,q,ae,se;return s().t("By {{name}}",{name:Je(((q=(h=e(t))==null?void 0:h.user)==null?void 0:q.name)??((se=(ae=e(t))==null?void 0:ae.user)==null?void 0:se.email)??s().t("Deleted User"))})}))]),v(S,H)},$$slots:{default:!0}})}r(re),r(pe),r(fe),r(te),r(B),v(F,B)};U(ue,F=>{e(t),n(()=>e(t).write_access)?F(Ee):F(je,!1)})}var Le=i(ue,2);{var ze=F=>{var B=ra(),te=a(B);{var fe=G=>{{let me=Y(()=>(s(),n(()=>s().t("Delete"))));ie(G,{get content(){return e(me)},children:(pe,re)=>{var O=Yr(),L=a(O);Tt(L,{}),r(O),ne("click",O,()=>{N(e(t))}),v(pe,O)},$$slots:{default:!0}})}},be=G=>{var me=ta(),pe=Z(me);{var re=S=>{ie(S,{content:"Support",children:(y,H)=>{var h=Zr(),q=a(h);wr(q,{}),r(h),ne("click",h,()=>{g(C,e(t)),g(le,!0)}),v(y,h)},$$slots:{default:!0}})};U(pe,S=>{e(t),n(()=>{var y,H,h;return((h=(H=(y=e(t))==null?void 0:y.meta)==null?void 0:H.manifest)==null?void 0:h.funding_url)??!1})&&S(re)})}var O=i(pe,2);{let S=Y(()=>(s(),n(()=>s().t("Valves"))));ie(O,{get content(){return e(S)},children:(y,H)=>{var h=Qr();ne("click",h,()=>{g(C,e(t)),g(W,!0)}),v(y,h)},$$slots:{default:!0}})}var L=i(O,2);jr(L,{editHandler:()=>{Ve(`/workspace/tools/edit?id=${encodeURIComponent(e(t).id)}`)},shareHandler:()=>{Ne(e(t))},cloneHandler:()=>{Oe(e(t))},exportHandler:()=>{Ue(e(t))},deleteHandler:async()=>{g(C,e(t)),g($e,!0)},onClose:()=>{},children:(S,y)=>{var H=ea(),h=a(H);gr(h,{className:"size-5"}),r(H),v(S,H)},$$slots:{default:!0}}),v(G,me)};U(te,G=>{e(z)?G(fe):G(be,!1)})}r(B),v(F,B)};U(Le,F=>{e(t),n(()=>e(t).write_access)&&F(ze)})}r(P),w(()=>rr(P,1,` flex space-x-4 text-left w-full px-3 py-2.5 transition rounded-2xl ${e(t),n(()=>e(t).write_access?"cursor-pointer dark:hover:bg-gray-850/50 hover:bg-gray-50":"cursor-not-allowed opacity-60")??""}`)),v(_,P)},$$slots:{default:!0}})}}),r(o),v(l,o)},Ft=l=>{var o=oa(),d=a(o),t=i(a(d),2),f=a(t,!0);r(t);var _=i(t,2),j=a(_,!0);r(_),r(d),r(o),w((P,ue)=>{x(f,P),x(j,ue)},[()=>(s(),n(()=>s().t("No tools found"))),()=>(s(),n(()=>s().t("Try adjusting your search or filter to find what you are looking for.")))]),v(l,o)};U(Wt,l=>{e(V),n(()=>(e(V)??[]).length!==0)?l(At):l(Ft,!1)})}r(qe);var dt=i(qe,2);{var Vt=l=>{var o=la(),d=a(o),t=a(d,!0);r(d);var f=i(d,2),_=a(f),j=a(_),P=a(j,!0);r(j);var ue=i(j,2),Ee=a(ue,!0);r(ue),r(_);var je=i(_,2),Le=a(je),ze=a(Le);yr(ze,{}),r(Le),r(je),r(f),r(o),w((F,B,te)=>{x(t,F),x(P,B),x(Ee,te)},[()=>(s(),n(()=>s().t("Made by Open WebUI Community"))),()=>(s(),n(()=>s().t("Discover a tool"))),()=>(s(),n(()=>s().t("Discover, download, and explore custom tools")))]),v(l,o)};U(dt,l=>{_e(),n(()=>{var o;return(o=_e())==null?void 0:o.features.enable_community_sharing})&&l(Vt)})}var vt=i(dt,2);{let l=Y(()=>(s(),n(()=>s().t("Delete tool?"))));wt(vt,{get title(){return e(l)},get show(){return e($e)},set show(o){g($e,o)},$$events:{confirm:()=>{N(e(C))}},children:(o,d)=>{var t=na(),f=a(t),_=i(f),j=a(_,!0);r(_),Ye(),r(t),w(P=>{x(f,`${P??""} `),x(j,(e(C),n(()=>e(C).name)))},[()=>(s(),n(()=>s().t("This will delete")))]),v(o,t)},$$slots:{default:!0},$$legacy:!0})}var ct=i(vt,2);{let l=Y(()=>(e(C),n(()=>{var o;return((o=e(C))==null?void 0:o.id)??null})));xr(ct,{type:"tool",get id(){return e(l)},get show(){return e(W)},set show(o){g(W,o)},$$legacy:!0})}var ut=i(ct,2);{let l=Y(()=>(e(C),n(()=>{var o,d;return((d=(o=e(C))==null?void 0:o.meta)==null?void 0:d.manifest)??{}})));hr(ut,{get manifest(){return e(l)},get show(){return e(le)},set show(o){g(le,o)},$$legacy:!0})}var Jt=i(ut,2);wt(Jt,{get show(){return e(de)},set show(l){g(de,l)},$$events:{confirm:()=>{const l=new FileReader;l.onload=async o=>{const d=JSON.parse(o.target.result);for(const t of d)await vr(localStorage.token,t).catch(f=>(ge.error(`${f}`),null));ge.success(s().t("Tool imported successfully")),e(A).set(await ht(localStorage.token))},l.readAsText(e(oe)[0])}},children:(l,o)=>{var d=ia(),t=a(d),f=a(t),_=a(f,!0);r(f);var j=i(f,2),P=a(j),ue=a(P);r(P);var Ee=i(P,2),je=a(Ee,!0);r(Ee),r(j),r(t);var Le=i(t,2),ze=a(Le,!0);r(Le),r(d),w((F,B,te,fe)=>{x(_,F),x(ue,`${B??""}.`),x(je,te),x(ze,fe)},[()=>(s(),n(()=>s().t("Please carefully review the following warnings:"))),()=>(s(),n(()=>s().t("Tools have a function calling system that allows arbitrary code execution."))),()=>(s(),n(()=>s().t("Do not install tools from sources you do not fully trust."))),()=>(s(),n(()=>s().t("I acknowledge that I have read and I understand the implications of my action. I am aware of the risks associated with executing arbitrary code and I have verified the trustworthiness of the source.")))]),v(l,d)},$$slots:{default:!0},$$legacy:!0}),w((l,o)=>{x(Lt,l),x(Mt,(e(V),n(()=>e(V).length))),xt(Ae,"placeholder",o)},[()=>(s(),n(()=>s().t("Tools"))),()=>(s(),n(()=>s().t("Search Tools")))]),ar(R,()=>e(oe),l=>g(oe,l)),ne("change",R,()=>{e(oe),g(de,!0)}),sr(Ae,()=>e(b),l=>g(b,l)),ne("wheel",Fe,l=>{l.deltaY!==0&&(l.preventDefault(),l.currentTarget.scrollLeft+=l.deltaY)}),v(m,c)},ce=m=>{var c=va(),$=a(c);br($,{className:"size-5"}),r(c),v(m,c)};U(T,m=>{e(De)?m(J):m(ce,!1)})}v(He,E),tt(),Be()}function ts(He){ua(He,{})}export{ts as component};
//# sourceMappingURL=40.3va3qf_S.js.map
