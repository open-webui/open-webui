import{s as rt,e as d,t as N,k as S,c as h,a as v,b as O,d as u,o as A,f as c,i as z,g as n,u as X,D as $l,h as H,n as Pe,F as dt,p as gt,j as Be,C as ze,y as lt,z as st,A as Ue,L as Ds,q as Ft,B as mt,I as Yl,J as fl,H as Pt,G as ul,E as yt,K as ql,N as Vs,r as Fs,v as Ys,w as qs,x as Ks,l as Hl,V as Dn,af as El,Y as pt}from"../chunks/scheduler.Dz-NSSWT.js";import{S as nt,i as ot,b as me,d as _e,m as pe,t as ee,g as wt,a as se,c as kt,e as ge,f as Et}from"../chunks/index.CVQtJBk6.js";import{t as Ke}from"../chunks/Toaster.svelte_svelte_type_style_lang.Bxfrv8ue.js";import{f as Gs}from"../chunks/FileSaver.min.CimDdHIv.js";import{g as Sl}from"../chunks/entry.BULDOmPt.js";import{p as Vn,g as dn,q as Tn}from"../chunks/index.DAXOC6bs.js";import{v as Cn,w as Mn,x as Sn,h as cl,y as An,z as ar,A as Ln,B as Os,C as hn,p as vn,D as Bn,c as xn,b as Nn,f as On,u as Hn,e as Tl,E as Un,i as Pn,d as mn,F as $n}from"../chunks/index.BNHNJEox.js";import{g as jn}from"../chunks/index.CUTpJeMP.js";import{g as zn}from"../chunks/index.CVedh36t.js";import{g as Rn}from"../chunks/index.B5apL5yh.js";import{S as _n,g as Wn}from"../chunks/SensitiveInput.qeAYWiTz.js";import{u as Ul,B as Zn,W as pn,c as Pl,C as Es,j as gl,D as Fn,d as Cs,m as Js,r as Wt,v as Ot,x as Cl,h as Is,k as zs,w as Ml,s as il,E as Hs,l as gn,i as Rs,g as Yn,q as Us,p as qn,n as Kn,t as Gn,f as Jn,z as Xn}from"../chunks/index.D2mQNFJF.js";import{M as jl}from"../chunks/Modal.Cx3fPC8l.js";import{e as Qn,f as eo,h as to,i as lo,j as so}from"../chunks/index.CpBvPbVH.js";import{g as ao}from"../chunks/index.q-Qs2qMV.js";import{g as Fl,j as ro,h as rr,c as no,d as oo,k as io,l as co}from"../chunks/index.C8OzP8zI.js";import{T as Zt}from"../chunks/create.BSJgY7P6.js";import{g as uo}from"../chunks/index.CeCB5kX5.js";import{e as at}from"../chunks/each.CwcyO-D0.js";import{g as fo}from"../chunks/index.D4Mi5ZNL.js";import{A as ho}from"../chunks/AdvancedParams.C32wXVZZ.js";import{b as vo}from"../chunks/index.GZY0tup4.js";import{S as bn}from"../chunks/Switch.Bwda4Oct.js";import{d as Ts}from"../chunks/dayjs.min.CnqrW7zs.js";import{a as mo,u as _o,g as ys,d as po,b as go,T as bo,A as wn,S as wo,U as ko}from"../chunks/ShareChatModal.n2VPDPkc.js";import"../chunks/index.DQfRr7yB.js";import"../chunks/sha256.CRlV3BEV.js";import{D as yo,M as Ol}from"../chunks/Dropdown.fFGB6AF7.js";import{b as Eo}from"../chunks/menu-trigger.BEfW-VTh.js";import{f as Io}from"../chunks/index.DMdt0oYD.js";import{D as Do,S as Vo,G as kn}from"../chunks/DocumentDuplicate.Bk0np2Xr.js";import{C as To}from"../chunks/ConfirmDialog.2fUkeJzy.js";import{S as Co}from"../chunks/Spinner.CTca_gHl.js";import{g as Mo}from"../chunks/index.CVC43lEx.js";import{p as So}from"../chunks/stores.Has14q05.js";const Ao=(s,e)=>e.some(t=>s instanceof t);let nr,or;function Lo(){return nr||(nr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Bo(){return or||(or=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yn=new WeakMap,Ws=new WeakMap,En=new WeakMap,Ps=new WeakMap,Xs=new WeakMap;function xo(s){const e=new Promise((t,l)=>{const a=()=>{s.removeEventListener("success",r),s.removeEventListener("error",o)},r=()=>{t(pl(s.result)),a()},o=()=>{l(s.error),a()};s.addEventListener("success",r),s.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&yn.set(t,s)}).catch(()=>{}),Xs.set(e,s),e}function No(s){if(Ws.has(s))return;const e=new Promise((t,l)=>{const a=()=>{s.removeEventListener("complete",r),s.removeEventListener("error",o),s.removeEventListener("abort",o)},r=()=>{t(),a()},o=()=>{l(s.error||new DOMException("AbortError","AbortError")),a()};s.addEventListener("complete",r),s.addEventListener("error",o),s.addEventListener("abort",o)});Ws.set(s,e)}let Zs={get(s,e,t){if(s instanceof IDBTransaction){if(e==="done")return Ws.get(s);if(e==="objectStoreNames")return s.objectStoreNames||En.get(s);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return pl(s[e])},set(s,e,t){return s[e]=t,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function Oo(s){Zs=s(Zs)}function Ho(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const l=s.call($s(this),e,...t);return En.set(l,e.sort?e.sort():[e]),pl(l)}:Bo().includes(s)?function(...e){return s.apply($s(this),e),pl(yn.get(this))}:function(...e){return pl(s.apply($s(this),e))}}function Uo(s){return typeof s=="function"?Ho(s):(s instanceof IDBTransaction&&No(s),Ao(s,Lo())?new Proxy(s,Zs):s)}function pl(s){if(s instanceof IDBRequest)return xo(s);if(Ps.has(s))return Ps.get(s);const e=Uo(s);return e!==s&&(Ps.set(s,e),Xs.set(e,s)),e}const $s=s=>Xs.get(s);function Po(s,e,{blocked:t,upgrade:l,blocking:a,terminated:r}={}){const o=indexedDB.open(s,e),i=pl(o);return l&&o.addEventListener("upgradeneeded",f=>{l(pl(o.result),f.oldVersion,f.newVersion,pl(o.transaction),f)}),t&&o.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),i.then(f=>{r&&f.addEventListener("close",()=>r()),a&&f.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),i}function ir(s,{blocked:e}={}){const t=indexedDB.deleteDatabase(s);return e&&t.addEventListener("blocked",l=>e(l.oldVersion,l)),pl(t).then(()=>{})}const $o=["get","getKey","getAll","getAllKeys","count"],jo=["put","add","delete","clear"],js=new Map;function cr(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(js.get(e))return js.get(e);const t=e.replace(/FromIndex$/,""),l=e!==t,a=jo.includes(t);if(!(t in(l?IDBIndex:IDBObjectStore).prototype)||!(a||$o.includes(t)))return;const r=async function(o,...i){const f=this.transaction(o,a?"readwrite":"readonly");let m=f.store;return l&&(m=m.index(i.shift())),(await Promise.all([m[t](...i),a&&f.done]))[0]};return js.set(e,r),r}Oo(s=>({...s,get:(e,t,l)=>cr(e,t)||s.get(e,t,l),has:(e,t)=>!!cr(e,t)||s.has(e,t)}));function ur(s){let e,t,l,a=s[4].t("Current Password")+"",r,o,i,f,m,g,p,_=s[4].t("New Password")+"",b,w,k,y,T,C,V,D=s[4].t("Confirm Password")+"",I,E,x,R,F,L,Y,j=s[4].t("Update password")+"",B,M,U;return{c(){e=d("div"),t=d("div"),l=d("div"),r=N(a),o=S(),i=d("div"),f=d("input"),m=S(),g=d("div"),p=d("div"),b=N(_),w=S(),k=d("div"),y=d("input"),T=S(),C=d("div"),V=d("div"),I=N(D),E=S(),x=d("div"),R=d("input"),F=S(),L=d("div"),Y=d("button"),B=N(j),this.h()},l($){e=h($,"DIV",{class:!0});var Z=v(e);t=h(Z,"DIV",{class:!0});var q=v(t);l=h(q,"DIV",{class:!0});var P=v(l);r=O(P,a),P.forEach(u),o=A(q),i=h(q,"DIV",{class:!0});var W=v(i);f=h(W,"INPUT",{class:!0,type:!0,autocomplete:!0}),W.forEach(u),q.forEach(u),m=A(Z),g=h(Z,"DIV",{class:!0});var K=v(g);p=h(K,"DIV",{class:!0});var G=v(p);b=O(G,_),G.forEach(u),w=A(K),k=h(K,"DIV",{class:!0});var J=v(k);y=h(J,"INPUT",{class:!0,type:!0,autocomplete:!0}),J.forEach(u),K.forEach(u),T=A(Z),C=h(Z,"DIV",{class:!0});var te=v(C);V=h(te,"DIV",{class:!0});var le=v(V);I=O(le,D),le.forEach(u),E=A(te),x=h(te,"DIV",{class:!0});var ie=v(x);R=h(ie,"INPUT",{class:!0,type:!0,autocomplete:!0}),ie.forEach(u),te.forEach(u),Z.forEach(u),F=A($),L=h($,"DIV",{class:!0});var he=v(L);Y=h(he,"BUTTON",{class:!0});var Ee=v(Y);B=O(Ee,j),Ee.forEach(u),he.forEach(u),this.h()},h(){c(l,"class","mb-1 text-xs text-gray-500"),c(f,"class","w-full rounded py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none"),c(f,"type","password"),c(f,"autocomplete","current-password"),f.required=!0,c(i,"class","flex-1"),c(t,"class","flex flex-col w-full"),c(p,"class","mb-1 text-xs text-gray-500"),c(y,"class","w-full rounded py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none"),c(y,"type","password"),c(y,"autocomplete","new-password"),y.required=!0,c(k,"class","flex-1"),c(g,"class","flex flex-col w-full"),c(V,"class","mb-1 text-xs text-gray-500"),c(R,"class","w-full rounded py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none"),c(R,"type","password"),c(R,"autocomplete","off"),R.required=!0,c(x,"class","flex-1"),c(C,"class","flex flex-col w-full"),c(e,"class","py-2.5 space-y-1.5"),c(Y,"class","px-4 py-2 text-xs bg-gray-800 hover:bg-gray-900 dark:bg-gray-700 dark:hover:bg-gray-800 text-gray-100 transition rounded-md font-medium"),c(L,"class","mt-3 flex justify-end")},m($,Z){z($,e,Z),n(e,t),n(t,l),n(l,r),n(t,o),n(t,i),n(i,f),ze(f,s[1]),n(e,m),n(e,g),n(g,p),n(p,b),n(g,w),n(g,k),n(k,y),ze(y,s[2]),n(e,T),n(e,C),n(C,V),n(V,I),n(C,E),n(C,x),n(x,R),ze(R,s[3]),z($,F,Z),z($,L,Z),n(L,Y),n(Y,B),M||(U=[X(f,"input",s[8]),X(y,"input",s[9]),X(R,"input",s[10])],M=!0)},p($,Z){Z&16&&a!==(a=$[4].t("Current Password")+"")&&H(r,a),Z&2&&f.value!==$[1]&&ze(f,$[1]),Z&16&&_!==(_=$[4].t("New Password")+"")&&H(b,_),Z&4&&y.value!==$[2]&&ze(y,$[2]),Z&16&&D!==(D=$[4].t("Confirm Password")+"")&&H(I,D),Z&8&&R.value!==$[3]&&ze(R,$[3]),Z&16&&j!==(j=$[4].t("Update password")+"")&&H(B,j)},d($){$&&(u(e),u(F),u(L)),M=!1,dt(U)}}}function zo(s){let e,t,l,a=s[4].t("Change Password")+"",r,o,i,f=(s[0]?s[4].t("Hide"):s[4].t("Show"))+"",m,g,p,_,b=s[0]&&ur(s);return{c(){e=d("form"),t=d("div"),l=d("div"),r=N(a),o=S(),i=d("button"),m=N(f),g=S(),b&&b.c(),this.h()},l(w){e=h(w,"FORM",{class:!0});var k=v(e);t=h(k,"DIV",{class:!0});var y=v(t);l=h(y,"DIV",{class:!0});var T=v(l);r=O(T,a),T.forEach(u),o=A(y),i=h(y,"BUTTON",{class:!0,type:!0});var C=v(i);m=O(C,f),C.forEach(u),y.forEach(u),g=A(k),b&&b.l(k),k.forEach(u),this.h()},h(){c(l,"class","font-medium"),c(i,"class","text-xs font-medium text-gray-500"),c(i,"type","button"),c(t,"class","flex justify-between items-center text-sm"),c(e,"class","flex flex-col text-sm")},m(w,k){z(w,e,k),n(e,t),n(t,l),n(l,r),n(t,o),n(t,i),n(i,m),n(e,g),b&&b.m(e,null),p||(_=[X(i,"click",s[7]),X(e,"submit",$l(s[11]))],p=!0)},p(w,[k]){k&16&&a!==(a=w[4].t("Change Password")+"")&&H(r,a),k&17&&f!==(f=(w[0]?w[4].t("Hide"):w[4].t("Show"))+"")&&H(m,f),w[0]?b?b.p(w,k):(b=ur(w),b.c(),b.m(e,null)):b&&(b.d(1),b=null)},i:Pe,o:Pe,d(w){w&&u(e),b&&b.d(),p=!1,dt(_)}}}function Ro(s,e,t){let l;const a=gt("i18n");Be(s,a,k=>t(4,l=k));let r=!1,o="",i="",f="";const m=async()=>{i===f?(await Qn(localStorage.token,o,i).catch(y=>(Ke.error(y),null))&&Ke.success(l.t("Successfully updated.")),t(1,o=""),t(2,i=""),t(3,f="")):(Ke.error("The passwords you entered don't quite match. Please double-check and try again."),t(2,i=""),t(3,f=""))},g=()=>{t(0,r=!r)};function p(){o=this.value,t(1,o)}function _(){i=this.value,t(2,i)}function b(){f=this.value,t(3,f)}return[r,o,i,f,l,a,m,g,p,_,b,()=>{m()}]}class Wo extends nt{constructor(e){super(),ot(this,e,Ro,zo,rt,{})}}function Zo(s){let e,t;return{c(){e=lt("svg"),t=lt("path"),this.h()},l(l){e=st(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var a=v(e);t=st(a,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),v(t).forEach(u),a.forEach(u),this.h()},h(){c(t,"stroke-linecap","round"),c(t,"stroke-linejoin","round"),c(t,"d","M12 4.5v15m7.5-7.5h-15"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"fill","none"),c(e,"viewBox","0 0 24 24"),c(e,"stroke-width",s[1]),c(e,"stroke","currentColor"),c(e,"class",s[0])},m(l,a){z(l,e,a),n(e,t)},p(l,[a]){a&2&&c(e,"stroke-width",l[1]),a&1&&c(e,"class",l[0])},i:Pe,o:Pe,d(l){l&&u(e)}}}function Fo(s,e,t){let{className:l="w-4 h-4"}=e,{strokeWidth:a="1.5"}=e;return s.$$set=r=>{"className"in r&&t(0,l=r.className),"strokeWidth"in r&&t(1,a=r.strokeWidth)},[l,a]}class Yo extends nt{constructor(e){super(),ot(this,e,Fo,Zo,rt,{className:0,strokeWidth:1})}}function fr(s){let e,t,l,a,r=s[9].t("JWT Token")+"",o,i,f,m,g,p,_,b,w,k,y=s[9].t("API Key")+"",T,C,V,D,I,E,x,R;m=new _n({props:{value:localStorage.token,readOnly:!0}});function F(U,$){return U[4]?Ko:qo}let L=F(s),Y=L(s);const j=[Jo,Go],B=[];function M(U,$){return U[5]?0:1}return D=M(s),I=B[D]=j[D](s),{c(){e=d("div"),t=d("div"),l=d("div"),a=d("div"),o=N(r),i=S(),f=d("div"),me(m.$$.fragment),g=S(),p=d("button"),Y.c(),_=S(),b=d("div"),w=d("div"),k=d("div"),T=N(y),C=S(),V=d("div"),I.c(),this.h()},l(U){e=h(U,"DIV",{class:!0});var $=v(e);t=h($,"DIV",{class:!0});var Z=v(t);l=h(Z,"DIV",{class:!0});var q=v(l);a=h(q,"DIV",{class:!0});var P=v(a);o=O(P,r),P.forEach(u),q.forEach(u),i=A(Z),f=h(Z,"DIV",{class:!0});var W=v(f);_e(m.$$.fragment,W),g=A(W),p=h(W,"BUTTON",{class:!0});var K=v(p);Y.l(K),K.forEach(u),W.forEach(u),Z.forEach(u),_=A($),b=h($,"DIV",{class:!0});var G=v(b);w=h(G,"DIV",{class:!0});var J=v(w);k=h(J,"DIV",{class:!0});var te=v(k);T=O(te,y),te.forEach(u),J.forEach(u),C=A(G),V=h(G,"DIV",{class:!0});var le=v(V);I.l(le),le.forEach(u),G.forEach(u),$.forEach(u),this.h()},h(){c(a,"class","self-center text-xs font-medium"),c(l,"class","flex justify-between w-full"),c(p,"class","ml-1.5 px-1.5 py-1 dark:hover:bg-gray-850 transition rounded-lg"),c(f,"class","flex mt-2"),c(t,"class","justify-between w-full"),c(k,"class","self-center text-xs font-medium"),c(w,"class","flex justify-between w-full"),c(V,"class","flex mt-2"),c(b,"class","justify-between w-full"),c(e,"class","flex flex-col gap-4")},m(U,$){z(U,e,$),n(e,t),n(t,l),n(l,a),n(a,o),n(t,i),n(t,f),pe(m,f,null),n(f,g),n(f,p),Y.m(p,null),n(e,_),n(e,b),n(b,w),n(w,k),n(k,T),n(b,C),n(b,V),B[D].m(V,null),E=!0,x||(R=X(p,"click",s[21]),x=!0)},p(U,$){(!E||$&512)&&r!==(r=U[9].t("JWT Token")+"")&&H(o,r),L!==(L=F(U))&&(Y.d(1),Y=L(U),Y&&(Y.c(),Y.m(p,null))),(!E||$&512)&&y!==(y=U[9].t("API Key")+"")&&H(T,y);let Z=D;D=M(U),D===Z?B[D].p(U,$):(wt(),se(B[Z],1,1,()=>{B[Z]=null}),kt(),I=B[D],I?I.p(U,$):(I=B[D]=j[D](U),I.c()),ee(I,1),I.m(V,null))},i(U){E||(ee(m.$$.fragment,U),ee(I),E=!0)},o(U){se(m.$$.fragment,U),se(I),E=!1},d(U){U&&u(e),ge(m),Y.d(),B[D].d(),x=!1,R()}}}function qo(s){let e,t,l;return{c(){e=lt("svg"),t=lt("path"),l=lt("path"),this.h()},l(a){e=st(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var r=v(e);t=st(r,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(t).forEach(u),l=st(r,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(l).forEach(u),r.forEach(u),this.h()},h(){c(t,"fill-rule","evenodd"),c(t,"d","M11.986 3H12a2 2 0 0 1 2 2v6a2 2 0 0 1-1.5 1.937V7A2.5 2.5 0 0 0 10 4.5H4.063A2 2 0 0 1 6 3h.014A2.25 2.25 0 0 1 8.25 1h1.5a2.25 2.25 0 0 1 2.236 2ZM10.5 4v-.75a.75.75 0 0 0-.75-.75h-1.5a.75.75 0 0 0-.75.75V4h3Z"),c(t,"clip-rule","evenodd"),c(l,"fill-rule","evenodd"),c(l,"d","M3 6a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h7a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1H3Zm1.75 2.5a.75.75 0 0 0 0 1.5h3.5a.75.75 0 0 0 0-1.5h-3.5ZM4 11.75a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 0 1.5h-3.5a.75.75 0 0 1-.75-.75Z"),c(l,"clip-rule","evenodd"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"viewBox","0 0 16 16"),c(e,"fill","currentColor"),c(e,"class","w-4 h-4")},m(a,r){z(a,e,r),n(e,t),n(e,l)},d(a){a&&u(e)}}}function Ko(s){let e,t;return{c(){e=lt("svg"),t=lt("path"),this.h()},l(l){e=st(l,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var a=v(e);t=st(a,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(t).forEach(u),a.forEach(u),this.h()},h(){c(t,"fill-rule","evenodd"),c(t,"d","M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z"),c(t,"clip-rule","evenodd"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"viewBox","0 0 20 20"),c(e,"fill","currentColor"),c(e,"class","w-4 h-4")},m(l,a){z(l,e,a),n(e,t)},d(l){l&&u(e)}}}function Go(s){let e,t,l,a=s[9].t("Create new secret key")+"",r,o,i,f;return t=new Yo({props:{strokeWidth:"2",className:" size-3.5"}}),{c(){e=d("button"),me(t.$$.fragment),l=S(),r=N(a),this.h()},l(m){e=h(m,"BUTTON",{class:!0});var g=v(e);_e(t.$$.fragment,g),l=A(g),r=O(g,a),g.forEach(u),this.h()},h(){c(e,"class","flex gap-1.5 items-center font-medium px-3.5 py-1.5 rounded-lg bg-gray-100/70 hover:bg-gray-100 dark:bg-gray-850 dark:hover:bg-gray-850 transition")},m(m,g){z(m,e,g),pe(t,e,null),n(e,l),n(e,r),o=!0,i||(f=X(e,"click",s[24]),i=!0)},p(m,g){(!o||g&512)&&a!==(a=m[9].t("Create new secret key")+"")&&H(r,a)},i(m){o||(ee(t.$$.fragment,m),o=!0)},o(m){se(t.$$.fragment,m),o=!1},d(m){m&&u(e),ge(t),i=!1,f()}}}function Jo(s){let e,t,l,a,r,o,i,f;e=new _n({props:{value:s[5],readOnly:!0}});function m(_,b){return _[6]?Qo:Xo}let g=m(s),p=g(s);return r=new Zt({props:{content:s[9].t("Create new key"),$$slots:{default:[ei]},$$scope:{ctx:s}}}),{c(){me(e.$$.fragment),t=S(),l=d("button"),p.c(),a=S(),me(r.$$.fragment),this.h()},l(_){_e(e.$$.fragment,_),t=A(_),l=h(_,"BUTTON",{class:!0});var b=v(l);p.l(b),b.forEach(u),a=A(_),_e(r.$$.fragment,_),this.h()},h(){c(l,"class","ml-1.5 px-1.5 py-1 dark:hover:bg-gray-850 transition rounded-lg")},m(_,b){pe(e,_,b),z(_,t,b),z(_,l,b),p.m(l,null),z(_,a,b),pe(r,_,b),o=!0,i||(f=X(l,"click",s[22]),i=!0)},p(_,b){const w={};b&32&&(w.value=_[5]),e.$set(w),g!==(g=m(_))&&(p.d(1),p=g(_),p&&(p.c(),p.m(l,null)));const k={};b&512&&(k.content=_[9].t("Create new key")),b&67108864&&(k.$$scope={dirty:b,ctx:_}),r.$set(k)},i(_){o||(ee(e.$$.fragment,_),ee(r.$$.fragment,_),o=!0)},o(_){se(e.$$.fragment,_),se(r.$$.fragment,_),o=!1},d(_){_&&(u(t),u(l),u(a)),ge(e,_),p.d(),ge(r,_),i=!1,f()}}}function Xo(s){let e,t,l;return{c(){e=lt("svg"),t=lt("path"),l=lt("path"),this.h()},l(a){e=st(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var r=v(e);t=st(r,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(t).forEach(u),l=st(r,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(l).forEach(u),r.forEach(u),this.h()},h(){c(t,"fill-rule","evenodd"),c(t,"d","M11.986 3H12a2 2 0 0 1 2 2v6a2 2 0 0 1-1.5 1.937V7A2.5 2.5 0 0 0 10 4.5H4.063A2 2 0 0 1 6 3h.014A2.25 2.25 0 0 1 8.25 1h1.5a2.25 2.25 0 0 1 2.236 2ZM10.5 4v-.75a.75.75 0 0 0-.75-.75h-1.5a.75.75 0 0 0-.75.75V4h3Z"),c(t,"clip-rule","evenodd"),c(l,"fill-rule","evenodd"),c(l,"d","M3 6a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h7a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1H3Zm1.75 2.5a.75.75 0 0 0 0 1.5h3.5a.75.75 0 0 0 0-1.5h-3.5ZM4 11.75a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 0 1.5h-3.5a.75.75 0 0 1-.75-.75Z"),c(l,"clip-rule","evenodd"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"viewBox","0 0 16 16"),c(e,"fill","currentColor"),c(e,"class","w-4 h-4")},m(a,r){z(a,e,r),n(e,t),n(e,l)},d(a){a&&u(e)}}}function Qo(s){let e,t;return{c(){e=lt("svg"),t=lt("path"),this.h()},l(l){e=st(l,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var a=v(e);t=st(a,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(t).forEach(u),a.forEach(u),this.h()},h(){c(t,"fill-rule","evenodd"),c(t,"d","M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z"),c(t,"clip-rule","evenodd"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"viewBox","0 0 20 20"),c(e,"fill","currentColor"),c(e,"class","w-4 h-4")},m(l,a){z(l,e,a),n(e,t)},d(l){l&&u(e)}}}function ei(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="size-4"><path stroke-linecap="round" stroke-linejoin="round" d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"></path></svg>',l,a;return{c(){e=d("button"),e.innerHTML=t,this.h()},l(r){e=h(r,"BUTTON",{class:!0,"data-svelte-h":!0}),Ue(e)!=="svelte-olpspw"&&(e.innerHTML=t),this.h()},h(){c(e,"class","px-1.5 py-1 dark:hover:bg-gray-850transition rounded-lg")},m(r,o){z(r,e,o),l||(a=X(e,"click",s[23]),l=!0)},p:Pe,d(r){r&&u(e),l=!1,a()}}}function ti(s){let e,t,l,a,r,o,i,f,m,g,p,_,b,w='<div class="my-auto text-gray-100"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="m2.695 14.762-1.262 3.155a.5.5 0 0 0 .65.65l3.155-1.262a4 4 0 0 0 1.343-.886L17.5 5.501a2.121 2.121 0 0 0-3-3L3.58 13.419a4 4 0 0 0-.885 1.343Z"></path></svg></div>',k,y,T,C=s[9].t("Profile Image")+"",V,D,I,E,x=s[9].t("Use Initials")+"",R,F,L,Y=s[9].t("Use Gravatar")+"",j,B,M,U=s[9].t("Remove")+"",$,Z,q,P,W,K=s[9].t("Name")+"",G,J,te,le,ie,he,Ee,Oe,Se,He,ve,de,ne=s[9].t("API keys")+"",Ie,Q,ce,Ve=(s[3]?s[9].t("Hide"):s[9].t("Show"))+"",Me,oe,De,xe,Ce,Re=s[9].t("Save")+"",be,ye,it,ae;Ee=new Wo({});let fe=s[3]&&fr(s);return{c(){e=d("div"),t=d("div"),l=d("input"),a=S(),r=d("div"),o=d("div"),i=d("div"),f=d("div"),m=d("button"),g=d("img"),_=S(),b=d("div"),b.innerHTML=w,k=S(),y=d("div"),T=d("div"),V=N(C),D=S(),I=d("div"),E=d("button"),R=N(x),F=S(),L=d("button"),j=N(Y),B=S(),M=d("button"),$=N(U),Z=S(),q=d("div"),P=d("div"),W=d("div"),G=N(K),J=S(),te=d("div"),le=d("input"),ie=S(),he=d("div"),me(Ee.$$.fragment),Oe=S(),Se=d("hr"),He=S(),ve=d("div"),de=d("div"),Ie=N(ne),Q=S(),ce=d("button"),Me=N(Ve),oe=S(),fe&&fe.c(),De=S(),xe=d("div"),Ce=d("button"),be=N(Re),this.h()},l(we){e=h(we,"DIV",{class:!0});var Ae=v(e);t=h(Ae,"DIV",{class:!0});var $e=v(t);l=h($e,"INPUT",{id:!0,type:!0,accept:!0}),a=A($e),r=h($e,"DIV",{class:!0});var We=v(r);o=h(We,"DIV",{class:!0});var Ge=v(o);i=h(Ge,"DIV",{class:!0});var ht=v(i);f=h(ht,"DIV",{class:!0});var Je=v(f);m=h(Je,"BUTTON",{class:!0,type:!0});var ct=v(m);g=h(ct,"IMG",{src:!0,alt:!0,class:!0}),_=A(ct),b=h(ct,"DIV",{class:!0,"data-svelte-h":!0}),Ue(b)!=="svelte-11ivb2j"&&(b.innerHTML=w),ct.forEach(u),Je.forEach(u),ht.forEach(u),k=A(Ge),y=h(Ge,"DIV",{class:!0});var ut=v(y);T=h(ut,"DIV",{class:!0});var Ze=v(T);V=O(Ze,C),Ze.forEach(u),D=A(ut),I=h(ut,"DIV",{});var et=v(I);E=h(et,"BUTTON",{class:!0});var tt=v(E);R=O(tt,x),tt.forEach(u),F=A(et),L=h(et,"BUTTON",{class:!0});var Fe=v(L);j=O(Fe,Y),Fe.forEach(u),B=A(et),M=h(et,"BUTTON",{class:!0});var Ne=v(M);$=O(Ne,U),Ne.forEach(u),et.forEach(u),ut.forEach(u),Ge.forEach(u),Z=A(We),q=h(We,"DIV",{class:!0});var Xe=v(q);P=h(Xe,"DIV",{class:!0});var Vt=v(P);W=h(Vt,"DIV",{class:!0});var Qe=v(W);G=O(Qe,K),Qe.forEach(u),J=A(Vt),te=h(Vt,"DIV",{class:!0});var _t=v(te);le=h(_t,"INPUT",{class:!0,type:!0}),_t.forEach(u),Vt.forEach(u),Xe.forEach(u),We.forEach(u),ie=A($e),he=h($e,"DIV",{class:!0});var je=v(he);_e(Ee.$$.fragment,je),je.forEach(u),Oe=A($e),Se=h($e,"HR",{class:!0}),He=A($e),ve=h($e,"DIV",{class:!0});var Te=v(ve);de=h(Te,"DIV",{class:!0});var ue=v(de);Ie=O(ue,ne),ue.forEach(u),Q=A(Te),ce=h(Te,"BUTTON",{class:!0,type:!0});var ke=v(ce);Me=O(ke,Ve),ke.forEach(u),Te.forEach(u),oe=A($e),fe&&fe.l($e),$e.forEach(u),De=A(Ae),xe=h(Ae,"DIV",{class:!0});var Ye=v(xe);Ce=h(Ye,"BUTTON",{class:!0});var At=v(Ce);be=O(At,Re),At.forEach(u),Ye.forEach(u),Ae.forEach(u),this.h()},h(){c(l,"id","profile-image-input"),c(l,"type","file"),l.hidden=!0,c(l,"accept","image/*"),Ds(g.src,p=s[1]!==""?s[1]:Fl(s[2]))||c(g,"src",p),c(g,"alt","profile"),c(g,"class","rounded-full size-16 object-cover"),c(b,"class","absolute flex justify-center rounded-full bottom-0 left-0 right-0 top-0 h-full w-full overflow-hidden bg-gray-700 bg-fixed opacity-0 transition duration-300 ease-in-out hover:opacity-50"),c(m,"class","relative rounded-full dark:bg-gray-700"),c(m,"type","button"),c(f,"class","self-center mt-2"),c(i,"class","flex flex-col"),c(T,"class","mb-0.5 text-sm font-medium"),c(E,"class","text-xs text-center text-gray-800 dark:text-gray-400 rounded-full px-4 py-0.5 bg-gray-100 dark:bg-gray-850"),c(L,"class","text-xs text-center text-gray-800 dark:text-gray-400 rounded-full px-4 py-0.5 bg-gray-100 dark:bg-gray-850"),c(M,"class","text-xs text-center text-gray-800 dark:text-gray-400 rounded-lg px-2 py-1"),c(y,"class","flex-1 flex flex-col self-center gap-0.5"),c(o,"class","flex space-x-5"),c(W,"class","mb-1 text-xs font-medium"),c(le,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),c(le,"type","text"),le.required=!0,c(te,"class","flex-1"),c(P,"class","flex flex-col w-full"),c(q,"class","pt-0.5"),c(r,"class","space-y-1"),c(he,"class","py-0.5"),c(Se,"class","dark:border-gray-850 my-4"),c(de,"class","font-medium"),c(ce,"class","text-xs font-medium text-gray-500"),c(ce,"type","button"),c(ve,"class","flex justify-between items-center text-sm"),c(t,"class","space-y-3 pr-1.5 overflow-y-scroll max-h-[25rem]"),c(Ce,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),c(xe,"class","flex justify-end pt-3 text-sm font-medium"),c(e,"class","flex flex-col h-full justify-between text-sm")},m(we,Ae){z(we,e,Ae),n(e,t),n(t,l),s[13](l),n(t,a),n(t,r),n(r,o),n(o,i),n(i,f),n(f,m),n(m,g),n(m,_),n(m,b),n(o,k),n(o,y),n(y,T),n(T,V),n(y,D),n(y,I),n(I,E),n(E,R),n(I,F),n(I,L),n(L,j),n(I,B),n(I,M),n(M,$),n(r,Z),n(r,q),n(q,P),n(P,W),n(W,G),n(P,J),n(P,te),n(te,le),ze(le,s[2]),n(t,ie),n(t,he),pe(Ee,he,null),n(t,Oe),n(t,Se),n(t,He),n(t,ve),n(ve,de),n(de,Ie),n(ve,Q),n(ve,ce),n(ce,Me),n(t,oe),fe&&fe.m(t,null),n(e,De),n(e,xe),n(xe,Ce),n(Ce,be),ye=!0,it||(ae=[X(l,"change",s[14]),X(m,"click",s[15]),X(E,"click",s[16]),X(L,"click",s[17]),X(M,"click",s[18]),X(le,"input",s[19]),X(ce,"click",s[20]),X(Ce,"click",s[25])],it=!0)},p(we,[Ae]){(!ye||Ae&6&&!Ds(g.src,p=we[1]!==""?we[1]:Fl(we[2])))&&c(g,"src",p),(!ye||Ae&512)&&C!==(C=we[9].t("Profile Image")+"")&&H(V,C),(!ye||Ae&512)&&x!==(x=we[9].t("Use Initials")+"")&&H(R,x),(!ye||Ae&512)&&Y!==(Y=we[9].t("Use Gravatar")+"")&&H(j,Y),(!ye||Ae&512)&&U!==(U=we[9].t("Remove")+"")&&H($,U),(!ye||Ae&512)&&K!==(K=we[9].t("Name")+"")&&H(G,K),Ae&4&&le.value!==we[2]&&ze(le,we[2]),(!ye||Ae&512)&&ne!==(ne=we[9].t("API keys")+"")&&H(Ie,ne),(!ye||Ae&520)&&Ve!==(Ve=(we[3]?we[9].t("Hide"):we[9].t("Show"))+"")&&H(Me,Ve),we[3]?fe?(fe.p(we,Ae),Ae&8&&ee(fe,1)):(fe=fr(we),fe.c(),ee(fe,1),fe.m(t,null)):fe&&(wt(),se(fe,1,1,()=>{fe=null}),kt()),(!ye||Ae&512)&&Re!==(Re=we[9].t("Save")+"")&&H(be,Re)},i(we){ye||(ee(Ee.$$.fragment,we),ee(fe),ye=!0)},o(we){se(Ee.$$.fragment,we),se(fe),ye=!1},d(we){we&&u(e),s[13](null),ge(Ee),fe&&fe.d(),it=!1,dt(ae)}}}function li(s,e,t){let l,a;Be(s,Ul,B=>t(8,l=B));const r=gt("i18n");Be(s,r,B=>t(9,a=B));let{saveHandler:o}=e,i="",f="",m=!1,g=!1,p="",_=!1,b;const w=async()=>{f!==l.name&&(i===Fl(l.name)||i==="")&&t(1,i=Fl(f));const B=await to(localStorage.token,f,i).catch(M=>{Ke.error(M)});return B?(await Ul.set(B),!0):!1},k=async()=>{t(5,p=await lo(localStorage.token)),p?Ke.success(a.t("API Key created.")):Ke.error(a.t("Failed to create API Key."))};Ft(async()=>{t(2,f=l.name),t(1,i=l.profile_image_url),t(5,p=await eo(localStorage.token).catch(B=>(console.log(B),"")))});function y(B){mt[B?"unshift":"push"](()=>{b=B,t(7,b)})}const T=B=>{const M=b.files??[];let U=new FileReader;U.onload=$=>{let Z=`${$.target.result}`;const q=new Image;q.src=Z,q.onload=function(){const P=document.createElement("canvas"),W=P.getContext("2d"),K=q.width/q.height;let G,J;K>1?(G=100*K,J=100):(G=100,J=100/K),P.width=100,P.height=100;const te=(100-G)/2,le=(100-J)/2;W.drawImage(q,te,le,G,J);const ie=P.toDataURL("image/jpeg");t(1,i=ie),t(7,b.files=null,b)}},M.length>0&&["image/gif","image/webp","image/jpeg","image/png"].includes(M[0].type)&&U.readAsDataURL(M[0])},C=()=>{b.click()},V=async()=>{ro()?t(1,i=Fl(f)):Ke.info(a.t("Fingerprint spoofing detected: Unable to use initials as avatar. Defaulting to default profile image."),{duration:1e3*10})},D=async()=>{const B=await ao(l.email);t(1,i=B)},I=async()=>{t(1,i="/user.png")};function E(){f=this.value,t(2,f)}const x=()=>{t(3,m=!m)},R=()=>{rr(localStorage.token),t(4,g=!0),setTimeout(()=>{t(4,g=!1)},2e3)},F=()=>{rr(p),t(6,_=!0),setTimeout(()=>{t(6,_=!1)},2e3)},L=()=>{k()},Y=()=>{k()},j=async()=>{await w()&&o()};return s.$$set=B=>{"saveHandler"in B&&t(0,o=B.saveHandler)},[o,i,f,m,g,p,_,b,l,a,r,w,k,y,T,C,V,D,I,E,x,R,F,L,Y,j]}class si extends nt{constructor(e){super(),ot(this,e,li,ti,rt,{saveHandler:0})}}function ai(s){let e,t;return{c(){e=N("v"),t=N(Pl)},l(l){e=O(l,"v"),t=O(l,Pl)},m(l,a){z(l,e,a),z(l,t,a)},p:Pe,d(l){l&&(u(e),u(t))}}}function dr(s){let e,t,l,a,r=s[4].t("Ollama Version")+"",o,i,f,m,g=(s[0]??"N/A")+"",p;return{c(){e=d("hr"),t=S(),l=d("div"),a=d("div"),o=N(r),i=S(),f=d("div"),m=d("div"),p=N(g),this.h()},l(_){e=h(_,"HR",{class:!0}),t=A(_),l=h(_,"DIV",{});var b=v(l);a=h(b,"DIV",{class:!0});var w=v(a);o=O(w,r),w.forEach(u),i=A(b),f=h(b,"DIV",{class:!0});var k=v(f);m=h(k,"DIV",{class:!0});var y=v(m);p=O(y,g),y.forEach(u),k.forEach(u),b.forEach(u),this.h()},h(){c(e,"class","dark:border-gray-850"),c(a,"class","mb-2.5 text-sm font-medium"),c(m,"class","flex-1 text-xs text-gray-700 dark:text-gray-200"),c(f,"class","flex w-full")},m(_,b){z(_,e,b),z(_,t,b),z(_,l,b),n(l,a),n(a,o),n(l,i),n(l,f),n(f,m),n(m,p)},p(_,b){b&16&&r!==(r=_[4].t("Ollama Version")+"")&&H(o,r),b&1&&g!==(g=(_[0]??"N/A")+"")&&H(p,g)},d(_){_&&(u(e),u(t),u(l))}}}function hr(s){let e,t,l;return{c(){e=d("span"),t=N(s[3]),l=N(" -"),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);t=O(r,s[3]),r.forEach(u),l=O(a," -"),this.h()},h(){c(e,"class","text-gray-500 dark:text-gray-300 font-medium")},m(a,r){z(a,e,r),n(e,t),z(a,l,r)},p(a,r){r&8&&H(t,a[3])},d(a){a&&(u(e),u(l))}}}function ri(s){let e,t,l,a,r,o,i,f=s[4].t("Version")+"",m,g,p,_,b,w,k,y,T=(s[1]===null?s[4].t("Checking for updates..."):s[1]?`(v${s[2].latest} ${s[4].t("available!")})`:s[4].t("(latest)"))+"",C,V,D,I,E,x=s[4].t("See what's new")+"",R,F,L,Y=s[4].t("Check for updates")+"",j,B,M,U,$,Z,q='<a href="https://discord.gg/5rJgQTnV4s" target="_blank"><img alt="Discord" src="https://img.shields.io/badge/Discord-Open_WebUI-blue?logo=discord&amp;logoColor=white"/></a> <a href="https://twitter.com/OpenWebUI" target="_blank"><img alt="X (formerly Twitter) Follow" src="https://img.shields.io/twitter/follow/OpenWebUI"/></a> <a href="https://github.com/open-webui/open-webui" target="_blank"><img alt="Github Repo" src="https://img.shields.io/github/stars/open-webui/open-webui?style=social&amp;label=Star us on Github"/></a>',P,W,K=!s[3].includes("Open WebUI"),G,J=s[4].t("Created by")+"",te,le,ie,he="Timothy J. Baek",Ee,Oe,Se;w=new Zt({props:{content:Zn,$$slots:{default:[ai]},$$scope:{ctx:s}}});let He=s[0]&&dr(s),ve=K&&hr(s);return{c(){e=d("div"),t=d("div"),l=d("div"),a=d("div"),r=d("div"),o=N(s[3]),i=S(),m=N(f),g=S(),p=d("div"),_=d("div"),b=d("div"),me(w.$$.fragment),k=S(),y=d("a"),C=N(T),D=S(),I=d("button"),E=d("div"),R=N(x),F=S(),L=d("button"),j=N(Y),B=S(),He&&He.c(),M=S(),U=d("hr"),$=S(),Z=d("div"),Z.innerHTML=q,P=S(),W=d("div"),ve&&ve.c(),G=S(),te=N(J),le=S(),ie=d("a"),ie.textContent=he,this.h()},l(de){e=h(de,"DIV",{class:!0});var ne=v(e);t=h(ne,"DIV",{class:!0});var Ie=v(t);l=h(Ie,"DIV",{});var Q=v(l);a=h(Q,"DIV",{class:!0});var ce=v(a);r=h(ce,"DIV",{});var Ve=v(r);o=O(Ve,s[3]),i=A(Ve),m=O(Ve,f),Ve.forEach(u),ce.forEach(u),g=A(Q),p=h(Q,"DIV",{class:!0});var Me=v(p);_=h(Me,"DIV",{class:!0});var oe=v(_);b=h(oe,"DIV",{class:!0});var De=v(b);_e(w.$$.fragment,De),k=A(De),y=h(De,"A",{href:!0,target:!0});var xe=v(y);C=O(xe,T),xe.forEach(u),De.forEach(u),D=A(oe),I=h(oe,"BUTTON",{class:!0});var Ce=v(I);E=h(Ce,"DIV",{});var Re=v(E);R=O(Re,x),Re.forEach(u),Ce.forEach(u),oe.forEach(u),F=A(Me),L=h(Me,"BUTTON",{class:!0});var be=v(L);j=O(be,Y),be.forEach(u),Me.forEach(u),Q.forEach(u),B=A(Ie),He&&He.l(Ie),M=A(Ie),U=h(Ie,"HR",{class:!0}),$=A(Ie),Z=h(Ie,"DIV",{class:!0,"data-svelte-h":!0}),Ue(Z)!=="svelte-1hy20dm"&&(Z.innerHTML=q),P=A(Ie),W=h(Ie,"DIV",{class:!0});var ye=v(W);ve&&ve.l(ye),G=A(ye),te=O(ye,J),le=A(ye),ie=h(ye,"A",{class:!0,href:!0,target:!0,"data-svelte-h":!0}),Ue(ie)!=="svelte-1tvrifl"&&(ie.textContent=he),ye.forEach(u),Ie.forEach(u),ne.forEach(u),this.h()},h(){c(a,"class","mb-2.5 text-sm font-medium flex space-x-2 items-center"),c(y,"href",V="https://github.com/open-webui/open-webui/releases/tag/v"+s[2].latest),c(y,"target","_blank"),c(b,"class","flex gap-1"),c(I,"class","underline flex items-center space-x-1 text-xs text-gray-500 dark:text-gray-500"),c(_,"class","flex flex-col text-xs text-gray-700 dark:text-gray-200"),c(L,"class","text-xs px-3 py-1.5 bg-gray-100 hover:bg-gray-200 dark:bg-gray-850 dark:hover:bg-gray-800 transition rounded-lg font-medium"),c(p,"class","flex w-full justify-between items-center"),c(U,"class","dark:border-gray-850"),c(Z,"class","flex space-x-1"),c(ie,"class","text-gray-500 dark:text-gray-300 font-medium"),c(ie,"href","https://github.com/tjbck"),c(ie,"target","_blank"),c(W,"class","mt-2 text-xs text-gray-400 dark:text-gray-500"),c(t,"class","space-y-3"),c(e,"class","flex flex-col h-full justify-between space-y-3 text-sm mb-6")},m(de,ne){z(de,e,ne),n(e,t),n(t,l),n(l,a),n(a,r),n(r,o),n(r,i),n(r,m),n(l,g),n(l,p),n(p,_),n(_,b),pe(w,b,null),n(b,k),n(b,y),n(y,C),n(_,D),n(_,I),n(I,E),n(E,R),n(p,F),n(p,L),n(L,j),n(t,B),He&&He.m(t,null),n(t,M),n(t,U),n(t,$),n(t,Z),n(t,P),n(t,W),ve&&ve.m(W,null),n(W,G),n(W,te),n(W,le),n(W,ie),Ee=!0,Oe||(Se=[X(I,"click",s[7]),X(L,"click",s[8])],Oe=!0)},p(de,[ne]){(!Ee||ne&8)&&H(o,de[3]),(!Ee||ne&16)&&f!==(f=de[4].t("Version")+"")&&H(m,f);const Ie={};ne&512&&(Ie.$$scope={dirty:ne,ctx:de}),w.$set(Ie),(!Ee||ne&22)&&T!==(T=(de[1]===null?de[4].t("Checking for updates..."):de[1]?`(v${de[2].latest} ${de[4].t("available!")})`:de[4].t("(latest)"))+"")&&H(C,T),(!Ee||ne&4&&V!==(V="https://github.com/open-webui/open-webui/releases/tag/v"+de[2].latest))&&c(y,"href",V),(!Ee||ne&16)&&x!==(x=de[4].t("See what's new")+"")&&H(R,x),(!Ee||ne&16)&&Y!==(Y=de[4].t("Check for updates")+"")&&H(j,Y),de[0]?He?He.p(de,ne):(He=dr(de),He.c(),He.m(t,M)):He&&(He.d(1),He=null),ne&8&&(K=!de[3].includes("Open WebUI")),K?ve?ve.p(de,ne):(ve=hr(de),ve.c(),ve.m(W,G)):ve&&(ve.d(1),ve=null),(!Ee||ne&16)&&J!==(J=de[4].t("Created by")+"")&&H(te,J)},i(de){Ee||(ee(w.$$.fragment,de),Ee=!0)},o(de){se(w.$$.fragment,de),Ee=!1},d(de){de&&u(e),ge(w),He&&He.d(),ve&&ve.d(),Oe=!1,dt(Se)}}}function ni(s,e,t){let l,a;Be(s,pn,_=>t(3,l=_));const r=gt("i18n");Be(s,r,_=>t(4,a=_));let o="",i=null,f={current:"",latest:""};const m=async()=>{t(1,i=null),t(2,f=await Vn().catch(_=>({current:Pl,latest:Pl}))),console.log(f),t(1,i=no(f.latest,f.current)),console.log(i)};return Ft(async()=>{t(0,o=await uo(localStorage.token).catch(_=>"")),m()}),[o,i,f,l,a,r,m,()=>{Es.set(!0)},()=>{m()}]}class oi extends nt{constructor(e){super(),ot(this,e,ni,ri,rt,{})}}function vr(s,e,t){const l=s.slice();return l[33]=e[t],l}function mr(s){let e,t=s[33].title+"",l,a;return{c(){e=d("option"),l=N(t),this.h()},l(r){e=h(r,"OPTION",{});var o=v(e);l=O(o,t),o.forEach(u),this.h()},h(){e.__value=a=s[33].code,ze(e,e.__value)},m(r,o){z(r,e,o),n(e,l)},p(r,o){o[0]&4&&t!==(t=r[33].title+"")&&H(l,t),o[0]&4&&a!==(a=r[33].code)&&(e.__value=a,ze(e,e.__value))},d(r){r&&u(e)}}}function _r(s){let e,t=`Couldn&#39;t find your language?
					<a class="text-gray-300 font-medium underline" href="https://github.com/open-webui/open-webui/blob/main/docs/CONTRIBUTING.md#-translations-and-internationalization" target="_blank">Help us translate Open WebUI!</a>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),Ue(e)!=="svelte-3hlwzt"&&(e.innerHTML=t),this.h()},h(){c(e,"class","mb-2 text-xs text-gray-400 dark:text-gray-500")},m(l,a){z(l,e,a)},d(l){l&&u(e)}}}function ii(s){let e,t=s[10].t("Off")+"",l;return{c(){e=d("span"),l=N(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&1024&&t!==(t=a[10].t("Off")+"")&&H(l,t)},d(a){a&&u(e)}}}function ci(s){let e,t=s[10].t("On")+"",l;return{c(){e=d("span"),l=N(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&1024&&t!==(t=a[10].t("On")+"")&&H(l,t)},d(a){a&&u(e)}}}function pr(s){var q;let e,t,l,a,r,o,i,f,m=s[10].t("Keep Alive")+"",g,p,_,b,w,k,y,T,C=s[10].t("Request Mode")+"",V,D,I,E,x,R;function F(P){s[25](P)}let L={admin:((q=s[11])==null?void 0:q.role)==="admin"};s[9]!==void 0&&(L.params=s[9]),e=new ho({props:L}),mt.push(()=>Et(e,"params",F));function Y(P,W){return P[8]===null?fi:ui}let j=Y(s),B=j(s),M=s[8]!==null&&gr(s);function U(P,W){if(P[7]==="")return hi;if(P[7]==="json")return di}let $=U(s),Z=$&&$(s);return{c(){me(e.$$.fragment),l=S(),a=d("hr"),r=S(),o=d("div"),i=d("div"),f=d("div"),g=N(m),p=S(),_=d("button"),B.c(),b=S(),M&&M.c(),w=S(),k=d("div"),y=d("div"),T=d("div"),V=N(C),D=S(),I=d("button"),Z&&Z.c(),this.h()},l(P){_e(e.$$.fragment,P),l=A(P),a=h(P,"HR",{class:!0}),r=A(P),o=h(P,"DIV",{class:!0});var W=v(o);i=h(W,"DIV",{class:!0});var K=v(i);f=h(K,"DIV",{class:!0});var G=v(f);g=O(G,m),G.forEach(u),p=A(K),_=h(K,"BUTTON",{class:!0,type:!0});var J=v(_);B.l(J),J.forEach(u),K.forEach(u),b=A(W),M&&M.l(W),W.forEach(u),w=A(P),k=h(P,"DIV",{});var te=v(k);y=h(te,"DIV",{class:!0});var le=v(y);T=h(le,"DIV",{class:!0});var ie=v(T);V=O(ie,C),ie.forEach(u),D=A(le),I=h(le,"BUTTON",{class:!0});var he=v(I);Z&&Z.l(he),he.forEach(u),le.forEach(u),te.forEach(u),this.h()},h(){c(a,"class","dark:border-gray-850"),c(f,"class","self-center text-xs font-medium"),c(_,"class","p-1 px-3 text-xs flex rounded transition"),c(_,"type","button"),c(i,"class","flex w-full justify-between"),c(o,"class","py-1 w-full justify-between"),c(T,"class","self-center text-sm font-medium"),c(I,"class","p-1 px-3 text-xs flex rounded transition"),c(y,"class","py-1 flex w-full justify-between")},m(P,W){pe(e,P,W),z(P,l,W),z(P,a,W),z(P,r,W),z(P,o,W),n(o,i),n(i,f),n(f,g),n(i,p),n(i,_),B.m(_,null),n(o,b),M&&M.m(o,null),z(P,w,W),z(P,k,W),n(k,y),n(y,T),n(T,V),n(y,D),n(y,I),Z&&Z.m(I,null),E=!0,x||(R=[X(_,"click",s[26]),X(I,"click",s[28])],x=!0)},p(P,W){var G;const K={};W[0]&2048&&(K.admin=((G=P[11])==null?void 0:G.role)==="admin"),!t&&W[0]&512&&(t=!0,K.params=P[9],yt(()=>t=!1)),e.$set(K),(!E||W[0]&1024)&&m!==(m=P[10].t("Keep Alive")+"")&&H(g,m),j===(j=Y(P))&&B?B.p(P,W):(B.d(1),B=j(P),B&&(B.c(),B.m(_,null))),P[8]!==null?M?M.p(P,W):(M=gr(P),M.c(),M.m(o,null)):M&&(M.d(1),M=null),(!E||W[0]&1024)&&C!==(C=P[10].t("Request Mode")+"")&&H(V,C),$===($=U(P))&&Z?Z.p(P,W):(Z&&Z.d(1),Z=$&&$(P),Z&&(Z.c(),Z.m(I,null)))},i(P){E||(ee(e.$$.fragment,P),E=!0)},o(P){se(e.$$.fragment,P),E=!1},d(P){P&&(u(l),u(a),u(r),u(o),u(w),u(k)),ge(e,P),B.d(),M&&M.d(),Z&&Z.d(),x=!1,dt(R)}}}function ui(s){let e,t=s[10].t("Custom")+"",l;return{c(){e=d("span"),l=N(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&1024&&t!==(t=a[10].t("Custom")+"")&&H(l,t)},d(a){a&&u(e)}}}function fi(s){let e,t=s[10].t("Default")+"",l;return{c(){e=d("span"),l=N(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&1024&&t!==(t=a[10].t("Default")+"")&&H(l,t)},d(a){a&&u(e)}}}function gr(s){let e,t,l,a,r;return{c(){e=d("div"),t=d("input"),this.h()},l(o){e=h(o,"DIV",{class:!0});var i=v(e);t=h(i,"INPUT",{class:!0,type:!0,placeholder:!0}),i.forEach(u),this.h()},h(){c(t,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),c(t,"type","text"),c(t,"placeholder",l=s[10].t("e.g. '30s','10m'. Valid time units are 's', 'm', 'h'.")),c(e,"class","flex mt-1 space-x-2")},m(o,i){z(o,e,i),n(e,t),ze(t,s[8]),a||(r=X(t,"input",s[27]),a=!0)},p(o,i){i[0]&1024&&l!==(l=o[10].t("e.g. '30s','10m'. Valid time units are 's', 'm', 'h'."))&&c(t,"placeholder",l),i[0]&256&&t.value!==o[8]&&ze(t,o[8])},d(o){o&&u(e),a=!1,r()}}}function di(s){let e,t=s[10].t("JSON")+"",l;return{c(){e=d("span"),l=N(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&1024&&t!==(t=a[10].t("JSON")+"")&&H(l,t)},d(a){a&&u(e)}}}function hi(s){let e,t=s[10].t("Default")+"",l;return{c(){e=d("span"),l=N(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&1024&&t!==(t=a[10].t("Default")+"")&&H(l,t)},d(a){a&&u(e)}}}function vi(s){let e,t,l,a,r=s[10].t("WebUI Settings")+"",o,i,f,m,g=s[10].t("Theme")+"",p,_,b,w,k,y,T=s[10].t("System")+"",C,V,D,I=s[10].t("Dark")+"",E,x,R,F=s[10].t("OLED Dark")+"",L,Y,j,B=s[10].t("Light")+"",M,U,$="ðŸŒ· Her",Z,q,P,W=s[10].t("Language")+"",K,G,J,te,le,ie,he,Ee,Oe,Se=s[10].t("Notifications")+"",He,ve,de,ne,Ie,Q,ce,Ve,Me=s[10].t("System Prompt")+"",oe,De,xe,Ce,Re,be,ye,it=s[10].t("Advanced Parameters")+"",ae,fe,we,Ae=(s[6]?s[10].t("Hide"):s[10].t("Show"))+"",$e,We,Ge,ht,Je,ct=s[10].t("Save")+"",ut,Ze,et,tt,Fe=at(s[2]),Ne=[];for(let Te=0;Te<Fe.length;Te+=1)Ne[Te]=mr(vr(s,Fe,Te));let Xe=s[10].language==="en-US"&&_r();function Vt(Te,ue){return Te[4]===!0?ci:ii}let Qe=Vt(s),_t=Qe(s),je=s[6]&&pr(s);return{c(){e=d("div"),t=d("div"),l=d("div"),a=d("div"),o=N(r),i=S(),f=d("div"),m=d("div"),p=N(g),_=S(),b=d("div"),w=d("select"),k=d("option"),y=N("âš™ï¸ "),C=N(T),V=d("option"),D=N("ðŸŒ‘ "),E=N(I),x=d("option"),R=N("ðŸŒƒ "),L=N(F),Y=d("option"),j=N("â˜€ï¸ "),M=N(B),U=d("option"),U.textContent=$,Z=S(),q=d("div"),P=d("div"),K=N(W),G=S(),J=d("div"),te=d("select");for(let Te=0;Te<Ne.length;Te+=1)Ne[Te].c();le=S(),Xe&&Xe.c(),ie=S(),he=d("div"),Ee=d("div"),Oe=d("div"),He=N(Se),ve=S(),de=d("button"),_t.c(),ne=S(),Ie=d("hr"),Q=S(),ce=d("div"),Ve=d("div"),oe=N(Me),De=S(),xe=d("textarea"),Ce=S(),Re=d("div"),be=d("div"),ye=d("div"),ae=N(it),fe=S(),we=d("button"),$e=N(Ae),We=S(),je&&je.c(),Ge=S(),ht=d("div"),Je=d("button"),ut=N(ct),this.h()},l(Te){e=h(Te,"DIV",{class:!0});var ue=v(e);t=h(ue,"DIV",{class:!0});var ke=v(t);l=h(ke,"DIV",{class:!0});var Ye=v(l);a=h(Ye,"DIV",{class:!0});var At=v(a);o=O(At,r),At.forEach(u),i=A(Ye),f=h(Ye,"DIV",{class:!0});var Lt=v(f);m=h(Lt,"DIV",{class:!0});var vt=v(m);p=O(vt,g),vt.forEach(u),_=A(Lt),b=h(Lt,"DIV",{class:!0});var It=v(b);w=h(It,"SELECT",{class:!0,placeholder:!0});var Ht=v(w);k=h(Ht,"OPTION",{});var Bt=v(k);y=O(Bt,"âš™ï¸ "),C=O(Bt,T),Bt.forEach(u),V=h(Ht,"OPTION",{});var Ct=v(V);D=O(Ct,"ðŸŒ‘ "),E=O(Ct,I),Ct.forEach(u),x=h(Ht,"OPTION",{});var Mt=v(x);R=O(Mt,"ðŸŒƒ "),L=O(Mt,F),Mt.forEach(u),Y=h(Ht,"OPTION",{});var $t=v(Y);j=O($t,"â˜€ï¸ "),M=O($t,B),$t.forEach(u),U=h(Ht,"OPTION",{"data-svelte-h":!0}),Ue(U)!=="svelte-188ouwx"&&(U.textContent=$),Ht.forEach(u),It.forEach(u),Lt.forEach(u),Z=A(Ye),q=h(Ye,"DIV",{class:!0});var jt=v(q);P=h(jt,"DIV",{class:!0});var Yt=v(P);K=O(Yt,W),Yt.forEach(u),G=A(jt),J=h(jt,"DIV",{class:!0});var St=v(J);te=h(St,"SELECT",{class:!0,placeholder:!0});var qt=v(te);for(let vl=0;vl<Ne.length;vl+=1)Ne[vl].l(qt);qt.forEach(u),St.forEach(u),jt.forEach(u),le=A(Ye),Xe&&Xe.l(Ye),ie=A(Ye),he=h(Ye,"DIV",{});var Kt=v(he);Ee=h(Kt,"DIV",{class:!0});var bt=v(Ee);Oe=h(bt,"DIV",{class:!0});var zt=v(Oe);He=O(zt,Se),zt.forEach(u),ve=A(bt),de=h(bt,"BUTTON",{class:!0,type:!0});var Ut=v(de);_t.l(Ut),Ut.forEach(u),bt.forEach(u),Kt.forEach(u),Ye.forEach(u),ne=A(ke),Ie=h(ke,"HR",{class:!0}),Q=A(ke),ce=h(ke,"DIV",{});var Rt=v(ce);Ve=h(Rt,"DIV",{class:!0});var dl=v(Ve);oe=O(dl,Me),dl.forEach(u),De=A(Rt),xe=h(Rt,"TEXTAREA",{class:!0,rows:!0}),v(xe).forEach(u),Rt.forEach(u),Ce=A(ke),Re=h(ke,"DIV",{class:!0});var xt=v(Re);be=h(xt,"DIV",{class:!0});var bl=v(be);ye=h(bl,"DIV",{class:!0});var hl=v(ye);ae=O(hl,it),hl.forEach(u),fe=A(bl),we=h(bl,"BUTTON",{class:!0,type:!0});var wl=v(we);$e=O(wl,Ae),wl.forEach(u),bl.forEach(u),We=A(xt),je&&je.l(xt),xt.forEach(u),ke.forEach(u),Ge=A(ue),ht=h(ue,"DIV",{class:!0});var Il=v(ht);Je=h(Il,"BUTTON",{class:!0});var Al=v(Je);ut=O(Al,ct),Al.forEach(u),Il.forEach(u),ue.forEach(u),this.h()},h(){c(a,"class","mb-1 text-sm font-medium"),c(m,"class","self-center text-xs font-medium"),k.__value="system",ze(k,k.__value),V.__value="dark",ze(V,V.__value),x.__value="oled-dark",ze(x,x.__value),Y.__value="light",ze(Y,Y.__value),U.__value="her",ze(U,U.__value),c(w,"class","dark:bg-gray-900 w-fit pr-8 rounded py-2 px-2 text-xs bg-transparent outline-none text-right"),c(w,"placeholder","Select a theme"),s[1]===void 0&&Yl(()=>s[18].call(w)),c(b,"class","flex items-center relative"),c(f,"class","flex w-full justify-between"),c(P,"class","self-center text-xs font-medium"),c(te,"class","dark:bg-gray-900 w-fit pr-8 rounded py-2 px-2 text-xs bg-transparent outline-none text-right"),c(te,"placeholder","Select a language"),s[3]===void 0&&Yl(()=>s[20].call(te)),c(J,"class","flex items-center relative"),c(q,"class","flex w-full justify-between"),c(Oe,"class","self-center text-xs font-medium"),c(de,"class","p-1 px-3 text-xs flex rounded transition"),c(de,"type","button"),c(Ee,"class","py-0.5 flex w-full justify-between"),c(l,"class",""),c(Ie,"class","dark:border-gray-850 my-3"),c(Ve,"class","my-2.5 text-sm font-medium"),c(xe,"class","w-full rounded-lg p-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none resize-none"),c(xe,"rows","4"),c(ye,"class","font-medium"),c(we,"class","text-xs font-medium text-gray-500"),c(we,"type","button"),c(be,"class","flex justify-between items-center text-sm"),c(Re,"class","mt-2 space-y-3 pr-1.5"),c(t,"class","pr-1.5 overflow-y-scroll max-h-[25rem]"),c(Je,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),c(ht,"class","flex justify-end pt-3 text-sm font-medium"),c(e,"class","flex flex-col h-full justify-between text-sm")},m(Te,ue){z(Te,e,ue),n(e,t),n(t,l),n(l,a),n(a,o),n(l,i),n(l,f),n(f,m),n(m,p),n(f,_),n(f,b),n(b,w),n(w,k),n(k,y),n(k,C),n(w,V),n(V,D),n(V,E),n(w,x),n(x,R),n(x,L),n(w,Y),n(Y,j),n(Y,M),n(w,U),fl(w,s[1],!0),n(l,Z),n(l,q),n(q,P),n(P,K),n(q,G),n(q,J),n(J,te);for(let ke=0;ke<Ne.length;ke+=1)Ne[ke]&&Ne[ke].m(te,null);fl(te,s[3],!0),n(l,le),Xe&&Xe.m(l,null),n(l,ie),n(l,he),n(he,Ee),n(Ee,Oe),n(Oe,He),n(Ee,ve),n(Ee,de),_t.m(de,null),n(t,ne),n(t,Ie),n(t,Q),n(t,ce),n(ce,Ve),n(Ve,oe),n(ce,De),n(ce,xe),ze(xe,s[5]),n(t,Ce),n(t,Re),n(Re,be),n(be,ye),n(ye,ae),n(be,fe),n(be,we),n(we,$e),n(Re,We),je&&je.m(Re,null),n(e,Ge),n(e,ht),n(ht,Je),n(Je,ut),Ze=!0,et||(tt=[X(w,"change",s[18]),X(w,"change",s[19]),X(te,"change",s[20]),X(te,"change",s[21]),X(de,"click",s[22]),X(xe,"input",s[23]),X(we,"click",s[24]),X(Je,"click",s[29])],et=!0)},p(Te,ue){if((!Ze||ue[0]&1024)&&r!==(r=Te[10].t("WebUI Settings")+"")&&H(o,r),(!Ze||ue[0]&1024)&&g!==(g=Te[10].t("Theme")+"")&&H(p,g),(!Ze||ue[0]&1024)&&T!==(T=Te[10].t("System")+"")&&H(C,T),(!Ze||ue[0]&1024)&&I!==(I=Te[10].t("Dark")+"")&&H(E,I),(!Ze||ue[0]&1024)&&F!==(F=Te[10].t("OLED Dark")+"")&&H(L,F),(!Ze||ue[0]&1024)&&B!==(B=Te[10].t("Light")+"")&&H(M,B),ue[0]&2&&fl(w,Te[1]),(!Ze||ue[0]&1024)&&W!==(W=Te[10].t("Language")+"")&&H(K,W),ue[0]&4){Fe=at(Te[2]);let ke;for(ke=0;ke<Fe.length;ke+=1){const Ye=vr(Te,Fe,ke);Ne[ke]?Ne[ke].p(Ye,ue):(Ne[ke]=mr(Ye),Ne[ke].c(),Ne[ke].m(te,null))}for(;ke<Ne.length;ke+=1)Ne[ke].d(1);Ne.length=Fe.length}ue[0]&12&&fl(te,Te[3]),Te[10].language==="en-US"?Xe||(Xe=_r(),Xe.c(),Xe.m(l,ie)):Xe&&(Xe.d(1),Xe=null),(!Ze||ue[0]&1024)&&Se!==(Se=Te[10].t("Notifications")+"")&&H(He,Se),Qe===(Qe=Vt(Te))&&_t?_t.p(Te,ue):(_t.d(1),_t=Qe(Te),_t&&(_t.c(),_t.m(de,null))),(!Ze||ue[0]&1024)&&Me!==(Me=Te[10].t("System Prompt")+"")&&H(oe,Me),ue[0]&32&&ze(xe,Te[5]),(!Ze||ue[0]&1024)&&it!==(it=Te[10].t("Advanced Parameters")+"")&&H(ae,it),(!Ze||ue[0]&1088)&&Ae!==(Ae=(Te[6]?Te[10].t("Hide"):Te[10].t("Show"))+"")&&H($e,Ae),Te[6]?je?(je.p(Te,ue),ue[0]&64&&ee(je,1)):(je=pr(Te),je.c(),ee(je,1),je.m(Re,null)):je&&(wt(),se(je,1,1,()=>{je=null}),kt()),(!Ze||ue[0]&1024)&&ct!==(ct=Te[10].t("Save")+"")&&H(ut,ct)},i(Te){Ze||(ee(je),Ze=!0)},o(Te){se(je),Ze=!1},d(Te){Te&&u(e),Pt(Ne,Te),Xe&&Xe.d(),_t.d(),je&&je.d(),et=!1,dt(tt)}}}function mi(s,e,t){let l,a,r;Be(s,gl,W=>t(30,l=W)),Be(s,Ul,W=>t(11,r=W));const o=ul(),i=gt("i18n");Be(s,i,W=>t(10,a=W));let{saveSettings:f}=e,{getModels:m}=e,g=["dark","light","rose-pine dark","rose-pine-dawn light","oled-dark"],p="system",_=[],b=a.language,w=!1,k="",y=!1;const T=async()=>{await Notification.requestPermission()==="granted"?(t(4,w=!w),f({notificationEnabled:w})):Ke.error(a.t("Response notifications cannot be activated as the website permissions have been denied. Please visit your browser settings to grant the necessary access."))};let C="",V=null,D={seed:null,temperature:null,frequency_penalty:null,repeat_last_n:null,mirostat:null,mirostat_eta:null,mirostat_tau:null,top_k:null,top_p:null,stop:null,tfs_z:null,num_ctx:null,num_batch:null,num_keep:null,max_tokens:null,num_gpu:null};const I=async()=>{C===""?t(7,C="json"):t(7,C=""),f({requestFormat:C!==""?C:void 0})};Ft(async()=>{var W,K;t(1,p=localStorage.theme??"system"),t(2,_=await fo()),t(4,w=l.notificationEnabled??!1),t(5,k=l.system??""),t(7,C=l.requestFormat??""),t(8,V=l.keepAlive??null),t(9,D={...D,...l.params}),t(9,D.stop=(W=l==null?void 0:l.params)!=null&&W.stop?(((K=l==null?void 0:l.params)==null?void 0:K.stop)??[]).join(","):null,D)});const E=W=>{let K=W==="oled-dark"?"dark":W;W==="system"&&(K=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),K==="dark"&&!W.includes("oled")&&(document.documentElement.style.setProperty("--color-gray-800","#333"),document.documentElement.style.setProperty("--color-gray-850","#262626"),document.documentElement.style.setProperty("--color-gray-900","#171717"),document.documentElement.style.setProperty("--color-gray-950","#0d0d0d")),g.filter(G=>G!==K).forEach(G=>{G.split(" ").forEach(J=>{document.documentElement.classList.remove(J)})}),K.split(" ").forEach(G=>{document.documentElement.classList.add(G)}),console.log(W)},x=W=>{Fn.set(W),localStorage.setItem("theme",W),W.includes("oled")&&(document.documentElement.style.setProperty("--color-gray-800","#101010"),document.documentElement.style.setProperty("--color-gray-850","#050505"),document.documentElement.style.setProperty("--color-gray-900","#000000"),document.documentElement.style.setProperty("--color-gray-950","#000000"),document.documentElement.classList.add("dark")),E(W)};function R(){p=ql(this),t(1,p)}const F=()=>x(p);function L(){b=ql(this),t(3,b),t(2,_)}const Y=W=>{a.changeLanguage(b)},j=()=>{T()};function B(){k=this.value,t(5,k)}const M=()=>{t(6,y=!y)};function U(W){D=W,t(9,D)}const $=()=>{t(8,V=V===null?"5m":null)};function Z(){V=this.value,t(8,V)}const q=()=>{I()},P=()=>{f({system:k!==""?k:void 0,params:{seed:(D.seed!==null?D.seed:void 0)??void 0,stop:D.stop?D.stop.split(",").filter(W=>W):void 0,temperature:D.temperature!==null?D.temperature:void 0,frequency_penalty:D.frequency_penalty!==null?D.frequency_penalty:void 0,repeat_last_n:D.repeat_last_n!==null?D.repeat_last_n:void 0,mirostat:D.mirostat!==null?D.mirostat:void 0,mirostat_eta:D.mirostat_eta!==null?D.mirostat_eta:void 0,mirostat_tau:D.mirostat_tau!==null?D.mirostat_tau:void 0,top_k:D.top_k!==null?D.top_k:void 0,top_p:D.top_p!==null?D.top_p:void 0,tfs_z:D.tfs_z!==null?D.tfs_z:void 0,num_ctx:D.num_ctx!==null?D.num_ctx:void 0,num_batch:D.num_batch!==null?D.num_batch:void 0,num_keep:D.num_keep!==null?D.num_keep:void 0,max_tokens:D.max_tokens!==null?D.max_tokens:void 0,use_mmap:D.use_mmap!==null?D.use_mmap:void 0,use_mlock:D.use_mlock!==null?D.use_mlock:void 0,num_thread:D.num_thread!==null?D.num_thread:void 0,num_gpu:D.num_gpu!==null?D.num_gpu:void 0},keepAlive:V?isNaN(V)?V:parseInt(V):void 0}),o("save")};return s.$$set=W=>{"saveSettings"in W&&t(0,f=W.saveSettings),"getModels"in W&&t(17,m=W.getModels)},[f,p,_,b,w,k,y,C,V,D,a,r,o,i,T,I,x,m,R,F,L,Y,j,B,M,U,$,Z,q,P]}class _i extends nt{constructor(e){super(),ot(this,e,mi,vi,rt,{saveSettings:0,getModels:17},null,[-1,-1])}}function br(s,e,t){const l=s.slice();return l[53]=e[t],l}function wr(s){let e,t=s[53].name+"",l,a;return{c(){e=d("option"),l=N(t),this.h()},l(r){e=h(r,"OPTION",{class:!0});var o=v(e);l=O(o,t),o.forEach(u),this.h()},h(){e.__value=a=s[53].id,ze(e,e.__value),c(e,"class","bg-gray-100 dark:bg-gray-700")},m(r,o){z(r,e,o),n(e,l)},p(r,o){o[0]&524288&&t!==(t=r[53].name+"")&&H(l,t),o[0]&524288&&a!==(a=r[53].id)&&(e.__value=a,ze(e,e.__value))},d(r){r&&u(e)}}}function pi(s){let e,t=s[18].t("Off")+"",l;return{c(){e=d("span"),l=N(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&262144&&t!==(t=a[18].t("Off")+"")&&H(l,t)},d(a){a&&u(e)}}}function gi(s){let e,t=s[18].t("On")+"",l;return{c(){e=d("span"),l=N(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&262144&&t!==(t=a[18].t("On")+"")&&H(l,t)},d(a){a&&u(e)}}}function kr(s){let e,t,l,a=s[18].t("Display the username instead of You in the Chat")+"",r,o,i,f,m;function g(b,w){return b[11]===!0?wi:bi}let p=g(s),_=p(s);return{c(){e=d("div"),t=d("div"),l=d("div"),r=N(a),o=S(),i=d("button"),_.c(),this.h()},l(b){e=h(b,"DIV",{});var w=v(e);t=h(w,"DIV",{class:!0});var k=v(t);l=h(k,"DIV",{class:!0});var y=v(l);r=O(y,a),y.forEach(u),o=A(k),i=h(k,"BUTTON",{class:!0,type:!0});var T=v(i);_.l(T),T.forEach(u),k.forEach(u),w.forEach(u),this.h()},h(){c(l,"class","self-center text-xs"),c(i,"class","p-1 px-3 text-xs flex rounded transition"),c(i,"type","button"),c(t,"class","py-0.5 flex w-full justify-between")},m(b,w){z(b,e,w),n(e,t),n(t,l),n(l,r),n(t,o),n(t,i),_.m(i,null),f||(m=X(i,"click",s[40]),f=!0)},p(b,w){w[0]&262144&&a!==(a=b[18].t("Display the username instead of You in the Chat")+"")&&H(r,a),p===(p=g(b))&&_?_.p(b,w):(_.d(1),_=p(b),_&&(_.c(),_.m(i,null)))},d(b){b&&u(e),_.d(),f=!1,m()}}}function bi(s){let e,t=s[18].t("Off")+"",l;return{c(){e=d("span"),l=N(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&262144&&t!==(t=a[18].t("Off")+"")&&H(l,t)},d(a){a&&u(e)}}}function wi(s){let e,t=s[18].t("On")+"",l;return{c(){e=d("span"),l=N(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&262144&&t!==(t=a[18].t("On")+"")&&H(l,t)},d(a){a&&u(e)}}}function ki(s){let e,t=s[18].t("Off")+"",l;return{c(){e=d("span"),l=N(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&262144&&t!==(t=a[18].t("Off")+"")&&H(l,t)},d(a){a&&u(e)}}}function yi(s){let e,t=s[18].t("On")+"",l;return{c(){e=d("span"),l=N(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&262144&&t!==(t=a[18].t("On")+"")&&H(l,t)},d(a){a&&u(e)}}}function Ei(s){let e,t=s[18].t("RTL")+"",l;return{c(){e=d("span"),l=N(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&262144&&t!==(t=a[18].t("RTL")+"")&&H(l,t)},d(a){a&&u(e)}}}function Ii(s){let e,t=s[18].t("LTR")+"",l;return{c(){e=d("span"),l=N(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&262144&&t!==(t=a[18].t("LTR")+"")&&H(l,t)},d(a){a&&u(e)}}}function Di(s){let e,t=s[18].t("Off")+"",l;return{c(){e=d("span"),l=N(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&262144&&t!==(t=a[18].t("Off")+"")&&H(l,t)},d(a){a&&u(e)}}}function Vi(s){let e,t=s[18].t("On")+"",l;return{c(){e=d("span"),l=N(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&262144&&t!==(t=a[18].t("On")+"")&&H(l,t)},d(a){a&&u(e)}}}function Ti(s){let e,t=s[18].t("Off")+"",l;return{c(){e=d("span"),l=N(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&262144&&t!==(t=a[18].t("Off")+"")&&H(l,t)},d(a){a&&u(e)}}}function Ci(s){let e,t=s[18].t("On")+"",l;return{c(){e=d("span"),l=N(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&262144&&t!==(t=a[18].t("On")+"")&&H(l,t)},d(a){a&&u(e)}}}function Mi(s){let e,t=s[18].t("Upload")+"",l;return{c(){e=d("span"),l=N(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&262144&&t!==(t=a[18].t("Upload")+"")&&H(l,t)},d(a){a&&u(e)}}}function Si(s){let e,t=s[18].t("Reset")+"",l;return{c(){e=d("span"),l=N(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&262144&&t!==(t=a[18].t("Reset")+"")&&H(l,t)},d(a){a&&u(e)}}}function Ai(s){let e,t=s[18].t("Off")+"",l;return{c(){e=d("span"),l=N(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&262144&&t!==(t=a[18].t("Off")+"")&&H(l,t)},d(a){a&&u(e)}}}function Li(s){let e,t=s[18].t("On")+"",l;return{c(){e=d("span"),l=N(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&262144&&t!==(t=a[18].t("On")+"")&&H(l,t)},d(a){a&&u(e)}}}function Bi(s){let e,t=s[18].t("Off")+"",l;return{c(){e=d("span"),l=N(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&262144&&t!==(t=a[18].t("Off")+"")&&H(l,t)},d(a){a&&u(e)}}}function xi(s){let e,t=s[18].t("On")+"",l;return{c(){e=d("span"),l=N(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&262144&&t!==(t=a[18].t("On")+"")&&H(l,t)},d(a){a&&u(e)}}}function Ni(s){let e,t=s[18].t("Off")+"",l;return{c(){e=d("span"),l=N(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&262144&&t!==(t=a[18].t("Off")+"")&&H(l,t)},d(a){a&&u(e)}}}function Oi(s){let e,t=s[18].t("On")+"",l;return{c(){e=d("span"),l=N(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&262144&&t!==(t=a[18].t("On")+"")&&H(l,t)},d(a){a&&u(e)}}}function Hi(s){let e,t=s[18].t("Off")+"",l;return{c(){e=d("span"),l=N(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&262144&&t!==(t=a[18].t("Off")+"")&&H(l,t)},d(a){a&&u(e)}}}function Ui(s){let e,t=s[18].t("On")+"",l;return{c(){e=d("span"),l=N(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&262144&&t!==(t=a[18].t("On")+"")&&H(l,t)},d(a){a&&u(e)}}}function Pi(s){let e,t=s[18].t("Off")+"",l;return{c(){e=d("span"),l=N(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&262144&&t!==(t=a[18].t("Off")+"")&&H(l,t)},d(a){a&&u(e)}}}function $i(s){let e,t=s[18].t("On")+"",l;return{c(){e=d("span"),l=N(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&262144&&t!==(t=a[18].t("On")+"")&&H(l,t)},d(a){a&&u(e)}}}function ji(s){let e,t=s[18].t("Off")+"",l;return{c(){e=d("span"),l=N(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&262144&&t!==(t=a[18].t("Off")+"")&&H(l,t)},d(a){a&&u(e)}}}function zi(s){let e,t=s[18].t("On")+"",l;return{c(){e=d("span"),l=N(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&262144&&t!==(t=a[18].t("On")+"")&&H(l,t)},d(a){a&&u(e)}}}function Ri(s){let e,t,l,a,r,o,i,f,m=s[18].t("Default Model")+"",g,p,_,b,w,k=s[18].t("Select a model")+"",y,T,C,V,D,I,E=s[18].t("UI")+"",x,R,F,L,Y,j=s[18].t("Chat Bubble UI")+"",B,M,U,$,Z,q,P,W,K=s[18].t("Widescreen Mode")+"",G,J,te,le,ie,he,Ee,Oe=s[18].t("Chat direction")+"",Se,He,ve,de,ne,Ie,Q,ce=s[18].t("Fluidly stream large external response chunks")+"",Ve,Me,oe,De,xe,Ce,Re,be=s[18].t("Scroll to bottom when switching between branches")+"",ye,it,ae,fe,we,Ae,$e,We=s[18].t("Chat Background Image")+"",Ge,ht,Je,ct,ut,Ze=s[18].t("Chat")+"",et,tt,Fe,Ne,Xe,Vt=s[18].t("Title Auto-Generation")+"",Qe,_t,je,Te,ue,ke,Ye,At=s[18].t("Response AutoCopy to Clipboard")+"",Lt,vt,It,Ht,Bt,Ct,Mt,$t=s[18].t("Allow User Location")+"",jt,Yt,St,qt,Kt,bt,zt,Ut=s[18].t("Haptic Feedback")+"",Rt,dl,xt,bl,hl,wl=s[18].t("Voice")+"",Il,Al,vl,kl,Ll,zl=s[18].t("Allow Voice Interruption in Call")+"",Kl,Ms,ml,Ss,Rl,yl,Bl,Wl=s[18].t("Display Emoji in Call")+"",Gl,As,_l,Ls,xl,Dl,Zl=s[18].t("Save")+"",Jl,Bs,Qs,Nl=at(s[19].filter(yr)),Dt=[];for(let re=0;re<Nl.length;re+=1)Dt[re]=wr(br(s,Nl,re));function ea(re,Le){return re[12]===!0?gi:pi}let Xl=ea(s),Gt=Xl(s),Tt=!s[17].chatBubble&&kr(s);function ta(re,Le){return re[6]===!0?yi:ki}let Ql=ta(s),Jt=Ql(s);function la(re,Le){return re[13]==="LTR"?Ii:Ei}let es=la(s),Xt=es(s);function sa(re,Le){return re[7]===!0?Vi:Di}let ts=sa(s),Qt=ts(s);function aa(re,Le){return re[8]===!0?Ci:Ti}let ls=aa(s),el=ls(s);function ra(re,Le){return re[1]!==null?Si:Mi}let ss=ra(s),tl=ss(s);function na(re,Le){return re[4]===!0?Li:Ai}let as=na(s),ll=as(s);function oa(re,Le){return re[5]===!0?xi:Bi}let rs=oa(s),sl=rs(s);function ia(re,Le){return re[9]===!0?Oi:Ni}let ns=ia(s),al=ns(s);function ca(re,Le){return re[16]===!0?Ui:Hi}let os=ca(s),rl=os(s);function ua(re,Le){return re[15]===!0?$i:Pi}let is=ua(s),nl=is(s);function fa(re,Le){return re[14]===!0?zi:ji}let cs=fa(s),ol=cs(s);return{c(){e=d("form"),t=d("input"),l=S(),a=d("div"),r=d("div"),o=d("div"),i=d("div"),f=d("div"),g=N(m),p=S(),_=d("div"),b=d("select"),w=d("option"),y=N(k);for(let re=0;re<Dt.length;re+=1)Dt[re].c();T=S(),C=d("hr"),V=S(),D=d("div"),I=d("div"),x=N(E),R=S(),F=d("div"),L=d("div"),Y=d("div"),B=N(j),M=S(),U=d("button"),Gt.c(),$=S(),Tt&&Tt.c(),Z=S(),q=d("div"),P=d("div"),W=d("div"),G=N(K),J=S(),te=d("button"),Jt.c(),le=S(),ie=d("div"),he=d("div"),Ee=d("div"),Se=N(Oe),He=S(),ve=d("button"),Xt.c(),de=S(),ne=d("div"),Ie=d("div"),Q=d("div"),Ve=N(ce),Me=S(),oe=d("button"),Qt.c(),De=S(),xe=d("div"),Ce=d("div"),Re=d("div"),ye=N(be),it=S(),ae=d("button"),el.c(),fe=S(),we=d("div"),Ae=d("div"),$e=d("div"),Ge=N(We),ht=S(),Je=d("button"),tl.c(),ct=S(),ut=d("div"),et=N(Ze),tt=S(),Fe=d("div"),Ne=d("div"),Xe=d("div"),Qe=N(Vt),_t=S(),je=d("button"),ll.c(),Te=S(),ue=d("div"),ke=d("div"),Ye=d("div"),Lt=N(At),vt=S(),It=d("button"),sl.c(),Ht=S(),Bt=d("div"),Ct=d("div"),Mt=d("div"),jt=N($t),Yt=S(),St=d("button"),al.c(),qt=S(),Kt=d("div"),bt=d("div"),zt=d("div"),Rt=N(Ut),dl=S(),xt=d("button"),rl.c(),bl=S(),hl=d("div"),Il=N(wl),Al=S(),vl=d("div"),kl=d("div"),Ll=d("div"),Kl=N(zl),Ms=S(),ml=d("button"),nl.c(),Ss=S(),Rl=d("div"),yl=d("div"),Bl=d("div"),Gl=N(Wl),As=S(),_l=d("button"),ol.c(),Ls=S(),xl=d("div"),Dl=d("button"),Jl=N(Zl),this.h()},l(re){e=h(re,"FORM",{class:!0});var Le=v(e);t=h(Le,"INPUT",{type:!0,accept:!0}),l=A(Le),a=h(Le,"DIV",{class:!0});var ft=v(a);r=h(ft,"DIV",{class:!0});var Vl=v(r);o=h(Vl,"DIV",{class:!0});var da=v(o);i=h(da,"DIV",{class:!0});var ha=v(i);f=h(ha,"DIV",{class:!0});var va=v(f);g=O(va,m),va.forEach(u),ha.forEach(u),da.forEach(u),p=A(Vl),_=h(Vl,"DIV",{class:!0});var ma=v(_);b=h(ma,"SELECT",{class:!0,placeholder:!0});var xs=v(b);w=h(xs,"OPTION",{});var _a=v(w);y=O(_a,k),_a.forEach(u);for(let Ns=0;Ns<Dt.length;Ns+=1)Dt[Ns].l(xs);xs.forEach(u),ma.forEach(u),Vl.forEach(u),T=A(ft),C=h(ft,"HR",{class:!0}),V=A(ft),D=h(ft,"DIV",{});var qe=v(D);I=h(qe,"DIV",{class:!0});var pa=v(I);x=O(pa,E),pa.forEach(u),R=A(qe),F=h(qe,"DIV",{});var ga=v(F);L=h(ga,"DIV",{class:!0});var us=v(L);Y=h(us,"DIV",{class:!0});var ba=v(Y);B=O(ba,j),ba.forEach(u),M=A(us),U=h(us,"BUTTON",{class:!0,type:!0});var wa=v(U);Gt.l(wa),wa.forEach(u),us.forEach(u),ga.forEach(u),$=A(qe),Tt&&Tt.l(qe),Z=A(qe),q=h(qe,"DIV",{});var ka=v(q);P=h(ka,"DIV",{class:!0});var fs=v(P);W=h(fs,"DIV",{class:!0});var ya=v(W);G=O(ya,K),ya.forEach(u),J=A(fs),te=h(fs,"BUTTON",{class:!0,type:!0});var Ea=v(te);Jt.l(Ea),Ea.forEach(u),fs.forEach(u),ka.forEach(u),le=A(qe),ie=h(qe,"DIV",{});var Ia=v(ie);he=h(Ia,"DIV",{class:!0});var ds=v(he);Ee=h(ds,"DIV",{class:!0});var Da=v(Ee);Se=O(Da,Oe),Da.forEach(u),He=A(ds),ve=h(ds,"BUTTON",{class:!0,type:!0});var Va=v(ve);Xt.l(Va),Va.forEach(u),ds.forEach(u),Ia.forEach(u),de=A(qe),ne=h(qe,"DIV",{});var Ta=v(ne);Ie=h(Ta,"DIV",{class:!0});var hs=v(Ie);Q=h(hs,"DIV",{class:!0});var Ca=v(Q);Ve=O(Ca,ce),Ca.forEach(u),Me=A(hs),oe=h(hs,"BUTTON",{class:!0,type:!0});var Ma=v(oe);Qt.l(Ma),Ma.forEach(u),hs.forEach(u),Ta.forEach(u),De=A(qe),xe=h(qe,"DIV",{});var Sa=v(xe);Ce=h(Sa,"DIV",{class:!0});var vs=v(Ce);Re=h(vs,"DIV",{class:!0});var Aa=v(Re);ye=O(Aa,be),Aa.forEach(u),it=A(vs),ae=h(vs,"BUTTON",{class:!0,type:!0});var La=v(ae);el.l(La),La.forEach(u),vs.forEach(u),Sa.forEach(u),fe=A(qe),we=h(qe,"DIV",{});var Ba=v(we);Ae=h(Ba,"DIV",{class:!0});var ms=v(Ae);$e=h(ms,"DIV",{class:!0});var xa=v($e);Ge=O(xa,We),xa.forEach(u),ht=A(ms),Je=h(ms,"BUTTON",{class:!0,type:!0});var Na=v(Je);tl.l(Na),Na.forEach(u),ms.forEach(u),Ba.forEach(u),ct=A(qe),ut=h(qe,"DIV",{class:!0});var Oa=v(ut);et=O(Oa,Ze),Oa.forEach(u),tt=A(qe),Fe=h(qe,"DIV",{});var Ha=v(Fe);Ne=h(Ha,"DIV",{class:!0});var _s=v(Ne);Xe=h(_s,"DIV",{class:!0});var Ua=v(Xe);Qe=O(Ua,Vt),Ua.forEach(u),_t=A(_s),je=h(_s,"BUTTON",{class:!0,type:!0});var Pa=v(je);ll.l(Pa),Pa.forEach(u),_s.forEach(u),Ha.forEach(u),Te=A(qe),ue=h(qe,"DIV",{});var $a=v(ue);ke=h($a,"DIV",{class:!0});var ps=v(ke);Ye=h(ps,"DIV",{class:!0});var ja=v(Ye);Lt=O(ja,At),ja.forEach(u),vt=A(ps),It=h(ps,"BUTTON",{class:!0,type:!0});var za=v(It);sl.l(za),za.forEach(u),ps.forEach(u),$a.forEach(u),Ht=A(qe),Bt=h(qe,"DIV",{});var Ra=v(Bt);Ct=h(Ra,"DIV",{class:!0});var gs=v(Ct);Mt=h(gs,"DIV",{class:!0});var Wa=v(Mt);jt=O(Wa,$t),Wa.forEach(u),Yt=A(gs),St=h(gs,"BUTTON",{class:!0,type:!0});var Za=v(St);al.l(Za),Za.forEach(u),gs.forEach(u),Ra.forEach(u),qt=A(qe),Kt=h(qe,"DIV",{});var Fa=v(Kt);bt=h(Fa,"DIV",{class:!0});var bs=v(bt);zt=h(bs,"DIV",{class:!0});var Ya=v(zt);Rt=O(Ya,Ut),Ya.forEach(u),dl=A(bs),xt=h(bs,"BUTTON",{class:!0,type:!0});var qa=v(xt);rl.l(qa),qa.forEach(u),bs.forEach(u),Fa.forEach(u),bl=A(qe),hl=h(qe,"DIV",{class:!0});var Ka=v(hl);Il=O(Ka,wl),Ka.forEach(u),Al=A(qe),vl=h(qe,"DIV",{});var Ga=v(vl);kl=h(Ga,"DIV",{class:!0});var ws=v(kl);Ll=h(ws,"DIV",{class:!0});var Ja=v(Ll);Kl=O(Ja,zl),Ja.forEach(u),Ms=A(ws),ml=h(ws,"BUTTON",{class:!0,type:!0});var Xa=v(ml);nl.l(Xa),Xa.forEach(u),ws.forEach(u),Ga.forEach(u),Ss=A(qe),Rl=h(qe,"DIV",{});var Qa=v(Rl);yl=h(Qa,"DIV",{class:!0});var ks=v(yl);Bl=h(ks,"DIV",{class:!0});var er=v(Bl);Gl=O(er,Wl),er.forEach(u),As=A(ks),_l=h(ks,"BUTTON",{class:!0,type:!0});var tr=v(_l);ol.l(tr),tr.forEach(u),ks.forEach(u),Qa.forEach(u),qe.forEach(u),ft.forEach(u),Ls=A(Le),xl=h(Le,"DIV",{class:!0});var lr=v(xl);Dl=h(lr,"BUTTON",{class:!0,type:!0});var sr=v(Dl);Jl=O(sr,Zl),sr.forEach(u),lr.forEach(u),Le.forEach(u),this.h()},h(){c(t,"type","file"),t.hidden=!0,c(t,"accept","image/*"),c(f,"class","text-sm font-medium"),c(i,"class","flex justify-between items-center text-xs"),c(o,"class","mb-2"),w.__value="",ze(w,w.__value),w.disabled=!0,w.selected=!0,c(b,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),c(b,"placeholder","Select a model"),s[10]===void 0&&Yl(()=>s[38].call(b)),c(_,"class","flex-1 mr-2"),c(r,"class","space-y-1 mb-3"),c(C,"class","dark:border-gray-850"),c(I,"class","mb-1.5 text-sm font-medium"),c(Y,"class","self-center text-xs"),c(U,"class","p-1 px-3 text-xs flex rounded transition"),c(U,"type","button"),c(L,"class","py-0.5 flex w-full justify-between"),c(W,"class","self-center text-xs"),c(te,"class","p-1 px-3 text-xs flex rounded transition"),c(te,"type","button"),c(P,"class","py-0.5 flex w-full justify-between"),c(Ee,"class","self-center text-xs"),c(ve,"class","p-1 px-3 text-xs flex rounded transition"),c(ve,"type","button"),c(he,"class","py-0.5 flex w-full justify-between"),c(Q,"class","self-center text-xs"),c(oe,"class","p-1 px-3 text-xs flex rounded transition"),c(oe,"type","button"),c(Ie,"class","py-0.5 flex w-full justify-between"),c(Re,"class","self-center text-xs"),c(ae,"class","p-1 px-3 text-xs flex rounded transition"),c(ae,"type","button"),c(Ce,"class","py-0.5 flex w-full justify-between"),c($e,"class","self-center text-xs"),c(Je,"class","p-1 px-3 text-xs flex rounded transition"),c(Je,"type","button"),c(Ae,"class","py-0.5 flex w-full justify-between"),c(ut,"class","my-1.5 text-sm font-medium"),c(Xe,"class","self-center text-xs"),c(je,"class","p-1 px-3 text-xs flex rounded transition"),c(je,"type","button"),c(Ne,"class","py-0.5 flex w-full justify-between"),c(Ye,"class","self-center text-xs"),c(It,"class","p-1 px-3 text-xs flex rounded transition"),c(It,"type","button"),c(ke,"class","py-0.5 flex w-full justify-between"),c(Mt,"class","self-center text-xs"),c(St,"class","p-1 px-3 text-xs flex rounded transition"),c(St,"type","button"),c(Ct,"class","py-0.5 flex w-full justify-between"),c(zt,"class","self-center text-xs"),c(xt,"class","p-1 px-3 text-xs flex rounded transition"),c(xt,"type","button"),c(bt,"class","py-0.5 flex w-full justify-between"),c(hl,"class","my-1.5 text-sm font-medium"),c(Ll,"class","self-center text-xs"),c(ml,"class","p-1 px-3 text-xs flex rounded transition"),c(ml,"type","button"),c(kl,"class","py-0.5 flex w-full justify-between"),c(Bl,"class","self-center text-xs"),c(_l,"class","p-1 px-3 text-xs flex rounded transition"),c(_l,"type","button"),c(yl,"class","py-0.5 flex w-full justify-between"),c(a,"class","space-y-3 pr-1.5 overflow-y-scroll max-h-[25rem] scrollbar-hidden"),c(Dl,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),c(Dl,"type","submit"),c(xl,"class","flex justify-end text-sm font-medium"),c(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(re,Le){z(re,e,Le),n(e,t),s[35](t),n(e,l),n(e,a),n(a,r),n(r,o),n(o,i),n(i,f),n(f,g),n(r,p),n(r,_),n(_,b),n(b,w),n(w,y);for(let ft=0;ft<Dt.length;ft+=1)Dt[ft]&&Dt[ft].m(b,null);fl(b,s[10],!0),n(a,T),n(a,C),n(a,V),n(a,D),n(D,I),n(I,x),n(D,R),n(D,F),n(F,L),n(L,Y),n(Y,B),n(L,M),n(L,U),Gt.m(U,null),n(D,$),Tt&&Tt.m(D,null),n(D,Z),n(D,q),n(q,P),n(P,W),n(W,G),n(P,J),n(P,te),Jt.m(te,null),n(D,le),n(D,ie),n(ie,he),n(he,Ee),n(Ee,Se),n(he,He),n(he,ve),Xt.m(ve,null),n(D,de),n(D,ne),n(ne,Ie),n(Ie,Q),n(Q,Ve),n(Ie,Me),n(Ie,oe),Qt.m(oe,null),n(D,De),n(D,xe),n(xe,Ce),n(Ce,Re),n(Re,ye),n(Ce,it),n(Ce,ae),el.m(ae,null),n(D,fe),n(D,we),n(we,Ae),n(Ae,$e),n($e,Ge),n(Ae,ht),n(Ae,Je),tl.m(Je,null),n(D,ct),n(D,ut),n(ut,et),n(D,tt),n(D,Fe),n(Fe,Ne),n(Ne,Xe),n(Xe,Qe),n(Ne,_t),n(Ne,je),ll.m(je,null),n(D,Te),n(D,ue),n(ue,ke),n(ke,Ye),n(Ye,Lt),n(ke,vt),n(ke,It),sl.m(It,null),n(D,Ht),n(D,Bt),n(Bt,Ct),n(Ct,Mt),n(Mt,jt),n(Ct,Yt),n(Ct,St),al.m(St,null),n(D,qt),n(D,Kt),n(Kt,bt),n(bt,zt),n(zt,Rt),n(bt,dl),n(bt,xt),rl.m(xt,null),n(D,bl),n(D,hl),n(hl,Il),n(D,Al),n(D,vl),n(vl,kl),n(kl,Ll),n(Ll,Kl),n(kl,Ms),n(kl,ml),nl.m(ml,null),n(D,Ss),n(D,Rl),n(Rl,yl),n(yl,Bl),n(Bl,Gl),n(yl,As),n(yl,_l),ol.m(_l,null),n(e,Ls),n(e,xl),n(xl,Dl),n(Dl,Jl),Bs||(Qs=[X(t,"change",s[36]),X(t,"change",s[37]),X(b,"change",s[38]),X(U,"click",s[39]),X(te,"click",s[41]),X(ve,"click",s[33]),X(oe,"click",s[42]),X(ae,"click",s[43]),X(Je,"click",s[44]),X(je,"click",s[45]),X(It,"click",s[46]),X(St,"click",s[47]),X(xt,"click",s[48]),X(ml,"click",s[49]),X(_l,"click",s[50]),X(e,"submit",$l(s[51]))],Bs=!0)},p(re,Le){if(Le[0]&262144&&m!==(m=re[18].t("Default Model")+"")&&H(g,m),Le[0]&262144&&k!==(k=re[18].t("Select a model")+"")&&H(y,k),Le[0]&524288){Nl=at(re[19].filter(yr));let ft;for(ft=0;ft<Nl.length;ft+=1){const Vl=br(re,Nl,ft);Dt[ft]?Dt[ft].p(Vl,Le):(Dt[ft]=wr(Vl),Dt[ft].c(),Dt[ft].m(b,null))}for(;ft<Dt.length;ft+=1)Dt[ft].d(1);Dt.length=Nl.length}Le[0]&525312&&fl(b,re[10]),Le[0]&262144&&E!==(E=re[18].t("UI")+"")&&H(x,E),Le[0]&262144&&j!==(j=re[18].t("Chat Bubble UI")+"")&&H(B,j),Xl===(Xl=ea(re))&&Gt?Gt.p(re,Le):(Gt.d(1),Gt=Xl(re),Gt&&(Gt.c(),Gt.m(U,null))),re[17].chatBubble?Tt&&(Tt.d(1),Tt=null):Tt?Tt.p(re,Le):(Tt=kr(re),Tt.c(),Tt.m(D,Z)),Le[0]&262144&&K!==(K=re[18].t("Widescreen Mode")+"")&&H(G,K),Ql===(Ql=ta(re))&&Jt?Jt.p(re,Le):(Jt.d(1),Jt=Ql(re),Jt&&(Jt.c(),Jt.m(te,null))),Le[0]&262144&&Oe!==(Oe=re[18].t("Chat direction")+"")&&H(Se,Oe),es===(es=la(re))&&Xt?Xt.p(re,Le):(Xt.d(1),Xt=es(re),Xt&&(Xt.c(),Xt.m(ve,null))),Le[0]&262144&&ce!==(ce=re[18].t("Fluidly stream large external response chunks")+"")&&H(Ve,ce),ts===(ts=sa(re))&&Qt?Qt.p(re,Le):(Qt.d(1),Qt=ts(re),Qt&&(Qt.c(),Qt.m(oe,null))),Le[0]&262144&&be!==(be=re[18].t("Scroll to bottom when switching between branches")+"")&&H(ye,be),ls===(ls=aa(re))&&el?el.p(re,Le):(el.d(1),el=ls(re),el&&(el.c(),el.m(ae,null))),Le[0]&262144&&We!==(We=re[18].t("Chat Background Image")+"")&&H(Ge,We),ss===(ss=ra(re))&&tl?tl.p(re,Le):(tl.d(1),tl=ss(re),tl&&(tl.c(),tl.m(Je,null))),Le[0]&262144&&Ze!==(Ze=re[18].t("Chat")+"")&&H(et,Ze),Le[0]&262144&&Vt!==(Vt=re[18].t("Title Auto-Generation")+"")&&H(Qe,Vt),as===(as=na(re))&&ll?ll.p(re,Le):(ll.d(1),ll=as(re),ll&&(ll.c(),ll.m(je,null))),Le[0]&262144&&At!==(At=re[18].t("Response AutoCopy to Clipboard")+"")&&H(Lt,At),rs===(rs=oa(re))&&sl?sl.p(re,Le):(sl.d(1),sl=rs(re),sl&&(sl.c(),sl.m(It,null))),Le[0]&262144&&$t!==($t=re[18].t("Allow User Location")+"")&&H(jt,$t),ns===(ns=ia(re))&&al?al.p(re,Le):(al.d(1),al=ns(re),al&&(al.c(),al.m(St,null))),Le[0]&262144&&Ut!==(Ut=re[18].t("Haptic Feedback")+"")&&H(Rt,Ut),os===(os=ca(re))&&rl?rl.p(re,Le):(rl.d(1),rl=os(re),rl&&(rl.c(),rl.m(xt,null))),Le[0]&262144&&wl!==(wl=re[18].t("Voice")+"")&&H(Il,wl),Le[0]&262144&&zl!==(zl=re[18].t("Allow Voice Interruption in Call")+"")&&H(Kl,zl),is===(is=ua(re))&&nl?nl.p(re,Le):(nl.d(1),nl=is(re),nl&&(nl.c(),nl.m(ml,null))),Le[0]&262144&&Wl!==(Wl=re[18].t("Display Emoji in Call")+"")&&H(Gl,Wl),cs===(cs=fa(re))&&ol?ol.p(re,Le):(ol.d(1),ol=cs(re),ol&&(ol.c(),ol.m(_l,null))),Le[0]&262144&&Zl!==(Zl=re[18].t("Save")+"")&&H(Jl,Zl)},i:Pe,o:Pe,d(re){re&&u(e),s[35](null),Pt(Dt,re),Gt.d(),Tt&&Tt.d(),Jt.d(),Xt.d(),Qt.d(),el.d(),tl.d(),ll.d(),sl.d(),al.d(),rl.d(),nl.d(),ol.d(),Bs=!1,dt(Qs)}}}const yr=s=>s.id;function Wi(s,e,t){let l,a,r,o;Be(s,gl,oe=>t(17,l=oe)),Be(s,Cs,oe=>t(52,a=oe)),Be(s,Js,oe=>t(19,o=oe));const i=ul(),f=gt("i18n");Be(s,f,oe=>t(18,r=oe));let{saveSettings:m}=e,g=null,p=null,_,b=!0,w=!1,k=!1,y=!1,T=!0,C=!1,V="",D=!1,I=!0,E="LTR",x=!1,R=!1,F=!1;const L=async()=>{t(7,y=!y),m({splitLargeChunks:y})},Y=async()=>{t(8,T=!T),m({scrollOnBranchChange:T})},j=async()=>{t(6,k=!k),m({widescreenMode:k})},B=async()=>{t(12,I=!I),m({chatBubble:I})},M=async()=>{t(11,D=!D),m({showUsername:D})},U=async()=>{t(14,x=!x),m({showEmojiInCall:x})},$=async()=>{t(15,R=!R),m({voiceInterruption:R})},Z=async()=>{t(16,F=!F),m({hapticFeedback:F})},q=async()=>{if(t(9,C=!C),C){const oe=await oo().catch(De=>(Ke.error(De.message),null));oe?(await Cn(localStorage.token,{location:oe}),Ke.success(r.t("User location successfully retrieved."))):t(9,C=!1)}m({userLocation:C})},P=async()=>{t(4,b=!b),m({title:{...l.title,auto:b}})},W=async()=>{const oe=await navigator.clipboard.readText().then(()=>"granted").catch(()=>"");console.log(oe),oe==="granted"?(t(5,w=!w),m({responseAutoCopy:w})):Ke.error(r.t("Clipboard write permission denied. Please check your browser settings to grant the necessary access."))},K=async()=>{t(13,E=E==="LTR"?"RTL":"LTR"),m({chatDirection:E})},G=async()=>{m({models:[V]})};Ft(async()=>{var oe,De;t(4,b=((oe=l==null?void 0:l.title)==null?void 0:oe.auto)??!0),t(5,w=l.responseAutoCopy??!1),t(11,D=l.showUsername??!1),t(14,x=l.showEmojiInCall??!1),t(15,R=l.voiceInterruption??!1),t(12,I=l.chatBubble??!0),t(6,k=l.widescreenMode??!1),t(7,y=l.splitLargeChunks??!1),t(8,T=l.scrollOnBranchChange??!0),t(13,E=l.chatDirection??"LTR"),t(9,C=l.userLocation??!1),t(16,F=l.hapticFeedback??!1),t(10,V=((De=l==null?void 0:l.models)==null?void 0:De.at(0))??""),a!=null&&a.default_models&&t(10,V=a.default_models.split(",")[0]),t(1,g=l.backgroundImageUrl??null)});function J(oe){mt[oe?"unshift":"push"](()=>{_=oe,t(3,_)})}function te(){p=this.files,t(2,p)}const le=()=>{let oe=new FileReader;oe.onload=De=>{let xe=`${De.target.result}`;t(1,g=xe),m({backgroundImageUrl:g})},p&&p.length>0&&["image/gif","image/webp","image/jpeg","image/png"].includes(p[0].type)?oe.readAsDataURL(p[0]):(console.log(`Unsupported File Type '${p[0].type}'.`),t(2,p=null))};function ie(){V=ql(this),t(10,V)}const he=()=>{B()},Ee=()=>{M()},Oe=()=>{j()},Se=()=>{L()},He=()=>{Y()},ve=()=>{g!==null?(t(1,g=null),m({backgroundImageUrl:g})):_.click()},de=()=>{P()},ne=()=>{W()},Ie=()=>{q()},Q=()=>{Z()},ce=()=>{$()},Ve=()=>{U()},Me=()=>{G(),i("save")};return s.$$set=oe=>{"saveSettings"in oe&&t(0,m=oe.saveSettings)},[m,g,p,_,b,w,k,y,T,C,V,D,I,E,x,R,F,l,r,o,i,f,L,Y,j,B,M,U,$,Z,q,P,W,K,G,J,te,le,ie,he,Ee,Oe,Se,He,ve,de,ne,Ie,Q,ce,Ve,Me]}class Zi extends nt{constructor(e){super(),ot(this,e,Wi,Ri,rt,{saveSettings:0},null,[-1,-1])}}function Er(s,e,t){const l=s.slice();return l[8]=e[t],l}function Ir(s,e,t){const l=s.slice();return l[24]=e[t],l}function Dr(s){let e,t,l=s[7].t("Speech-to-Text Engine")+"",a,r,o,i,f,m=s[7].t("Default")+"",g,p,_=s[7].t("Web API")+"",b,w,k;return{c(){e=d("div"),t=d("div"),a=N(l),r=S(),o=d("div"),i=d("select"),f=d("option"),g=N(m),p=d("option"),b=N(_),this.h()},l(y){e=h(y,"DIV",{class:!0});var T=v(e);t=h(T,"DIV",{class:!0});var C=v(t);a=O(C,l),C.forEach(u),r=A(T),o=h(T,"DIV",{class:!0});var V=v(o);i=h(V,"SELECT",{class:!0,placeholder:!0});var D=v(i);f=h(D,"OPTION",{});var I=v(f);g=O(I,m),I.forEach(u),p=h(D,"OPTION",{});var E=v(p);b=O(E,_),E.forEach(u),D.forEach(u),V.forEach(u),T.forEach(u),this.h()},h(){c(t,"class","self-center text-xs font-medium"),f.__value="",ze(f,f.__value),p.__value="web",ze(p,p.__value),c(i,"class","dark:bg-gray-900 w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),c(i,"placeholder","Select an engine"),s[4]===void 0&&Yl(()=>s[13].call(i)),c(o,"class","flex items-center relative"),c(e,"class","py-0.5 flex w-full justify-between")},m(y,T){z(y,e,T),n(e,t),n(t,a),n(e,r),n(e,o),n(o,i),n(i,f),n(f,g),n(i,p),n(p,b),fl(i,s[4],!0),w||(k=X(i,"change",s[13]),w=!0)},p(y,T){T&128&&l!==(l=y[7].t("Speech-to-Text Engine")+"")&&H(a,l),T&128&&m!==(m=y[7].t("Default")+"")&&H(g,m),T&128&&_!==(_=y[7].t("Web API")+"")&&H(b,_),T&16&&fl(i,y[4])},d(y){y&&u(e),w=!1,k()}}}function Fi(s){let e,t=s[7].t("Off")+"",l;return{c(){e=d("span"),l=N(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r&128&&t!==(t=a[7].t("Off")+"")&&H(l,t)},d(a){a&&u(e)}}}function Yi(s){let e,t=s[7].t("On")+"",l;return{c(){e=d("span"),l=N(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r&128&&t!==(t=a[7].t("On")+"")&&H(l,t)},d(a){a&&u(e)}}}function qi(s){let e,t=s[7].t("Off")+"",l;return{c(){e=d("span"),l=N(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r&128&&t!==(t=a[7].t("Off")+"")&&H(l,t)},d(a){a&&u(e)}}}function Ki(s){let e,t=s[7].t("On")+"",l;return{c(){e=d("span"),l=N(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r&128&&t!==(t=a[7].t("On")+"")&&H(l,t)},d(a){a&&u(e)}}}function Gi(s){let e,t,l=s[7].t("Set Voice")+"",a,r,o,i,f,m,g,p,_,b=at(s[5]),w=[];for(let k=0;k<b.length;k+=1)w[k]=Vr(Er(s,b,k));return{c(){e=d("div"),t=d("div"),a=N(l),r=S(),o=d("div"),i=d("div"),f=d("input"),m=S(),g=d("datalist");for(let k=0;k<w.length;k+=1)w[k].c();this.h()},l(k){e=h(k,"DIV",{});var y=v(e);t=h(y,"DIV",{class:!0});var T=v(t);a=O(T,l),T.forEach(u),r=A(y),o=h(y,"DIV",{class:!0});var C=v(o);i=h(C,"DIV",{class:!0});var V=v(i);f=h(V,"INPUT",{list:!0,class:!0,placeholder:!0}),m=A(V),g=h(V,"DATALIST",{id:!0});var D=v(g);for(let I=0;I<w.length;I+=1)w[I].l(D);D.forEach(u),V.forEach(u),C.forEach(u),y.forEach(u),this.h()},h(){c(t,"class","mb-2.5 text-sm font-medium"),c(f,"list","voice-list"),c(f,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),c(f,"placeholder","Select a voice"),c(g,"id","voice-list"),c(i,"class","flex-1"),c(o,"class","flex w-full")},m(k,y){z(k,e,y),n(e,t),n(t,a),n(e,r),n(e,o),n(o,i),n(i,f),ze(f,s[8]),n(i,m),n(i,g);for(let T=0;T<w.length;T+=1)w[T]&&w[T].m(g,null);p||(_=X(f,"input",s[19]),p=!0)},p(k,y){if(y&128&&l!==(l=k[7].t("Set Voice")+"")&&H(a,l),y&296&&f.value!==k[8]&&ze(f,k[8]),y&32){b=at(k[5]);let T;for(T=0;T<b.length;T+=1){const C=Er(k,b,T);w[T]?w[T].p(C,y):(w[T]=Vr(C),w[T].c(),w[T].m(g,null))}for(;T<w.length;T+=1)w[T].d(1);w.length=b.length}},i:Pe,o:Pe,d(k){k&&u(e),Pt(w,k),p=!1,_()}}}function Ji(s){let e,t,l=s[7].t("Set Voice")+"",a,r,o,i,f,m,g=s[7].t("Default")+"",p,_,b,w,k,y=s[7].t("Allow non-local voices")+"",T,C,V,D,I,E,x,R,F=at(s[5].filter(s[16])),L=[];for(let B=0;B<F.length;B+=1)L[B]=Tr(Ir(s,F,B));function Y(B){s[18](B)}let j={};return s[3]!==void 0&&(j.state=s[3]),D=new bn({props:j}),mt.push(()=>Et(D,"state",Y)),{c(){e=d("div"),t=d("div"),a=N(l),r=S(),o=d("div"),i=d("div"),f=d("select"),m=d("option"),p=N(g);for(let B=0;B<L.length;B+=1)L[B].c();b=S(),w=d("div"),k=d("div"),T=N(y),C=S(),V=d("div"),me(D.$$.fragment),this.h()},l(B){e=h(B,"DIV",{});var M=v(e);t=h(M,"DIV",{class:!0});var U=v(t);a=O(U,l),U.forEach(u),r=A(M),o=h(M,"DIV",{class:!0});var $=v(o);i=h($,"DIV",{class:!0});var Z=v(i);f=h(Z,"SELECT",{class:!0});var q=v(f);m=h(q,"OPTION",{});var P=v(m);p=O(P,g),P.forEach(u);for(let J=0;J<L.length;J+=1)L[J].l(q);q.forEach(u),Z.forEach(u),$.forEach(u),b=A(M),w=h(M,"DIV",{class:!0});var W=v(w);k=h(W,"DIV",{class:!0});var K=v(k);T=O(K,y),K.forEach(u),C=A(W),V=h(W,"DIV",{class:!0});var G=v(V);_e(D.$$.fragment,G),G.forEach(u),W.forEach(u),M.forEach(u),this.h()},h(){c(t,"class","mb-2.5 text-sm font-medium"),m.__value="",ze(m,m.__value),m.selected=_=s[8]!=="",c(f,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),s[8]===void 0&&Yl(()=>s[17].call(f)),c(i,"class","flex-1"),c(o,"class","flex w-full"),c(k,"class","text-xs"),c(V,"class","mt-1"),c(w,"class","flex items-center justify-between my-1.5")},m(B,M){z(B,e,M),n(e,t),n(t,a),n(e,r),n(e,o),n(o,i),n(i,f),n(f,m),n(m,p);for(let U=0;U<L.length;U+=1)L[U]&&L[U].m(f,null);fl(f,s[8],!0),n(e,b),n(e,w),n(w,k),n(k,T),n(w,C),n(w,V),pe(D,V,null),E=!0,x||(R=X(f,"change",s[17]),x=!0)},p(B,M){if((!E||M&128)&&l!==(l=B[7].t("Set Voice")+"")&&H(a,l),(!E||M&128)&&g!==(g=B[7].t("Default")+"")&&H(p,g),(!E||M&296&&_!==(_=B[8]!==""))&&(m.selected=_),M&296){F=at(B[5].filter(B[16]));let $;for($=0;$<F.length;$+=1){const Z=Ir(B,F,$);L[$]?L[$].p(Z,M):(L[$]=Tr(Z),L[$].c(),L[$].m(f,null))}for(;$<L.length;$+=1)L[$].d(1);L.length=F.length}M&296&&fl(f,B[8]),(!E||M&128)&&y!==(y=B[7].t("Allow non-local voices")+"")&&H(T,y);const U={};!I&&M&8&&(I=!0,U.state=B[3],yt(()=>I=!1)),D.$set(U)},i(B){E||(ee(D.$$.fragment,B),E=!0)},o(B){se(D.$$.fragment,B),E=!1},d(B){B&&u(e),Pt(L,B),ge(D),x=!1,R()}}}function Vr(s){let e,t=s[8].name+"",l,a;return{c(){e=d("option"),l=N(t),this.h()},l(r){e=h(r,"OPTION",{});var o=v(e);l=O(o,t),o.forEach(u),this.h()},h(){e.__value=a=s[8].id,ze(e,e.__value)},m(r,o){z(r,e,o),n(e,l)},p(r,o){o&32&&t!==(t=r[8].name+"")&&H(l,t),o&32&&a!==(a=r[8].id)&&(e.__value=a,ze(e,e.__value))},d(r){r&&u(e)}}}function Tr(s){let e,t=s[24].name+"",l,a,r;return{c(){e=d("option"),l=N(t),this.h()},l(o){e=h(o,"OPTION",{class:!0});var i=v(e);l=O(i,t),i.forEach(u),this.h()},h(){e.__value=a=s[24].name,ze(e,e.__value),c(e,"class","bg-gray-100 dark:bg-gray-700"),e.selected=r=s[8]===s[24].name},m(o,i){z(o,e,i),n(e,l)},p(o,i){i&40&&t!==(t=o[24].name+"")&&H(l,t),i&40&&a!==(a=o[24].name)&&(e.__value=a,ze(e,e.__value)),i&296&&r!==(r=o[8]===o[24].name)&&(e.selected=r)},d(o){o&&u(e)}}}function Xi(s){let e,t,l,a,r=s[7].t("STT Settings")+"",o,i,f,m,g,p=s[7].t("Instant Auto-Send After Voice Transcription")+"",_,b,w,k,y,T,C=s[7].t("TTS Settings")+"",V,D,I,E,x=s[7].t("Auto-playback response")+"",R,F,L,Y,j,B,M,U,$,Z,q,P=s[7].t("Save")+"",W,K,G,J,te=s[6].audio.stt.engine!=="web"&&Dr(s);function le(ne,Ie){return ne[1]===!0?Yi:Fi}let ie=le(s),he=ie(s);function Ee(ne,Ie){return ne[2]===!0?Ki:qi}let Oe=Ee(s),Se=Oe(s);const He=[Ji,Gi],ve=[];function de(ne,Ie){return ne[6].audio.tts.engine===""?0:ne[6].audio.tts.engine!==""?1:-1}return~(M=de(s))&&(U=ve[M]=He[M](s)),{c(){e=d("form"),t=d("div"),l=d("div"),a=d("div"),o=N(r),i=S(),te&&te.c(),f=S(),m=d("div"),g=d("div"),_=N(p),b=S(),w=d("button"),he.c(),k=S(),y=d("div"),T=d("div"),V=N(C),D=S(),I=d("div"),E=d("div"),R=N(x),F=S(),L=d("button"),Se.c(),Y=S(),j=d("hr"),B=S(),U&&U.c(),$=S(),Z=d("div"),q=d("button"),W=N(P),this.h()},l(ne){e=h(ne,"FORM",{class:!0});var Ie=v(e);t=h(Ie,"DIV",{class:!0});var Q=v(t);l=h(Q,"DIV",{});var ce=v(l);a=h(ce,"DIV",{class:!0});var Ve=v(a);o=O(Ve,r),Ve.forEach(u),i=A(ce),te&&te.l(ce),f=A(ce),m=h(ce,"DIV",{class:!0});var Me=v(m);g=h(Me,"DIV",{class:!0});var oe=v(g);_=O(oe,p),oe.forEach(u),b=A(Me),w=h(Me,"BUTTON",{class:!0,type:!0});var De=v(w);he.l(De),De.forEach(u),Me.forEach(u),ce.forEach(u),k=A(Q),y=h(Q,"DIV",{});var xe=v(y);T=h(xe,"DIV",{class:!0});var Ce=v(T);V=O(Ce,C),Ce.forEach(u),D=A(xe),I=h(xe,"DIV",{class:!0});var Re=v(I);E=h(Re,"DIV",{class:!0});var be=v(E);R=O(be,x),be.forEach(u),F=A(Re),L=h(Re,"BUTTON",{class:!0,type:!0});var ye=v(L);Se.l(ye),ye.forEach(u),Re.forEach(u),xe.forEach(u),Y=A(Q),j=h(Q,"HR",{class:!0}),B=A(Q),U&&U.l(Q),Q.forEach(u),$=A(Ie),Z=h(Ie,"DIV",{class:!0});var it=v(Z);q=h(it,"BUTTON",{class:!0,type:!0});var ae=v(q);W=O(ae,P),ae.forEach(u),it.forEach(u),Ie.forEach(u),this.h()},h(){c(a,"class","mb-1 text-sm font-medium"),c(g,"class","self-center text-xs font-medium"),c(w,"class","p-1 px-3 text-xs flex rounded transition"),c(w,"type","button"),c(m,"class","py-0.5 flex w-full justify-between"),c(T,"class","mb-1 text-sm font-medium"),c(E,"class","self-center text-xs font-medium"),c(L,"class","p-1 px-3 text-xs flex rounded transition"),c(L,"type","button"),c(I,"class","py-0.5 flex w-full justify-between"),c(j,"class","dark:border-gray-850"),c(t,"class","space-y-3 pr-1.5 overflow-y-scroll max-h-[25rem]"),c(q,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),c(q,"type","submit"),c(Z,"class","flex justify-end text-sm font-medium"),c(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(ne,Ie){z(ne,e,Ie),n(e,t),n(t,l),n(l,a),n(a,o),n(l,i),te&&te.m(l,null),n(l,f),n(l,m),n(m,g),n(g,_),n(m,b),n(m,w),he.m(w,null),n(t,k),n(t,y),n(y,T),n(T,V),n(y,D),n(y,I),n(I,E),n(E,R),n(I,F),n(I,L),Se.m(L,null),n(t,Y),n(t,j),n(t,B),~M&&ve[M].m(t,null),n(e,$),n(e,Z),n(Z,q),n(q,W),K=!0,G||(J=[X(w,"click",s[14]),X(L,"click",s[15]),X(e,"submit",$l(s[20]))],G=!0)},p(ne,[Ie]){(!K||Ie&128)&&r!==(r=ne[7].t("STT Settings")+"")&&H(o,r),ne[6].audio.stt.engine!=="web"?te?te.p(ne,Ie):(te=Dr(ne),te.c(),te.m(l,f)):te&&(te.d(1),te=null),(!K||Ie&128)&&p!==(p=ne[7].t("Instant Auto-Send After Voice Transcription")+"")&&H(_,p),ie===(ie=le(ne))&&he?he.p(ne,Ie):(he.d(1),he=ie(ne),he&&(he.c(),he.m(w,null))),(!K||Ie&128)&&C!==(C=ne[7].t("TTS Settings")+"")&&H(V,C),(!K||Ie&128)&&x!==(x=ne[7].t("Auto-playback response")+"")&&H(R,x),Oe===(Oe=Ee(ne))&&Se?Se.p(ne,Ie):(Se.d(1),Se=Oe(ne),Se&&(Se.c(),Se.m(L,null)));let Q=M;M=de(ne),M===Q?~M&&ve[M].p(ne,Ie):(U&&(wt(),se(ve[Q],1,1,()=>{ve[Q]=null}),kt()),~M?(U=ve[M],U?U.p(ne,Ie):(U=ve[M]=He[M](ne),U.c()),ee(U,1),U.m(t,null)):U=null),(!K||Ie&128)&&P!==(P=ne[7].t("Save")+"")&&H(W,P)},i(ne){K||(ee(U),K=!0)},o(ne){se(U),K=!1},d(ne){ne&&u(e),te&&te.d(),he.d(),Se.d(),~M&&ve[M].d(),G=!1,dt(J)}}}function Qi(s,e,t){let l,a,r;Be(s,gl,L=>t(22,l=L)),Be(s,Cs,L=>t(6,a=L));const o=ul(),i=gt("i18n");Be(s,i,L=>t(7,r=L));let{saveSettings:f}=e,m=!1,g=!1,p=!1,_="",b=[],w="";const k=async()=>{if(a.audio.tts.engine===""){const L=setInterval(async()=>{t(5,b=await speechSynthesis.getVoices()),b.length>0&&clearInterval(L)},100)}else{const L=await vo(localStorage.token).catch(Y=>{Ke.error(Y)});L&&(console.log(L),t(5,b=L.voices))}},y=async()=>{t(2,g=!g),f({responseAutoPlayback:g})},T=async()=>{t(1,m=!m),f({speechAutoSend:m})};Ft(async()=>{var L,Y,j,B,M,U,$,Z;l.conversationMode,t(1,m=l.speechAutoSend??!1),t(2,g=l.responseAutoPlayback??!1),t(4,_=((Y=(L=l==null?void 0:l.audio)==null?void 0:L.stt)==null?void 0:Y.engine)??""),((B=(j=l==null?void 0:l.audio)==null?void 0:j.tts)==null?void 0:B.defaultVoice)===a.audio.tts.voice?t(8,w=((U=(M=l==null?void 0:l.audio)==null?void 0:M.tts)==null?void 0:U.voice)??a.audio.tts.voice??""):t(8,w=a.audio.tts.voice??""),t(3,p=((Z=($=l.audio)==null?void 0:$.tts)==null?void 0:Z.nonLocalVoices)??!1),await k()});function C(){_=ql(this),t(4,_)}const V=()=>{T()},D=()=>{y()},I=L=>p||L.localService===!0;function E(){w=ql(this),t(8,w),t(5,b),t(3,p)}function x(L){p=L,t(3,p)}function R(){w=this.value,t(8,w),t(5,b),t(3,p)}const F=async()=>{var L,Y;f({audio:{stt:{engine:_!==""?_:void 0},tts:{voice:w!==""?w:void 0,defaultVoice:((Y=(L=a==null?void 0:a.audio)==null?void 0:L.tts)==null?void 0:Y.voice)??"",nonLocalVoices:a.audio.tts.engine===""?p:void 0}}}),o("save")};return s.$$set=L=>{"saveSettings"in L&&t(0,f=L.saveSettings)},[f,m,g,p,_,b,a,r,w,o,i,y,T,C,V,D,I,E,x,R,F]}class ec extends nt{constructor(e){super(),ot(this,e,Qi,Xi,rt,{saveSettings:0})}}function tc(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-4"><path d="M3.375 3C2.339 3 1.5 3.84 1.5 4.875v.75c0 1.036.84 1.875 1.875 1.875h17.25c1.035 0 1.875-.84 1.875-1.875v-.75C22.5 3.839 21.66 3 20.625 3H3.375Z"></path><path fill-rule="evenodd" d="m3.087 9 .54 9.176A3 3 0 0 0 6.62 21h10.757a3 3 0 0 0 2.995-2.824L20.913 9H3.087Zm6.163 3.75A.75.75 0 0 1 10 12h4a.75.75 0 0 1 0 1.5h-4a.75.75 0 0 1-.75-.75Z" clip-rule="evenodd"></path></svg>',a,r,o=s[4].t("Archive All Chats")+"",i,f,m;return{c(){e=d("button"),t=d("div"),t.innerHTML=l,a=S(),r=d("div"),i=N(o),this.h()},l(g){e=h(g,"BUTTON",{class:!0});var p=v(e);t=h(p,"DIV",{class:!0,"data-svelte-h":!0}),Ue(t)!=="svelte-1duozwn"&&(t.innerHTML=l),a=A(p),r=h(p,"DIV",{class:!0});var _=v(r);i=O(_,o),_.forEach(u),p.forEach(u),this.h()},h(){c(t,"class","self-center mr-3"),c(r,"class","self-center text-sm font-medium"),c(e,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition")},m(g,p){z(g,e,p),n(e,t),n(e,a),n(e,r),n(r,i),f||(m=X(e,"click",s[16]),f=!0)},p(g,p){p&16&&o!==(o=g[4].t("Archive All Chats")+"")&&H(i,o)},d(g){g&&u(e),f=!1,m()}}}function lc(s){let e,t,l,a,r,o,i,f=s[4].t("Are you sure?")+"",m,g,p,_,b='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z" clip-rule="evenodd"></path></svg>',w,k,y='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',T,C;return{c(){e=d("div"),t=d("div"),l=lt("svg"),a=lt("path"),r=lt("path"),o=S(),i=d("span"),m=N(f),g=S(),p=d("div"),_=d("button"),_.innerHTML=b,w=S(),k=d("button"),k.innerHTML=y,this.h()},l(V){e=h(V,"DIV",{class:!0});var D=v(e);t=h(D,"DIV",{class:!0});var I=v(t);l=st(I,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var E=v(l);a=st(E,"path",{d:!0}),v(a).forEach(u),r=st(E,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(r).forEach(u),E.forEach(u),o=A(I),i=h(I,"SPAN",{});var x=v(i);m=O(x,f),x.forEach(u),I.forEach(u),g=A(D),p=h(D,"DIV",{class:!0});var R=v(p);_=h(R,"BUTTON",{class:!0,"data-svelte-h":!0}),Ue(_)!=="svelte-88c061"&&(_.innerHTML=b),w=A(R),k=h(R,"BUTTON",{class:!0,"data-svelte-h":!0}),Ue(k)!=="svelte-1601eo8"&&(k.innerHTML=y),R.forEach(u),D.forEach(u),this.h()},h(){c(a,"d","M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"),c(r,"fill-rule","evenodd"),c(r,"d","M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM5.72 7.47a.75.75 0 0 1 1.06 0L8 8.69l1.22-1.22a.75.75 0 1 1 1.06 1.06L9.06 9.75l1.22 1.22a.75.75 0 1 1-1.06 1.06L8 10.81l-1.22 1.22a.75.75 0 0 1-1.06-1.06l1.22-1.22-1.22-1.22a.75.75 0 0 1 0-1.06Z"),c(r,"clip-rule","evenodd"),c(l,"xmlns","http://www.w3.org/2000/svg"),c(l,"viewBox","0 0 16 16"),c(l,"fill","currentColor"),c(l,"class","w-4 h-4"),c(t,"class","flex items-center space-x-3"),c(_,"class","hover:text-white transition"),c(k,"class","hover:text-white transition"),c(p,"class","flex space-x-1.5 items-center"),c(e,"class","flex justify-between rounded-md items-center py-2 px-3.5 w-full transition")},m(V,D){z(V,e,D),n(e,t),n(t,l),n(l,a),n(l,r),n(t,o),n(t,i),n(i,m),n(e,g),n(e,p),n(p,_),n(p,w),n(p,k),T||(C=[X(_,"click",s[14]),X(k,"click",s[15])],T=!0)},p(V,D){D&16&&f!==(f=V[4].t("Are you sure?")+"")&&H(m,f)},d(V){V&&u(e),T=!1,dt(C)}}}function sc(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm7 7a.75.75 0 0 1-.75.75h-4.5a.75.75 0 0 1 0-1.5h4.5A.75.75 0 0 1 11 9Z" clip-rule="evenodd"></path></svg>',a,r,o=s[4].t("Delete All Chats")+"",i,f,m;return{c(){e=d("button"),t=d("div"),t.innerHTML=l,a=S(),r=d("div"),i=N(o),this.h()},l(g){e=h(g,"BUTTON",{class:!0});var p=v(e);t=h(p,"DIV",{class:!0,"data-svelte-h":!0}),Ue(t)!=="svelte-15aqp4h"&&(t.innerHTML=l),a=A(p),r=h(p,"DIV",{class:!0});var _=v(r);i=O(_,o),_.forEach(u),p.forEach(u),this.h()},h(){c(t,"class","self-center mr-3"),c(r,"class","self-center text-sm font-medium"),c(e,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition")},m(g,p){z(g,e,p),n(e,t),n(e,a),n(e,r),n(r,i),f||(m=X(e,"click",s[19]),f=!0)},p(g,p){p&16&&o!==(o=g[4].t("Delete All Chats")+"")&&H(i,o)},d(g){g&&u(e),f=!1,m()}}}function ac(s){let e,t,l,a,r,o,i,f=s[4].t("Are you sure?")+"",m,g,p,_,b='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z" clip-rule="evenodd"></path></svg>',w,k,y='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',T,C;return{c(){e=d("div"),t=d("div"),l=lt("svg"),a=lt("path"),r=lt("path"),o=S(),i=d("span"),m=N(f),g=S(),p=d("div"),_=d("button"),_.innerHTML=b,w=S(),k=d("button"),k.innerHTML=y,this.h()},l(V){e=h(V,"DIV",{class:!0});var D=v(e);t=h(D,"DIV",{class:!0});var I=v(t);l=st(I,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var E=v(l);a=st(E,"path",{d:!0}),v(a).forEach(u),r=st(E,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(r).forEach(u),E.forEach(u),o=A(I),i=h(I,"SPAN",{});var x=v(i);m=O(x,f),x.forEach(u),I.forEach(u),g=A(D),p=h(D,"DIV",{class:!0});var R=v(p);_=h(R,"BUTTON",{class:!0,"data-svelte-h":!0}),Ue(_)!=="svelte-19nv6qp"&&(_.innerHTML=b),w=A(R),k=h(R,"BUTTON",{class:!0,"data-svelte-h":!0}),Ue(k)!=="svelte-ekcykx"&&(k.innerHTML=y),R.forEach(u),D.forEach(u),this.h()},h(){c(a,"d","M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"),c(r,"fill-rule","evenodd"),c(r,"d","M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM5.72 7.47a.75.75 0 0 1 1.06 0L8 8.69l1.22-1.22a.75.75 0 1 1 1.06 1.06L9.06 9.75l1.22 1.22a.75.75 0 1 1-1.06 1.06L8 10.81l-1.22 1.22a.75.75 0 0 1-1.06-1.06l1.22-1.22-1.22-1.22a.75.75 0 0 1 0-1.06Z"),c(r,"clip-rule","evenodd"),c(l,"xmlns","http://www.w3.org/2000/svg"),c(l,"viewBox","0 0 16 16"),c(l,"fill","currentColor"),c(l,"class","w-4 h-4"),c(t,"class","flex items-center space-x-3"),c(_,"class","hover:text-white transition"),c(k,"class","hover:text-white transition"),c(p,"class","flex space-x-1.5 items-center"),c(e,"class","flex justify-between rounded-md items-center py-2 px-3.5 w-full transition")},m(V,D){z(V,e,D),n(e,t),n(t,l),n(l,a),n(l,r),n(t,o),n(t,i),n(i,m),n(e,g),n(e,p),n(p,_),n(p,w),n(p,k),T||(C=[X(_,"click",s[17]),X(k,"click",s[18])],T=!0)},p(V,D){D&16&&f!==(f=V[4].t("Are you sure?")+"")&&H(m,f)},d(V){V&&u(e),T=!1,dt(C)}}}function rc(s){let e,t,l,a,r,o,i,f='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 9.5a.75.75 0 0 1-.75-.75V8.06l-.72.72a.75.75 0 0 1-1.06-1.06l2-2a.75.75 0 0 1 1.06 0l2 2a.75.75 0 1 1-1.06 1.06l-.72-.72v2.69a.75.75 0 0 1-.75.75Z" clip-rule="evenodd"></path></svg>',m,g,p=s[4].t("Import Chats")+"",_,b,w,k,y='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 3.5a.75.75 0 0 1 .75.75v2.69l.72-.72a.75.75 0 1 1 1.06 1.06l-2 2a.75.75 0 0 1-1.06 0l-2-2a.75.75 0 0 1 1.06-1.06l.72.72V6.25A.75.75 0 0 1 8 5.5Z" clip-rule="evenodd"></path></svg>',T,C,V=s[4].t("Export Chats")+"",D,I,E,x,R,F,L,Y;function j(q,P){return q[1]?lc:tc}let B=j(s),M=B(s);function U(q,P){return q[2]?ac:sc}let $=U(s),Z=$(s);return{c(){e=d("div"),t=d("div"),l=d("div"),a=d("input"),r=S(),o=d("button"),i=d("div"),i.innerHTML=f,m=S(),g=d("div"),_=N(p),b=S(),w=d("button"),k=d("div"),k.innerHTML=y,T=S(),C=d("div"),D=N(V),I=S(),E=d("hr"),x=S(),R=d("div"),M.c(),F=S(),Z.c(),this.h()},l(q){e=h(q,"DIV",{class:!0});var P=v(e);t=h(P,"DIV",{class:!0});var W=v(t);l=h(W,"DIV",{class:!0});var K=v(l);a=h(K,"INPUT",{id:!0,type:!0,accept:!0}),r=A(K),o=h(K,"BUTTON",{class:!0});var G=v(o);i=h(G,"DIV",{class:!0,"data-svelte-h":!0}),Ue(i)!=="svelte-135keqh"&&(i.innerHTML=f),m=A(G),g=h(G,"DIV",{class:!0});var J=v(g);_=O(J,p),J.forEach(u),G.forEach(u),b=A(K),w=h(K,"BUTTON",{class:!0});var te=v(w);k=h(te,"DIV",{class:!0,"data-svelte-h":!0}),Ue(k)!=="svelte-7e4f4y"&&(k.innerHTML=y),T=A(te),C=h(te,"DIV",{class:!0});var le=v(C);D=O(le,V),le.forEach(u),te.forEach(u),K.forEach(u),I=A(W),E=h(W,"HR",{class:!0}),x=A(W),R=h(W,"DIV",{class:!0});var ie=v(R);M.l(ie),F=A(ie),Z.l(ie),ie.forEach(u),W.forEach(u),P.forEach(u),this.h()},h(){c(a,"id","chat-import-input"),c(a,"type","file"),c(a,"accept",".json"),a.hidden=!0,c(i,"class","self-center mr-3"),c(g,"class","self-center text-sm font-medium"),c(o,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),c(k,"class","self-center mr-3"),c(C,"class","self-center text-sm font-medium"),c(w,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),c(l,"class","flex flex-col"),c(E,"class","dark:border-gray-850"),c(R,"class","flex flex-col"),c(t,"class","space-y-2"),c(e,"class","flex flex-col h-full justify-between space-y-3 text-sm max-h-[22rem]")},m(q,P){z(q,e,P),n(e,t),n(t,l),n(l,a),s[10](a),n(l,r),n(l,o),n(o,i),n(o,m),n(o,g),n(g,_),n(l,b),n(l,w),n(w,k),n(w,T),n(w,C),n(C,D),n(t,I),n(t,E),n(t,x),n(t,R),M.m(R,null),n(R,F),Z.m(R,null),L||(Y=[X(a,"change",s[11]),X(o,"click",s[12]),X(w,"click",s[13])],L=!0)},p(q,[P]){P&16&&p!==(p=q[4].t("Import Chats")+"")&&H(_,p),P&16&&V!==(V=q[4].t("Export Chats")+"")&&H(D,V),B===(B=j(q))&&M?M.p(q,P):(M.d(1),M=B(q),M&&(M.c(),M.m(R,F))),$===($=U(q))&&Z?Z.p(q,P):(Z.d(1),Z=$(q),Z&&(Z.c(),Z.m(R,null)))},i:Pe,o:Pe,d(q){q&&u(e),s[10](null),M.d(),Z.d(),L=!1,dt(Y)}}}function nc(s,e,t){let l,a;Be(s,Wt,L=>t(20,l=L));const{saveAs:r}=Gs,o=gt("i18n");Be(s,o,L=>t(4,a=L));let{saveSettings:i}=e,f,m=!1,g=!1,p;const _=async L=>{for(const Y of L)console.log(Y),Y.chat?await ar(localStorage.token,Y.chat):await ar(localStorage.token,Y);Wt.set(1),await Ot.set(await cl(localStorage.token,l)),Cl.set(!0)},b=async()=>{let L=new Blob([JSON.stringify(await Mn(localStorage.token))],{type:"application/json"});r(L,`chat-export-${Date.now()}.json`)},w=async()=>{await Sl("/"),await Sn(localStorage.token).catch(L=>{Ke.error(L)}),Wt.set(1),await Ot.set(await cl(localStorage.token,l)),Cl.set(!0)},k=async()=>{await Sl("/"),await An(localStorage.token).catch(L=>{Ke.error(L)}),Wt.set(1),await Ot.set(await cl(localStorage.token,l)),Cl.set(!0)};function y(L){mt[L?"unshift":"push"](()=>{p=L,t(3,p)})}function T(){f=this.files,t(0,f)}const C=()=>{p.click()},V=()=>{b()},D=()=>{w(),t(1,m=!1)},I=()=>{t(1,m=!1)},E=()=>{t(1,m=!0)},x=()=>{k(),t(2,g=!1)},R=()=>{t(2,g=!1)},F=()=>{t(2,g=!0)};return s.$$set=L=>{"saveSettings"in L&&t(9,i=L.saveSettings)},s.$$.update=()=>{if(s.$$.dirty&1&&f){console.log(f);let L=new FileReader;L.onload=Y=>{let j=JSON.parse(Y.target.result);if(console.log(j),io(j)=="openai")try{j=co(j)}catch(B){console.log("Unable to import chats:",B)}_(j)},f.length>0&&L.readAsText(f[0])}},[f,m,g,p,a,o,b,w,k,i,y,T,C,V,D,I,E,x,R,F]}class oc extends nt{constructor(e){super(),ot(this,e,nc,rc,rt,{saveSettings:9})}}function ic(s){let e,t;return{c(){e=lt("svg"),t=lt("path"),this.h()},l(l){e=st(l,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var a=v(e);t=st(a,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(t).forEach(u),a.forEach(u),this.h()},h(){c(t,"fill-rule","evenodd"),c(t,"d","M7.5 6a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM3.751 20.105a8.25 8.25 0 0 1 16.498 0 .75.75 0 0 1-.437.695A18.683 18.683 0 0 1 12 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 0 1-.437-.695Z"),c(t,"clip-rule","evenodd"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"viewBox","0 0 24 24"),c(e,"fill","currentColor"),c(e,"class",s[0])},m(l,a){z(l,e,a),n(e,t)},p(l,[a]){a&1&&c(e,"class",l[0])},i:Pe,o:Pe,d(l){l&&u(e)}}}function cc(s,e,t){let{className:l="w-4 h-4"}=e;return s.$$set=a=>{"className"in a&&t(0,l=a.className)},[l]}class uc extends nt{constructor(e){super(),ot(this,e,cc,ic,rt,{className:0})}}function Cr(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}
											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),Ue(e)!=="svelte-1vuzrxa"&&(e.innerHTML=t),this.h()},h(){c(e,"class","ml-2 self-center")},m(l,a){z(l,e,a)},d(l){l&&u(e)}}}function fc(s){let e,t,l,a=s[3].t("Add Memory")+"",r,o,i,f='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',m,g,p,_,b,w,k,y,T,C,V=s[3].t('Refer to yourself as "User" (e.g., "User is learning Spanish")')+"",D,I,E,x,R=s[3].t("Add")+"",F,L,Y,j,B,M=s[1]&&Cr();return{c(){e=d("div"),t=d("div"),l=d("div"),r=N(a),o=S(),i=d("button"),i.innerHTML=f,m=S(),g=d("div"),p=d("div"),_=d("form"),b=d("div"),w=d("textarea"),y=S(),T=d("div"),C=N("â“˜ "),D=N(V),I=S(),E=d("div"),x=d("button"),F=N(R),L=S(),M&&M.c(),this.h()},l(U){e=h(U,"DIV",{});var $=v(e);t=h($,"DIV",{class:!0});var Z=v(t);l=h(Z,"DIV",{class:!0});var q=v(l);r=O(q,a),q.forEach(u),o=A(Z),i=h(Z,"BUTTON",{class:!0,"data-svelte-h":!0}),Ue(i)!=="svelte-745w2y"&&(i.innerHTML=f),Z.forEach(u),m=A($),g=h($,"DIV",{class:!0});var P=v(g);p=h(P,"DIV",{class:!0});var W=v(p);_=h(W,"FORM",{class:!0});var K=v(_);b=h(K,"DIV",{class:!0});var G=v(b);w=h(G,"TEXTAREA",{class:!0,rows:!0,placeholder:!0}),v(w).forEach(u),y=A(G),T=h(G,"DIV",{class:!0});var J=v(T);C=O(J,"â“˜ "),D=O(J,V),J.forEach(u),G.forEach(u),I=A(K),E=h(K,"DIV",{class:!0});var te=v(E);x=h(te,"BUTTON",{class:!0,type:!0});var le=v(x);F=O(le,R),L=A(le),M&&M.l(le),le.forEach(u),te.forEach(u),K.forEach(u),W.forEach(u),P.forEach(u),$.forEach(u),this.h()},h(){c(l,"class","text-lg font-medium self-center"),c(i,"class","self-center"),c(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4 pb-2"),c(w,"class","bg-transparent w-full text-sm resize-none rounded-xl p-3 outline outline-1 outline-gray-100 dark:outline-gray-800"),c(w,"rows","3"),c(w,"placeholder",k=s[3].t("Enter a detail about yourself for your LLMs to recall")),c(T,"class","text-xs text-gray-500"),c(b,"class",""),c(x,"class",Y="px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-3xl flex flex-row space-x-1 items-center "+(s[1]?" cursor-not-allowed":"")),c(x,"type","submit"),x.disabled=s[1],c(E,"class","flex justify-end pt-1 text-sm font-medium"),c(_,"class","flex flex-col w-full"),c(p,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),c(g,"class","flex flex-col md:flex-row w-full px-5 pb-4 md:space-x-4 dark:text-gray-200")},m(U,$){z(U,e,$),n(e,t),n(t,l),n(l,r),n(t,o),n(t,i),n(e,m),n(e,g),n(g,p),n(p,_),n(_,b),n(b,w),ze(w,s[2]),n(b,y),n(b,T),n(T,C),n(T,D),n(_,I),n(_,E),n(E,x),n(x,F),n(x,L),M&&M.m(x,null),j||(B=[X(i,"click",s[6]),X(w,"input",s[7]),X(_,"submit",$l(s[8]))],j=!0)},p(U,$){$&8&&a!==(a=U[3].t("Add Memory")+"")&&H(r,a),$&8&&k!==(k=U[3].t("Enter a detail about yourself for your LLMs to recall"))&&c(w,"placeholder",k),$&4&&ze(w,U[2]),$&8&&V!==(V=U[3].t('Refer to yourself as "User" (e.g., "User is learning Spanish")')+"")&&H(D,V),$&8&&R!==(R=U[3].t("Add")+"")&&H(F,R),U[1]?M||(M=Cr(),M.c(),M.m(x,null)):M&&(M.d(1),M=null),$&2&&Y!==(Y="px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-3xl flex flex-row space-x-1 items-center "+(U[1]?" cursor-not-allowed":""))&&c(x,"class",Y),$&2&&(x.disabled=U[1])},d(U){U&&u(e),M&&M.d(),j=!1,dt(B)}}}function dc(s){let e,t,l;function a(o){s[9](o)}let r={size:"sm",$$slots:{default:[fc]},$$scope:{ctx:s}};return s[0]!==void 0&&(r.show=s[0]),e=new jl({props:r}),mt.push(()=>Et(e,"show",a)),{c(){me(e.$$.fragment)},l(o){_e(e.$$.fragment,o)},m(o,i){pe(e,o,i),l=!0},p(o,[i]){const f={};i&2063&&(f.$$scope={dirty:i,ctx:o}),!t&&i&1&&(t=!0,f.show=o[0],yt(()=>t=!1)),e.$set(f)},i(o){l||(ee(e.$$.fragment,o),l=!0)},o(o){se(e.$$.fragment,o),l=!1},d(o){ge(e,o)}}}function hc(s,e,t){let l;const a=ul();let{show:r}=e;const o=gt("i18n");Be(s,o,w=>t(3,l=w));let i=!1,f="";const m=async()=>{t(1,i=!0);const w=await mo(localStorage.token,f).catch(k=>(Ke.error(k),null));w&&(console.log(w),Ke.success(l.t("Memory added successfully")),t(2,f=""),t(0,r=!1),a("save")),t(1,i=!1)},g=()=>{t(0,r=!1)};function p(){f=this.value,t(2,f)}const _=()=>{m()};function b(w){r=w,t(0,r)}return s.$$set=w=>{"show"in w&&t(0,r=w.show)},[r,i,f,l,o,m,g,p,_,b]}class vc extends nt{constructor(e){super(),ot(this,e,hc,dc,rt,{show:0})}}function Mr(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}
											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),Ue(e)!=="svelte-1vuzrxa"&&(e.innerHTML=t),this.h()},h(){c(e,"class","ml-2 self-center")},m(l,a){z(l,e,a)},d(l){l&&u(e)}}}function mc(s){let e,t,l,a=s[3].t("Edit Memory")+"",r,o,i,f='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',m,g,p,_,b,w,k,y,T,C,V=s[3].t('Refer to yourself as "User" (e.g., "User is learning Spanish")')+"",D,I,E,x,R=s[3].t("Update")+"",F,L,Y,j,B,M=s[1]&&Mr();return{c(){e=d("div"),t=d("div"),l=d("div"),r=N(a),o=S(),i=d("button"),i.innerHTML=f,m=S(),g=d("div"),p=d("div"),_=d("form"),b=d("div"),w=d("textarea"),y=S(),T=d("div"),C=N("â“˜ "),D=N(V),I=S(),E=d("div"),x=d("button"),F=N(R),L=S(),M&&M.c(),this.h()},l(U){e=h(U,"DIV",{});var $=v(e);t=h($,"DIV",{class:!0});var Z=v(t);l=h(Z,"DIV",{class:!0});var q=v(l);r=O(q,a),q.forEach(u),o=A(Z),i=h(Z,"BUTTON",{class:!0,"data-svelte-h":!0}),Ue(i)!=="svelte-745w2y"&&(i.innerHTML=f),Z.forEach(u),m=A($),g=h($,"DIV",{class:!0});var P=v(g);p=h(P,"DIV",{class:!0});var W=v(p);_=h(W,"FORM",{class:!0});var K=v(_);b=h(K,"DIV",{class:!0});var G=v(b);w=h(G,"TEXTAREA",{class:!0,rows:!0,placeholder:!0}),v(w).forEach(u),y=A(G),T=h(G,"DIV",{class:!0});var J=v(T);C=O(J,"â“˜ "),D=O(J,V),J.forEach(u),G.forEach(u),I=A(K),E=h(K,"DIV",{class:!0});var te=v(E);x=h(te,"BUTTON",{class:!0,type:!0});var le=v(x);F=O(le,R),L=A(le),M&&M.l(le),le.forEach(u),te.forEach(u),K.forEach(u),W.forEach(u),P.forEach(u),$.forEach(u),this.h()},h(){c(l,"class","text-lg font-medium self-center"),c(i,"class","self-center"),c(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4 pb-2"),c(w,"class","bg-transparent w-full text-sm resize-none rounded-xl p-3 outline outline-1 outline-gray-100 dark:outline-gray-800"),c(w,"rows","3"),c(w,"placeholder",k=s[3].t("Enter a detail about yourself for your LLMs to recall")),c(T,"class","text-xs text-gray-500"),c(b,"class",""),c(x,"class",Y="px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-3xl flex flex-row space-x-1 items-center "+(s[1]?" cursor-not-allowed":"")),c(x,"type","submit"),x.disabled=s[1],c(E,"class","flex justify-end pt-1 text-sm font-medium"),c(_,"class","flex flex-col w-full"),c(p,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),c(g,"class","flex flex-col md:flex-row w-full px-5 pb-4 md:space-x-4 dark:text-gray-200")},m(U,$){z(U,e,$),n(e,t),n(t,l),n(l,r),n(t,o),n(t,i),n(e,m),n(e,g),n(g,p),n(p,_),n(_,b),n(b,w),ze(w,s[2]),n(b,y),n(b,T),n(T,C),n(T,D),n(_,I),n(_,E),n(E,x),n(x,F),n(x,L),M&&M.m(x,null),j||(B=[X(i,"click",s[7]),X(w,"input",s[8]),X(_,"submit",$l(s[9]))],j=!0)},p(U,$){$&8&&a!==(a=U[3].t("Edit Memory")+"")&&H(r,a),$&8&&k!==(k=U[3].t("Enter a detail about yourself for your LLMs to recall"))&&c(w,"placeholder",k),$&4&&ze(w,U[2]),$&8&&V!==(V=U[3].t('Refer to yourself as "User" (e.g., "User is learning Spanish")')+"")&&H(D,V),$&8&&R!==(R=U[3].t("Update")+"")&&H(F,R),U[1]?M||(M=Mr(),M.c(),M.m(x,null)):M&&(M.d(1),M=null),$&2&&Y!==(Y="px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-3xl flex flex-row space-x-1 items-center "+(U[1]?" cursor-not-allowed":""))&&c(x,"class",Y),$&2&&(x.disabled=U[1])},d(U){U&&u(e),M&&M.d(),j=!1,dt(B)}}}function _c(s){let e,t,l;function a(o){s[10](o)}let r={size:"sm",$$slots:{default:[mc]},$$scope:{ctx:s}};return s[0]!==void 0&&(r.show=s[0]),e=new jl({props:r}),mt.push(()=>Et(e,"show",a)),{c(){me(e.$$.fragment)},l(o){_e(e.$$.fragment,o)},m(o,i){pe(e,o,i),l=!0},p(o,[i]){const f={};i&8207&&(f.$$scope={dirty:i,ctx:o}),!t&&i&1&&(t=!0,f.show=o[0],yt(()=>t=!1)),e.$set(f)},i(o){l||(ee(e.$$.fragment,o),l=!0)},o(o){se(e.$$.fragment,o),l=!1},d(o){ge(e,o)}}}function pc(s,e,t){let l;const a=ul();let{show:r}=e,{memory:o={}}=e;const i=gt("i18n");Be(s,i,y=>t(3,l=y));let f=!1,m="";const g=()=>{t(2,m=o.content)},p=async()=>{t(1,f=!0);const y=await _o(localStorage.token,o.id,m).catch(T=>(Ke.error(T),null));y&&(console.log(y),Ke.success(l.t("Memory updated successfully")),a("save"),t(0,r=!1)),t(1,f=!1)},_=()=>{t(0,r=!1)};function b(){m=this.value,t(2,m)}const w=()=>{p()};function k(y){r=y,t(0,r)}return s.$$set=y=>{"show"in y&&t(0,r=y.show),"memory"in y&&t(6,o=y.memory)},s.$$.update=()=>{s.$$.dirty&1&&r&&g()},[r,f,m,l,i,p,o,_,b,w,k]}class gc extends nt{constructor(e){super(),ot(this,e,pc,_c,rt,{show:0,memory:6})}}function Sr(s,e,t){const l=s.slice();return l[19]=e[t],l}function bc(s){let e,t,l=s[5].t("Memories accessible by LLMs will be shown here.")+"",a;return{c(){e=d("div"),t=d("div"),a=N(l),this.h()},l(r){e=h(r,"DIV",{class:!0});var o=v(e);t=h(o,"DIV",{class:!0});var i=v(t);a=O(i,l),i.forEach(u),o.forEach(u),this.h()},h(){c(t,"class","my-auto pb-10 px-4 w-full text-gray-500"),c(e,"class","text-center flex h-full text-sm w-full")},m(r,o){z(r,e,o),n(e,t),n(t,a)},p(r,o){o&32&&l!==(l=r[5].t("Memories accessible by LLMs will be shown here.")+"")&&H(a,l)},i:Pe,o:Pe,d(r){r&&u(e)}}}function wc(s){let e,t,l,a,r,o,i=s[5].t("Name")+"",f,m,g,p=s[5].t("Last Modified")+"",_,b,w,k,y,T,C=at(s[1]),V=[];for(let I=0;I<C.length;I+=1)V[I]=Ar(Sr(s,C,I));const D=I=>se(V[I],1,1,()=>{V[I]=null});return{c(){e=d("div"),t=d("div"),l=d("table"),a=d("thead"),r=d("tr"),o=d("th"),f=N(i),m=S(),g=d("th"),_=N(p),b=S(),w=d("th"),k=S(),y=d("tbody");for(let I=0;I<V.length;I+=1)V[I].c();this.h()},l(I){e=h(I,"DIV",{class:!0});var E=v(e);t=h(E,"DIV",{class:!0});var x=v(t);l=h(x,"TABLE",{class:!0});var R=v(l);a=h(R,"THEAD",{class:!0});var F=v(a);r=h(F,"TR",{});var L=v(r);o=h(L,"TH",{scope:!0,class:!0});var Y=v(o);f=O(Y,i),Y.forEach(u),m=A(L),g=h(L,"TH",{scope:!0,class:!0});var j=v(g);_=O(j,p),j.forEach(u),b=A(L),w=h(L,"TH",{scope:!0,class:!0}),v(w).forEach(u),L.forEach(u),F.forEach(u),k=A(R),y=h(R,"TBODY",{});var B=v(y);for(let M=0;M<V.length;M+=1)V[M].l(B);B.forEach(u),R.forEach(u),x.forEach(u),E.forEach(u),this.h()},h(){c(o,"scope","col"),c(o,"class","px-3 py-2"),c(g,"scope","col"),c(g,"class","px-3 py-2 hidden md:flex"),c(w,"scope","col"),c(w,"class","px-3 py-2 text-right"),c(a,"class","text-xs text-gray-700 uppercase bg-transparent dark:text-gray-200 border-b-2 dark:border-gray-800"),c(l,"class","w-full text-sm text-left text-gray-600 dark:text-gray-400 table-auto"),c(t,"class","relative overflow-x-auto"),c(e,"class","text-left text-sm w-full mb-4 overflow-y-scroll")},m(I,E){z(I,e,E),n(e,t),n(t,l),n(l,a),n(a,r),n(r,o),n(o,f),n(r,m),n(r,g),n(g,_),n(r,b),n(r,w),n(l,k),n(l,y);for(let x=0;x<V.length;x+=1)V[x]&&V[x].m(y,null);T=!0},p(I,E){if((!T||E&32)&&i!==(i=I[5].t("Name")+"")&&H(f,i),(!T||E&32)&&p!==(p=I[5].t("Last Modified")+"")&&H(_,p),E&58){C=at(I[1]);let x;for(x=0;x<C.length;x+=1){const R=Sr(I,C,x);V[x]?(V[x].p(R,E),ee(V[x],1)):(V[x]=Ar(R),V[x].c(),ee(V[x],1),V[x].m(y,null))}for(wt(),x=C.length;x<V.length;x+=1)D(x);kt()}},i(I){if(!T){for(let E=0;E<C.length;E+=1)ee(V[E]);T=!0}},o(I){V=V.filter(Boolean);for(let E=0;E<V.length;E+=1)se(V[E]);T=!1},d(I){I&&u(e),Pt(V,I)}}}function kc(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4 s-FoVA_WMOgxUD"><path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125" class="s-FoVA_WMOgxUD"></path></svg>',l,a;function r(){return s[9](s[19])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(o){e=h(o,"BUTTON",{class:!0,"data-svelte-h":!0}),Ue(e)!=="svelte-1hkti8u"&&(e.innerHTML=t),this.h()},h(){c(e,"class","self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl")},m(o,i){z(o,e,i),l||(a=X(e,"click",r),l=!0)},p(o,i){s=o},d(o){o&&u(e),l=!1,a()}}}function yc(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"></path></svg>',l,a;function r(){return s[10](s[19])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(o){e=h(o,"BUTTON",{class:!0,"data-svelte-h":!0}),Ue(e)!=="svelte-12t315d"&&(e.innerHTML=t),this.h()},h(){c(e,"class","self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl")},m(o,i){z(o,e,i),l||(a=X(e,"click",r),l=!0)},p(o,i){s=o},d(o){o&&u(e),l=!1,a()}}}function Ar(s){let e,t,l,a=s[19].content+"",r,o,i,f,m=Ts(s[19].updated_at*1e3).format(s[5].t("MMMM DD, YYYY hh:mm:ss A"))+"",g,p,_,b,w,k,y,T,C;return w=new Zt({props:{content:"Edit",$$slots:{default:[kc]},$$scope:{ctx:s}}}),y=new Zt({props:{content:"Delete",$$slots:{default:[yc]},$$scope:{ctx:s}}}),{c(){e=d("tr"),t=d("td"),l=d("div"),r=N(a),o=S(),i=d("td"),f=d("div"),g=N(m),p=S(),_=d("td"),b=d("div"),me(w.$$.fragment),k=S(),me(y.$$.fragment),T=S(),this.h()},l(V){e=h(V,"TR",{class:!0});var D=v(e);t=h(D,"TD",{class:!0});var I=v(t);l=h(I,"DIV",{class:!0});var E=v(l);r=O(E,a),E.forEach(u),I.forEach(u),o=A(D),i=h(D,"TD",{class:!0});var x=v(i);f=h(x,"DIV",{class:!0});var R=v(f);g=O(R,m),R.forEach(u),x.forEach(u),p=A(D),_=h(D,"TD",{class:!0});var F=v(_);b=h(F,"DIV",{class:!0});var L=v(b);_e(w.$$.fragment,L),k=A(L),_e(y.$$.fragment,L),L.forEach(u),F.forEach(u),T=A(D),D.forEach(u),this.h()},h(){c(l,"class","line-clamp-1"),c(t,"class","px-3 py-1"),c(f,"class","my-auto whitespace-nowrap"),c(i,"class","px-3 py-1 hidden md:flex h-[2.5rem]"),c(b,"class","flex justify-end w-full"),c(_,"class","px-3 py-1"),c(e,"class","border-b dark:border-gray-800 items-center")},m(V,D){z(V,e,D),n(e,t),n(t,l),n(l,r),n(e,o),n(e,i),n(i,f),n(f,g),n(e,p),n(e,_),n(_,b),pe(w,b,null),n(b,k),pe(y,b,null),n(e,T),C=!0},p(V,D){(!C||D&2)&&a!==(a=V[19].content+"")&&H(r,a),(!C||D&34)&&m!==(m=Ts(V[19].updated_at*1e3).format(V[5].t("MMMM DD, YYYY hh:mm:ss A"))+"")&&H(g,m);const I={};D&4194330&&(I.$$scope={dirty:D,ctx:V}),w.$set(I);const E={};D&4194338&&(E.$$scope={dirty:D,ctx:V}),y.$set(E)},i(V){C||(ee(w.$$.fragment,V),ee(y.$$.fragment,V),C=!0)},o(V){se(w.$$.fragment,V),se(y.$$.fragment,V),C=!1},d(V){V&&u(e),ge(w),ge(y)}}}function Ec(s){let e,t,l,a=s[5].t("Memory")+"",r,o,i,f='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',m,g,p,_,b,w,k,y,T=s[5].t("Add Memory")+"",C,V,D,I=s[5].t("Clear memory")+"",E,x,R,F;const L=[wc,bc],Y=[];function j(B,M){return B[1].length>0?0:1}return _=j(s),b=Y[_]=L[_](s),{c(){e=d("div"),t=d("div"),l=d("div"),r=N(a),o=S(),i=d("button"),i.innerHTML=f,m=S(),g=d("div"),p=d("div"),b.c(),w=S(),k=d("div"),y=d("button"),C=N(T),V=S(),D=d("button"),E=N(I),this.h()},l(B){e=h(B,"DIV",{});var M=v(e);t=h(M,"DIV",{class:!0});var U=v(t);l=h(U,"DIV",{class:!0});var $=v(l);r=O($,a),$.forEach(u),o=A(U),i=h(U,"BUTTON",{class:!0,"data-svelte-h":!0}),Ue(i)!=="svelte-745w2y"&&(i.innerHTML=f),U.forEach(u),m=A(M),g=h(M,"DIV",{class:!0});var Z=v(g);p=h(Z,"DIV",{class:!0});var q=v(p);b.l(q),q.forEach(u),w=A(Z),k=h(Z,"DIV",{class:!0});var P=v(k);y=h(P,"BUTTON",{class:!0});var W=v(y);C=O(W,T),W.forEach(u),V=A(P),D=h(P,"BUTTON",{class:!0});var K=v(D);E=O(K,I),K.forEach(u),P.forEach(u),Z.forEach(u),M.forEach(u),this.h()},h(){c(l,"class","text-lg font-medium self-center"),c(i,"class","self-center"),c(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4 pb-1"),c(p,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6 h-[28rem] max-h-screen outline outline-1 rounded-xl outline-gray-100 dark:outline-gray-800 mb-4 mt-1"),c(y,"class","px-3.5 py-1.5 font-medium hover:bg-black/5 dark:hover:bg-white/5 outline outline-1 outline-gray-300 dark:outline-gray-800 rounded-3xl"),c(D,"class","px-3.5 py-1.5 font-medium text-red-500 hover:bg-black/5 dark:hover:bg-white/5 outline outline-1 outline-red-300 dark:outline-red-800 rounded-3xl"),c(k,"class","flex text-sm font-medium gap-1.5"),c(g,"class","flex flex-col w-full px-5 pb-5 dark:text-gray-200")},m(B,M){z(B,e,M),n(e,t),n(t,l),n(l,r),n(t,o),n(t,i),n(e,m),n(e,g),n(g,p),Y[_].m(p,null),n(g,w),n(g,k),n(k,y),n(y,C),n(k,V),n(k,D),n(D,E),x=!0,R||(F=[X(i,"click",s[8]),X(y,"click",s[11]),X(D,"click",s[12])],R=!0)},p(B,M){(!x||M&32)&&a!==(a=B[5].t("Memory")+"")&&H(r,a);let U=_;_=j(B),_===U?Y[_].p(B,M):(wt(),se(Y[U],1,1,()=>{Y[U]=null}),kt(),b=Y[_],b?b.p(B,M):(b=Y[_]=L[_](B),b.c()),ee(b,1),b.m(p,null)),(!x||M&32)&&T!==(T=B[5].t("Add Memory")+"")&&H(C,T),(!x||M&32)&&I!==(I=B[5].t("Clear memory")+"")&&H(E,I)},i(B){x||(ee(b),x=!0)},o(B){se(b),x=!1},d(B){B&&u(e),Y[_].d(),R=!1,dt(F)}}}function Ic(s){let e,t,l,a,r,o,i,f,m;function g(y){s[13](y)}let p={size:"xl",$$slots:{default:[Ec]},$$scope:{ctx:s}};s[0]!==void 0&&(p.show=s[0]),e=new jl({props:p}),mt.push(()=>Et(e,"show",g));function _(y){s[14](y)}let b={};s[2]!==void 0&&(b.show=s[2]),a=new vc({props:b}),mt.push(()=>Et(a,"show",_)),a.$on("save",s[15]);function w(y){s[16](y)}let k={memory:s[4]};return s[3]!==void 0&&(k.show=s[3]),i=new gc({props:k}),mt.push(()=>Et(i,"show",w)),i.$on("save",s[17]),{c(){me(e.$$.fragment),l=S(),me(a.$$.fragment),o=S(),me(i.$$.fragment)},l(y){_e(e.$$.fragment,y),l=A(y),_e(a.$$.fragment,y),o=A(y),_e(i.$$.fragment,y)},m(y,T){pe(e,y,T),z(y,l,T),pe(a,y,T),z(y,o,T),pe(i,y,T),m=!0},p(y,[T]){const C={};T&4194367&&(C.$$scope={dirty:T,ctx:y}),!t&&T&1&&(t=!0,C.show=y[0],yt(()=>t=!1)),e.$set(C);const V={};!r&&T&4&&(r=!0,V.show=y[2],yt(()=>r=!1)),a.$set(V);const D={};T&16&&(D.memory=y[4]),!f&&T&8&&(f=!0,D.show=y[3],yt(()=>f=!1)),i.$set(D)},i(y){m||(ee(e.$$.fragment,y),ee(a.$$.fragment,y),ee(i.$$.fragment,y),m=!0)},o(y){se(e.$$.fragment,y),se(a.$$.fragment,y),se(i.$$.fragment,y),m=!1},d(y){y&&(u(l),u(o)),ge(e,y),ge(a,y),ge(i,y)}}}function Dc(s,e,t){let l;ul();const a=gt("i18n");Be(s,a,I=>t(5,l=I));let{show:r=!1}=e,o=[],i=!0,f=!1,m=!1,g=null;const p=()=>{t(0,r=!1)},_=I=>{t(4,g=I),t(3,m=!0)},b=async I=>{await po(localStorage.token,I.id).catch(x=>(Ke.error(x),null))&&(Ke.success(l.t("Memory deleted successfully")),t(1,o=await ys(localStorage.token)))},w=()=>{t(2,f=!0)},k=async()=>{await go(localStorage.token).catch(E=>(Ke.error(E),null))&&(Ke.success(l.t("Memory cleared successfully")),t(1,o=[]))};function y(I){r=I,t(0,r)}function T(I){f=I,t(2,f)}const C=async()=>{t(1,o=await ys(localStorage.token))};function V(I){m=I,t(3,m)}const D=async()=>{t(1,o=await ys(localStorage.token))};return s.$$set=I=>{"show"in I&&t(0,r=I.show)},s.$$.update=()=>{s.$$.dirty&131&&r&&o.length===0&&i&&(async()=>(t(1,o=await ys(localStorage.token)),t(7,i=!1)))()},[r,o,f,m,g,l,a,i,p,_,b,w,k,y,T,C,V,D]}class Vc extends nt{constructor(e){super(),ot(this,e,Dc,Ic,rt,{show:0})}}function Tc(s){let e,t=s[3].t("Memory")+"",l,a,r,o,i=s[3].t("Experimental")+"",f,m;return{c(){e=d("div"),l=N(t),a=S(),r=d("span"),o=N("("),f=N(i),m=N(")"),this.h()},l(g){e=h(g,"DIV",{class:!0});var p=v(e);l=O(p,t),a=A(p),r=h(p,"SPAN",{class:!0});var _=v(r);o=O(_,"("),f=O(_,i),m=O(_,")"),_.forEach(u),p.forEach(u),this.h()},h(){c(r,"class","text-xs text-gray-500"),c(e,"class","text-sm font-medium")},m(g,p){z(g,e,p),n(e,l),n(e,a),n(e,r),n(r,o),n(r,f),n(r,m)},p(g,p){p&8&&t!==(t=g[3].t("Memory")+"")&&H(l,t),p&8&&i!==(i=g[3].t("Experimental")+"")&&H(f,i)},d(g){g&&u(e)}}}function Cc(s){let e,t,l,a,r,o,i,f,m,g,p,_,b,w,k,y=s[3].t("You can personalize your interactions with LLMs by adding memories through the 'Manage' button below, making them more helpful and tailored to you.")+"",T,C,V,D,I=s[3].t("Manage")+"",E,x,R,F,L=s[3].t("Save")+"",Y,j,B,M;function U(P){s[6](P)}let $={};s[1]!==void 0&&($.show=s[1]),e=new Vc({props:$}),mt.push(()=>Et(e,"show",U)),f=new Zt({props:{content:s[3].t("This is an experimental feature, it may not function as expected and is subject to change at any time."),$$slots:{default:[Tc]},$$scope:{ctx:s}}});function Z(P){s[7](P)}let q={};return s[2]!==void 0&&(q.state=s[2]),p=new bn({props:q}),mt.push(()=>Et(p,"state",Z)),p.$on("change",s[8]),{c(){me(e.$$.fragment),l=S(),a=d("form"),r=d("div"),o=d("div"),i=d("div"),me(f.$$.fragment),m=S(),g=d("div"),me(p.$$.fragment),b=S(),w=d("div"),k=d("div"),T=N(y),C=S(),V=d("div"),D=d("button"),E=N(I),x=S(),R=d("div"),F=d("button"),Y=N(L),this.h()},l(P){_e(e.$$.fragment,P),l=A(P),a=h(P,"FORM",{class:!0});var W=v(a);r=h(W,"DIV",{class:!0});var K=v(r);o=h(K,"DIV",{});var G=v(o);i=h(G,"DIV",{class:!0});var J=v(i);_e(f.$$.fragment,J),m=A(J),g=h(J,"DIV",{class:!0});var te=v(g);_e(p.$$.fragment,te),te.forEach(u),J.forEach(u),G.forEach(u),b=A(K),w=h(K,"DIV",{class:!0});var le=v(w);k=h(le,"DIV",{});var ie=v(k);T=O(ie,y),ie.forEach(u),le.forEach(u),C=A(K),V=h(K,"DIV",{class:!0});var he=v(V);D=h(he,"BUTTON",{type:!0,class:!0});var Ee=v(D);E=O(Ee,I),Ee.forEach(u),he.forEach(u),K.forEach(u),x=A(W),R=h(W,"DIV",{class:!0});var Oe=v(R);F=h(Oe,"BUTTON",{class:!0,type:!0});var Se=v(F);Y=O(Se,L),Se.forEach(u),Oe.forEach(u),W.forEach(u),this.h()},h(){c(g,"class",""),c(i,"class","flex items-center justify-between mb-1"),c(w,"class","text-xs text-gray-600 dark:text-gray-400"),c(D,"type","button"),c(D,"class","px-3.5 py-1.5 font-medium hover:bg-black/5 dark:hover:bg-white/5 outline outline-1 outline-gray-300 dark:outline-gray-800 rounded-3xl"),c(V,"class","mt-3 mb-1 ml-1"),c(r,"class","pr-1.5 py-1 overflow-y-scroll max-h-[25rem]"),c(F,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),c(F,"type","submit"),c(R,"class","flex justify-end text-sm font-medium"),c(a,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(P,W){pe(e,P,W),z(P,l,W),z(P,a,W),n(a,r),n(r,o),n(o,i),pe(f,i,null),n(i,m),n(i,g),pe(p,g,null),n(r,b),n(r,w),n(w,k),n(k,T),n(r,C),n(r,V),n(V,D),n(D,E),n(a,x),n(a,R),n(R,F),n(F,Y),j=!0,B||(M=[X(D,"click",s[9]),X(a,"submit",$l(s[10]))],B=!0)},p(P,[W]){const K={};!t&&W&2&&(t=!0,K.show=P[1],yt(()=>t=!1)),e.$set(K);const G={};W&8&&(G.content=P[3].t("This is an experimental feature, it may not function as expected and is subject to change at any time.")),W&4104&&(G.$$scope={dirty:W,ctx:P}),f.$set(G);const J={};!_&&W&4&&(_=!0,J.state=P[2],yt(()=>_=!1)),p.$set(J),(!j||W&8)&&y!==(y=P[3].t("You can personalize your interactions with LLMs by adding memories through the 'Manage' button below, making them more helpful and tailored to you.")+"")&&H(T,y),(!j||W&8)&&I!==(I=P[3].t("Manage")+"")&&H(E,I),(!j||W&8)&&L!==(L=P[3].t("Save")+"")&&H(Y,L)},i(P){j||(ee(e.$$.fragment,P),ee(f.$$.fragment,P),ee(p.$$.fragment,P),j=!0)},o(P){se(e.$$.fragment,P),se(f.$$.fragment,P),se(p.$$.fragment,P),j=!1},d(P){P&&(u(l),u(a)),ge(e,P),ge(f),ge(p),B=!1,dt(M)}}}function Mc(s,e,t){let l,a;Be(s,gl,k=>t(11,l=k));const r=ul(),o=gt("i18n");Be(s,o,k=>t(3,a=k));let{saveSettings:i}=e,f=!1,m=!1;Ft(async()=>{t(2,m=(l==null?void 0:l.memory)??!1)});function g(k){f=k,t(1,f)}function p(k){m=k,t(2,m)}const _=async()=>{i({memory:m})},b=()=>{t(1,f=!0)},w=()=>{r("save")};return s.$$set=k=>{"saveSettings"in k&&t(0,i=k.saveSettings)},[i,f,m,a,r,o,g,p,_,b,w]}class Sc extends nt{constructor(e){super(),ot(this,e,Mc,Cc,rt,{saveSettings:0})}}function Lr(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-4"><path fill-rule="evenodd" d="M4.5 3.75a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3V6.75a3 3 0 0 0-3-3h-15Zm4.125 3a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Zm-3.873 8.703a4.126 4.126 0 0 1 7.746 0 .75.75 0 0 1-.351.92 7.47 7.47 0 0 1-3.522.877 7.47 7.47 0 0 1-3.522-.877.75.75 0 0 1-.351-.92ZM15 8.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15ZM14.25 12a.75.75 0 0 1 .75-.75h3.75a.75.75 0 0 1 0 1.5H15a.75.75 0 0 1-.75-.75Zm.75 2.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15Z" clip-rule="evenodd"></path></svg>',a,r,o=s[2].t("Admin Settings")+"",i,f,m,g;return{c(){e=d("button"),t=d("div"),t.innerHTML=l,a=S(),r=d("div"),i=N(o),this.h()},l(p){e=h(p,"BUTTON",{class:!0});var _=v(e);t=h(_,"DIV",{class:!0,"data-svelte-h":!0}),Ue(t)!=="svelte-wp87ko"&&(t.innerHTML=l),a=A(_),r=h(_,"DIV",{class:!0});var b=v(r);i=O(b,o),b.forEach(u),_.forEach(u),this.h()},h(){c(t,"class","self-center mr-2"),c(r,"class","self-center"),c(e,"class",f="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(s[1]==="admin"?"bg-gray-200 dark:bg-gray-800":" hover:bg-gray-100 dark:hover:bg-gray-850"))},m(p,_){z(p,e,_),n(e,t),n(e,a),n(e,r),n(r,i),m||(g=X(e,"click",s[14]),m=!0)},p(p,_){_&4&&o!==(o=p[2].t("Admin Settings")+"")&&H(i,o),_&2&&f!==(f="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(p[1]==="admin"?"bg-gray-200 dark:bg-gray-800":" hover:bg-gray-100 dark:hover:bg-gray-850"))&&c(e,"class",f)},d(p){p&&u(e),m=!1,g()}}}function Ac(s){let e,t;return e=new oi({}),{c(){me(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){pe(e,l,a),t=!0},p:Pe,i(l){t||(ee(e.$$.fragment,l),t=!0)},o(l){se(e.$$.fragment,l),t=!1},d(l){ge(e,l)}}}function Lc(s){let e,t;return e=new si({props:{saveHandler:s[20]}}),{c(){me(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){pe(e,l,a),t=!0},p(l,a){const r={};a&4&&(r.saveHandler=l[20]),e.$set(r)},i(l){t||(ee(e.$$.fragment,l),t=!0)},o(l){se(e.$$.fragment,l),t=!1},d(l){ge(e,l)}}}function Bc(s){let e,t;return e=new oc({props:{saveSettings:s[5]}}),{c(){me(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){pe(e,l,a),t=!0},p:Pe,i(l){t||(ee(e.$$.fragment,l),t=!0)},o(l){se(e.$$.fragment,l),t=!1},d(l){ge(e,l)}}}function xc(s){let e,t;return e=new ec({props:{saveSettings:s[5]}}),e.$on("save",s[19]),{c(){me(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){pe(e,l,a),t=!0},p:Pe,i(l){t||(ee(e.$$.fragment,l),t=!0)},o(l){se(e.$$.fragment,l),t=!1},d(l){ge(e,l)}}}function Nc(s){let e,t;return e=new Sc({props:{saveSettings:s[5]}}),e.$on("save",s[18]),{c(){me(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){pe(e,l,a),t=!0},p:Pe,i(l){t||(ee(e.$$.fragment,l),t=!0)},o(l){se(e.$$.fragment,l),t=!1},d(l){ge(e,l)}}}function Oc(s){let e,t;return e=new Zi({props:{saveSettings:s[5]}}),e.$on("save",s[17]),{c(){me(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){pe(e,l,a),t=!0},p:Pe,i(l){t||(ee(e.$$.fragment,l),t=!0)},o(l){se(e.$$.fragment,l),t=!1},d(l){ge(e,l)}}}function Hc(s){let e,t;return e=new _i({props:{getModels:s[6],saveSettings:s[5]}}),e.$on("save",s[16]),{c(){me(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){pe(e,l,a),t=!0},p:Pe,i(l){t||(ee(e.$$.fragment,l),t=!0)},o(l){se(e.$$.fragment,l),t=!1},d(l){ge(e,l)}}}function Uc(s){let e,t,l,a=s[2].t("Settings")+"",r,o,i,f='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',m,g,p,_,b,w='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M8.34 1.804A1 1 0 019.32 1h1.36a1 1 0 01.98.804l.295 1.473c.497.144.971.342 1.416.587l1.25-.834a1 1 0 011.262.125l.962.962a1 1 0 01.125 1.262l-.834 1.25c.245.445.443.919.587 1.416l1.473.294a1 1 0 01.804.98v1.361a1 1 0 01-.804.98l-1.473.295a6.95 6.95 0 01-.587 1.416l.834 1.25a1 1 0 01-.125 1.262l-.962.962a1 1 0 01-1.262.125l-1.25-.834a6.953 6.953 0 01-1.416.587l-.294 1.473a1 1 0 01-.98.804H9.32a1 1 0 01-.98-.804l-.295-1.473a6.957 6.957 0 01-1.416-.587l-1.25.834a1 1 0 01-1.262-.125l-.962-.962a1 1 0 01-.125-1.262l.834-1.25a6.957 6.957 0 01-.587-1.416l-1.473-.294A1 1 0 011 10.68V9.32a1 1 0 01.804-.98l1.473-.295c.144-.497.342-.971.587-1.416l-.834-1.25a1 1 0 01.125-1.262l.962-.962A1 1 0 015.38 3.03l1.25.834a6.957 6.957 0 011.416-.587l.294-1.473zM13 10a3 3 0 11-6 0 3 3 0 016 0z" clip-rule="evenodd"></path></svg>',k,y,T=s[2].t("General")+"",C,V,D,I,E,x='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M2 4.25A2.25 2.25 0 0 1 4.25 2h7.5A2.25 2.25 0 0 1 14 4.25v5.5A2.25 2.25 0 0 1 11.75 12h-1.312c.1.128.21.248.328.36a.75.75 0 0 1 .234.545v.345a.75.75 0 0 1-.75.75h-4.5a.75.75 0 0 1-.75-.75v-.345a.75.75 0 0 1 .234-.545c.118-.111.228-.232.328-.36H4.25A2.25 2.25 0 0 1 2 9.75v-5.5Zm2.25-.75a.75.75 0 0 0-.75.75v4.5c0 .414.336.75.75.75h7.5a.75.75 0 0 0 .75-.75v-4.5a.75.75 0 0 0-.75-.75h-7.5Z" clip-rule="evenodd"></path></svg>',R,F,L=s[2].t("Interface")+"",Y,j,B,M,U,$,Z,q,P=s[2].t("Personalization")+"",W,K,G,J,te,le='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M7.557 2.066A.75.75 0 0 1 8 2.75v10.5a.75.75 0 0 1-1.248.56L3.59 11H2a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h1.59l3.162-2.81a.75.75 0 0 1 .805-.124ZM12.95 3.05a.75.75 0 1 0-1.06 1.06 5.5 5.5 0 0 1 0 7.78.75.75 0 1 0 1.06 1.06 7 7 0 0 0 0-9.9Z"></path><path d="M10.828 5.172a.75.75 0 1 0-1.06 1.06 2.5 2.5 0 0 1 0 3.536.75.75 0 1 0 1.06 1.06 4 4 0 0 0 0-5.656Z"></path></svg>',ie,he,Ee=s[2].t("Audio")+"",Oe,Se,He,ve,de,ne='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M8 2C4.262 2 1 4.57 1 8c0 1.86.98 3.486 2.455 4.566a3.472 3.472 0 0 1-.469 1.26.75.75 0 0 0 .713 1.14 6.961 6.961 0 0 0 3.06-1.06c.403.062.818.094 1.241.094 3.738 0 7-2.57 7-6s-3.262-6-7-6ZM5 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm7-1a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM8 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z" clip-rule="evenodd"></path></svg>',Ie,Q,ce=s[2].t("Chats")+"",Ve,Me,oe,De,xe,Ce='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15 8A7 7 0 1 1 1 8a7 7 0 0 1 14 0Zm-5-2a2 2 0 1 1-4 0 2 2 0 0 1 4 0ZM8 9c-1.825 0-3.422.977-4.295 2.437A5.49 5.49 0 0 0 8 13.5a5.49 5.49 0 0 0 4.294-2.063A4.997 4.997 0 0 0 8 9Z" clip-rule="evenodd"></path></svg>',Re,be,ye=s[2].t("Account")+"",it,ae,fe,we,Ae,$e,We='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z" clip-rule="evenodd"></path></svg>',Ge,ht,Je=s[2].t("About")+"",ct,ut,Ze,et,tt,Fe,Ne,Xe,Vt;$=new uc({});let Qe=s[3].role==="admin"&&Lr(s);const _t=[Hc,Oc,Nc,xc,Bc,Lc,Ac],je=[];function Te(ue,ke){return ue[1]==="general"?0:ue[1]==="interface"?1:ue[1]==="personalization"?2:ue[1]==="audio"?3:ue[1]==="chats"?4:ue[1]==="account"?5:ue[1]==="about"?6:-1}return~(tt=Te(s))&&(Fe=je[tt]=_t[tt](s)),{c(){e=d("div"),t=d("div"),l=d("div"),r=N(a),o=S(),i=d("button"),i.innerHTML=f,m=S(),g=d("div"),p=d("div"),_=d("button"),b=d("div"),b.innerHTML=w,k=S(),y=d("div"),C=N(T),D=S(),I=d("button"),E=d("div"),E.innerHTML=x,R=S(),F=d("div"),Y=N(L),B=S(),M=d("button"),U=d("div"),me($.$$.fragment),Z=S(),q=d("div"),W=N(P),G=S(),J=d("button"),te=d("div"),te.innerHTML=le,ie=S(),he=d("div"),Oe=N(Ee),He=S(),ve=d("button"),de=d("div"),de.innerHTML=ne,Ie=S(),Q=d("div"),Ve=N(ce),oe=S(),De=d("button"),xe=d("div"),xe.innerHTML=Ce,Re=S(),be=d("div"),it=N(ye),fe=S(),Qe&&Qe.c(),we=S(),Ae=d("button"),$e=d("div"),$e.innerHTML=We,Ge=S(),ht=d("div"),ct=N(Je),Ze=S(),et=d("div"),Fe&&Fe.c(),this.h()},l(ue){e=h(ue,"DIV",{class:!0});var ke=v(e);t=h(ke,"DIV",{class:!0});var Ye=v(t);l=h(Ye,"DIV",{class:!0});var At=v(l);r=O(At,a),At.forEach(u),o=A(Ye),i=h(Ye,"BUTTON",{class:!0,"data-svelte-h":!0}),Ue(i)!=="svelte-745w2y"&&(i.innerHTML=f),Ye.forEach(u),m=A(ke),g=h(ke,"DIV",{class:!0});var Lt=v(g);p=h(Lt,"DIV",{id:!0,class:!0});var vt=v(p);_=h(vt,"BUTTON",{class:!0});var It=v(_);b=h(It,"DIV",{class:!0,"data-svelte-h":!0}),Ue(b)!=="svelte-qy1dha"&&(b.innerHTML=w),k=A(It),y=h(It,"DIV",{class:!0});var Ht=v(y);C=O(Ht,T),Ht.forEach(u),It.forEach(u),D=A(vt),I=h(vt,"BUTTON",{class:!0});var Bt=v(I);E=h(Bt,"DIV",{class:!0,"data-svelte-h":!0}),Ue(E)!=="svelte-16cea28"&&(E.innerHTML=x),R=A(Bt),F=h(Bt,"DIV",{class:!0});var Ct=v(F);Y=O(Ct,L),Ct.forEach(u),Bt.forEach(u),B=A(vt),M=h(vt,"BUTTON",{class:!0});var Mt=v(M);U=h(Mt,"DIV",{class:!0});var $t=v(U);_e($.$$.fragment,$t),$t.forEach(u),Z=A(Mt),q=h(Mt,"DIV",{class:!0});var jt=v(q);W=O(jt,P),jt.forEach(u),Mt.forEach(u),G=A(vt),J=h(vt,"BUTTON",{class:!0});var Yt=v(J);te=h(Yt,"DIV",{class:!0,"data-svelte-h":!0}),Ue(te)!=="svelte-36jwmy"&&(te.innerHTML=le),ie=A(Yt),he=h(Yt,"DIV",{class:!0});var St=v(he);Oe=O(St,Ee),St.forEach(u),Yt.forEach(u),He=A(vt),ve=h(vt,"BUTTON",{class:!0});var qt=v(ve);de=h(qt,"DIV",{class:!0,"data-svelte-h":!0}),Ue(de)!=="svelte-1gtbwe5"&&(de.innerHTML=ne),Ie=A(qt),Q=h(qt,"DIV",{class:!0});var Kt=v(Q);Ve=O(Kt,ce),Kt.forEach(u),qt.forEach(u),oe=A(vt),De=h(vt,"BUTTON",{class:!0});var bt=v(De);xe=h(bt,"DIV",{class:!0,"data-svelte-h":!0}),Ue(xe)!=="svelte-amityv"&&(xe.innerHTML=Ce),Re=A(bt),be=h(bt,"DIV",{class:!0});var zt=v(be);it=O(zt,ye),zt.forEach(u),bt.forEach(u),fe=A(vt),Qe&&Qe.l(vt),we=A(vt),Ae=h(vt,"BUTTON",{class:!0});var Ut=v(Ae);$e=h(Ut,"DIV",{class:!0,"data-svelte-h":!0}),Ue($e)!=="svelte-15t8s7e"&&($e.innerHTML=We),Ge=A(Ut),ht=h(Ut,"DIV",{class:!0});var Rt=v(ht);ct=O(Rt,Je),Rt.forEach(u),Ut.forEach(u),vt.forEach(u),Ze=A(Lt),et=h(Lt,"DIV",{class:!0});var dl=v(et);Fe&&Fe.l(dl),dl.forEach(u),Lt.forEach(u),ke.forEach(u),this.h()},h(){c(l,"class","text-lg font-medium self-center"),c(i,"class","self-center"),c(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4 pb-1"),c(b,"class","self-center mr-2"),c(y,"class","self-center"),c(_,"class",V="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(s[1]==="general"?"bg-gray-200 dark:bg-gray-800":" hover:bg-gray-100 dark:hover:bg-gray-850")),c(E,"class","self-center mr-2"),c(F,"class","self-center"),c(I,"class",j="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(s[1]==="interface"?"bg-gray-200 dark:bg-gray-800":" hover:bg-gray-100 dark:hover:bg-gray-850")),c(U,"class","self-center mr-2"),c(q,"class","self-center"),c(M,"class",K="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(s[1]==="personalization"?"bg-gray-200 dark:bg-gray-800":" hover:bg-gray-100 dark:hover:bg-gray-850")),c(te,"class","self-center mr-2"),c(he,"class","self-center"),c(J,"class",Se="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(s[1]==="audio"?"bg-gray-200 dark:bg-gray-800":" hover:bg-gray-100 dark:hover:bg-gray-850")),c(de,"class","self-center mr-2"),c(Q,"class","self-center"),c(ve,"class",Me="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(s[1]==="chats"?"bg-gray-200 dark:bg-gray-800":" hover:bg-gray-100 dark:hover:bg-gray-850")),c(xe,"class","self-center mr-2"),c(be,"class","self-center"),c(De,"class",ae="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(s[1]==="account"?"bg-gray-200 dark:bg-gray-800":" hover:bg-gray-100 dark:hover:bg-gray-850")),c($e,"class","self-center mr-2"),c(ht,"class","self-center"),c(Ae,"class",ut="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(s[1]==="about"?"bg-gray-200 dark:bg-gray-800":" hover:bg-gray-100 dark:hover:bg-gray-850")),c(p,"id","settings-tabs-container"),c(p,"class","tabs flex flex-row overflow-x-auto space-x-1 md:space-x-0 md:space-y-1 md:flex-col flex-1 md:flex-none md:w-40 dark:text-gray-200 text-xs text-left mb-3 md:mb-0 svelte-1vx7r9s"),c(et,"class","flex-1 md:min-h-[28rem]"),c(g,"class","flex flex-col md:flex-row w-full p-4 md:space-x-4"),c(e,"class","text-gray-700 dark:text-gray-100")},m(ue,ke){z(ue,e,ke),n(e,t),n(t,l),n(l,r),n(t,o),n(t,i),n(e,m),n(e,g),n(g,p),n(p,_),n(_,b),n(_,k),n(_,y),n(y,C),n(p,D),n(p,I),n(I,E),n(I,R),n(I,F),n(F,Y),n(p,B),n(p,M),n(M,U),pe($,U,null),n(M,Z),n(M,q),n(q,W),n(p,G),n(p,J),n(J,te),n(J,ie),n(J,he),n(he,Oe),n(p,He),n(p,ve),n(ve,de),n(ve,Ie),n(ve,Q),n(Q,Ve),n(p,oe),n(p,De),n(De,xe),n(De,Re),n(De,be),n(be,it),n(p,fe),Qe&&Qe.m(p,null),n(p,we),n(p,Ae),n(Ae,$e),n(Ae,Ge),n(Ae,ht),n(ht,ct),n(g,Ze),n(g,et),~tt&&je[tt].m(et,null),Ne=!0,Xe||(Vt=[X(i,"click",s[7]),X(_,"click",s[8]),X(I,"click",s[9]),X(M,"click",s[10]),X(J,"click",s[11]),X(ve,"click",s[12]),X(De,"click",s[13]),X(Ae,"click",s[15])],Xe=!0)},p(ue,ke){(!Ne||ke&4)&&a!==(a=ue[2].t("Settings")+"")&&H(r,a),(!Ne||ke&4)&&T!==(T=ue[2].t("General")+"")&&H(C,T),(!Ne||ke&2&&V!==(V="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(ue[1]==="general"?"bg-gray-200 dark:bg-gray-800":" hover:bg-gray-100 dark:hover:bg-gray-850")))&&c(_,"class",V),(!Ne||ke&4)&&L!==(L=ue[2].t("Interface")+"")&&H(Y,L),(!Ne||ke&2&&j!==(j="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(ue[1]==="interface"?"bg-gray-200 dark:bg-gray-800":" hover:bg-gray-100 dark:hover:bg-gray-850")))&&c(I,"class",j),(!Ne||ke&4)&&P!==(P=ue[2].t("Personalization")+"")&&H(W,P),(!Ne||ke&2&&K!==(K="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(ue[1]==="personalization"?"bg-gray-200 dark:bg-gray-800":" hover:bg-gray-100 dark:hover:bg-gray-850")))&&c(M,"class",K),(!Ne||ke&4)&&Ee!==(Ee=ue[2].t("Audio")+"")&&H(Oe,Ee),(!Ne||ke&2&&Se!==(Se="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(ue[1]==="audio"?"bg-gray-200 dark:bg-gray-800":" hover:bg-gray-100 dark:hover:bg-gray-850")))&&c(J,"class",Se),(!Ne||ke&4)&&ce!==(ce=ue[2].t("Chats")+"")&&H(Ve,ce),(!Ne||ke&2&&Me!==(Me="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(ue[1]==="chats"?"bg-gray-200 dark:bg-gray-800":" hover:bg-gray-100 dark:hover:bg-gray-850")))&&c(ve,"class",Me),(!Ne||ke&4)&&ye!==(ye=ue[2].t("Account")+"")&&H(it,ye),(!Ne||ke&2&&ae!==(ae="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(ue[1]==="account"?"bg-gray-200 dark:bg-gray-800":" hover:bg-gray-100 dark:hover:bg-gray-850")))&&c(De,"class",ae),ue[3].role==="admin"?Qe?Qe.p(ue,ke):(Qe=Lr(ue),Qe.c(),Qe.m(p,we)):Qe&&(Qe.d(1),Qe=null),(!Ne||ke&4)&&Je!==(Je=ue[2].t("About")+"")&&H(ct,Je),(!Ne||ke&2&&ut!==(ut="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(ue[1]==="about"?"bg-gray-200 dark:bg-gray-800":" hover:bg-gray-100 dark:hover:bg-gray-850")))&&c(Ae,"class",ut);let Ye=tt;tt=Te(ue),tt===Ye?~tt&&je[tt].p(ue,ke):(Fe&&(wt(),se(je[Ye],1,1,()=>{je[Ye]=null}),kt()),~tt?(Fe=je[tt],Fe?Fe.p(ue,ke):(Fe=je[tt]=_t[tt](ue),Fe.c()),ee(Fe,1),Fe.m(et,null)):Fe=null)},i(ue){Ne||(ee($.$$.fragment,ue),ee(Fe),Ne=!0)},o(ue){se($.$$.fragment,ue),se(Fe),Ne=!1},d(ue){ue&&u(e),ge($),Qe&&Qe.d(),~tt&&je[tt].d(),Xe=!1,dt(Vt)}}}function Pc(s){let e,t,l;function a(o){s[21](o)}let r={$$slots:{default:[Uc]},$$scope:{ctx:s}};return s[0]!==void 0&&(r.show=s[0]),e=new jl({props:r}),mt.push(()=>Et(e,"show",a)),{c(){me(e.$$.fragment)},l(o){_e(e.$$.fragment,o)},m(o,i){pe(e,o,i),l=!0},p(o,[i]){const f={};i&67108879&&(f.$$scope={dirty:i,ctx:o}),!t&&i&1&&(t=!0,f.show=o[0],yt(()=>t=!1)),e.$set(f)},i(o){l||(ee(e.$$.fragment,o),l=!0)},o(o){se(e.$$.fragment,o),l=!1},d(o){ge(e,o)}}}function $c(s,e,t){let l,a,r;Be(s,gl,B=>t(22,l=B)),Be(s,Ul,B=>t(3,r=B));const o=gt("i18n");Be(s,o,B=>t(2,a=B));let{show:i=!1}=e;const f=async B=>{console.log(B),await gl.set({...l,...B}),await Js.set(await m()),await Ln(localStorage.token,{ui:l})},m=async()=>await dn(localStorage.token);let g="general";const p=B=>{const M=document.getElementById("settings-tabs-container");M&&(B.preventDefault(),M.scrollLeft+=B.deltaY)},_=async()=>{await Vs();const B=document.getElementById("settings-tabs-container");B&&B.addEventListener("wheel",p)},b=async()=>{await Vs();const B=document.getElementById("settings-tabs-container");B&&B.removeEventListener("wheel",p)},w=()=>{t(0,i=!1)},k=()=>{t(1,g="general")},y=()=>{t(1,g="interface")},T=()=>{t(1,g="personalization")},C=()=>{t(1,g="audio")},V=()=>{t(1,g="chats")},D=()=>{t(1,g="account")},I=async()=>{await Sl("/admin/settings"),t(0,i=!1)},E=()=>{t(1,g="about")},x=()=>{Ke.success(a.t("Settings saved successfully!"))},R=()=>{Ke.success(a.t("Settings saved successfully!"))},F=()=>{Ke.success(a.t("Settings saved successfully!"))},L=()=>{Ke.success(a.t("Settings saved successfully!"))},Y=()=>{Ke.success(a.t("Settings saved successfully!"))};function j(B){i=B,t(0,i)}return s.$$set=B=>{"show"in B&&t(0,i=B.show)},s.$$.update=()=>{s.$$.dirty&1&&(i?_():b())},[i,g,a,r,o,f,m,w,k,y,T,C,V,D,I,E,x,R,F,L,Y,j]}class jc extends nt{constructor(e){super(),ot(this,e,$c,Pc,rt,{show:0})}}function Br(s,e,t){const l=s.slice();return l[17]=e[t],l[19]=t,l}function zc(s){let e,t=s[3].t("You have no archived conversations.")+"",l;return{c(){e=d("div"),l=N(t),this.h()},l(a){e=h(a,"DIV",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","text-left text-sm w-full mb-8")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r&8&&t!==(t=a[3].t("You have no archived conversations.")+"")&&H(l,t)},i:Pe,o:Pe,d(a){a&&u(e)}}}function Rc(s){let e,t,l,a,r,o,i,f=s[3].t("Name")+"",m,g,p,_=s[3].t("Created At")+"",b,w,k,y,T,C,V,D,I="Export All Archived Chats",E,x,R,F=at(s[2].filter(s[10])),L=[];for(let j=0;j<F.length;j+=1)L[j]=xr(Br(s,F,j));const Y=j=>se(L[j],1,1,()=>{L[j]=null});return{c(){e=d("div"),t=d("div"),l=d("div"),a=d("table"),r=d("thead"),o=d("tr"),i=d("th"),m=N(f),g=S(),p=d("th"),b=N(_),w=S(),k=d("th"),y=S(),T=d("tbody");for(let j=0;j<L.length;j+=1)L[j].c();C=S(),V=d("div"),D=d("button"),D.textContent=I,this.h()},l(j){e=h(j,"DIV",{class:!0});var B=v(e);t=h(B,"DIV",{class:!0});var M=v(t);l=h(M,"DIV",{class:!0});var U=v(l);a=h(U,"TABLE",{class:!0});var $=v(a);r=h($,"THEAD",{class:!0});var Z=v(r);o=h(Z,"TR",{});var q=v(o);i=h(q,"TH",{scope:!0,class:!0});var P=v(i);m=O(P,f),P.forEach(u),g=A(q),p=h(q,"TH",{scope:!0,class:!0});var W=v(p);b=O(W,_),W.forEach(u),w=A(q),k=h(q,"TH",{scope:!0,class:!0}),v(k).forEach(u),q.forEach(u),Z.forEach(u),y=A($),T=h($,"TBODY",{});var K=v(T);for(let J=0;J<L.length;J+=1)L[J].l(K);K.forEach(u),$.forEach(u),U.forEach(u),M.forEach(u),C=A(B),V=h(B,"DIV",{class:!0});var G=v(V);D=h(G,"BUTTON",{class:!0,"data-svelte-h":!0}),Ue(D)!=="svelte-1kobxt8"&&(D.textContent=I),G.forEach(u),B.forEach(u),this.h()},h(){c(i,"scope","col"),c(i,"class","px-3 py-2"),c(p,"scope","col"),c(p,"class","px-3 py-2 hidden md:flex"),c(k,"scope","col"),c(k,"class","px-3 py-2 text-right"),c(r,"class","text-xs text-gray-700 uppercase bg-transparent dark:text-gray-200 border-b-2 dark:border-gray-800"),c(a,"class","w-full text-sm text-left text-gray-600 dark:text-gray-400 table-auto"),c(l,"class","relative overflow-x-auto"),c(t,"class","text-left text-sm w-full mb-3 max-h-[22rem] overflow-y-scroll"),c(D,"class","px-3.5 py-1.5 font-medium hover:bg-black/5 dark:hover:bg-white/5 outline outline-1 outline-gray-300 dark:outline-gray-800 rounded-3xl"),c(V,"class","flex flex-wrap text-sm font-medium gap-1.5 mt-2 m-1"),c(e,"class","w-full")},m(j,B){z(j,e,B),n(e,t),n(t,l),n(l,a),n(a,r),n(r,o),n(o,i),n(i,m),n(o,g),n(o,p),n(p,b),n(o,w),n(o,k),n(a,y),n(a,T);for(let M=0;M<L.length;M+=1)L[M]&&L[M].m(T,null);n(e,C),n(e,V),n(V,D),E=!0,x||(R=X(D,"click",s[13]),x=!0)},p(j,B){if((!E||B&8)&&f!==(f=j[3].t("Name")+"")&&H(m,f),(!E||B&8)&&_!==(_=j[3].t("Created At")+"")&&H(b,_),B&110){F=at(j[2].filter(j[10]));let M;for(M=0;M<F.length;M+=1){const U=Br(j,F,M);L[M]?(L[M].p(U,B),ee(L[M],1)):(L[M]=xr(U),L[M].c(),ee(L[M],1),L[M].m(T,null))}for(wt(),M=F.length;M<L.length;M+=1)Y(M);kt()}},i(j){if(!E){for(let B=0;B<F.length;B+=1)ee(L[B]);E=!0}},o(j){L=L.filter(Boolean);for(let B=0;B<L.length;B+=1)se(L[B]);E=!1},d(j){j&&u(e),Pt(L,j),x=!1,R()}}}function Wc(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-4"><path stroke-linecap="round" stroke-linejoin="round" d="M9 8.25H7.5a2.25 2.25 0 0 0-2.25 2.25v9a2.25 2.25 0 0 0 2.25 2.25h9a2.25 2.25 0 0 0 2.25-2.25v-9a2.25 2.25 0 0 0-2.25-2.25H15m0-3-3-3m0 0-3 3m3-3V15"></path></svg>',l,a;function r(){return s[11](s[17])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(o){e=h(o,"BUTTON",{class:!0,"data-svelte-h":!0}),Ue(e)!=="svelte-1x4djqv"&&(e.innerHTML=t),this.h()},h(){c(e,"class","self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl")},m(o,i){z(o,e,i),l||(a=X(e,"click",r),l=!0)},p(o,i){s=o},d(o){o&&u(e),l=!1,a()}}}function Zc(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"></path></svg>',l,a;function r(){return s[12](s[17])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(o){e=h(o,"BUTTON",{class:!0,"data-svelte-h":!0}),Ue(e)!=="svelte-1pagubv"&&(e.innerHTML=t),this.h()},h(){c(e,"class","self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl")},m(o,i){z(o,e,i),l||(a=X(e,"click",r),l=!0)},p(o,i){s=o},d(o){o&&u(e),l=!1,a()}}}function xr(s){let e,t,l,a,r=s[17].title+"",o,i,f,m,g,p=Ts(s[17].created_at*1e3).format(s[3].t("MMMM DD, YYYY HH:mm"))+"",_,b,w,k,y,T,C,V,D,I;return y=new Zt({props:{content:"Unarchive Chat",$$slots:{default:[Wc]},$$scope:{ctx:s}}}),C=new Zt({props:{content:"Delete Chat",$$slots:{default:[Zc]},$$scope:{ctx:s}}}),{c(){e=d("tr"),t=d("td"),l=d("a"),a=d("div"),o=N(r),f=S(),m=d("td"),g=d("div"),_=N(p),b=S(),w=d("td"),k=d("div"),me(y.$$.fragment),T=S(),me(C.$$.fragment),V=S(),this.h()},l(E){e=h(E,"TR",{class:!0});var x=v(e);t=h(x,"TD",{class:!0});var R=v(t);l=h(R,"A",{href:!0,target:!0});var F=v(l);a=h(F,"DIV",{class:!0});var L=v(a);o=O(L,r),L.forEach(u),F.forEach(u),R.forEach(u),f=A(x),m=h(x,"TD",{class:!0});var Y=v(m);g=h(Y,"DIV",{class:!0});var j=v(g);_=O(j,p),j.forEach(u),Y.forEach(u),b=A(x),w=h(x,"TD",{class:!0});var B=v(w);k=h(B,"DIV",{class:!0});var M=v(k);_e(y.$$.fragment,M),T=A(M),_e(C.$$.fragment,M),M.forEach(u),B.forEach(u),V=A(x),x.forEach(u),this.h()},h(){c(a,"class","underline line-clamp-1"),c(l,"href",i="/c/"+s[17].id),c(l,"target","_blank"),c(t,"class","px-3 py-1 w-2/3"),c(g,"class","my-auto"),c(m,"class","px-3 py-1 hidden md:flex h-[2.5rem]"),c(k,"class","flex justify-end w-full"),c(w,"class","px-3 py-1 text-right"),c(e,"class",D="bg-transparent "+(s[19]!==s[2].length-1&&"border-b")+" dark:bg-gray-900 dark:border-gray-850 text-xs")},m(E,x){z(E,e,x),n(e,t),n(t,l),n(l,a),n(a,o),n(e,f),n(e,m),n(m,g),n(g,_),n(e,b),n(e,w),n(w,k),pe(y,k,null),n(k,T),pe(C,k,null),n(e,V),I=!0},p(E,x){(!I||x&6)&&r!==(r=E[17].title+"")&&H(o,r),(!I||x&6&&i!==(i="/c/"+E[17].id))&&c(l,"href",i),(!I||x&14)&&p!==(p=Ts(E[17].created_at*1e3).format(E[3].t("MMMM DD, YYYY HH:mm"))+"")&&H(_,p);const R={};x&1048582&&(R.$$scope={dirty:x,ctx:E}),y.$set(R);const F={};x&1048582&&(F.$$scope={dirty:x,ctx:E}),C.$set(F),(!I||x&4&&D!==(D="bg-transparent "+(E[19]!==E[2].length-1&&"border-b")+" dark:bg-gray-900 dark:border-gray-850 text-xs"))&&c(e,"class",D)},i(E){I||(ee(y.$$.fragment,E),ee(C.$$.fragment,E),I=!0)},o(E){se(y.$$.fragment,E),se(C.$$.fragment,E),I=!1},d(E){E&&u(e),ge(y),ge(C)}}}function Fc(s){let e,t,l,a=s[3].t("Archived Chats")+"",r,o,i,f='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',m,g,p,_,b,w='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd"></path></svg>',k,y,T,C,V,D,I,E,x,R,F,L;const Y=[Rc,zc],j=[];function B(M,U){return M[2].length>0?0:1}return E=B(s),x=j[E]=Y[E](s),{c(){e=d("div"),t=d("div"),l=d("div"),r=N(a),o=S(),i=d("button"),i.innerHTML=f,m=S(),g=d("div"),p=d("div"),_=d("div"),b=d("div"),b.innerHTML=w,k=S(),y=d("input"),C=S(),V=d("hr"),D=S(),I=d("div"),x.c(),this.h()},l(M){e=h(M,"DIV",{});var U=v(e);t=h(U,"DIV",{class:!0});var $=v(t);l=h($,"DIV",{class:!0});var Z=v(l);r=O(Z,a),Z.forEach(u),o=A($),i=h($,"BUTTON",{class:!0,"data-svelte-h":!0}),Ue(i)!=="svelte-745w2y"&&(i.innerHTML=f),$.forEach(u),m=A(U),g=h(U,"DIV",{class:!0});var q=v(g);p=h(q,"DIV",{class:!0});var P=v(p);_=h(P,"DIV",{class:!0});var W=v(_);b=h(W,"DIV",{class:!0,"data-svelte-h":!0}),Ue(b)!=="svelte-kinl2y"&&(b.innerHTML=w),k=A(W),y=h(W,"INPUT",{class:!0,placeholder:!0}),W.forEach(u),P.forEach(u),C=A(q),V=h(q,"HR",{class:!0}),D=A(q),I=h(q,"DIV",{class:!0});var K=v(I);x.l(K),K.forEach(u),q.forEach(u),U.forEach(u),this.h()},h(){c(l,"class","text-lg font-medium self-center"),c(i,"class","self-center"),c(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4 pb-1"),c(b,"class","self-center ml-1 mr-3"),c(y,"class","w-full text-sm pr-4 py-1 rounded-r-xl outline-none bg-transparent"),c(y,"placeholder",T=s[3].t("Search Chats")),c(_,"class","flex flex-1"),c(p,"class","flex w-full mt-2 space-x-2"),c(V,"class","dark:border-gray-850 my-2"),c(I,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),c(g,"class","flex flex-col w-full px-5 pb-4 dark:text-gray-200")},m(M,U){z(M,e,U),n(e,t),n(t,l),n(l,r),n(t,o),n(t,i),n(e,m),n(e,g),n(g,p),n(p,_),n(_,b),n(_,k),n(_,y),ze(y,s[1]),n(g,C),n(g,V),n(g,D),n(g,I),j[E].m(I,null),R=!0,F||(L=[X(i,"click",s[8]),X(y,"input",s[9])],F=!0)},p(M,U){(!R||U&8)&&a!==(a=M[3].t("Archived Chats")+"")&&H(r,a),(!R||U&8&&T!==(T=M[3].t("Search Chats")))&&c(y,"placeholder",T),U&2&&y.value!==M[1]&&ze(y,M[1]);let $=E;E=B(M),E===$?j[E].p(M,U):(wt(),se(j[$],1,1,()=>{j[$]=null}),kt(),x=j[E],x?x.p(M,U):(x=j[E]=Y[E](M),x.c()),ee(x,1),x.m(I,null))},i(M){R||(ee(x),R=!0)},o(M){se(x),R=!1},d(M){M&&u(e),j[E].d(),F=!1,dt(L)}}}function Yc(s){let e,t,l;function a(o){s[14](o)}let r={size:"lg",$$slots:{default:[Fc]},$$scope:{ctx:s}};return s[0]!==void 0&&(r.show=s[0]),e=new jl({props:r}),mt.push(()=>Et(e,"show",a)),{c(){me(e.$$.fragment)},l(o){_e(e.$$.fragment,o)},m(o,i){pe(e,o,i),l=!0},p(o,[i]){const f={};i&1048591&&(f.$$scope={dirty:i,ctx:o}),!t&&i&1&&(t=!0,f.show=o[0],yt(()=>t=!1)),e.$set(f)},i(o){l||(ee(e.$$.fragment,o),l=!0)},o(o){se(e.$$.fragment,o),l=!1},d(o){ge(e,o)}}}function qc(s,e,t){let l;const{saveAs:a}=Gs,r=ul(),o=gt("i18n");Be(s,o,D=>t(3,l=D));let{show:i=!1}=e,f="",m=[];const g=async D=>{await hn(localStorage.token,D).catch(I=>{Ke.error(I)}),t(2,m=await Os(localStorage.token)),r("change")},p=async D=>{await vn(localStorage.token,D).catch(I=>{Ke.error(I)}),t(2,m=await Os(localStorage.token))},_=async()=>{const D=await Bn(localStorage.token);let I=new Blob([JSON.stringify(D)],{type:"application/json"});a(I,`archived-chat-export-${Date.now()}.json`)},b=()=>{t(0,i=!1)};function w(){f=this.value,t(1,f)}const k=D=>f===""||D.title.toLowerCase().includes(f.toLowerCase()),y=async D=>{g(D.id)},T=async D=>{p(D.id)},C=()=>{_()};function V(D){i=D,t(0,i)}return s.$$set=D=>{"show"in D&&t(0,i=D.show)},s.$$.update=()=>{s.$$.dirty&1&&i&&(async()=>t(2,m=await Os(localStorage.token)))()},[i,f,m,l,o,g,p,_,b,w,k,y,T,C,V]}class Kc extends nt{constructor(e){super(),ot(this,e,qc,Yc,rt,{show:0})}}function Gc(s){let e,t;return{c(){e=lt("svg"),t=lt("path"),this.h()},l(l){e=st(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var a=v(e);t=st(a,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),v(t).forEach(u),a.forEach(u),this.h()},h(){c(t,"stroke-linecap","round"),c(t,"stroke-linejoin","round"),c(t,"d","M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"fill","none"),c(e,"viewBox","0 0 24 24"),c(e,"stroke-width",s[1]),c(e,"stroke","currentColor"),c(e,"class",s[0])},m(l,a){z(l,e,a),n(e,t)},p(l,[a]){a&2&&c(e,"stroke-width",l[1]),a&1&&c(e,"class",l[0])},i:Pe,o:Pe,d(l){l&&u(e)}}}function Jc(s,e,t){let{className:l="w-4 h-4"}=e,{strokeWidth:a="1.5"}=e;return s.$$set=r=>{"className"in r&&t(0,l=r.className),"strokeWidth"in r&&t(1,a=r.strokeWidth)},[l,a]}class Xc extends nt{constructor(e){super(),ot(this,e,Jc,Gc,rt,{className:0,strokeWidth:1})}}function Qc(s){let e,t;return{c(){e=lt("svg"),t=lt("path"),this.h()},l(l){e=st(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var a=v(e);t=st(a,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),v(t).forEach(u),a.forEach(u),this.h()},h(){c(t,"stroke-linecap","round"),c(t,"stroke-linejoin","round"),c(t,"d","M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"fill","none"),c(e,"viewBox","0 0 24 24"),c(e,"stroke-width",s[1]),c(e,"stroke","currentColor"),c(e,"class",s[0])},m(l,a){z(l,e,a),n(e,t)},p(l,[a]){a&2&&c(e,"stroke-width",l[1]),a&1&&c(e,"class",l[0])},i:Pe,o:Pe,d(l){l&&u(e)}}}function eu(s,e,t){let{className:l="w-4 h-4"}=e,{strokeWidth:a="1.5"}=e;return s.$$set=r=>{"className"in r&&t(0,l=r.className),"strokeWidth"in r&&t(1,a=r.strokeWidth)},[l,a]}class tu extends nt{constructor(e){super(),ot(this,e,eu,Qc,rt,{className:0,strokeWidth:1})}}function lu(s){let e,t;return{c(){e=lt("svg"),t=lt("path"),this.h()},l(l){e=st(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var a=v(e);t=st(a,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),v(t).forEach(u),a.forEach(u),this.h()},h(){c(t,"stroke-linecap","round"),c(t,"stroke-linejoin","round"),c(t,"d","m3 3 1.664 1.664M21 21l-1.5-1.5m-5.485-1.242L12 17.25 4.5 21V8.742m.164-4.078a2.15 2.15 0 0 1 1.743-1.342 48.507 48.507 0 0 1 11.186 0c1.1.128 1.907 1.077 1.907 2.185V19.5M4.664 4.664 19.5 19.5"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"fill","none"),c(e,"viewBox","0 0 24 24"),c(e,"stroke-width",s[1]),c(e,"stroke","currentColor"),c(e,"class",s[0])},m(l,a){z(l,e,a),n(e,t)},p(l,[a]){a&2&&c(e,"stroke-width",l[1]),a&1&&c(e,"class",l[0])},i:Pe,o:Pe,d(l){l&&u(e)}}}function su(s,e,t){let{className:l="w-4 h-4"}=e,{strokeWidth:a="1.5"}=e;return s.$$set=r=>{"className"in r&&t(0,l=r.className),"strokeWidth"in r&&t(1,a=r.strokeWidth)},[l,a]}class au extends nt{constructor(e){super(),ot(this,e,su,lu,rt,{className:0,strokeWidth:1})}}function ru(s){let e;const t=s[12].default,l=Fs(t,s,s[22],null);return{c(){l&&l.c()},l(a){l&&l.l(a)},m(a,r){l&&l.m(a,r),e=!0},p(a,r){l&&l.p&&(!e||r&4194304)&&Ys(l,t,a,a[22],e?Ks(t,a[22],r,null):qs(a[22]),null)},i(a){e||(ee(l,a),e=!0)},o(a){se(l,a),e=!1},d(a){l&&l.d(a)}}}function nu(s){let e,t;return e=new Zt({props:{content:s[9].t("More"),$$slots:{default:[ru]},$$scope:{ctx:s}}}),{c(){me(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){pe(e,l,a),t=!0},p(l,a){const r={};a&512&&(r.content=l[9].t("More")),a&4194304&&(r.$$scope={dirty:a,ctx:l}),e.$set(r)},i(l){t||(ee(e.$$.fragment,l),t=!0)},o(l){se(e.$$.fragment,l),t=!1},d(l){ge(e,l)}}}function ou(s){let e,t,l,a=s[9].t("Pin")+"",r,o;return e=new tu({props:{strokeWidth:"2"}}),{c(){me(e.$$.fragment),t=S(),l=d("div"),r=N(a),this.h()},l(i){_e(e.$$.fragment,i),t=A(i),l=h(i,"DIV",{class:!0});var f=v(l);r=O(f,a),f.forEach(u),this.h()},h(){c(l,"class","flex items-center")},m(i,f){pe(e,i,f),z(i,t,f),z(i,l,f),n(l,r),o=!0},p(i,f){(!o||f&512)&&a!==(a=i[9].t("Pin")+"")&&H(r,a)},i(i){o||(ee(e.$$.fragment,i),o=!0)},o(i){se(e.$$.fragment,i),o=!1},d(i){i&&(u(t),u(l)),ge(e,i)}}}function iu(s){let e,t,l,a=s[9].t("Unpin")+"",r,o;return e=new au({props:{strokeWidth:"2"}}),{c(){me(e.$$.fragment),t=S(),l=d("div"),r=N(a),this.h()},l(i){_e(e.$$.fragment,i),t=A(i),l=h(i,"DIV",{class:!0});var f=v(l);r=O(f,a),f.forEach(u),this.h()},h(){c(l,"class","flex items-center")},m(i,f){pe(e,i,f),z(i,t,f),z(i,l,f),n(l,r),o=!0},p(i,f){(!o||f&512)&&a!==(a=i[9].t("Unpin")+"")&&H(r,a)},i(i){o||(ee(e.$$.fragment,i),o=!0)},o(i){se(e.$$.fragment,i),o=!1},d(i){i&&(u(t),u(l)),ge(e,i)}}}function cu(s){let e,t,l,a;const r=[iu,ou],o=[];function i(f,m){return f[8]?0:1}return e=i(s),t=o[e]=r[e](s),{c(){t.c(),l=Hl()},l(f){t.l(f),l=Hl()},m(f,m){o[e].m(f,m),z(f,l,m),a=!0},p(f,m){let g=e;e=i(f),e===g?o[e].p(f,m):(wt(),se(o[g],1,1,()=>{o[g]=null}),kt(),t=o[e],t?t.p(f,m):(t=o[e]=r[e](f),t.c()),ee(t,1),t.m(l.parentNode,l))},i(f){a||(ee(t),a=!0)},o(f){se(t),a=!1},d(f){f&&u(l),o[e].d(f)}}}function uu(s){let e,t,l,a=s[9].t("Rename")+"",r,o;return e=new Xc({props:{strokeWidth:"2"}}),{c(){me(e.$$.fragment),t=S(),l=d("div"),r=N(a),this.h()},l(i){_e(e.$$.fragment,i),t=A(i),l=h(i,"DIV",{class:!0});var f=v(l);r=O(f,a),f.forEach(u),this.h()},h(){c(l,"class","flex items-center")},m(i,f){pe(e,i,f),z(i,t,f),z(i,l,f),n(l,r),o=!0},p(i,f){(!o||f&512)&&a!==(a=i[9].t("Rename")+"")&&H(r,a)},i(i){o||(ee(e.$$.fragment,i),o=!0)},o(i){se(e.$$.fragment,i),o=!1},d(i){i&&(u(t),u(l)),ge(e,i)}}}function fu(s){let e,t,l,a=s[9].t("Clone")+"",r,o;return e=new Do({props:{strokeWidth:"2"}}),{c(){me(e.$$.fragment),t=S(),l=d("div"),r=N(a),this.h()},l(i){_e(e.$$.fragment,i),t=A(i),l=h(i,"DIV",{class:!0});var f=v(l);r=O(f,a),f.forEach(u),this.h()},h(){c(l,"class","flex items-center")},m(i,f){pe(e,i,f),z(i,t,f),z(i,l,f),n(l,r),o=!0},p(i,f){(!o||f&512)&&a!==(a=i[9].t("Clone")+"")&&H(r,a)},i(i){o||(ee(e.$$.fragment,i),o=!0)},o(i){se(e.$$.fragment,i),o=!1},d(i){i&&(u(t),u(l)),ge(e,i)}}}function du(s){let e,t,l,a=s[9].t("Archive")+"",r,o;return e=new wn({props:{strokeWidth:"2"}}),{c(){me(e.$$.fragment),t=S(),l=d("div"),r=N(a),this.h()},l(i){_e(e.$$.fragment,i),t=A(i),l=h(i,"DIV",{class:!0});var f=v(l);r=O(f,a),f.forEach(u),this.h()},h(){c(l,"class","flex items-center")},m(i,f){pe(e,i,f),z(i,t,f),z(i,l,f),n(l,r),o=!0},p(i,f){(!o||f&512)&&a!==(a=i[9].t("Archive")+"")&&H(r,a)},i(i){o||(ee(e.$$.fragment,i),o=!0)},o(i){se(e.$$.fragment,i),o=!1},d(i){i&&(u(t),u(l)),ge(e,i)}}}function hu(s){let e,t,l,a=s[9].t("Share")+"",r,o;return e=new Vo({}),{c(){me(e.$$.fragment),t=S(),l=d("div"),r=N(a),this.h()},l(i){_e(e.$$.fragment,i),t=A(i),l=h(i,"DIV",{class:!0});var f=v(l);r=O(f,a),f.forEach(u),this.h()},h(){c(l,"class","flex items-center")},m(i,f){pe(e,i,f),z(i,t,f),z(i,l,f),n(l,r),o=!0},p(i,f){(!o||f&512)&&a!==(a=i[9].t("Share")+"")&&H(r,a)},i(i){o||(ee(e.$$.fragment,i),o=!0)},o(i){se(e.$$.fragment,i),o=!1},d(i){i&&(u(t),u(l)),ge(e,i)}}}function vu(s){let e,t,l,a=s[9].t("Delete")+"",r,o;return e=new kn({props:{strokeWidth:"2"}}),{c(){me(e.$$.fragment),t=S(),l=d("div"),r=N(a),this.h()},l(i){_e(e.$$.fragment,i),t=A(i),l=h(i,"DIV",{class:!0});var f=v(l);r=O(f,a),f.forEach(u),this.h()},h(){c(l,"class","flex items-center")},m(i,f){pe(e,i,f),z(i,t,f),z(i,l,f),n(l,r),o=!0},p(i,f){(!o||f&512)&&a!==(a=i[9].t("Delete")+"")&&H(r,a)},i(i){o||(ee(e.$$.fragment,i),o=!0)},o(i){se(e.$$.fragment,i),o=!1},d(i){i&&(u(t),u(l)),ge(e,i)}}}function mu(s){let e,t,l,a,r,o,i,f,m,g,p,_,b,w,k,y,T;return e=new Ol({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[cu]},$$scope:{ctx:s}}}),e.$on("click",s[13]),l=new Ol({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[uu]},$$scope:{ctx:s}}}),l.$on("click",s[14]),r=new Ol({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[fu]},$$scope:{ctx:s}}}),r.$on("click",s[15]),i=new Ol({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[du]},$$scope:{ctx:s}}}),i.$on("click",s[16]),m=new Ol({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800  rounded-md",$$slots:{default:[hu]},$$scope:{ctx:s}}}),m.$on("click",s[17]),p=new Ol({props:{class:"flex  gap-2  items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[vu]},$$scope:{ctx:s}}}),p.$on("click",s[18]),y=new bo({props:{chatId:s[6]}}),y.$on("close",s[19]),{c(){me(e.$$.fragment),t=S(),me(l.$$.fragment),a=S(),me(r.$$.fragment),o=S(),me(i.$$.fragment),f=S(),me(m.$$.fragment),g=S(),me(p.$$.fragment),_=S(),b=d("hr"),w=S(),k=d("div"),me(y.$$.fragment),this.h()},l(C){_e(e.$$.fragment,C),t=A(C),_e(l.$$.fragment,C),a=A(C),_e(r.$$.fragment,C),o=A(C),_e(i.$$.fragment,C),f=A(C),_e(m.$$.fragment,C),g=A(C),_e(p.$$.fragment,C),_=A(C),b=h(C,"HR",{class:!0}),w=A(C),k=h(C,"DIV",{class:!0});var V=v(k);_e(y.$$.fragment,V),V.forEach(u),this.h()},h(){c(b,"class","border-gray-100 dark:border-gray-800 mt-2.5 mb-1.5"),c(k,"class","flex p-1")},m(C,V){pe(e,C,V),z(C,t,V),pe(l,C,V),z(C,a,V),pe(r,C,V),z(C,o,V),pe(i,C,V),z(C,f,V),pe(m,C,V),z(C,g,V),pe(p,C,V),z(C,_,V),z(C,b,V),z(C,w,V),z(C,k,V),pe(y,k,null),T=!0},p(C,V){const D={};V&4195072&&(D.$$scope={dirty:V,ctx:C}),e.$set(D);const I={};V&4194816&&(I.$$scope={dirty:V,ctx:C}),l.$set(I);const E={};V&4194816&&(E.$$scope={dirty:V,ctx:C}),r.$set(E);const x={};V&4194816&&(x.$$scope={dirty:V,ctx:C}),i.$set(x);const R={};V&4194816&&(R.$$scope={dirty:V,ctx:C}),m.$set(R);const F={};V&4194816&&(F.$$scope={dirty:V,ctx:C}),p.$set(F);const L={};V&64&&(L.chatId=C[6]),y.$set(L)},i(C){T||(ee(e.$$.fragment,C),ee(l.$$.fragment,C),ee(r.$$.fragment,C),ee(i.$$.fragment,C),ee(m.$$.fragment,C),ee(p.$$.fragment,C),ee(y.$$.fragment,C),T=!0)},o(C){se(e.$$.fragment,C),se(l.$$.fragment,C),se(r.$$.fragment,C),se(i.$$.fragment,C),se(m.$$.fragment,C),se(p.$$.fragment,C),se(y.$$.fragment,C),T=!1},d(C){C&&(u(t),u(a),u(o),u(f),u(g),u(_),u(b),u(w),u(k)),ge(e,C),ge(l,C),ge(r,C),ge(i,C),ge(m,C),ge(p,C),ge(y)}}}function _u(s){let e,t,l;return t=new Eo({props:{class:"w-full max-w-[180px] rounded-xl px-1 py-1.5 border border-gray-300/30 dark:border-gray-700/50 z-50 bg-white dark:bg-gray-850 dark:text-white shadow",sideOffset:-2,side:"bottom",align:"start",transition:Io,$$slots:{default:[mu]},$$scope:{ctx:s}}}),{c(){e=d("div"),me(t.$$.fragment),this.h()},l(a){e=h(a,"DIV",{slot:!0});var r=v(e);_e(t.$$.fragment,r),r.forEach(u),this.h()},h(){c(e,"slot","content")},m(a,r){z(a,e,r),pe(t,e,null),l=!0},p(a,r){const o={};r&4195327&&(o.$$scope={dirty:r,ctx:a}),t.$set(o)},i(a){l||(ee(t.$$.fragment,a),l=!0)},o(a){se(t.$$.fragment,a),l=!1},d(a){a&&u(e),ge(t)}}}function pu(s){let e,t,l;function a(o){s[20](o)}let r={$$slots:{content:[_u],default:[nu]},$$scope:{ctx:s}};return s[7]!==void 0&&(r.show=s[7]),e=new yo({props:r}),mt.push(()=>Et(e,"show",a)),e.$on("change",s[21]),{c(){me(e.$$.fragment)},l(o){_e(e.$$.fragment,o)},m(o,i){pe(e,o,i),l=!0},p(o,[i]){const f={};i&4195327&&(f.$$scope={dirty:i,ctx:o}),!t&&i&128&&(t=!0,f.show=o[7],yt(()=>t=!1)),e.$set(f)},i(o){l||(ee(e.$$.fragment,o),l=!0)},o(o){se(e.$$.fragment,o),l=!1},d(o){ge(e,o)}}}function gu(s,e,t){let l,{$$slots:a={},$$scope:r}=e;const o=ul(),i=gt("i18n");Be(s,i,j=>t(9,l=j));let{shareHandler:f}=e,{cloneChatHandler:m}=e,{archiveChatHandler:g}=e,{renameHandler:p}=e,{deleteHandler:_}=e,{onClose:b}=e,{chatId:w=""}=e,k=!1,y=!1;const T=async()=>{y?await On(localStorage.token,w,"pinned"):await xn(localStorage.token,w,"pinned"),o("change")},C=async()=>{t(8,y=(await Nn(localStorage.token,w).catch(async j=>[])).find(j=>j.name==="pinned"))},V=()=>{T()},D=()=>{p()},I=()=>{m()},E=()=>{g()},x=()=>{f()},R=()=>{_()},F=()=>{t(7,k=!1),b()};function L(j){k=j,t(7,k)}const Y=j=>{j.detail===!1&&b()};return s.$$set=j=>{"shareHandler"in j&&t(0,f=j.shareHandler),"cloneChatHandler"in j&&t(1,m=j.cloneChatHandler),"archiveChatHandler"in j&&t(2,g=j.archiveChatHandler),"renameHandler"in j&&t(3,p=j.renameHandler),"deleteHandler"in j&&t(4,_=j.deleteHandler),"onClose"in j&&t(5,b=j.onClose),"chatId"in j&&t(6,w=j.chatId),"$$scope"in j&&t(22,r=j.$$scope)},s.$$.update=()=>{s.$$.dirty&128&&k&&C()},[f,m,g,p,_,b,w,k,y,l,i,T,a,V,D,I,E,x,R,F,L,Y,r]}class bu extends nt{constructor(e){super(),ot(this,e,gu,pu,rt,{shareHandler:0,cloneChatHandler:1,archiveChatHandler:2,renameHandler:3,deleteHandler:4,onClose:5,chatId:6})}}function wu(s){let e,t,l,a=s[0].title+"",r,o,i,f,m;return{c(){e=d("a"),t=d("div"),l=d("div"),r=N(a),this.h()},l(g){e=h(g,"A",{class:!0,href:!0,draggable:!0});var p=v(e);t=h(p,"DIV",{class:!0});var _=v(t);l=h(_,"DIV",{class:!0});var b=v(l);r=O(b,a),b.forEach(u),_.forEach(u),p.forEach(u),this.h()},h(){c(l,"class","text-left self-center overflow-hidden w-full h-[20px]"),c(t,"class","flex self-center flex-1 w-full"),c(e,"class",o="w-full flex justify-between rounded-xl px-3 py-2 "+(s[0].id===s[8]||s[5]?"bg-gray-200 dark:bg-gray-900":s[1]?"bg-gray-100 dark:bg-gray-950":" group-hover:bg-gray-100 dark:group-hover:bg-gray-950")+" whitespace-nowrap text-ellipsis"),c(e,"href",i="/c/"+s[0].id),c(e,"draggable","false")},m(g,p){z(g,e,p),n(e,t),n(t,l),n(l,r),f||(m=[X(e,"click",s[18]),X(e,"dblclick",s[19]),X(e,"mouseenter",s[20]),X(e,"mouseleave",s[21]),X(e,"focus",Au)],f=!0)},p(g,p){p[0]&1&&a!==(a=g[0].title+"")&&H(r,a),p[0]&291&&o!==(o="w-full flex justify-between rounded-xl px-3 py-2 "+(g[0].id===g[8]||g[5]?"bg-gray-200 dark:bg-gray-900":g[1]?"bg-gray-100 dark:bg-gray-950":" group-hover:bg-gray-100 dark:group-hover:bg-gray-950")+" whitespace-nowrap text-ellipsis")&&c(e,"class",o),p[0]&1&&i!==(i="/c/"+g[0].id)&&c(e,"href",i)},d(g){g&&u(e),f=!1,dt(m)}}}function ku(s){let e,t,l,a,r;return{c(){e=d("div"),t=d("input"),this.h()},l(o){e=h(o,"DIV",{class:!0});var i=v(e);t=h(i,"INPUT",{class:!0}),i.forEach(u),this.h()},h(){c(t,"class","bg-transparent w-full outline-none mr-10"),c(e,"class",l="w-full flex justify-between rounded-xl px-3 py-2 "+(s[0].id===s[8]||s[5]?"bg-gray-200 dark:bg-gray-900":s[1]?"bg-gray-100 dark:bg-gray-950":"group-hover:bg-gray-100 dark:group-hover:bg-gray-950")+" whitespace-nowrap text-ellipsis")},m(o,i){z(o,e,i),n(e,t),ze(t,s[6]),a||(r=[Dn(s[15].call(null,t)),X(t,"input",s[17])],a=!0)},p(o,i){i[0]&64&&t.value!==o[6]&&ze(t,o[6]),i[0]&291&&l!==(l="w-full flex justify-between rounded-xl px-3 py-2 "+(o[0].id===o[8]||o[5]?"bg-gray-200 dark:bg-gray-900":o[1]?"bg-gray-100 dark:bg-gray-950":"group-hover:bg-gray-100 dark:group-hover:bg-gray-950")+" whitespace-nowrap text-ellipsis")&&c(e,"class",l)},d(o){o&&u(e),a=!1,dt(r)}}}function yu(s){let e,t,l,a;t=new bu({props:{chatId:s[0].id,cloneChatHandler:s[27],shareHandler:s[28],archiveChatHandler:s[29],renameHandler:s[30],deleteHandler:s[31],onClose:s[32],$$slots:{default:[Du]},$$scope:{ctx:s}}}),t.$on("change",s[33]);let r=s[0].id===s[8]&&Nr(s);return{c(){e=d("div"),me(t.$$.fragment),l=S(),r&&r.c(),this.h()},l(o){e=h(o,"DIV",{class:!0});var i=v(e);_e(t.$$.fragment,i),l=A(i),r&&r.l(i),i.forEach(u),this.h()},h(){c(e,"class","flex self-center space-x-1 z-10")},m(o,i){z(o,e,i),pe(t,e,null),n(e,l),r&&r.m(e,null),a=!0},p(o,i){const f={};i[0]&1&&(f.chatId=o[0].id),i[0]&1&&(f.cloneChatHandler=o[27]),i[0]&16&&(f.shareHandler=o[28]),i[0]&1&&(f.archiveChatHandler=o[29]),i[0]&97&&(f.renameHandler=o[30]),i[1]&128&&(f.$$scope={dirty:i,ctx:o}),t.$set(f),o[0].id===o[8]?r?r.p(o,i):(r=Nr(o),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},i(o){a||(ee(t.$$.fragment,o),a=!0)},o(o){se(t.$$.fragment,o),a=!1},d(o){o&&u(e),ge(t),r&&r.d()}}}function Eu(s){let e,t,l,a,r;return t=new Zt({props:{content:s[7].t("Archive"),className:"flex items-center",$$slots:{default:[Vu]},$$scope:{ctx:s}}}),a=new Zt({props:{content:s[7].t("Delete"),$$slots:{default:[Tu]},$$scope:{ctx:s}}}),{c(){e=d("div"),me(t.$$.fragment),l=S(),me(a.$$.fragment),this.h()},l(o){e=h(o,"DIV",{class:!0});var i=v(e);_e(t.$$.fragment,i),l=A(i),_e(a.$$.fragment,i),i.forEach(u),this.h()},h(){c(e,"class","flex items-center self-center space-x-1.5")},m(o,i){z(o,e,i),pe(t,e,null),n(e,l),pe(a,e,null),r=!0},p(o,i){const f={};i[0]&128&&(f.content=o[7].t("Archive")),i[0]&1|i[1]&128&&(f.$$scope={dirty:i,ctx:o}),t.$set(f);const m={};i[0]&128&&(m.content=o[7].t("Delete")),i[1]&128&&(m.$$scope={dirty:i,ctx:o}),a.$set(m)},i(o){r||(ee(t.$$.fragment,o),ee(a.$$.fragment,o),r=!0)},o(o){se(t.$$.fragment,o),se(a.$$.fragment,o),r=!1},d(o){o&&u(e),ge(t),ge(a)}}}function Iu(s){let e,t,l,a,r;return t=new Zt({props:{content:s[7].t("Confirm"),$$slots:{default:[Cu]},$$scope:{ctx:s}}}),a=new Zt({props:{content:s[7].t("Cancel"),$$slots:{default:[Mu]},$$scope:{ctx:s}}}),{c(){e=d("div"),me(t.$$.fragment),l=S(),me(a.$$.fragment),this.h()},l(o){e=h(o,"DIV",{class:!0});var i=v(e);_e(t.$$.fragment,i),l=A(i),_e(a.$$.fragment,i),i.forEach(u),this.h()},h(){c(e,"class","flex self-center space-x-1.5 z-10")},m(o,i){z(o,e,i),pe(t,e,null),n(e,l),pe(a,e,null),r=!0},p(o,i){const f={};i[0]&128&&(f.content=o[7].t("Confirm")),i[0]&97|i[1]&128&&(f.$$scope={dirty:i,ctx:o}),t.$set(f);const m={};i[0]&128&&(m.content=o[7].t("Cancel")),i[0]&96|i[1]&128&&(m.$$scope={dirty:i,ctx:o}),a.$set(m)},i(o){r||(ee(t.$$.fragment,o),ee(a.$$.fragment,o),r=!0)},o(o){se(t.$$.fragment,o),se(a.$$.fragment,o),r=!1},d(o){o&&u(e),ge(t),ge(a)}}}function Du(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 8a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM6.5 8a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM12.5 6.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Z"></path></svg>',l,a;return{c(){e=d("button"),e.innerHTML=t,this.h()},l(r){e=h(r,"BUTTON",{"aria-label":!0,class:!0,"data-svelte-h":!0}),Ue(e)!=="svelte-1nmly1h"&&(e.innerHTML=t),this.h()},h(){c(e,"aria-label","Chat Menu"),c(e,"class","self-center dark:hover:text-white transition")},m(r,o){z(r,e,o),l||(a=X(e,"click",s[26]),l=!0)},p:Pe,d(r){r&&u(e),l=!1,a()}}}function Nr(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 8a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM6.5 8a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM12.5 6.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Z"></path></svg>',l,a;return{c(){e=d("button"),e.innerHTML=t,this.h()},l(r){e=h(r,"BUTTON",{id:!0,class:!0,"data-svelte-h":!0}),Ue(e)!=="svelte-17232xf"&&(e.innerHTML=t),this.h()},h(){c(e,"id","delete-chat-button"),c(e,"class","hidden")},m(r,o){z(r,e,o),l||(a=X(e,"click",s[34]),l=!0)},p:Pe,d(r){r&&u(e),l=!1,a()}}}function Vu(s){let e,t,l,a,r;return t=new wn({props:{className:"size-4  translate-y-[0.5px]",strokeWidth:"2"}}),{c(){e=d("button"),me(t.$$.fragment),this.h()},l(o){e=h(o,"BUTTON",{class:!0,type:!0});var i=v(e);_e(t.$$.fragment,i),i.forEach(u),this.h()},h(){c(e,"class","self-center dark:hover:text-white transition"),c(e,"type","button")},m(o,i){z(o,e,i),pe(t,e,null),l=!0,a||(r=X(e,"click",s[24]),a=!0)},p:Pe,i(o){l||(ee(t.$$.fragment,o),l=!0)},o(o){se(t.$$.fragment,o),l=!1},d(o){o&&u(e),ge(t),a=!1,r()}}}function Tu(s){let e,t,l,a,r;return t=new kn({props:{strokeWidth:"2"}}),{c(){e=d("button"),me(t.$$.fragment),this.h()},l(o){e=h(o,"BUTTON",{class:!0,type:!0});var i=v(e);_e(t.$$.fragment,i),i.forEach(u),this.h()},h(){c(e,"class","self-center dark:hover:text-white transition"),c(e,"type","button")},m(o,i){z(o,e,i),pe(t,e,null),l=!0,a||(r=X(e,"click",s[25]),a=!0)},p:Pe,i(o){l||(ee(t.$$.fragment,o),l=!0)},o(o){se(t.$$.fragment,o),l=!1},d(o){o&&u(e),ge(t),a=!1,r()}}}function Cu(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z" clip-rule="evenodd"></path></svg>',l,a;return{c(){e=d("button"),e.innerHTML=t,this.h()},l(r){e=h(r,"BUTTON",{class:!0,"data-svelte-h":!0}),Ue(e)!=="svelte-15k98vn"&&(e.innerHTML=t),this.h()},h(){c(e,"class","self-center dark:hover:text-white transition")},m(r,o){z(r,e,o),l||(a=X(e,"click",s[22]),l=!0)},p:Pe,d(r){r&&u(e),l=!1,a()}}}function Mu(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',l,a;return{c(){e=d("button"),e.innerHTML=t,this.h()},l(r){e=h(r,"BUTTON",{class:!0,"data-svelte-h":!0}),Ue(e)!=="svelte-19qct0m"&&(e.innerHTML=t),this.h()},h(){c(e,"class","self-center dark:hover:text-white transition")},m(r,o){z(r,e,o),l||(a=X(e,"click",s[23]),l=!0)},p:Pe,d(r){r&&u(e),l=!1,a()}}}function Su(s){let e,t,l,a,r,o,i,f,m,g,p,_;function b(I){s[16](I)}let w={chatId:s[0].id};s[4]!==void 0&&(w.show=s[4]),e=new wo({props:w}),mt.push(()=>Et(e,"show",b));function k(I,E){return I[5]?ku:wu}let y=k(s),T=y(s);const C=[Iu,Eu,yu],V=[];function D(I,E){return I[5]?0:I[2]&&I[3]?1:2}return i=D(s),f=V[i]=C[i](s),{c(){me(e.$$.fragment),l=S(),a=d("div"),T.c(),r=S(),o=d("div"),f.c(),this.h()},l(I){_e(e.$$.fragment,I),l=A(I),a=h(I,"DIV",{class:!0});var E=v(a);T.l(E),r=A(E),o=h(E,"DIV",{class:!0});var x=v(o);f.l(x),x.forEach(u),E.forEach(u),this.h()},h(){c(o,"class",m=(s[0].id===s[8]||s[5]?"from-gray-200 dark:from-gray-900":s[1]?"from-gray-100 dark:from-gray-950":"invisible group-hover:visible from-gray-100 dark:from-gray-950")+" absolute right-[10px] top-[6px] py-1 pr-2 pl-5 bg-gradient-to-l from-80% to-transparent"),c(a,"class","w-full pr-2 relative group")},m(I,E){pe(e,I,E),z(I,l,E),z(I,a,E),T.m(a,null),n(a,r),n(a,o),V[i].m(o,null),g=!0,p||(_=[X(o,"mouseenter",s[35]),X(o,"mouseleave",s[36])],p=!0)},p(I,E){const x={};E[0]&1&&(x.chatId=I[0].id),!t&&E[0]&16&&(t=!0,x.show=I[4],yt(()=>t=!1)),e.$set(x),y===(y=k(I))&&T?T.p(I,E):(T.d(1),T=y(I),T&&(T.c(),T.m(a,r)));let R=i;i=D(I),i===R?V[i].p(I,E):(wt(),se(V[R],1,1,()=>{V[R]=null}),kt(),f=V[i],f?f.p(I,E):(f=V[i]=C[i](I),f.c()),ee(f,1),f.m(o,null)),(!g||E[0]&291&&m!==(m=(I[0].id===I[8]||I[5]?"from-gray-200 dark:from-gray-900":I[1]?"from-gray-100 dark:from-gray-950":"invisible group-hover:visible from-gray-100 dark:from-gray-950")+" absolute right-[10px] top-[6px] py-1 pr-2 pl-5 bg-gradient-to-l from-80% to-transparent"))&&c(o,"class",m)},i(I){g||(ee(e.$$.fragment,I),ee(f),g=!0)},o(I){se(e.$$.fragment,I),se(f),g=!1},d(I){I&&(u(l),u(a)),ge(e,I),T.d(),V[i].d(),p=!1,dt(_)}}}const Au=s=>{};function Lu(s,e,t){let l,a,r,o;Be(s,Wt,le=>t(37,l=le)),Be(s,Is,le=>t(8,r=le)),Be(s,zs,le=>t(9,o=le));const i=gt("i18n");Be(s,i,le=>t(7,a=le));const f=ul();let{chat:m}=e,{selected:g=!1}=e,{shiftKey:p=!1}=e,_=!1,b=!1,w=!1,k=m.title;const y=async(le,ie)=>{ie===""?Ke.error(a.t("Title cannot be an empty string.")):(await Hn(localStorage.token,le,{title:ie}),Wt.set(1),await Ot.set(await cl(localStorage.token,l)),await Ml.set(await Tl(localStorage.token,"pinned")))},T=async le=>{const ie=await Un(localStorage.token,le).catch(he=>(Ke.error(he),null));ie&&(Sl(`/c/${ie.id}`),Wt.set(1),await Ot.set(await cl(localStorage.token,l)),await Ml.set(await Tl(localStorage.token,"pinned")))},C=async le=>{await hn(localStorage.token,le),Wt.set(1),await Ot.set(await cl(localStorage.token,l)),await Ml.set(await Tl(localStorage.token,"pinned"))},V=async le=>{le.focus()};function D(le){b=le,t(4,b)}function I(){k=this.value,t(6,k)}const E=()=>{f("select"),o&&il.set(!1)},x=()=>{t(6,k=m.title),t(5,w=!0)},R=le=>{t(3,_=!0)},F=le=>{t(3,_=!1)},L=()=>{y(m.id,k),t(5,w=!1),t(6,k="")},Y=()=>{t(5,w=!1),t(6,k="")},j=()=>{C(m.id)},B=()=>{f("delete","shift")},M=()=>{f("select")},U=()=>{T(m.id)},$=()=>{t(4,b=!0)},Z=()=>{C(m.id)},q=()=>{t(6,k=m.title),t(5,w=!0)},P=()=>{f("delete")},W=()=>{f("unselect")},K=async()=>{await Ml.set(await Tl(localStorage.token,"pinned"))},G=()=>{f("delete")},J=le=>{t(3,_=!0)},te=le=>{t(3,_=!1)};return s.$$set=le=>{"chat"in le&&t(0,m=le.chat),"selected"in le&&t(1,g=le.selected),"shiftKey"in le&&t(2,p=le.shiftKey)},[m,g,p,_,b,w,k,a,r,o,i,f,y,T,C,V,D,I,E,x,R,F,L,Y,j,B,M,U,$,Z,q,P,W,K,G,J,te]}class In extends nt{constructor(e){super(),ot(this,e,Lu,Su,rt,{chat:0,selected:1,shiftKey:2},null,[-1,-1])}}function Bu(s){let e,t;const l=s[2].default,a=Fs(l,s,s[1],null);return{c(){e=d("div"),a&&a.c()},l(r){e=h(r,"DIV",{});var o=v(e);a&&a.l(o),o.forEach(u)},m(r,o){z(r,e,o),a&&a.m(e,null),s[3](e),t=!0},p(r,[o]){a&&a.p&&(!t||o&2)&&Ys(a,l,r,r[1],t?Ks(l,r[1],o,null):qs(r[1]),null)},i(r){t||(ee(a,r),t=!0)},o(r){se(a,r),t=!1},d(r){r&&u(e),a&&a.d(r),s[3](null)}}}function xu(s,e,t){let{$$slots:l={},$$scope:a}=e;const r=ul();let o;Ft(()=>{new IntersectionObserver((m,g)=>{m.forEach(p=>{p.isIntersecting&&r("visible")})},{root:null,rootMargin:"0px",threshold:.1}).observe(o)});function i(f){mt[f?"unshift":"push"](()=>{o=f,t(0,o)})}return s.$$set=f=>{"$$scope"in f&&t(1,a=f.$$scope)},[o,a,l,i]}class Nu extends nt{constructor(e){super(),ot(this,e,xu,Bu,rt,{})}}function Or(s,e,t){const l=s.slice();return l[51]=e[t],l[53]=t,l}function Hr(s,e,t){const l=s.slice();return l[51]=e[t],l[53]=t,l}function Ur(s,e,t){const l=s.slice();return l[55]=e[t],l}function Ou(s){let e,t=s[13].t("This will delete")+"",l,a,r,o=s[5].title+"",i,f;return{c(){e=d("div"),l=N(t),a=S(),r=d("span"),i=N(o),f=N("."),this.h()},l(m){e=h(m,"DIV",{class:!0});var g=v(e);l=O(g,t),a=A(g),r=h(g,"SPAN",{class:!0});var p=v(r);i=O(p,o),p.forEach(u),f=O(g,"."),g.forEach(u),this.h()},h(){c(r,"class","font-semibold"),c(e,"class","text-sm text-gray-500")},m(m,g){z(m,e,g),n(e,l),n(e,a),n(e,r),n(r,i),n(e,f)},p(m,g){g[0]&8192&&t!==(t=m[13].t("This will delete")+"")&&H(l,t),g[0]&32&&o!==(o=m[5].title+"")&&H(i,o)},d(m){m&&u(e)}}}function Pr(s){let e,t,l;return{c(){e=d("div"),this.h()},l(a){e=h(a,"DIV",{class:!0}),v(e).forEach(u),this.h()},h(){c(e,"class","fixed md:hidden z-40 top-0 right-0 left-0 bottom-0 bg-black/60 w-full min-h-screen h-screen flex justify-center overflow-hidden overscroll-contain")},m(a,r){z(a,e,r),t||(l=X(e,"mousedown",s[29]),t=!0)},p:Pe,d(a){a&&u(e),t=!1,l()}}}function $r(s){let e,t,l,a='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="size-[1.1rem]"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 16.875h3.375m0 0h3.375m-3.375 0V13.5m0 3.375v3.375M6 10.5h2.25a2.25 2.25 0 0 0 2.25-2.25V6a2.25 2.25 0 0 0-2.25-2.25H6A2.25 2.25 0 0 0 3.75 6v2.25A2.25 2.25 0 0 0 6 10.5Zm0 9.75h2.25A2.25 2.25 0 0 0 10.5 18v-2.25a2.25 2.25 0 0 0-2.25-2.25H6a2.25 2.25 0 0 0-2.25 2.25V18A2.25 2.25 0 0 0 6 20.25Zm9.75-9.75H18a2.25 2.25 0 0 0 2.25-2.25V6A2.25 2.25 0 0 0 18 3.75h-2.25A2.25 2.25 0 0 0 13.5 6v2.25a2.25 2.25 0 0 0 2.25 2.25Z"></path></svg>',r,o,i,f=s[13].t("Workspace")+"",m,g,p;return{c(){e=d("div"),t=d("a"),l=d("div"),l.innerHTML=a,r=S(),o=d("div"),i=d("div"),m=N(f),this.h()},l(_){e=h(_,"DIV",{class:!0});var b=v(e);t=h(b,"A",{class:!0,href:!0,draggable:!0});var w=v(t);l=h(w,"DIV",{class:!0,"data-svelte-h":!0}),Ue(l)!=="svelte-zod9jr"&&(l.innerHTML=a),r=A(w),o=h(w,"DIV",{class:!0});var k=v(o);i=h(k,"DIV",{class:!0});var y=v(i);m=O(y,f),y.forEach(u),k.forEach(u),w.forEach(u),b.forEach(u),this.h()},h(){c(l,"class","self-center"),c(i,"class","self-center font-medium text-sm font-primary"),c(o,"class","flex self-center"),c(t,"class","flex-grow flex space-x-3 rounded-xl px-2.5 py-2 hover:bg-gray-100 dark:hover:bg-gray-900 transition"),c(t,"href","/workspace"),c(t,"draggable","false"),c(e,"class","px-2.5 flex justify-center text-gray-800 dark:text-gray-200")},m(_,b){z(_,e,b),n(e,t),n(t,l),n(t,r),n(t,o),n(o,i),n(i,m),g||(p=X(t,"click",s[32]),g=!0)},p(_,b){b[0]&8192&&f!==(f=_[13].t("Workspace")+"")&&H(m,f)},d(_){_&&u(e),g=!1,p()}}}function jr(s){let e;return{c(){e=d("div"),this.h()},l(t){e=h(t,"DIV",{class:!0}),v(e).forEach(u),this.h()},h(){c(e,"class","absolute z-40 w-full h-full bg-gray-50/90 dark:bg-black/90 flex justify-center")},m(t,l){z(t,e,l)},d(t){t&&u(e)}}}function zr(s){let e,t,l=s[13].t("all")+"",a,r,o,i,f=at(s[17].filter(Jr)),m=[];for(let g=0;g<f.length;g+=1)m[g]=Rr(Ur(s,f,g));return{c(){e=d("div"),t=d("button"),a=N(l),r=S();for(let g=0;g<m.length;g+=1)m[g].c();this.h()},l(g){e=h(g,"DIV",{class:!0});var p=v(e);t=h(p,"BUTTON",{class:!0});var _=v(t);a=O(_,l),_.forEach(u),r=A(p);for(let b=0;b<m.length;b+=1)m[b].l(p);p.forEach(u),this.h()},h(){c(t,"class","px-2.5 text-xs font-medium bg-gray-50 dark:bg-gray-900 dark:hover:bg-gray-800 transition rounded-full"),c(e,"class","px-2.5 mb-2 flex gap-1 flex-wrap")},m(g,p){z(g,e,p),n(e,t),n(t,a),n(e,r);for(let _=0;_<m.length;_+=1)m[_]&&m[_].m(e,null);o||(i=X(t,"click",s[35]),o=!0)},p(g,p){if(p[0]&8192&&l!==(l=g[13].t("all")+"")&&H(a,l),p[0]&2228736){f=at(g[17].filter(Jr));let _;for(_=0;_<f.length;_+=1){const b=Ur(g,f,_);m[_]?m[_].p(b,p):(m[_]=Rr(b),m[_].c(),m[_].m(e,null))}for(;_<m.length;_+=1)m[_].d(1);m.length=f.length}},d(g){g&&u(e),Pt(m,g),o=!1,i()}}}function Rr(s){let e,t=s[55].name+"",l,a,r,o;function i(){return s[36](s[55])}return{c(){e=d("button"),l=N(t),a=S(),this.h()},l(f){e=h(f,"BUTTON",{class:!0});var m=v(e);l=O(m,t),a=A(m),m.forEach(u),this.h()},h(){c(e,"class","px-2.5 text-xs font-medium bg-gray-50 dark:bg-gray-900 dark:hover:bg-gray-800 transition rounded-full")},m(f,m){z(f,e,m),n(e,l),n(e,a),r||(o=X(e,"click",i),r=!0)},p(f,m){s=f,m[0]&131072&&t!==(t=s[55].name+"")&&H(l,t)},d(f){f&&u(e),r=!1,o()}}}function Wr(s){let e,t,l,a=s[13].t("Pinned")+"",r,o,i,f=at(s[18]),m=[];for(let p=0;p<f.length;p+=1)m[p]=Zr(Hr(s,f,p));const g=p=>se(m[p],1,1,()=>{m[p]=null});return{c(){e=d("div"),t=d("div"),l=d("div"),r=N(a),o=S();for(let p=0;p<m.length;p+=1)m[p].c();this.h()},l(p){e=h(p,"DIV",{class:!0});var _=v(e);t=h(_,"DIV",{class:!0});var b=v(t);l=h(b,"DIV",{class:!0});var w=v(l);r=O(w,a),w.forEach(u),o=A(b);for(let k=0;k<m.length;k+=1)m[k].l(b);b.forEach(u),_.forEach(u),this.h()},h(){c(l,"class","w-full pl-2.5 text-xs text-gray-500 dark:text-gray-500 font-medium pb-1.5"),c(t,"class",""),c(e,"class","pl-2 py-2 flex flex-col space-y-1")},m(p,_){z(p,e,_),n(e,t),n(t,l),n(l,r),n(t,o);for(let b=0;b<m.length;b+=1)m[b]&&m[b].m(t,null);i=!0},p(p,_){if((!i||_[0]&8192)&&a!==(a=p[13].t("Pinned")+"")&&H(r,a),_[0]&17039480){f=at(p[18]);let b;for(b=0;b<f.length;b+=1){const w=Hr(p,f,b);m[b]?(m[b].p(w,_),ee(m[b],1)):(m[b]=Zr(w),m[b].c(),ee(m[b],1),m[b].m(t,null))}for(wt(),b=f.length;b<m.length;b+=1)g(b);kt()}},i(p){if(!i){for(let _=0;_<f.length;_+=1)ee(m[_]);i=!0}},o(p){m=m.filter(Boolean);for(let _=0;_<m.length;_+=1)se(m[_]);i=!1},d(p){p&&u(e),Pt(m,p)}}}function Zr(s){let e,t;function l(){return s[37](s[51])}function a(...r){return s[39](s[51],...r)}return e=new In({props:{chat:s[51],shiftKey:s[3],selected:s[4]===s[51].id}}),e.$on("select",l),e.$on("unselect",s[38]),e.$on("delete",a),{c(){me(e.$$.fragment)},l(r){_e(e.$$.fragment,r)},m(r,o){pe(e,r,o),t=!0},p(r,o){s=r;const i={};o[0]&262144&&(i.chat=s[51]),o[0]&8&&(i.shiftKey=s[3]),o[0]&262160&&(i.selected=s[4]===s[51].id),e.$set(i)},i(r){t||(ee(e.$$.fragment,r),t=!0)},o(r){se(e.$$.fragment,r),t=!1},d(r){ge(e,r)}}}function Fr(s){let e,t=s[13].t(s[51].time_range)+"",l;return{c(){e=d("div"),l=N(t),this.h()},l(a){e=h(a,"DIV",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","w-full pl-2.5 text-xs text-gray-500 dark:text-gray-500 font-medium "+(s[53]===0?"":"pt-5")+" pb-0.5")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&8448&&t!==(t=a[13].t(a[51].time_range)+"")&&H(l,t)},d(a){a&&u(e)}}}function Yr(s){let e,t,l,a=(s[53]===0||s[53]>0&&s[51].time_range!==s[8][s[53]-1].time_range)&&Fr(s);function r(){return s[40](s[51])}function o(...i){return s[42](s[51],...i)}return t=new In({props:{chat:s[51],shiftKey:s[3],selected:s[4]===s[51].id}}),t.$on("select",r),t.$on("unselect",s[41]),t.$on("delete",o),{c(){a&&a.c(),e=S(),me(t.$$.fragment)},l(i){a&&a.l(i),e=A(i),_e(t.$$.fragment,i)},m(i,f){a&&a.m(i,f),z(i,e,f),pe(t,i,f),l=!0},p(i,f){s=i,s[53]===0||s[53]>0&&s[51].time_range!==s[8][s[53]-1].time_range?a?a.p(s,f):(a=Fr(s),a.c(),a.m(e.parentNode,e)):a&&(a.d(1),a=null);const m={};f[0]&256&&(m.chat=s[51]),f[0]&8&&(m.shiftKey=s[3]),f[0]&272&&(m.selected=s[4]===s[51].id),t.$set(m)},i(i){l||(ee(t.$$.fragment,i),l=!0)},o(i){se(t.$$.fragment,i),l=!1},d(i){i&&u(e),a&&a.d(i),ge(t,i)}}}function qr(s){let e,t;return e=new Nu({props:{$$slots:{default:[Hu]},$$scope:{ctx:s}}}),e.$on("visible",s[43]),{c(){me(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){pe(e,l,a),t=!0},p(l,a){const r={};a[1]&134217728&&(r.$$scope={dirty:a,ctx:l}),e.$set(r)},i(l){t||(ee(e.$$.fragment,l),t=!0)},o(l){se(e.$$.fragment,l),t=!1},d(l){ge(e,l)}}}function Hu(s){let e,t,l,a,r="Loading...",o;return t=new Co({props:{className:" size-4"}}),{c(){e=d("div"),me(t.$$.fragment),l=S(),a=d("div"),a.textContent=r,this.h()},l(i){e=h(i,"DIV",{class:!0});var f=v(e);_e(t.$$.fragment,f),l=A(f),a=h(f,"DIV",{class:!0,"data-svelte-h":!0}),Ue(a)!=="svelte-17uns3n"&&(a.textContent=r),f.forEach(u),this.h()},h(){c(a,"class",""),c(e,"class","w-full flex justify-center py-1 text-xs animate-pulse items-center gap-2")},m(i,f){z(i,e,f),pe(t,e,null),n(e,l),n(e,a),o=!0},p:Pe,i(i){o||(ee(t.$$.fragment,i),o=!0)},o(i){se(t.$$.fragment,i),o=!1},d(i){i&&u(e),ge(t)}}}function Kr(s){let e,t;return e=new ko({props:{role:s[15].role,$$slots:{default:[Uu]},$$scope:{ctx:s}}}),e.$on("show",s[45]),{c(){me(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){pe(e,l,a),t=!0},p(l,a){const r={};a[0]&32768&&(r.role=l[15].role),a[0]&32896|a[1]&134217728&&(r.$$scope={dirty:a,ctx:l}),e.$set(r)},i(l){t||(ee(e.$$.fragment,l),t=!0)},o(l){se(e.$$.fragment,l),t=!1},d(l){ge(e,l)}}}function Uu(s){let e,t,l,a,r,o,i=s[15].name+"",f,m,g;return{c(){e=d("button"),t=d("div"),l=d("img"),r=S(),o=d("div"),f=N(i),this.h()},l(p){e=h(p,"BUTTON",{class:!0});var _=v(e);t=h(_,"DIV",{class:!0});var b=v(t);l=h(b,"IMG",{src:!0,class:!0,alt:!0}),b.forEach(u),r=A(_),o=h(_,"DIV",{class:!0});var w=v(o);f=O(w,i),w.forEach(u),_.forEach(u),this.h()},h(){Ds(l.src,a=s[15].profile_image_url)||c(l,"src",a),c(l,"class","max-w-[30px] object-cover rounded-full"),c(l,"alt","User profile"),c(t,"class","self-center mr-3"),c(o,"class","self-center font-medium"),c(e,"class","flex rounded-xl py-3 px-3.5 w-full hover:bg-gray-100 dark:hover:bg-gray-900 transition")},m(p,_){z(p,e,_),n(e,t),n(t,l),n(e,r),n(e,o),n(o,f),m||(g=X(e,"click",s[44]),m=!0)},p(p,_){_[0]&32768&&!Ds(l.src,a=p[15].profile_image_url)&&c(l,"src",a),_[0]&32768&&i!==(i=p[15].name+"")&&H(f,i)},d(p){p&&u(e),m=!1,g()}}}function Pu(s){var it;let e,t,l,a,r,o,i,f,m,g,p,_,b=`<img crossorigin="anonymous" src="${Yn}/static/favicon.png" class="size-6 -translate-x-1.5 rounded-full" alt="logo"/>`,w,k,y=s[13].t("New Chat")+"",T,C,V,D='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="size-5"><path d="M5.433 13.917l1.262-3.155A4 4 0 017.58 9.42l6.92-6.918a2.121 2.121 0 013 3l-6.92 6.918c-.383.383-.84.685-1.343.886l-3.154 1.262a.5.5 0 01-.65-.65z"></path><path d="M3.5 5.75c0-.69.56-1.25 1.25-1.25H10A.75.75 0 0010 3H4.75A2.75 2.75 0 002 5.75v9.5A2.75 2.75 0 004.75 18h9.5A2.75 2.75 0 0017 15.25V10a.75.75 0 00-1.5 0v5.25c0 .69-.56 1.25-1.25 1.25h-9.5c-.69 0-1.25-.56-1.25-1.25v-9.5z"></path></svg>',I,E,x='<div class="m-auto self-center"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="size-5"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25H12"></path></svg></div>',R,F,L,Y,j,B,M,U='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd"></path></svg>',$,Z,q,P,W=s[17].filter(Gr).length>0,K,G,J,te,le,ie,he,Ee,Oe,Se,He,ve;function de(ae){s[25](ae)}let ne={};s[12]!==void 0&&(ne.show=s[12]),e=new Kc({props:ne}),mt.push(()=>Et(e,"show",de)),e.$on("change",s[26]);function Ie(ae){s[27](ae)}let Q={title:s[13].t("Delete chat?"),$$slots:{default:[Ou]},$$scope:{ctx:s}};s[6]!==void 0&&(Q.show=s[6]),a=new To({props:Q}),mt.push(()=>Et(a,"show",Ie)),a.$on("confirm",s[28]);let ce=s[11]&&Pr(s),Ve=((it=s[15])==null?void 0:it.role)==="admin"&&$r(s),Me=s[16]&&jr(),oe=W&&zr(s),De=s[18].length>0&&Wr(s),xe=at(s[8]),Ce=[];for(let ae=0;ae<xe.length;ae+=1)Ce[ae]=Yr(Or(s,xe,ae));const Re=ae=>se(Ce[ae],1,1,()=>{Ce[ae]=null});let be=s[19]&&!s[10]&&qr(s),ye=s[15]!==void 0&&Kr(s);return{c(){me(e.$$.fragment),l=S(),me(a.$$.fragment),o=S(),ce&&ce.c(),i=S(),f=d("div"),m=d("div"),g=d("div"),p=d("a"),_=d("div"),_.innerHTML=b,w=S(),k=d("div"),T=N(y),C=S(),V=d("div"),V.innerHTML=D,I=S(),E=d("button"),E.innerHTML=x,R=S(),Ve&&Ve.c(),F=S(),L=d("div"),Me&&Me.c(),Y=S(),j=d("div"),B=d("div"),M=d("div"),M.innerHTML=U,$=S(),Z=d("input"),P=S(),oe&&oe.c(),K=S(),De&&De.c(),G=S(),J=d("div");for(let ae=0;ae<Ce.length;ae+=1)Ce[ae].c();te=S(),be&&be.c(),le=S(),ie=d("div"),he=d("div"),ye&&ye.c(),this.h()},l(ae){_e(e.$$.fragment,ae),l=A(ae),_e(a.$$.fragment,ae),o=A(ae),ce&&ce.l(ae),i=A(ae),f=h(ae,"DIV",{id:!0,class:!0,"data-state":!0});var fe=v(f);m=h(fe,"DIV",{class:!0});var we=v(m);g=h(we,"DIV",{class:!0});var Ae=v(g);p=h(Ae,"A",{id:!0,class:!0,href:!0,draggable:!0});var $e=v(p);_=h($e,"DIV",{class:!0,"data-svelte-h":!0}),Ue(_)!=="svelte-r2hfwb"&&(_.innerHTML=b),w=A($e),k=h($e,"DIV",{class:!0});var We=v(k);T=O(We,y),We.forEach(u),C=A($e),V=h($e,"DIV",{class:!0,"data-svelte-h":!0}),Ue(V)!=="svelte-aq723q"&&(V.innerHTML=D),$e.forEach(u),I=A(Ae),E=h(Ae,"BUTTON",{class:!0,"data-svelte-h":!0}),Ue(E)!=="svelte-d56ezf"&&(E.innerHTML=x),Ae.forEach(u),R=A(we),Ve&&Ve.l(we),F=A(we),L=h(we,"DIV",{class:!0});var Ge=v(L);Me&&Me.l(Ge),Y=A(Ge),j=h(Ge,"DIV",{class:!0});var ht=v(j);B=h(ht,"DIV",{class:!0,id:!0});var Je=v(B);M=h(Je,"DIV",{class:!0,"data-svelte-h":!0}),Ue(M)!=="svelte-1yg7etj"&&(M.innerHTML=U),$=A(Je),Z=h(Je,"INPUT",{class:!0,placeholder:!0}),Je.forEach(u),ht.forEach(u),P=A(Ge),oe&&oe.l(Ge),K=A(Ge),De&&De.l(Ge),G=A(Ge),J=h(Ge,"DIV",{class:!0});var ct=v(J);for(let et=0;et<Ce.length;et+=1)Ce[et].l(ct);te=A(ct),be&&be.l(ct),ct.forEach(u),Ge.forEach(u),le=A(we),ie=h(we,"DIV",{class:!0});var ut=v(ie);he=h(ut,"DIV",{class:!0});var Ze=v(he);ye&&ye.l(Ze),Ze.forEach(u),ut.forEach(u),we.forEach(u),fe.forEach(u),this.h()},h(){c(_,"class","self-center mx-1.5"),c(k,"class","self-center font-medium text-sm text-gray-850 dark:text-white font-primary"),c(V,"class","self-center ml-auto"),c(p,"id","sidebar-new-chat-button"),c(p,"class","flex flex-1 justify-between rounded-xl px-2 py-2 hover:bg-gray-100 dark:hover:bg-gray-900 transition"),c(p,"href","/"),c(p,"draggable","false"),c(E,"class","cursor-pointer px-2 py-2 flex rounded-xl hover:bg-gray-100 dark:hover:bg-gray-900 transition"),c(g,"class","px-2.5 flex justify-between space-x-1 text-gray-600 dark:text-gray-400"),c(M,"class","self-center pl-3 py-2 rounded-l-xl bg-transparent"),c(Z,"class","w-full rounded-r-xl py-1.5 pl-2.5 pr-4 text-sm bg-transparent dark:text-gray-300 outline-none"),c(Z,"placeholder",q=s[13].t("Search")),c(B,"class","flex w-full rounded-xl"),c(B,"id","chat-search"),c(j,"class","px-2 mt-0.5 mb-2 flex justify-center space-x-2"),c(J,"class","pl-2 my-2 flex-1 flex flex-col space-y-1 overflow-y-auto scrollbar-hidden svelte-141e0sl"),c(L,"class","relative flex flex-col flex-1 overflow-y-auto"),c(he,"class","flex flex-col font-primary"),c(ie,"class","px-2.5"),c(m,"class",Ee="py-2.5 my-auto flex flex-col justify-between h-screen max-h-[100dvh] w-[260px] z-50 "+(s[11]?"":"invisible")),c(f,"id","sidebar"),c(f,"class",Oe="h-screen max-h-[100dvh] min-h-screen select-none "+(s[11]?"md:relative w-[260px]":"-translate-x-[260px] w-[0px]")+" bg-gray-50 text-gray-900 dark:bg-gray-950 dark:text-gray-200 text-sm transition fixed z-50 top-0 left-0 rounded-r-2xl"),c(f,"data-state",s[11])},m(ae,fe){pe(e,ae,fe),z(ae,l,fe),pe(a,ae,fe),z(ae,o,fe),ce&&ce.m(ae,fe),z(ae,i,fe),z(ae,f,fe),n(f,m),n(m,g),n(g,p),n(p,_),n(p,w),n(p,k),n(k,T),n(p,C),n(p,V),n(g,I),n(g,E),n(m,R),Ve&&Ve.m(m,null),n(m,F),n(m,L),Me&&Me.m(L,null),n(L,Y),n(L,j),n(j,B),n(B,M),n(B,$),n(B,Z),ze(Z,s[0]),n(L,P),oe&&oe.m(L,null),n(L,K),De&&De.m(L,null),n(L,G),n(L,J);for(let we=0;we<Ce.length;we+=1)Ce[we]&&Ce[we].m(J,null);n(J,te),be&&be.m(J,null),n(m,le),n(m,ie),n(ie,he),ye&&ye.m(he,null),s[46](f),Se=!0,He||(ve=[X(p,"click",s[30]),X(E,"click",s[31]),X(Z,"input",s[33]),X(Z,"focus",s[34])],He=!0)},p(ae,fe){var $e;const we={};!t&&fe[0]&4096&&(t=!0,we.show=ae[12],yt(()=>t=!1)),e.$set(we);const Ae={};if(fe[0]&8192&&(Ae.title=ae[13].t("Delete chat?")),fe[0]&8224|fe[1]&134217728&&(Ae.$$scope={dirty:fe,ctx:ae}),!r&&fe[0]&64&&(r=!0,Ae.show=ae[6],yt(()=>r=!1)),a.$set(Ae),ae[11]?ce?ce.p(ae,fe):(ce=Pr(ae),ce.c(),ce.m(i.parentNode,i)):ce&&(ce.d(1),ce=null),(!Se||fe[0]&8192)&&y!==(y=ae[13].t("New Chat")+"")&&H(T,y),(($e=ae[15])==null?void 0:$e.role)==="admin"?Ve?Ve.p(ae,fe):(Ve=$r(ae),Ve.c(),Ve.m(m,F)):Ve&&(Ve.d(1),Ve=null),ae[16]?Me||(Me=jr(),Me.c(),Me.m(L,Y)):Me&&(Me.d(1),Me=null),(!Se||fe[0]&8192&&q!==(q=ae[13].t("Search")))&&c(Z,"placeholder",q),fe[0]&1&&Z.value!==ae[0]&&ze(Z,ae[0]),fe[0]&131072&&(W=ae[17].filter(Gr).length>0),W?oe?oe.p(ae,fe):(oe=zr(ae),oe.c(),oe.m(L,K)):oe&&(oe.d(1),oe=null),ae[18].length>0?De?(De.p(ae,fe),fe[0]&262144&&ee(De,1)):(De=Wr(ae),De.c(),ee(De,1),De.m(L,G)):De&&(wt(),se(De,1,1,()=>{De=null}),kt()),fe[0]&16785784){xe=at(ae[8]);let We;for(We=0;We<xe.length;We+=1){const Ge=Or(ae,xe,We);Ce[We]?(Ce[We].p(Ge,fe),ee(Ce[We],1)):(Ce[We]=Yr(Ge),Ce[We].c(),ee(Ce[We],1),Ce[We].m(J,te))}for(wt(),We=xe.length;We<Ce.length;We+=1)Re(We);kt()}ae[19]&&!ae[10]?be?(be.p(ae,fe),fe[0]&525312&&ee(be,1)):(be=qr(ae),be.c(),ee(be,1),be.m(J,null)):be&&(wt(),se(be,1,1,()=>{be=null}),kt()),ae[15]!==void 0?ye?(ye.p(ae,fe),fe[0]&32768&&ee(ye,1)):(ye=Kr(ae),ye.c(),ee(ye,1),ye.m(he,null)):ye&&(wt(),se(ye,1,1,()=>{ye=null}),kt()),(!Se||fe[0]&2048&&Ee!==(Ee="py-2.5 my-auto flex flex-col justify-between h-screen max-h-[100dvh] w-[260px] z-50 "+(ae[11]?"":"invisible")))&&c(m,"class",Ee),(!Se||fe[0]&2048&&Oe!==(Oe="h-screen max-h-[100dvh] min-h-screen select-none "+(ae[11]?"md:relative w-[260px]":"-translate-x-[260px] w-[0px]")+" bg-gray-50 text-gray-900 dark:bg-gray-950 dark:text-gray-200 text-sm transition fixed z-50 top-0 left-0 rounded-r-2xl"))&&c(f,"class",Oe),(!Se||fe[0]&2048)&&c(f,"data-state",ae[11])},i(ae){if(!Se){ee(e.$$.fragment,ae),ee(a.$$.fragment,ae),ee(De);for(let fe=0;fe<xe.length;fe+=1)ee(Ce[fe]);ee(be),ee(ye),Se=!0}},o(ae){se(e.$$.fragment,ae),se(a.$$.fragment,ae),se(De),Ce=Ce.filter(Boolean);for(let fe=0;fe<Ce.length;fe+=1)se(Ce[fe]);se(be),se(ye),Se=!1},d(ae){ae&&(u(l),u(o),u(i),u(f)),ge(e,ae),ge(a,ae),ce&&ce.d(ae),Ve&&Ve.d(),Me&&Me.d(),oe&&oe.d(),De&&De.d(),Pt(Ce,ae),be&&be.d(),ye&&ye.d(),s[46](null),He=!1,dt(ve)}}}const $u=768,Gr=s=>s.name!=="pinned",Jr=s=>s.name!=="pinned";function ju(s,e,t){let l,a,r,o,i,f,m,g,p,_,b,w;Be(s,Wt,Q=>t(47,l=Q)),Be(s,Is,Q=>t(48,a=Q)),Be(s,gl,Q=>t(49,Q)),Be(s,il,Q=>t(11,r=Q)),Be(s,Ot,Q=>t(1,o=Q)),Be(s,Hs,Q=>t(12,i=Q)),Be(s,zs,Q=>t(14,m=Q)),Be(s,Ul,Q=>t(15,g=Q)),Be(s,gn,Q=>t(16,p=Q)),Be(s,Rs,Q=>t(17,_=Q)),Be(s,Ml,Q=>t(18,b=Q)),Be(s,Cl,Q=>t(19,w=Q));const k=gt("i18n");Be(s,k,Q=>t(13,f=Q));let y,T="",C=!1,V=null,D=null,I=!1,E=!1,x=[],R=!1,F=!1;const L=async()=>{Wt.set(1),t(10,F=!1),await Ot.set(await cl(localStorage.token,l)),Cl.set(!0)},Y=async()=>{t(9,R=!0),Wt.set(l+1);const Q=await cl(localStorage.token,l);t(10,F=Q.length===0),await Ot.set([...o,...Q]),t(9,R=!1)};Ft(async()=>{zs.subscribe(be=>{r&&be&&il.set(!1),!r&&!be&&il.set(!0)}),il.set(window.innerWidth>$u),await Ml.set(await Tl(localStorage.token,"pinned")),await L();let Q,ce;function Ve(){const be=window.innerWidth,ye=Math.abs(ce.screenX-Q.screenX);Q.clientX<40&&ye>=be/8&&(ce.screenX<Q.screenX&&il.set(!1),ce.screenX>Q.screenX&&il.set(!0))}const Me=be=>{Q=be.changedTouches[0],console.log(Q.clientX)},oe=be=>{ce=be.changedTouches[0],Ve()},De=be=>{be.key==="Shift"&&t(3,C=!0)},xe=be=>{be.key==="Shift"&&t(3,C=!1)},Ce=()=>{},Re=()=>{t(3,C=!1),t(4,V=null)};return window.addEventListener("keydown",De),window.addEventListener("keyup",xe),window.addEventListener("touchstart",Me),window.addEventListener("touchend",oe),window.addEventListener("focus",Ce),window.addEventListener("blur",Re),()=>{window.removeEventListener("keydown",De),window.removeEventListener("keyup",xe),window.removeEventListener("touchstart",Me),window.removeEventListener("touchend",oe),window.removeEventListener("focus",Ce),window.removeEventListener("blur",Re)}});const j=async Q=>{const ce=await Promise.all(Q.map(async Ve=>{const Me=await Pn(localStorage.token,Ve.id).catch(oe=>null);return Me&&(Ve.chat=Me.chat),Ve}));await Ot.set(ce)},B=async Q=>{await vn(localStorage.token,Q).catch(Ve=>(Ke.error(Ve),null))&&(a===Q&&(await Is.set(""),await Vs(),Sl("/")),t(10,F=!1),Wt.set(1),await Ot.set(await cl(localStorage.token,l)),await Ml.set(await Tl(localStorage.token,"pinned")))};function M(Q){i=Q,Hs.set(i)}const U=async()=>{await Ot.set(await cl(localStorage.token))};function $(Q){I=Q,t(6,I)}const Z=()=>{B(D.id)},q=()=>{il.set(!r)},P=async()=>{t(4,V=null),await Sl("/");const Q=document.getElementById("new-chat-button");setTimeout(()=>{Q==null||Q.click(),m&&il.set(!1)},0)},W=()=>{il.set(!r)},K=()=>{t(4,V=null),Is.set(""),m&&il.set(!1)};function G(){T=this.value,t(0,T)}const J=async()=>{Cl.set(!1),await Ot.set(await cl(localStorage.token)),j(o)},te=async()=>{await L()},le=async Q=>{Cl.set(!1);let ce=await Tl(localStorage.token,Q.name);ce.length===0&&(await Rs.set(await mn(localStorage.token)),await L()),await Ot.set(ce),t(9,R=!1)},ie=Q=>{t(4,V=Q.id)},he=()=>{t(4,V=null)},Ee=(Q,ce)=>{((ce==null?void 0:ce.detail)??"")==="shift"?B(Q.id):(t(5,D=Q),t(6,I=!0))},Oe=Q=>{t(4,V=Q.id)},Se=()=>{t(4,V=null)},He=(Q,ce)=>{((ce==null?void 0:ce.detail)??"")==="shift"?B(Q.id):(t(5,D=Q),t(6,I=!0))},ve=Q=>{R||Y()},de=()=>{t(7,E=!E)},ne=Q=>{Q.detail==="archived-chat"&&Hs.set(!0)};function Ie(Q){mt[Q?"unshift":"push"](()=>{y=Q,t(2,y)})}return s.$$.update=()=>{s.$$.dirty[0]&3&&t(8,x=o.filter(Q=>{if(T==="")return!0;{let ce=Q.title.toLowerCase();const Ve=T.toLowerCase();let Me=!1;return Q.chat&&Q.chat.messages&&Array.isArray(Q.chat.messages)&&(Me=Q.chat.messages.some(oe=>oe.content&&oe.content.toLowerCase().includes(Ve))),ce.includes(Ve)||Me}}))},[T,o,y,C,V,D,I,E,x,R,F,r,i,f,m,g,p,_,b,w,k,L,Y,j,B,M,U,$,Z,q,P,W,K,G,J,te,le,ie,he,Ee,Oe,Se,He,ve,de,ne,Ie]}class zu extends nt{constructor(e){super(),ot(this,e,ju,Pu,rt,{},null,[-1,-1])}}function Xr(s,e,t){const l=s.slice();return l[19]=e[t],l}function Qr(s){let e,t=at({length:s[6]}),l=[];for(let a=0;a<t.length;a+=1)l[a]=en(Xr(s,t,a));return{c(){e=d("div");for(let a=0;a<l.length;a+=1)l[a].c();this.h()},l(a){e=h(a,"DIV",{class:!0});var r=v(e);for(let o=0;o<l.length;o+=1)l[o].l(r);r.forEach(u),this.h()},h(){c(e,"class","confetti-holder svelte-15ksp55"),El(e,"rounded",s[9]),El(e,"cone",s[10]),El(e,"no-gravity",s[11]),El(e,"reduced-motion",s[13])},m(a,r){z(a,e,r);for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(e,null)},p(a,r){if(r&37375){t=at({length:a[6]});let o;for(o=0;o<t.length;o+=1){const i=Xr(a,t,o);l[o]?l[o].p(i,r):(l[o]=en(i),l[o].c(),l[o].m(e,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}r&512&&El(e,"rounded",a[9]),r&1024&&El(e,"cone",a[10]),r&2048&&El(e,"no-gravity",a[11]),r&8192&&El(e,"reduced-motion",a[13])},d(a){a&&u(e),Pt(l,a)}}}function en(s){let e;return{c(){e=d("div"),this.h()},l(t){e=h(t,"DIV",{class:!0,style:!0}),v(e).forEach(u),this.h()},h(){c(e,"class","confetti svelte-15ksp55"),pt(e,"--fall-distance",s[8]),pt(e,"--size",s[0]+"px"),pt(e,"--color",s[15]()),pt(e,"--skew",Nt(-45,45)+"deg,"+Nt(-45,45)+"deg"),pt(e,"--rotation-xyz",Nt(-10,10)+", "+Nt(-10,10)+", "+Nt(-10,10)),pt(e,"--rotation-deg",Nt(0,360)+"deg"),pt(e,"--translate-y-multiplier",Nt(s[2][0],s[2][1])),pt(e,"--translate-x-multiplier",Nt(s[1][0],s[1][1])),pt(e,"--scale",.1*Nt(2,10)),pt(e,"--transition-duration",s[4]?`calc(${s[3]}ms * var(--scale))`:`${s[3]}ms`),pt(e,"--transition-delay",Nt(s[5][0],s[5][1])+"ms"),pt(e,"--transition-iteration-count",s[4]?"infinite":s[7]),pt(e,"--x-spread",1-s[12])},m(t,l){z(t,e,l)},p(t,l){l&256&&pt(e,"--fall-distance",t[8]),l&1&&pt(e,"--size",t[0]+"px"),l&4&&pt(e,"--translate-y-multiplier",Nt(t[2][0],t[2][1])),l&2&&pt(e,"--translate-x-multiplier",Nt(t[1][0],t[1][1])),l&24&&pt(e,"--transition-duration",t[4]?`calc(${t[3]}ms * var(--scale))`:`${t[3]}ms`),l&32&&pt(e,"--transition-delay",Nt(t[5][0],t[5][1])+"ms"),l&144&&pt(e,"--transition-iteration-count",t[4]?"infinite":t[7]),l&4096&&pt(e,"--x-spread",1-t[12])},d(t){t&&u(e)}}}function Ru(s){let e,t=!s[14]&&Qr(s);return{c(){t&&t.c(),e=Hl()},l(l){t&&t.l(l),e=Hl()},m(l,a){t&&t.m(l,a),z(l,e,a)},p(l,[a]){l[14]?t&&(t.d(1),t=null):t?t.p(l,a):(t=Qr(l),t.c(),t.m(e.parentNode,e))},i:Pe,o:Pe,d(l){l&&u(e),t&&t.d(l)}}}function Nt(s,e){return Math.random()*(e-s)+s}function Wu(s,e,t){let{size:l=10}=e,{x:a=[-.5,.5]}=e,{y:r=[.25,1]}=e,{duration:o=2e3}=e,{infinite:i=!1}=e,{delay:f=[0,50]}=e,{colorRange:m=[0,360]}=e,{colorArray:g=[]}=e,{amount:p=50}=e,{iterationCount:_=1}=e,{fallDistance:b="100px"}=e,{rounded:w=!1}=e,{cone:k=!1}=e,{noGravity:y=!1}=e,{xSpread:T=.15}=e,{destroyOnComplete:C=!0}=e,{disableForReducedMotion:V=!1}=e,D=!1;Ft(()=>{!C||i||_=="infinite"||setTimeout(()=>t(14,D=!0),(o+f[1])*_)});function I(){return g.length?g[Math.round(Math.random()*(g.length-1))]:`hsl(${Math.round(Nt(m[0],m[1]))}, 75%, 50%)`}return s.$$set=E=>{"size"in E&&t(0,l=E.size),"x"in E&&t(1,a=E.x),"y"in E&&t(2,r=E.y),"duration"in E&&t(3,o=E.duration),"infinite"in E&&t(4,i=E.infinite),"delay"in E&&t(5,f=E.delay),"colorRange"in E&&t(16,m=E.colorRange),"colorArray"in E&&t(17,g=E.colorArray),"amount"in E&&t(6,p=E.amount),"iterationCount"in E&&t(7,_=E.iterationCount),"fallDistance"in E&&t(8,b=E.fallDistance),"rounded"in E&&t(9,w=E.rounded),"cone"in E&&t(10,k=E.cone),"noGravity"in E&&t(11,y=E.noGravity),"xSpread"in E&&t(12,T=E.xSpread),"destroyOnComplete"in E&&t(18,C=E.destroyOnComplete),"disableForReducedMotion"in E&&t(13,V=E.disableForReducedMotion)},[l,a,r,o,i,f,p,_,b,w,k,y,T,V,D,I,m,g,C]}class Zu extends nt{constructor(e){super(),ot(this,e,Wu,Ru,rt,{size:0,x:1,y:2,duration:3,infinite:4,delay:5,colorRange:16,colorArray:17,amount:6,iterationCount:7,fallDistance:8,rounded:9,cone:10,noGravity:11,xSpread:12,destroyOnComplete:18,disableForReducedMotion:13})}}function tn(s,e,t){const l=s.slice();return l[9]=e[t],l}function ln(s,e,t){const l=s.slice();return l[12]=e[t],l}function sn(s,e,t){const l=s.slice();return l[15]=e[t],l}function an(s){let e,t=at(Object.keys(s[1])),l=[];for(let a=0;a<t.length;a+=1)l[a]=on(tn(s,t,a));return{c(){for(let a=0;a<l.length;a+=1)l[a].c();e=Hl()},l(a){for(let r=0;r<l.length;r+=1)l[r].l(a);e=Hl()},m(a,r){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(a,r);z(a,e,r)},p(a,r){if(r&2){t=at(Object.keys(a[1]));let o;for(o=0;o<t.length;o+=1){const i=tn(a,t,o);l[o]?l[o].p(i,r):(l[o]=on(i),l[o].c(),l[o].m(e.parentNode,e))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},d(a){a&&u(e),Pt(l,a)}}}function rn(s){let e,t,l=s[1][s[9]][s[12]][s[15]].title+"",a,r,o,i=s[1][s[9]][s[12]][s[15]].content+"",f;return{c(){e=d("div"),t=d("div"),a=N(l),r=S(),o=d("div"),f=N(i),this.h()},l(m){e=h(m,"DIV",{class:!0});var g=v(e);t=h(g,"DIV",{class:!0});var p=v(t);a=O(p,l),p.forEach(u),r=A(g),o=h(g,"DIV",{class:!0});var _=v(o);f=O(_,i),_.forEach(u),g.forEach(u),this.h()},h(){c(t,"class","font-semibold uppercase"),c(o,"class","mb-2 mt-1"),c(e,"class","text-sm mb-2")},m(m,g){z(m,e,g),n(e,t),n(t,a),n(e,r),n(e,o),n(o,f)},p(m,g){g&2&&l!==(l=m[1][m[9]][m[12]][m[15]].title+"")&&H(a,l),g&2&&i!==(i=m[1][m[9]][m[12]][m[15]].content+"")&&H(f,i)},d(m){m&&u(e)}}}function nn(s){let e,t,l=s[12]+"",a,r,o,i,f=at(Object.keys(s[1][s[9]][s[12]])),m=[];for(let g=0;g<f.length;g+=1)m[g]=rn(sn(s,f,g));return{c(){e=d("div"),t=d("div"),a=N(l),o=S(),i=d("div");for(let g=0;g<m.length;g+=1)m[g].c();this.h()},l(g){e=h(g,"DIV",{class:!0});var p=v(e);t=h(p,"DIV",{class:!0});var _=v(t);a=O(_,l),_.forEach(u),o=A(p),i=h(p,"DIV",{class:!0});var b=v(i);for(let w=0;w<m.length;w+=1)m[w].l(b);b.forEach(u),p.forEach(u),this.h()},h(){c(t,"class",r="font-semibold uppercase text-xs "+(s[12]==="added"?"text-white bg-blue-600":s[12]==="fixed"?"text-white bg-green-600":s[12]==="changed"?"text-white bg-yellow-600":s[12]==="removed"?"text-white bg-red-600":"")+" w-fit px-3 rounded-full my-2.5"),c(i,"class","my-2.5 px-1.5"),c(e,"class","")},m(g,p){z(g,e,p),n(e,t),n(t,a),n(e,o),n(e,i);for(let _=0;_<m.length;_+=1)m[_]&&m[_].m(i,null)},p(g,p){if(p&2&&l!==(l=g[12]+"")&&H(a,l),p&2&&r!==(r="font-semibold uppercase text-xs "+(g[12]==="added"?"text-white bg-blue-600":g[12]==="fixed"?"text-white bg-green-600":g[12]==="changed"?"text-white bg-yellow-600":g[12]==="removed"?"text-white bg-red-600":"")+" w-fit px-3 rounded-full my-2.5")&&c(t,"class",r),p&2){f=at(Object.keys(g[1][g[9]][g[12]]));let _;for(_=0;_<f.length;_+=1){const b=sn(g,f,_);m[_]?m[_].p(b,p):(m[_]=rn(b),m[_].c(),m[_].m(i,null))}for(;_<m.length;_+=1)m[_].d(1);m.length=f.length}},d(g){g&&u(e),Pt(m,g)}}}function on(s){let e,t,l,a=s[9]+"",r,o,i=s[1][s[9]].date+"",f,m,g,p,_,b=at(Object.keys(s[1][s[9]]).filter(cn)),w=[];for(let k=0;k<b.length;k+=1)w[k]=nn(ln(s,b,k));return{c(){e=d("div"),t=d("div"),l=N("v"),r=N(a),o=N(" - "),f=N(i),m=S(),g=d("hr"),p=S();for(let k=0;k<w.length;k+=1)w[k].c();_=S(),this.h()},l(k){e=h(k,"DIV",{class:!0});var y=v(e);t=h(y,"DIV",{class:!0});var T=v(t);l=O(T,"v"),r=O(T,a),o=O(T," - "),f=O(T,i),T.forEach(u),m=A(y),g=h(y,"HR",{class:!0}),p=A(y);for(let C=0;C<w.length;C+=1)w[C].l(y);_=A(y),y.forEach(u),this.h()},h(){c(t,"class","font-semibold text-xl mb-1 dark:text-white"),c(g,"class","dark:border-gray-800 my-2"),c(e,"class","mb-3 pr-2")},m(k,y){z(k,e,y),n(e,t),n(t,l),n(t,r),n(t,o),n(t,f),n(e,m),n(e,g),n(e,p);for(let T=0;T<w.length;T+=1)w[T]&&w[T].m(e,null);n(e,_)},p(k,y){if(y&2&&a!==(a=k[9]+"")&&H(r,a),y&2&&i!==(i=k[1][k[9]].date+"")&&H(f,i),y&2){b=at(Object.keys(k[1][k[9]]).filter(cn));let T;for(T=0;T<b.length;T+=1){const C=ln(k,b,T);w[T]?w[T].p(C,y):(w[T]=nn(C),w[T].c(),w[T].m(e,_))}for(;T<w.length;T+=1)w[T].d(1);w.length=b.length}},d(k){k&&u(e),Pt(w,k)}}}function Fu(s){let e,t,l,a=s[2].t("Whatâ€™s New in")+"",r,o,i,f,m,g,p,_='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',b,w,k,y=s[2].t("Release Notes")+"",T,C,V,D,I,E,x,R,F,L,Y,j,B,M,U,$=s[2].t("Okay, Let's Go!")+"",Z,q,P,W;m=new Zu({props:{x:[-1,-.25],y:[0,.5]}});let K=s[1]&&an(s);return{c(){e=d("div"),t=d("div"),l=d("div"),r=N(a),o=S(),i=N(s[3]),f=S(),me(m.$$.fragment),g=S(),p=d("button"),p.innerHTML=_,b=S(),w=d("div"),k=d("div"),T=N(y),C=S(),V=d("div"),D=S(),I=d("div"),E=N("v"),x=N(Pl),R=S(),F=d("div"),L=d("div"),Y=d("div"),K&&K.c(),j=S(),B=d("div"),M=d("button"),U=d("span"),Z=N($),this.h()},l(G){e=h(G,"DIV",{class:!0});var J=v(e);t=h(J,"DIV",{class:!0});var te=v(t);l=h(te,"DIV",{class:!0});var le=v(l);r=O(le,a),o=A(le),i=O(le,s[3]),f=A(le),_e(m.$$.fragment,le),le.forEach(u),g=A(te),p=h(te,"BUTTON",{class:!0,"data-svelte-h":!0}),Ue(p)!=="svelte-14wj4tl"&&(p.innerHTML=_),te.forEach(u),b=A(J),w=h(J,"DIV",{class:!0});var ie=v(w);k=h(ie,"DIV",{class:!0});var he=v(k);T=O(he,y),he.forEach(u),C=A(ie),V=h(ie,"DIV",{class:!0}),v(V).forEach(u),D=A(ie),I=h(ie,"DIV",{class:!0});var Ee=v(I);E=O(Ee,"v"),x=O(Ee,Pl),Ee.forEach(u),ie.forEach(u),J.forEach(u),R=A(G),F=h(G,"DIV",{class:!0});var Oe=v(F);L=h(Oe,"DIV",{class:!0});var Se=v(L);Y=h(Se,"DIV",{class:!0});var He=v(Y);K&&K.l(He),He.forEach(u),Se.forEach(u),j=A(Oe),B=h(Oe,"DIV",{class:!0});var ve=v(B);M=h(ve,"BUTTON",{class:!0});var de=v(M);U=h(de,"SPAN",{class:!0});var ne=v(U);Z=O(ne,$),ne.forEach(u),de.forEach(u),ve.forEach(u),Oe.forEach(u),this.h()},h(){c(l,"class","text-xl font-semibold"),c(p,"class","self-center"),c(t,"class","flex justify-between items-start"),c(k,"class","text-sm dark:text-gray-200"),c(V,"class","flex self-center w-[1px] h-6 mx-2.5 bg-gray-200 dark:bg-gray-700"),c(I,"class","text-sm dark:text-gray-200"),c(w,"class","flex items-center mt-1"),c(e,"class","px-5 pt-4 dark:text-gray-300 text-gray-700"),c(Y,"class","mb-3"),c(L,"class","overflow-y-scroll max-h-80 scrollbar-hidden"),c(U,"class","relative"),c(M,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),c(B,"class","flex justify-end pt-3 text-sm font-medium"),c(F,"class","w-full p-4 px-5 text-gray-700 dark:text-gray-100")},m(G,J){z(G,e,J),n(e,t),n(t,l),n(l,r),n(l,o),n(l,i),n(l,f),pe(m,l,null),n(t,g),n(t,p),n(e,b),n(e,w),n(w,k),n(k,T),n(w,C),n(w,V),n(w,D),n(w,I),n(I,E),n(I,x),z(G,R,J),z(G,F,J),n(F,L),n(L,Y),K&&K.m(Y,null),n(F,j),n(F,B),n(B,M),n(M,U),n(U,Z),q=!0,P||(W=[X(p,"click",s[6]),X(M,"click",s[7])],P=!0)},p(G,J){(!q||J&4)&&a!==(a=G[2].t("Whatâ€™s New in")+"")&&H(r,a),(!q||J&8)&&H(i,G[3]),(!q||J&4)&&y!==(y=G[2].t("Release Notes")+"")&&H(T,y),G[1]?K?K.p(G,J):(K=an(G),K.c(),K.m(Y,null)):K&&(K.d(1),K=null),(!q||J&4)&&$!==($=G[2].t("Okay, Let's Go!")+"")&&H(Z,$)},i(G){q||(ee(m.$$.fragment,G),q=!0)},o(G){se(m.$$.fragment,G),q=!1},d(G){G&&(u(e),u(R),u(F)),ge(m),K&&K.d(),P=!1,dt(W)}}}function Yu(s){let e,t,l;function a(o){s[8](o)}let r={$$slots:{default:[Fu]},$$scope:{ctx:s}};return s[0]!==void 0&&(r.show=s[0]),e=new jl({props:r}),mt.push(()=>Et(e,"show",a)),{c(){me(e.$$.fragment)},l(o){_e(e.$$.fragment,o)},m(o,i){pe(e,o,i),l=!0},p(o,[i]){const f={};i&262175&&(f.$$scope={dirty:i,ctx:o}),!t&&i&1&&(t=!0,f.show=o[0],yt(()=>t=!1)),e.$set(f)},i(o){l||(ee(e.$$.fragment,o),l=!0)},o(o){se(e.$$.fragment,o),l=!1},d(o){ge(e,o)}}}const cn=s=>s!=="date";function qu(s,e,t){let l,a,r;Be(s,pn,_=>t(3,a=_)),Be(s,Cs,_=>t(4,r=_));const o=gt("i18n");Be(s,o,_=>t(2,l=_));let{show:i=!1}=e,f=null;Ft(async()=>{const _=await Tn();t(1,f=_)});const m=()=>{localStorage.version=r.version,t(0,i=!1)},g=()=>{localStorage.version=r.version,t(0,i=!1)};function p(_){i=_,t(0,i)}return s.$$set=_=>{"show"in _&&t(0,i=_.show)},[i,f,l,a,r,o,m,g,p]}class Ku extends nt{constructor(e){super(),ot(this,e,qu,Yu,rt,{show:0})}}function un(s){let e,t,l=s[1].t("Admin")+"",a,r,o=s[0].name+"",i,f,m=s[0].email+"",g,p;return{c(){e=d("div"),t=d("div"),a=N(l),r=N(": "),i=N(o),f=N(" ("),g=N(m),p=N(")"),this.h()},l(_){e=h(_,"DIV",{class:!0});var b=v(e);t=h(b,"DIV",{});var w=v(t);a=O(w,l),r=O(w,": "),i=O(w,o),f=O(w," ("),g=O(w,m),p=O(w,")"),w.forEach(u),b.forEach(u),this.h()},h(){c(e,"class","mt-4 text-sm font-medium text-center")},m(_,b){z(_,e,b),n(e,t),n(t,a),n(t,r),n(t,i),n(t,f),n(t,g),n(t,p)},p(_,b){b&2&&l!==(l=_[1].t("Admin")+"")&&H(a,l),b&1&&o!==(o=_[0].name+"")&&H(i,o),b&1&&m!==(m=_[0].email+"")&&H(g,m)},d(_){_&&u(e)}}}function Gu(s){let e,t,l,a,r,o=s[1].t("Account Activation Pending")+"",i,f,m,g=s[1].t("Contact Admin for WebUI Access")+"",p,_,b,w=s[1].t("Your account status is currently pending activation.")+"",k,y,T,C=s[1].t("To access the WebUI, please reach out to the administrator. Admins can manage user statuses from the Admin Panel.")+"",V,D,I,E,x,R=s[1].t("Check Again")+"",F,L,Y,j=s[1].t("Sign Out")+"",B,M,U,$=s[0]&&un(s);return{c(){e=d("div"),t=d("div"),l=d("div"),a=d("div"),r=d("div"),i=N(o),f=d("br"),m=S(),p=N(g),_=S(),b=d("div"),k=N(w),y=d("br"),T=S(),V=N(C),D=S(),$&&$.c(),I=S(),E=d("div"),x=d("button"),F=N(R),L=S(),Y=d("button"),B=N(j),this.h()},l(Z){e=h(Z,"DIV",{class:!0});var q=v(e);t=h(q,"DIV",{class:!0});var P=v(t);l=h(P,"DIV",{class:!0});var W=v(l);a=h(W,"DIV",{class:!0});var K=v(a);r=h(K,"DIV",{class:!0});var G=v(r);i=O(G,o),f=h(G,"BR",{}),m=A(G),p=O(G,g),G.forEach(u),_=A(K),b=h(K,"DIV",{class:!0});var J=v(b);k=O(J,w),y=h(J,"BR",{}),T=A(J),V=O(J,C),J.forEach(u),D=A(K),$&&$.l(K),I=A(K),E=h(K,"DIV",{class:!0});var te=v(E);x=h(te,"BUTTON",{class:!0});var le=v(x);F=O(le,R),le.forEach(u),L=A(te),Y=h(te,"BUTTON",{class:!0});var ie=v(Y);B=O(ie,j),ie.forEach(u),te.forEach(u),K.forEach(u),W.forEach(u),P.forEach(u),q.forEach(u),this.h()},h(){c(r,"class","text-center dark:text-white text-2xl font-medium z-50"),c(b,"class","mt-4 text-center text-sm dark:text-gray-200 w-full"),c(x,"class","relative z-20 flex px-5 py-2 rounded-full bg-white border border-gray-100 dark:border-none hover:bg-gray-100 text-gray-700 transition font-medium text-sm"),c(Y,"class","text-xs text-center w-full mt-2 text-gray-400 underline"),c(E,"class","mt-6 mx-auto relative group w-fit"),c(a,"class","max-w-md"),c(l,"class","m-auto pb-10 flex flex-col justify-center"),c(t,"class","absolute w-full h-full backdrop-blur-lg bg-white/10 dark:bg-gray-900/50 flex justify-center"),c(e,"class","fixed w-full h-full flex z-[999]")},m(Z,q){z(Z,e,q),n(e,t),n(t,l),n(l,a),n(a,r),n(r,i),n(r,f),n(r,m),n(r,p),n(a,_),n(a,b),n(b,k),n(b,y),n(b,T),n(b,V),n(a,D),$&&$.m(a,null),n(a,I),n(a,E),n(E,x),n(x,F),n(E,L),n(E,Y),n(Y,B),M||(U=[X(x,"click",s[3]),X(Y,"click",s[4])],M=!0)},p(Z,[q]){q&2&&o!==(o=Z[1].t("Account Activation Pending")+"")&&H(i,o),q&2&&g!==(g=Z[1].t("Contact Admin for WebUI Access")+"")&&H(p,g),q&2&&w!==(w=Z[1].t("Your account status is currently pending activation.")+"")&&H(k,w),q&2&&C!==(C=Z[1].t("To access the WebUI, please reach out to the administrator. Admins can manage user statuses from the Admin Panel.")+"")&&H(V,C),Z[0]?$?$.p(Z,q):($=un(Z),$.c(),$.m(a,I)):$&&($.d(1),$=null),q&2&&R!==(R=Z[1].t("Check Again")+"")&&H(F,R),q&2&&j!==(j=Z[1].t("Sign Out")+"")&&H(B,j)},i:Pe,o:Pe,d(Z){Z&&u(e),$&&$.d(),M=!1,dt(U)}}}function Ju(s,e,t){let l;const a=gt("i18n");Be(s,a,f=>t(1,l=f));let r=null;return Ft(async()=>{t(0,r=await so(localStorage.token).catch(f=>(console.error(f),null)))}),[r,l,a,async()=>{location.href="/"},async()=>{localStorage.removeItem("token"),location.href="/auth"}]}class Xu extends nt{constructor(e){super(),ot(this,e,Ju,Gu,rt,{})}}function fn(s){let e,t,l,a,r,o,i;const f=[ef,Qu],m=[];function g(b,w){return w&8&&(e=null),e==null&&(e=!["user","admin"].includes(b[3].role)),e?0:b[2].length>0?1:-1}~(t=g(s,-1))&&(l=m[t]=f[t](s)),r=new zu({});const p=s[10].default,_=Fs(p,s,s[9],null);return{c(){l&&l.c(),a=S(),me(r.$$.fragment),o=S(),_&&_.c()},l(b){l&&l.l(b),a=A(b),_e(r.$$.fragment,b),o=A(b),_&&_.l(b)},m(b,w){~t&&m[t].m(b,w),z(b,a,w),pe(r,b,w),z(b,o,w),_&&_.m(b,w),i=!0},p(b,w){let k=t;t=g(b,w),t===k?~t&&m[t].p(b,w):(l&&(wt(),se(m[k],1,1,()=>{m[k]=null}),kt()),~t?(l=m[t],l?l.p(b,w):(l=m[t]=f[t](b),l.c()),ee(l,1),l.m(a.parentNode,a)):l=null),_&&_.p&&(!i||w&512)&&Ys(_,p,b,b[9],i?Ks(p,b[9],w,null):qs(b[9]),null)},i(b){i||(ee(l),ee(r.$$.fragment,b),ee(_,b),i=!0)},o(b){se(l),se(r.$$.fragment,b),se(_,b),i=!1},d(b){b&&(u(a),u(o)),~t&&m[t].d(b),ge(r,b),_&&_.d(b)}}}function Qu(s){let e,t,l,a,r,o="Important Update<br/> Action Required for Chat Log Storage",i,f,m=s[6].t("Saving chat logs directly to your browser's storage is no longer supported. Please take a moment to download and delete your chat logs by clicking the button below. Don't worry, you can easily re-import your chat logs to the backend through")+"",g,p,_,b=s[6].t("Settings")+"",w,k,y=s[6].t("Chats")+"",T,C,V=s[6].t("Import Chats")+"",D,I,E=s[6].t("This ensures that your valuable conversations are securely saved to your backend database. Thank you!")+"",x,R,F,L,Y="Download & Delete",j,B,M=s[6].t("Close")+"",U,$,Z;return{c(){e=d("div"),t=d("div"),l=d("div"),a=d("div"),r=d("div"),r.innerHTML=o,i=S(),f=d("div"),g=N(m),p=S(),_=d("span"),w=N(b),k=N(" > "),T=N(y),C=N(" > "),D=N(V),I=N(". "),x=N(E),R=S(),F=d("div"),L=d("button"),L.textContent=Y,j=S(),B=d("button"),U=N(M),this.h()},l(q){e=h(q,"DIV",{class:!0});var P=v(e);t=h(P,"DIV",{class:!0});var W=v(t);l=h(W,"DIV",{class:!0});var K=v(l);a=h(K,"DIV",{class:!0});var G=v(a);r=h(G,"DIV",{class:!0,"data-svelte-h":!0}),Ue(r)!=="svelte-mnqwc6"&&(r.innerHTML=o),i=A(G),f=h(G,"DIV",{class:!0});var J=v(f);g=O(J,m),p=A(J),_=h(J,"SPAN",{class:!0});var te=v(_);w=O(te,b),k=O(te," > "),T=O(te,y),C=O(te," > "),D=O(te,V),te.forEach(u),I=O(J,". "),x=O(J,E),J.forEach(u),R=A(G),F=h(G,"DIV",{class:!0});var le=v(F);L=h(le,"BUTTON",{class:!0,"data-svelte-h":!0}),Ue(L)!=="svelte-1ia8i9q"&&(L.textContent=Y),j=A(le),B=h(le,"BUTTON",{class:!0});var ie=v(B);U=O(ie,M),ie.forEach(u),le.forEach(u),G.forEach(u),K.forEach(u),W.forEach(u),P.forEach(u),this.h()},h(){c(r,"class","text-center dark:text-white text-2xl font-medium z-50"),c(_,"class","font-semibold dark:text-white"),c(f,"class","mt-4 text-center text-sm dark:text-gray-200 w-full"),c(L,"class","relative z-20 flex px-5 py-2 rounded-full bg-white border border-gray-100 dark:border-none hover:bg-gray-100 transition font-medium text-sm"),c(B,"class","text-xs text-center w-full mt-2 text-gray-400 underline"),c(F,"class","mt-6 mx-auto relative group w-fit"),c(a,"class","max-w-md"),c(l,"class","m-auto pb-44 flex flex-col justify-center"),c(t,"class","absolute w-full h-full backdrop-blur-md bg-white/20 dark:bg-gray-900/50 flex justify-center"),c(e,"class","fixed w-full h-full flex z-50")},m(q,P){z(q,e,P),n(e,t),n(t,l),n(l,a),n(a,r),n(a,i),n(a,f),n(f,g),n(f,p),n(f,_),n(_,w),n(_,k),n(_,T),n(_,C),n(_,D),n(f,I),n(f,x),n(a,R),n(a,F),n(F,L),n(F,j),n(F,B),n(B,U),$||(Z=[X(L,"click",s[13]),X(B,"click",s[14])],$=!0)},p(q,P){P&64&&m!==(m=q[6].t("Saving chat logs directly to your browser's storage is no longer supported. Please take a moment to download and delete your chat logs by clicking the button below. Don't worry, you can easily re-import your chat logs to the backend through")+"")&&H(g,m),P&64&&b!==(b=q[6].t("Settings")+"")&&H(w,b),P&64&&y!==(y=q[6].t("Chats")+"")&&H(T,y),P&64&&V!==(V=q[6].t("Import Chats")+"")&&H(D,V),P&64&&E!==(E=q[6].t("This ensures that your valuable conversations are securely saved to your backend database. Thank you!")+"")&&H(x,E),P&64&&M!==(M=q[6].t("Close")+"")&&H(U,M)},i:Pe,o:Pe,d(q){q&&u(e),$=!1,dt(Z)}}}function ef(s){let e,t;return e=new Xu({}),{c(){me(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){pe(e,l,a),t=!0},p:Pe,i(l){t||(ee(e.$$.fragment,l),t=!0)},o(l){se(e.$$.fragment,l),t=!1},d(l){ge(e,l)}}}function tf(s){let e,t,l,a,r,o,i,f,m;function g(k){s[11](k)}let p={};s[4]!==void 0&&(p.show=s[4]),e=new jc({props:p}),mt.push(()=>Et(e,"show",g));function _(k){s[12](k)}let b={};s[5]!==void 0&&(b.show=s[5]),a=new Ku({props:b}),mt.push(()=>Et(a,"show",_));let w=s[0]&&fn(s);return{c(){me(e.$$.fragment),l=S(),me(a.$$.fragment),o=S(),i=d("div"),f=d("div"),w&&w.c(),this.h()},l(k){_e(e.$$.fragment,k),l=A(k),_e(a.$$.fragment,k),o=A(k),i=h(k,"DIV",{class:!0});var y=v(i);f=h(y,"DIV",{class:!0});var T=v(f);w&&w.l(T),T.forEach(u),y.forEach(u),this.h()},h(){c(f,"class","text-gray-700 dark:text-gray-100 bg-white dark:bg-gray-900 h-screen max-h-[100dvh] overflow-auto flex flex-row"),c(i,"class","app relative")},m(k,y){pe(e,k,y),z(k,l,y),pe(a,k,y),z(k,o,y),z(k,i,y),n(i,f),w&&w.m(f,null),m=!0},p(k,[y]){const T={};!t&&y&16&&(t=!0,T.show=k[4],yt(()=>t=!1)),e.$set(T);const C={};!r&&y&32&&(r=!0,C.show=k[5],yt(()=>r=!1)),a.$set(C),k[0]?w?(w.p(k,y),y&1&&ee(w,1)):(w=fn(k),w.c(),ee(w,1),w.m(f,null)):w&&(wt(),se(w,1,1,()=>{w=null}),kt())},i(k){m||(ee(e.$$.fragment,k),ee(a.$$.fragment,k),ee(w),m=!0)},o(k){se(e.$$.fragment,k),se(a.$$.fragment,k),se(w),m=!1},d(k){k&&(u(l),u(o),u(i)),ge(e,k),ge(a,k),w&&w.d()}}}function lf(s,e,t){let l,a,r,o,i,f;Be(s,So,I=>t(15,l=I)),Be(s,Cs,I=>t(16,a=I)),Be(s,Ul,I=>t(3,r=I)),Be(s,Us,I=>t(4,o=I)),Be(s,Es,I=>t(5,i=I));let{$$slots:m={},$$scope:g}=e;const{saveAs:p}=Gs,_=gt("i18n");Be(s,_,I=>t(6,f=I));let b=!1,w=null,k=[];const y=async()=>dn(localStorage.token);Ft(async()=>{if(r===void 0)await Sl("/auth");else if(["user","admin"].includes(r.role)){try{if(t(1,w=await Po("Chats",1)),w){const E=await w.getAllFromIndex("chats","timestamp");t(2,k=E.map((x,R)=>E[E.length-1-R])),k.length===0&&await ir("Chats")}console.log(w)}catch{}const I=await $n(localStorage.token).catch(E=>(console.error(E),null));if(I)gl.set(I.ui);else{let E={};try{E=JSON.parse(localStorage.getItem("settings")??"{}")}catch(x){console.error("Failed to parse settings from localStorage",x)}gl.set(E)}await Promise.all([(async()=>{Js.set(await y())})(),(async()=>{qn.set(await jn(localStorage.token))})(),(async()=>{Kn.set(await zn(localStorage.token))})(),(async()=>{Gn.set(await Rn(localStorage.token))})(),(async()=>{Jn.set(await Mo(localStorage.token))})(),(async()=>{Xn.set(await Wn(localStorage.token))})(),(async()=>{Rs.set(await mn(localStorage.token))})()]),document.addEventListener("keydown",function(E){var F,L,Y,j,B;const x=E.ctrlKey||E.metaKey,R=E.shiftKey;if(x&&R&&E.key.toLowerCase()==="o"&&(E.preventDefault(),console.log("newChat"),(F=document.getElementById("sidebar-new-chat-button"))==null||F.click()),R&&E.key==="Escape"&&(E.preventDefault(),console.log("focusInput"),(L=document.getElementById("chat-textarea"))==null||L.focus()),x&&R&&E.key===";"){E.preventDefault(),console.log("copyLastCodeBlock");const M=[...document.getElementsByClassName("copy-code-button")].at(-1);M==null||M.click()}if(x&&R&&E.key.toLowerCase()==="c"){E.preventDefault(),console.log("copyLastResponse");const M=[...document.getElementsByClassName("copy-response-button")].at(-1);console.log(M),M==null||M.click()}x&&R&&E.key.toLowerCase()==="s"&&(E.preventDefault(),console.log("toggleSidebar"),(Y=document.getElementById("sidebar-toggle-button"))==null||Y.click()),x&&R&&E.key==="Backspace"&&(E.preventDefault(),console.log("deleteChat"),(j=document.getElementById("delete-chat-button"))==null||j.click()),x&&E.key==="."&&(E.preventDefault(),console.log("openSettings"),Us.set(!o)),x&&E.key==="/"&&(E.preventDefault(),console.log("showShortcuts"),(B=document.getElementById("show-shortcuts-button"))==null||B.click())}),r.role==="admin"&&Es.set(localStorage.version!==a.version),l.url.searchParams.get("temporary-chat")==="true"&&gn.set(!0),await Vs()}t(0,b=!0)});function T(I){o=I,Us.set(o)}function C(I){i=I,Es.set(i)}const V=async()=>{let I=new Blob([JSON.stringify(k)],{type:"application/json"});p(I,`chat-export-${Date.now()}.json`);const E=w.transaction("chats","readwrite");await Promise.all([E.store.clear(),E.done]),await ir("Chats"),t(2,k=[])},D=async()=>{t(2,k=[])};return s.$$set=I=>{"$$scope"in I&&t(9,g=I.$$scope)},[b,w,k,r,o,i,f,p,_,g,m,T,C,V,D]}class Pf extends nt{constructor(e){super(),ot(this,e,lf,tf,rt,{})}}export{Pf as component};
//# sourceMappingURL=2.DGkblmGz.js.map
