import"../chunks/CWj6FrbW.js";import"../chunks/69_IOA4Y.js";import{p as S,g as h,o as $,d as v,e as b,a as k,b as y,i as s,m as c,j as a}from"../chunks/0WpKKl27.js";import{k as P}from"../chunks/fZxlt1qL.js";import{i as N}from"../chunks/C3k0oZ3o.js";import{s as x,a as E}from"../chunks/BVrWTcfB.js";import{t as p}from"../chunks/DYdr9DjX.js";import{g as J}from"../chunks/B5RARo22.js";import{p as M}from"../chunks/PCOILo-8.js";import{c as O,g as R}from"../chunks/ClqMzEOS.js";import{P as j}from"../chunks/lFKG7_8a.js";function K(i,m){S(m,!1);const l=()=>E(u,"$i18n",d),[d,g]=x(),u=h("i18n");let e=c(null),r=c(!1);const f=async o=>{await O(localStorage.token,o).catch(_=>(p.error(`${_}`),null))&&(p.success(l().t("Prompt created successfully")),await M.set(await R(localStorage.token)),await J("/workspace/prompts"))};$(async()=>{if(window.addEventListener("message",async o=>{if(!["https://openwebui.com","https://www.openwebui.com","http://localhost:9999"].includes(o.origin))return;const t=JSON.parse(o.data);s(r,!0),s(e,{title:t.title,command:t.command,content:t.content,access_control:t.access_control!==void 0?t.access_control:{}})}),(window.opener??!1)&&window.opener.postMessage("loaded","*"),sessionStorage.prompt){const o=JSON.parse(sessionStorage.prompt);sessionStorage.removeItem("prompt"),s(r,!0),s(e,{title:o.title,command:o.command,content:o.content,access_control:o.access_control!==void 0?o.access_control:{}})}}),N();var n=v(),w=b(n);P(w,()=>a(e),o=>{j(o,{get prompt(){return a(e)},onSubmit:f,get clone(){return a(r)}})}),k(i,n),y(),g()}export{K as component};
//# sourceMappingURL=38.Chbh3-Bm.js.map
