import"../chunks/CWj6FrbW.js";import"../chunks/69_IOA4Y.js";import{aW as Ta,d as Se,e as se,a as u,B as Nt,p as pt,f as ee,c as d,r as c,t as Ie,b as ht,m as I,o as Et,i as s,j as e,q as me,u as r,v as Zt,w as l,k as S,l as ve,x as it,s as ae,z as Dt,aM as Qt,n as at,y as Pa,g as $a,b4 as Aa,h as Ba,$ as Ca}from"../chunks/0WpKKl27.js";import{i as J}from"../chunks/Cmf4RC8y.js";import{s as et}from"../chunks/3-JilrU5.js";import{h as Oa}from"../chunks/Bwqchdu-.js";import{a as ge,c as mt,s as ot,f as Ct,g as Ma,S as La,r as Da,j as Na}from"../chunks/CZ1y6KaE.js";import{i as yt}from"../chunks/C3k0oZ3o.js";import{a as ke,b as Ua,s as It}from"../chunks/BVrWTcfB.js";import{l as Ra}from"../chunks/qXw27f4H.js";import{r as ta,l as Wa}from"../chunks/DXo52D7g.js";import{W as za}from"../chunks/BfMWfMYW.js";import{e as Vt,i as pa}from"../chunks/u5Cnd4mY.js";import{b as ha}from"../chunks/Bo3ZTtFv.js";import{p as F,l as Kt,s as Yt}from"../chunks/DpN1w328.js";import{a as ya,u as ja,c as Qe,t as Ot}from"../chunks/DYdr9DjX.js";import{c as Pt}from"../chunks/Q6Bnvzbc.js";import{k as St,b as Mt,l as Lt,n as aa,o as Ha,q as oa,m as qt,u as $t,c as Jt,W as sa,i as na,r as ra,v as Fa,w as Ya,h as At,x as ia,y as la,e as qa,z as Ja,j as Va,A as Ka}from"../chunks/PCOILo-8.js";import{s as Xa,u as Ga,b as Za,g as kt}from"../chunks/B5RARo22.js";import{p as Qa}from"../chunks/CLoTtgoA.js";import{i as eo,a as to,g as ao,c as oo}from"../chunks/owMDqXnQ.js";import{c as Xt,a as ca,e as so}from"../chunks/B6gyXX6T.js";import{g as no,c as ro}from"../chunks/iLDRgysW.js";import{e as io,f as da,h as lo,i as co,j as uo}from"../chunks/DR3TfYWm.js";import{c as fo}from"../chunks/Bp8N0x0r.js";import{b as gt,a as vo}from"../chunks/DLhnqOlE.js";import{m as ua,J as mo}from"../chunks/cX8aofVu.js";import{C as go,s as po}from"../chunks/C947dqkj.js";import{h as ho}from"../chunks/BzXoxdC4.js";import{p as yo}from"../chunks/Bfc47y5P.js";import{b as wo}from"../chunks/CbBS0GYN.js";import fa from"../chunks/B9ZVCkUG.js";import{T as wa}from"../chunks/Db0gdTVr.js";import{M as _o}from"../chunks/CcreKc1w.js";import{X as bo}from"../chunks/CZmZoefv.js";import{S as _a}from"../chunks/BO1efK8r.js";import{g as xo}from"../chunks/BaVH4moA.js";import{d as ko}from"../chunks/BC4znSyB.js";import{k as va}from"../chunks/CuJG2T8v.js";const So=!1,Eo="ignore",tn=Object.freeze(Object.defineProperty({__proto__:null,ssr:So,trailingSlash:Eo},Symbol.toStringTag,{value:"Module"}));function ma(D){return Object.prototype.toString.call(D)==="[object Date]"}function Gt(D,i,o,ne){if(typeof o=="number"||ma(o)){const E=ne-o,z=(o-i)/(D.dt||1/60),re=D.opts.stiffness*E,Y=D.opts.damping*z,X=(re-Y)*D.inv_mass,pe=(z+X)*D.dt;return Math.abs(pe)<D.opts.precision&&Math.abs(E)<D.opts.precision?ne:(D.settled=!1,ma(o)?new Date(o.getTime()+pe):o+pe)}else{if(Array.isArray(o))return o.map((E,z)=>Gt(D,i[z],o[z],ne[z]));if(typeof o=="object"){const E={};for(const z in o)E[z]=Gt(D,i[z],o[z],ne[z]);return E}else throw new Error(`Cannot spring ${typeof o} values`)}}function Io(D,i={}){const o=Ta(D),{stiffness:ne=.15,damping:E=.8,precision:z=.01}=i;let re,Y,X,pe=D,R=D,T=1,w=0,U=!1;function G(j,te={}){R=j;const Ae=X={};return D==null||te.hard||$.stiffness>=1&&$.damping>=1?(U=!0,re=ta.now(),pe=j,o.set(D=R),Promise.resolve()):(te.soft&&(w=1/((te.soft===!0?.5:+te.soft)*60),T=0),Y||(re=ta.now(),U=!1,Y=Wa(p=>{if(U)return U=!1,Y=null,!1;T=Math.min(T+w,1);const je=Math.min(p-re,1e3/30),Ne={inv_mass:T,opts:$,settled:!0,dt:je*60/1e3},De=Gt(Ne,pe,D,R);return re=p,pe=D,o.set(D=De),Ne.settled&&(Y=null),!Ne.settled})),new Promise(p=>{Y.promise.then(()=>{Ae===X&&p()})}))}const $={set:G,update:(j,te)=>G(j(R,D),te),subscribe:o.subscribe,stiffness:ne,damping:E,precision:z};return $}var To=Nt('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" height="20" width="20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z" clip-rule="evenodd"></path></svg>'),Po=Nt('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" height="20" width="20"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd"></path></svg>'),$o=Nt('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" height="20" width="20"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z" clip-rule="evenodd"></path></svg>'),Ao=Nt('<svg viewBox="0 0 64 64" fill="currentColor" height="20" width="20" xmlns="http://www.w3.org/2000/svg"><path d="M32.427,7.987c2.183,0.124 4,1.165 5.096,3.281l17.936,36.208c1.739,3.66 -0.954,8.585 -5.373,8.656l-36.119,0c-4.022,-0.064 -7.322,-4.631 -5.352,-8.696l18.271,-36.207c0.342,-0.65 0.498,-0.838 0.793,-1.179c1.186,-1.375 2.483,-2.111 4.748,-2.063Zm-0.295,3.997c-0.687,0.034 -1.316,0.419 -1.659,1.017c-6.312,11.979 -12.397,24.081 -18.301,36.267c-0.546,1.225 0.391,2.797 1.762,2.863c12.06,0.195 24.125,0.195 36.185,0c1.325,-0.064 2.321,-1.584 1.769,-2.85c-5.793,-12.184 -11.765,-24.286 -17.966,-36.267c-0.366,-0.651 -0.903,-1.042 -1.79,-1.03Z"></path><path d="M33.631,40.581l-3.348,0l-0.368,-16.449l4.1,0l-0.384,16.449Zm-3.828,5.03c0,-0.609 0.197,-1.113 0.592,-1.514c0.396,-0.4 0.935,-0.601 1.618,-0.601c0.684,0 1.223,0.201 1.618,0.601c0.395,0.401 0.593,0.905 0.593,1.514c0,0.587 -0.193,1.078 -0.577,1.473c-0.385,0.395 -0.929,0.593 -1.634,0.593c-0.705,0 -1.249,-0.198 -1.634,-0.593c-0.384,-0.395 -0.576,-0.886 -0.576,-1.473Z"></path></svg>');function Bt(D,i){let o=F(i,"type",8,"success");var ne=Se(),E=se(ne);{var z=Y=>{var X=To();u(Y,X)},re=Y=>{var X=Se(),pe=se(X);{var R=w=>{var U=Po();u(w,U)},T=w=>{var U=Se(),G=se(U);{var $=te=>{var Ae=$o();u(te,Ae)},j=te=>{var Ae=Se(),p=se(Ae);{var je=De=>{var Ve=Ao();u(De,Ve)},Ne=De=>{};J(p,De=>{o()==="warning"?De(je):De(Ne,!1)},!0)}u(te,Ae)};J(G,te=>{o()==="info"?te($):te(j,!1)},!0)}u(w,U)};J(pe,w=>{o()==="error"?w(R):w(T,!1)},!0)}u(Y,X)};J(E,Y=>{o()==="success"?Y(z):Y(re,!1)})}u(D,ne)}var Bo=ee('<div class="sonner-loading-bar"></div>'),Co=ee('<div class="sonner-loading-wrapper"><div class="sonner-spinner"></div></div>');function Oo(D,i){pt(i,!1);let o=F(i,"visible",8);const ne=Array(12).fill(0);yt();var E=Co(),z=d(E);Vt(z,5,()=>ne,pa,(re,Y)=>{var X=Bo();u(re,X)}),c(z),c(E),Ie(()=>ge(E,"data-visible",o())),u(D,E),ht()}var Mo=ee('<button aria-label="Close toast" data-close-button=""><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg></button>'),Lo=ee('<div data-icon=""><!> <!></div>'),Do=ee('<div data-title=""><!></div>'),No=ee('<div data-description=""><!></div>'),Uo=ee('<button data-button="" data-cancel=""> </button>'),Ro=ee('<button data-button=""> </button>'),Wo=ee('<!> <div data-content=""><!> <!></div> <!> <!>',1),zo=ee('<li aria-atomic="true" role="status" data-sonner-toast=""><!> <!></li>');function jo(D,i){const o=Kt(i,["children","$$slots","$$events","$$legacy"]);pt(i,!1);const ne=()=>ke(x,"$heights",re),E=()=>ke(e(y),"$effect",re),z=()=>ke(Z,"$toasts",re),[re,Y]=It(),X=I(void 0,!0),pe=I(void 0,!0),R=I(void 0,!0),T=I(void 0,!0),w=I(void 0,!0),U=I(void 0,!0),G=I(void 0,!0),$=I(void 0,!0),j=I(void 0,!0),te=I(void 0,!0),Ae=I(void 0,!0),p=I(void 0,!0),je=4e3,Ne=14,De=20,Ve=200,tt=.05,Xe={toast:"",title:"",description:"",loader:"",closeButton:"",cancelButton:"",actionButton:"",action:"",warning:"",error:"",success:"",default:"",info:"",loading:""},{toasts:Z,heights:x,removeHeight:v,setHeight:q,remove:He}=ya;let t=F(i,"toast",9),P=F(i,"index",9),he=F(i,"expanded",9),Te=F(i,"invert",13),Fe=F(i,"position",9),Ue=F(i,"visibleToasts",9),ye=F(i,"expandByDefault",9),ie=F(i,"closeButton",9),Q=F(i,"interacting",9),Oe=F(i,"cancelButtonStyle",9,""),Be=F(i,"actionButtonStyle",9,""),Me=F(i,"duration",9,4e3),Je=F(i,"descriptionClass",9,""),oe=F(i,"classes",29,()=>({})),A=F(i,"unstyled",9,!1),le=I(!1,!0),a=I(!1,!0),n=I(!1,!0),f=I(!1,!0),_=I(0,!0),m=I(0,!0),h=I(void 0,!0),O=I(0,!0),V=0,g=0,k=null;async function H(){if(!e(le))return;await it();let b;he()||ye()?b=1:b=1-P()*tt,e(h).style.setProperty("height","auto");const W=e(h).offsetHeight,K=e(h).getBoundingClientRect().height,be=Math.round((K/b+Number.EPSILON)*100)/100;e(h).style.removeProperty("height");let xe;Math.abs(be-W)<1?xe=be:xe=W,s(m,xe),q({toastId:t().id,height:xe})}function B(){s(a,!0),s(_,e(O)),v(t().id),setTimeout(()=>{He(t().id)},Ve)}let fe=I(void 0,!0),$e=I(t().duration||Me()||je,!0);function we(){if(g<V){const b=new Date().getTime()-V;s($e,e($e)-b)}g=new Date().getTime()}function ce(){V=new Date().getTime(),s(fe,setTimeout(()=>{var b,W;(W=(b=t()).onAutoClose)==null||W.call(b,t()),B()},e($e)))}let y=I(void 0,!0);Et(()=>{s(le,!0);const b=e(h).getBoundingClientRect().height;return s(m,b),q({toastId:t().id,height:b}),()=>v(t().id)});function Ge(b){if(e(Ae))return;s(_,e(O));const W=b.target;W.setPointerCapture(b.pointerId),W.tagName!=="BUTTON"&&(s(n,!0),k={x:b.clientX,y:b.clientY})}function _e(){var W,K,be;if(e(f))return;k=null;const b=Number(((W=e(h))==null?void 0:W.style.getPropertyValue("--swipe-amount").replace("px",""))||0);if(Math.abs(b)>=De){s(_,e(O)),(be=(K=t()).onDismiss)==null||be.call(K,t()),B(),s(f,!0);return}e(h).style.setProperty("--swipe-amount","0px"),s(n,!1)}function Pe(b){if(!k)return;const W=b.clientY-k.y,K=b.clientX-k.x,xe=(e(j)[0]==="top"?Math.min:Math.max)(0,W),Ze=b.pointerType==="touch"?10:2;Math.abs(xe)>Ze?e(h).style.setProperty("--swipe-amount",`${W}px`):Math.abs(K)>Ze&&(k=null)}me(()=>r(oe()),()=>{oe({...Xe,...oe()})}),me(()=>r(P()),()=>{s(X,P()===0)}),me(()=>(r(P()),r(Ue())),()=>{s(pe,P()+1<=Ue())}),me(()=>r(t()),()=>{s(R,t().title)}),me(()=>r(t()),()=>{s(T,t().description)}),me(()=>r(t()),()=>{s(w,t().type)}),me(()=>r(t()),()=>{s(U,t().class||"")}),me(()=>r(t()),()=>{s(G,t().descriptionClass||"")}),me(()=>(ne(),r(t())),()=>{s($,ne().findIndex(b=>b.toastId===t().id)||0)}),me(()=>r(Fe()),()=>{s(j,Fe().split("-"))}),me(()=>(ne(),e($)),()=>{s(te,ne().reduce((b,W,K)=>K>=e($)?b:b+W.height,0))}),me(()=>(r(Te()),r(t())),()=>{Te(t().invert||Te())}),me(()=>e(w),()=>{s(Ae,e(w)==="loading")}),me(()=>(e($),e(te)),()=>{s(O,Math.round(e($)*Ne+e(te)))}),me(()=>(e(R),e(T)),()=>{e(R),e(T),H()}),me(()=>(r(t()),e(fe),r(Me())),()=>{t().updated&&(clearTimeout(e(fe)),s($e,t().duration||Me()||je),ce())}),me(()=>(r(t()),e(w)),()=>{s(p,t().promise&&e(w)==="loading"||t().duration===Number.POSITIVE_INFINITY)}),me(()=>(e(p),r(he()),r(Q()),e(fe)),()=>{Ua(s(y,ja(()=>(e(p)||(he()||Q()?we():ce()),()=>clearTimeout(e(fe))))),"$effect",re)}),me(()=>E(),()=>{E()}),me(()=>r(t()),()=>{t().delete&&B()}),Zt(),yt(!0);var N=zo();ge(N,"tabindex",0);let Ke;var lt=d(N);{var wt=b=>{var W=Mo();Ie(K=>{ge(W,"data-disabled",e(Ae)),ot(W,1,K)},[()=>mt((r(Qe),r(oe()),r(t()),l(()=>{var K,be,xe;return Qe((K=oe())==null?void 0:K.closeButton,(xe=(be=t())==null?void 0:be.classes)==null?void 0:xe.closeButton)})))]),ve("click",W,function(...K){var be;(be=e(Ae)?void 0:()=>{var xe,Ze;B(),(Ze=(xe=t()).onDismiss)==null||Ze.call(xe,t())})==null||be.apply(this,K)}),u(b,W)};J(lt,b=>{r(ie()),r(t()),l(()=>ie()&&!t().component)&&b(wt)})}var ct=S(lt,2);{var dt=b=>{var W=Se(),K=se(W);Pt(K,()=>t().component,(be,xe)=>{xe(be,Yt(()=>t().componentProps,{$$events:{closeToast:B}}))}),u(b,W)},_t=b=>{var W=Wo(),K=se(W);{var be=M=>{var C=Lo(),Le=d(C);{var de=Ee=>{var We=Se(),Ye=se(We);et(Ye,i,"loading-icon",{},null),u(Ee,We)};J(Le,Ee=>{r(t()),e(w),l(()=>(t().promise||e(w)==="loading")&&!t().icon)&&Ee(de)})}var Ce=S(Le,2);{var L=Ee=>{var We=Se(),Ye=se(We);Pt(Ye,()=>t().icon,(nt,ze)=>{ze(nt,{})}),u(Ee,We)},ue=Ee=>{var We=Se(),Ye=se(We);{var nt=qe=>{var rt=Se(),zt=se(rt);et(zt,i,"success-icon",{},null),u(qe,rt)},ze=qe=>{var rt=Se(),zt=se(rt);{var ba=ft=>{var bt=Se(),jt=se(bt);et(jt,i,"error-icon",{},null),u(ft,bt)},xa=ft=>{var bt=Se(),jt=se(bt);{var ka=vt=>{var xt=Se(),Ht=se(xt);et(Ht,i,"warning-icon",{},null),u(vt,xt)},Sa=vt=>{var xt=Se(),Ht=se(xt);{var Ea=Ft=>{var ea=Se(),Ia=se(ea);et(Ia,i,"info-icon",{},null),u(Ft,ea)};J(Ht,Ft=>{e(w)==="info"&&Ft(Ea)},!0)}u(vt,xt)};J(jt,vt=>{e(w)==="warning"?vt(ka):vt(Sa,!1)},!0)}u(ft,bt)};J(zt,ft=>{e(w)==="error"?ft(ba):ft(xa,!1)},!0)}u(qe,rt)};J(Ye,qe=>{e(w)==="success"?qe(nt):qe(ze,!1)},!0)}u(Ee,We)};J(Ce,Ee=>{r(t()),l(()=>t().icon)?Ee(L):Ee(ue,!1)})}c(C),u(M,C)};J(K,M=>{e(w),r(t()),l(()=>e(w)!=="default"||t().icon||t().promise)&&M(be)})}var xe=S(K,2),Ze=d(xe);{var st=M=>{var C=Do(),Le=d(C);{var de=L=>{var ue=Se(),Ee=se(ue);Pt(Ee,()=>t().title,(We,Ye)=>{Ye(We,Yt(()=>t().componentProps))}),u(L,ue)},Ce=L=>{var ue=Dt();Ie(()=>ae(ue,(r(t()),l(()=>t().title)))),u(L,ue)};J(Le,L=>{r(t()),l(()=>typeof t().title!="string")?L(de):L(Ce,!1)})}c(C),Ie(L=>ot(C,1,L),[()=>mt((r(Qe),r(oe()),r(t()),l(()=>{var L,ue,Ee;return Qe((L=oe())==null?void 0:L.title,(Ee=(ue=t())==null?void 0:ue.classes)==null?void 0:Ee.title)})))]),u(M,C)};J(Ze,M=>{r(t()),l(()=>t().title)&&M(st)})}var Ut=S(Ze,2);{var ut=M=>{var C=No(),Le=d(C);{var de=L=>{var ue=Se(),Ee=se(ue);Pt(Ee,()=>t().description,(We,Ye)=>{Ye(We,Yt(()=>t().componentProps))}),u(L,ue)},Ce=L=>{var ue=Dt();Ie(()=>ae(ue,(r(t()),l(()=>t().description)))),u(L,ue)};J(Le,L=>{r(t()),l(()=>typeof t().description!="string")?L(de):L(Ce,!1)})}c(C),Ie(L=>ot(C,1,L),[()=>mt((r(Qe),r(Je()),e(G),r(oe()),r(t()),l(()=>{var L,ue;return Qe(Je(),e(G),(L=oe())==null?void 0:L.description,(ue=t().classes)==null?void 0:ue.description)})))]),u(M,C)};J(Ut,M=>{r(t()),l(()=>t().description)&&M(ut)})}c(xe);var Tt=S(xe,2);{var Rt=M=>{var C=Uo(),Le=d(C,!0);c(C),Ie(de=>{Ct(C,Oe()),ot(C,1,de),ae(Le,(r(t()),l(()=>t().cancel.label)))},[()=>mt((r(Qe),r(oe()),r(t()),l(()=>{var de,Ce,L;return Qe((de=oe())==null?void 0:de.cancelButton,(L=(Ce=t())==null?void 0:Ce.classes)==null?void 0:L.cancelButton)})))]),ve("click",C,()=>{var de;B(),(de=t().cancel)!=null&&de.onClick&&t().cancel.onClick()}),u(M,C)};J(Tt,M=>{r(t()),l(()=>t().cancel)&&M(Rt)})}var Wt=S(Tt,2);{var Re=M=>{var C=Ro(),Le=d(C,!0);c(C),Ie(de=>{Ct(C,Be()),ot(C,1,de),ae(Le,(r(t()),l(()=>t().action.label)))},[()=>mt((r(Qe),r(oe()),r(t()),l(()=>{var de,Ce,L;return Qe((de=oe())==null?void 0:de.actionButton,(L=(Ce=t())==null?void 0:Ce.classes)==null?void 0:L.actionButton)})))]),ve("click",C,de=>{var Ce;(Ce=t().action)==null||Ce.onClick(de),!de.defaultPrevented&&B()}),u(M,C)};J(Wt,M=>{r(t()),l(()=>t().action)&&M(Re)})}u(b,W)};J(ct,b=>{r(t()),l(()=>t().component)?b(dt):b(_t,!1)})}c(N),ha(N,b=>s(h,b),()=>e(h)),Ie((b,W,K)=>{ge(N,"aria-live",(r(t()),l(()=>t().important?"assertive":"polite"))),ot(N,1,b),ge(N,"data-styled",(r(t()),r(A()),l(()=>{var be;return!(t().component||(be=t())!=null&&be.unstyled||A())}))),ge(N,"data-mounted",e(le)),ge(N,"data-promise",W),ge(N,"data-removed",e(a)),ge(N,"data-visible",e(pe)),ge(N,"data-y-position",(e(j),l(()=>e(j)[0]))),ge(N,"data-x-position",(e(j),l(()=>e(j)[1]))),ge(N,"data-index",P()),ge(N,"data-front",e(X)),ge(N,"data-swiping",e(n)),ge(N,"data-type",e(w)),ge(N,"data-invert",Te()),ge(N,"data-swipe-out",e(f)),ge(N,"data-expanded",K),Ke=Ct(N,(r(o),r(t()),l(()=>`${o.style} ${t().style}`)),Ke,{"--index":P(),"--toasts-before":P(),"--z-index":(z(),r(P()),l(()=>z().length-P())),"--offset":`${e(a)?e(_):e(O)}px`,"--initial-height":`${e(m)}px`})},[()=>mt((r(Qe),r(o),e(U),r(oe()),r(t()),e(w),l(()=>{var b,W,K,be,xe,Ze;return Qe(o.class,e(U),(b=oe())==null?void 0:b.toast,(K=(W=t())==null?void 0:W.classes)==null?void 0:K.toast,(be=oe())==null?void 0:be[e(w)],(Ze=(xe=t())==null?void 0:xe.classes)==null?void 0:Ze[e(w)])}))),()=>(r(t()),l(()=>!!t().promise)),()=>(r(he()),r(ye()),e(le),l(()=>!!(he()||ye()&&e(le))))]),ve("pointerdown",N,Ge),ve("pointerup",N,_e),ve("pointermove",N,Pe),u(D,N),ht(),Y()}var Ho=ee("<ol></ol>"),Fo=ee('<section class="svelte-nbs0zk"></section>');function Yo(D,i){const o=Kt(i,["children","$$slots","$$events","$$legacy"]),ne=Kt(o,["invert","theme","position","hotkey","containerAriaLabel","richColors","expand","duration","visibleToasts","closeButton","toastOptions","offset","dir"]);pt(i,!1);const E=()=>ke(t,"$toasts",re),z=()=>ke(P,"$heights",re),[re,Y]=It(),X=I(),pe=I(),R=3,T="32px",w=356,U=14,G="dark",$="light";function j(A){return A!=="system"?A:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?G:$}function te(){if(typeof window>"u"||typeof document>"u")return"ltr";const A=document.documentElement.getAttribute("dir");return A==="auto"||!A?window.getComputedStyle(document.documentElement).direction:A}let Ae=F(i,"invert",8,!1),p=F(i,"theme",8,"light"),je=F(i,"position",8,"bottom-right"),Ne=F(i,"hotkey",24,()=>["altKey","KeyT"]),De=F(i,"containerAriaLabel",8,"Notifications"),Ve=F(i,"richColors",8,!1),tt=F(i,"expand",8,!1),Xe=F(i,"duration",8,4e3),Z=F(i,"visibleToasts",8,R),x=F(i,"closeButton",8,!1),v=F(i,"toastOptions",24,()=>({})),q=F(i,"offset",8,null),He=F(i,"dir",24,te);const{toasts:t,heights:P,reset:he}=ya;let Te=I(!1),Fe=I(!1),Ue=I(j(p())),ye=I(),ie=null,Q=!1;Qt(()=>{e(ye)&&ie&&(ie.focus({preventScroll:!0}),ie=null,Q=!1)}),Et(()=>{he();const A=le=>{var n,f;Ne().every(_=>le[_]||le.code===_)&&(s(Te,!0),(n=e(ye))==null||n.focus()),le.code==="Escape"&&(document.activeElement===e(ye)||(f=e(ye))!=null&&f.contains(document.activeElement))&&s(Te,!1)};return document.addEventListener("keydown",A),()=>{document.removeEventListener("keydown",A)}});function Oe(A){Q&&!A.currentTarget.contains(A.relatedTarget)&&(Q=!1,ie&&(ie.focus({preventScroll:!0}),ie=null))}function Be(A){Q||(Q=!0,ie=A.relatedTarget)}me(()=>(r(je()),E()),()=>{s(X,Array.from(new Set([je(),...E().filter(A=>A.position).map(A=>A.position)].filter(Boolean))))}),me(()=>r(Ne()),()=>{s(pe,Ne().join("+").replace(/Key/g,"").replace(/Digit/g,""))}),me(()=>E(),()=>{E().length<=1&&s(Te,!1)}),me(()=>E(),()=>{const A=E().filter(le=>le.dismiss&&!le.delete);if(A.length>0){const le=E().map(a=>A.find(f=>f.id===a.id)?{...a,delete:!0}:a);t.set(le)}}),me(()=>r(p()),()=>{if(p()!=="system"&&s(Ue,p()),typeof window<"u"){p()==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?s(Ue,G):s(Ue,$));const A=window.matchMedia("(prefers-color-scheme: dark)"),le=({matches:a})=>{s(Ue,a?G:$)};"addEventListener"in A?A.addEventListener("change",le):A.addListener(le)}}),Zt(),yt();var Me=Se(),Je=se(Me);{var oe=A=>{var le=Fo();ge(le,"tabindex",-1),Vt(le,5,()=>e(X),pa,(a,n,f,_)=>{var m=Ho();Ma(m,(h,O,V)=>({tabIndex:-1,class:(r(o),l(()=>o.class)),"data-sonner-toaster":!0,"data-theme":e(Ue),"data-rich-colors":Ve(),dir:h,"data-y-position":O,"data-x-position":V,style:(r(o),l(()=>o.style)),...ne,[La]:{"--front-toast-height":(z(),l(()=>{var g;return`${(g=z()[0])==null?void 0:g.height}px`})),"--offset":typeof q()=="number"?`${q()}px`:q()||T,"--width":`${w}px`,"--gap":`${U}px`}}),[()=>(r(He()),l(()=>He()==="auto"?te():He())),()=>(e(n),l(()=>e(n).split("-")[0])),()=>(e(n),l(()=>e(n).split("-")[1]))],void 0,void 0,"svelte-nbs0zk"),Vt(m,7,()=>(E(),e(n),l(()=>E().filter(h=>!h.position&&f===0||h.position===e(n)))),h=>h.id,(h,O,V,g)=>{{let k=at(()=>(r(v()),l(()=>{var y;return((y=v())==null?void 0:y.actionButtonStyle)||""}))),H=at(()=>(r(v()),l(()=>{var y;return((y=v())==null?void 0:y.cancelButtonStyle)||""}))),B=at(()=>(r(v()),l(()=>{var y;return((y=v())==null?void 0:y.class)||""}))),fe=at(()=>(r(v()),l(()=>{var y;return((y=v())==null?void 0:y.descriptionClass)||""}))),$e=at(()=>(r(v()),l(()=>v().classes||{}))),we=at(()=>(r(v()),r(Xe()),l(()=>{var y;return((y=v())==null?void 0:y.duration)??Xe()}))),ce=at(()=>(r(v()),l(()=>v().unstyled||!1)));jo(h,{get index(){return e(V)},get toast(){return e(O)},get invert(){return Ae()},get visibleToasts(){return Z()},get closeButton(){return x()},get interacting(){return e(Fe)},get position(){return e(n)},get expandByDefault(){return tt()},get expanded(){return e(Te)},get actionButtonStyle(){return e(k)},get cancelButtonStyle(){return e(H)},get class(){return e(B)},get descriptionClass(){return e(fe)},get classes(){return e($e)},get duration(){return e(we)},get unstyled(){return e(ce)},$$slots:{"loading-icon":(y,Ge)=>{var _e=Se(),Pe=se(_e);et(Pe,i,"loading-icon",{},N=>{{let Ke=at(()=>(e(O),l(()=>e(O).type==="loading")));Oo(N,{get visible(){return e(Ke)}})}}),u(y,_e)},"success-icon":(y,Ge)=>{var _e=Se(),Pe=se(_e);et(Pe,i,"success-icon",{},N=>{Bt(N,{type:"success"})}),u(y,_e)},"error-icon":(y,Ge)=>{var _e=Se(),Pe=se(_e);et(Pe,i,"error-icon",{},N=>{Bt(N,{type:"error"})}),u(y,_e)},"warning-icon":(y,Ge)=>{var _e=Se(),Pe=se(_e);et(Pe,i,"warning-icon",{},N=>{Bt(N,{type:"warning"})}),u(y,_e)},"info-icon":(y,Ge)=>{var _e=Se(),Pe=se(_e);et(Pe,i,"info-icon",{},N=>{Bt(N,{type:"info"})}),u(y,_e)}}})}}),c(m),ha(m,h=>s(ye,h),()=>e(ye)),Ie(()=>m.dir=m.dir),ve("blur",m,Oe),ve("focus",m,Be),ve("mouseenter",m,()=>s(Te,!0)),ve("mousemove",m,()=>s(Te,!0)),ve("mouseleave",m,()=>{e(Fe)||s(Te,!1)}),ve("pointerdown",m,()=>s(Fe,!0)),ve("pointerup",m,()=>s(Fe,!1)),u(a,m)}),c(le),Ie(()=>ge(le,"aria-label",`${De()} ${e(pe)}`)),u(A,le)};J(Je,A=>{E(),l(()=>E().length>0)&&A(oe)})}u(D,Me),ht(),Y()}const qo={get current(){return Ga.current},check:Xa.updated.check},Jo=qo;var Vo=ee('<div class=" text-[13px] font-medium mb-0.5 line-clamp-1"> </div>'),Ko=ee('<div class="flex gap-2.5 text-left min-w-[var(--width)] w-full dark:bg-gray-850 dark:text-white bg-white text-black border border-gray-100 dark:border-gray-800 rounded-3xl px-4 py-3.5 cursor-pointer select-none"><div class="shrink-0 self-top -translate-y-0.5"><img alt="favicon" class="size-6 rounded-full"/></div> <div><!> <div class=" line-clamp-2 text-xs self-center dark:text-gray-300 font-normal"><!></div></div></div>');function ga(D,i){pt(i,!1);const o=()=>ke(Mt,"$settings",z),ne=()=>ke(St,"$playingNotificationSound",z),E=()=>ke(Lt,"$isLastActiveTab",z),[z,re]=It(),Y=Pa();let X=F(i,"onClick",8,()=>{}),pe=F(i,"title",8,"HI"),R=F(i,"content",8),T=0,w=0,U=I(!1);const G=6,$=()=>{X()(),Y("closeToast")};function j(x){var v,q;T=x.clientX,w=x.clientY,s(U,!1),(q=(v=x.currentTarget).setPointerCapture)==null||q.call(v,x.pointerId)}function te(x){if(e(U))return;const v=x.clientX-T,q=x.clientY-w;v*v+q*q>G*G&&s(U,!0)}function Ae(x){var v,q;(q=(v=x.currentTarget).releasePointerCapture)==null||q.call(v,x.pointerId),e(U)||$()}Et(()=>{var x;navigator.userActivation.hasBeenActive&&(((x=o())==null?void 0:x.notificationSound)??!0)&&!ne()&&E()&&(St.set(!0),new Audio("/audio/notification.mp3").play().finally(()=>{St.set(!1)}))}),yt();var p=Ko(),je=d(p),Ne=d(je);c(je);var De=S(je,2),Ve=d(De);{var tt=x=>{var v=Vo(),q=d(v,!0);c(v),Ie(()=>ae(q,pe())),u(x,v)};J(Ve,x=>{pe()&&x(tt)})}var Xe=S(Ve,2),Z=d(Xe);ho(Z,()=>(r(fa),r(ua),r(R()),l(()=>fa.sanitize(ua(R()))))),c(Xe),c(De),c(p),Ie(()=>ge(Ne,"src",`${gt}/static/favicon.png`)),ve("dragstart",p,yo(function(x){wo.call(this,i,x)})),ve("pointerdown",p,j),ve("pointermove",p,te),ve("pointerup",p,Ae),ve("pointercancel",p,()=>s(U,!0)),ve("keydown",p,x=>{(x.key==="Enter"||x.key===" ")&&(x.preventDefault(),$())}),u(D,p),ht(),re()}var Xo=ee('<div class="absolute top-0 left-0 flex h-full"><div class="my-auto rounded-r-lg w-1 h-8 bg-black dark:bg-white"></div></div>'),Go=ee('<button><img class="size-11 dark:invert p-0.5" alt="logo" draggable="false"/></button>'),Zo=ee('<div class="absolute top-0 left-0 flex h-full"><div class="my-auto rounded-r-lg w-1 h-8 bg-black dark:bg-white"></div></div>'),Qo=ee('<div class="min-w-[4.5rem] bg-gray-50 dark:bg-gray-950 flex gap-2.5 flex-col pt-8"><div class="flex justify-center relative"><!> <!></div> <div class=" -mt-1 border-[1.5px] border-gray-100 dark:border-gray-900 mx-4"></div> <div class="flex justify-center relative group"><!> <button class=" cursor-pointer bg-transparent"><img alt="logo" draggable="false"/></button></div></div>');function es(D){let i=I("");var o=Qo(),ne=d(o),E=d(ne);{var z=w=>{var U=Xo();u(w,U)};J(E,w=>{e(i)==="home"&&w(z)})}var re=S(E,2);wa(re,{content:"Home",placement:"right",children:(w,U)=>{var G=Go(),$=d(G);c(G),Ie(()=>{ot(G,1,` cursor-pointer ${e(i)==="home"?"rounded-2xl":"rounded-full"}`),ge($,"src",`${gt}/static/splash.png`)}),ve("click",G,()=>{s(i,"home"),window.electronAPI&&window.electronAPI.load("home")}),u(w,G)},$$slots:{default:!0}}),c(ne);var Y=S(ne,4),X=d(Y);{var pe=w=>{var U=Zo();u(w,U)};J(X,w=>{e(i)===""&&w(pe)})}var R=S(X,2),T=d(R);c(R),c(Y),c(o),Ie(()=>{ge(T,"src",`${gt}/static/favicon.png`),ot(T,1,`size-10 ${e(i)===""?"rounded-2xl":"rounded-full"}`)}),ve("click",R,()=>{s(i,"")}),u(D,o)}var ts=ee('<div class="px-5.5 py-5"><div class="mb-1 text-xl font-medium"> </div> <div class="mb-3 text-xs text-gray-500"> </div> <!> <div class="flex justify-end"><button class="flex items-center justify-center gap-2 rounded-full bg-black px-4 py-2 text-sm text-white transition hover:bg-gray-900 dark:bg-white dark:text-black dark:hover:bg-gray-100"> </button></div></div>'),as=ee('<div class="px-5.5 py-5"><div class="mb-1 text-xl font-medium"> </div> <div class="mb-3 text-xs text-gray-500"> </div> <div class="flex justify-end"><button class="flex items-center justify-center gap-2 rounded-full bg-black px-4 py-2 text-sm text-white transition hover:bg-gray-900 dark:bg-white dark:text-black dark:hover:bg-gray-100"> </button></div></div>'),os=ee('<label class="flex items-center gap-2 text-xs cursor-pointer"><input type="checkbox" class="w-4 h-4 rounded border-gray-300 dark:border-gray-600"/> <span class="text-gray-700 dark:text-gray-300"> </span></label>'),ss=ee('<div class="mt-3"><!></div>'),ns=ee('<div class="bg-gray-900 dark:bg-gray-100 h-1.5 rounded-full transition-all duration-300"></div>'),rs=ee('<div class="bg-gray-900 dark:bg-gray-100 h-1.5 w-0 rounded-full animate-pulse"></div>'),is=ee('<div class="mt-3 mx-1.5"><div class="text-xs text-gray-500 mb-1 flex justify-between"><div> </div> <div><!></div></div> <div class="w-full bg-gray-200 rounded-full h-1.5 dark:bg-gray-700 overflow-hidden"><!></div></div>'),ls=ee('<div class="flex items-center gap-2"><!> <span> </span></div>'),cs=ee('<div class="flex justify-between px-5 pt-4 pb-0.5"><div class="text-lg font-medium self-center"> </div> <button class="self-center"><!></button></div> <div class="px-5 pt-2 pb-5"><div class="text-sm text-gray-500 dark:text-gray-400"> </div> <div class="mt-2 text-xs text-gray-500"> </div> <div class="mt-3 text-xs text-gray-500"><div class="font-medium text-gray-900 dark:text-gray-100 mb-1"> </div> <ul class="list-disc list-inside space-y-0.5 ml-1 mb-2"><li> </li> <li> </li> <li> </li> <li> </li> <li> </li></ul> <div class="font-medium text-gray-900 dark:text-gray-100 mb-1"> </div> <ul class="list-disc list-inside space-y-0.5 ml-1"><li> </li> <li> </li> <li> </li></ul></div> <!> <!> <div class="mt-5 flex justify-between items-center gap-2"><div class="text-xs text-gray-400 text-center mr-auto"><button class="hover:underline px-2" type="button"> </button></div> <button class="px-4 py-2 rounded-full text-sm font-medium bg-gray-100 hover:bg-gray-200 dark:bg-gray-800 dark:hover:bg-gray-700 text-gray-900 dark:text-gray-100 transition disabled:cursor-not-allowed"> </button> <button class="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition-colors rounded-full"><!></button></div></div>',1),ds=ee('<div class="w-full"><!></div>');function us(D,i){pt(i,!1);const o=()=>ke(re,"$i18n",ne),[ne,E]=It(),z=I(),re=$a("i18n");let Y=F(i,"show",12,!1),X=F(i,"eventData",8,null);const pe=async Z=>{var v,q,He,t;const x=((q=(v=Z.data)==null?void 0:v.data)==null?void 0:q.id)??((He=Z.data)==null?void 0:He.id);if(((t=Z.data)==null?void 0:t.type)==="verify:chat"&&x)try{const P=await io(localStorage.token,x);P&&window.opener&&window.opener.postMessage({type:"verify:chat:response",data:P,chatId:x,requestId:Z.data.requestId??null},"*")}catch(P){window.opener&&window.opener.postMessage({type:"verify:chat:error",error:(P==null?void 0:P.detail)||(P==null?void 0:P.message)||"Failed to verify chat",chatId:x,requestId:Z.data.requestId??null},"*")}};Et(()=>{window.addEventListener("message",pe)}),Qt(()=>{window.removeEventListener("message",pe)});let R=I(!1),T=I(!1),w=I(!1),U=I(!1),G=I(""),$=I(0),j=I(0),te=null,Ae=I("incremental");const p=Z=>{var x;window.opener&&window.opener.postMessage({...Z,requestId:((x=X())==null?void 0:x.requestId)??null},"*")},je=()=>{s(R,!1),s(T,!1),s(w,!1),s(U,!1),s(G,""),s($,0),s(j,0),te=null},Ne=Z=>{s(G,Z),s(U,!0),s(R,!1),s(T,!1),p({type:"sync:error",error:Z})},De=()=>{te&&(te.abort(),te=null),s(R,!1),s(T,!1),p({type:"sync:error",error:"User cancelled the operation"})},Ve=async()=>{var Z,x;window.opener&&window.opener.focus(),p({type:"sync:start"}),s(R,!0),s(U,!1),s(G,""),s($,0),s(j,0);try{const v=await Xt(localStorage.token).catch(t=>null);v&&p({type:"sync:version",data:v});let q=1,He=!1;for(;!He;){const t={...((Z=X())==null?void 0:Z.searchParams)??{}};e(Ae)==="incremental"&&((x=X())!=null&&x.lastSyncedChatUpdatedAt)&&(t.updated_at=X().lastSyncedChatUpdatedAt);const P=await da(localStorage.token,q,t).catch(he=>{throw new Error((he==null?void 0:he.detail)||(he==null?void 0:he.message)||"Failed to export chat stats")});if(!P)throw new Error("Failed to fetch stats data");s($,e($)+P.items.length),s(j,P.total),await it(),window.opener&&P.items.length>0&&p({type:"sync:stats:chats",data:P}),e($)>=e(j)||P.items.length===0?He=!0:q+=1}p({type:"sync:complete"}),s(R,!1),s(w,!0)}catch(v){Ne((v==null?void 0:v.message)||"An unexpected error occurred")}},tt=async()=>{var Z,x;if(e(T)){De();return}s(T,!0),s(R,!0),s(U,!1),s(G,""),s($,0),s(j,0);try{const v=await da(localStorage.token,1,{}).catch(()=>null);v!=null&&v.total&&s(j,v.total),await it();const q=await Xt(localStorage.token).catch(()=>null),t=`open-webui-stats-${(q==null?void 0:q.version)??"0.0.0"}-${Date.now()}.json`,P=((Z=X())==null?void 0:Z.searchParams)??{},[he,Te]=await lo(localStorage.token,P.updated_at).catch(Q=>{throw new Error((Q==null?void 0:Q.detail)||"Failed to connect to the server. Please check your connection.")});if(!he)throw new Error("Failed to start download. The server may be unavailable.");te=Te;const Fe=he.body.getReader(),Ue=new TextDecoder,ye=[];let ie="";for(;;){const{done:Q,value:Oe}=await Fe.read();if(Q)break;ie+=Ue.decode(Oe,{stream:!0});const Be=ie.split(`
`);ie=Be.pop()||"";for(const Me of Be)if(Me.trim()!=="")try{ye.push(JSON.parse(Me)),s($,e($)+1)}catch(Je){}await it()}if(ie.trim()!=="")try{ye.push(JSON.parse(ie)),s($,e($)+1)}catch(Q){}if(e(T)){const Q=new Blob([JSON.stringify(ye)],{type:"application/json"}),Oe=window.URL.createObjectURL(Q),Be=document.createElement("a");Be.href=Oe,Be.download=t,document.body.appendChild(Be),Be.click(),document.body.removeChild(Be),window.URL.revokeObjectURL(Oe)}}catch(v){(v==null?void 0:v.name)==="AbortError"||(x=v==null?void 0:v.message)!=null&&x.includes("aborted")||(Ne((v==null?void 0:v.message)||"Download failed. Please try again."),Ot.error(e(G)))}finally{s(T,!1),s(R,!1),te=null}},Xe=()=>{Y(!1),je()};me(()=>r(Y()),()=>{Y()&&window.opener&&window.opener.postMessage("loaded","*")}),me(()=>(e(j),e($)),()=>{s(z,e(j)>0?Math.min(Math.round(e($)/e(j)*100),100):0)}),Zt(),yt(),_o(D,{size:"md",get show(){return Y()},set show(Z){Y(Z)},children:(Z,x)=>{var v=ds(),q=d(v);{var He=P=>{var he=ts(),Te=d(he),Fe=d(Te,!0);c(Te);var Ue=S(Te,2),ye=d(Ue,!0);c(Ue);var ie=S(Ue,2);go(ie,{x:[-.5,.5],y:[.25,1]});var Q=S(ie,2),Oe=d(Q),Be=d(Oe,!0);c(Oe),c(Q),c(he),Ie((Me,Je,oe)=>{ae(Fe,Me),ae(ye,Je),ae(Be,oe)},[()=>(o(),l(()=>o().t("Sync Complete!"))),()=>(o(),l(()=>o().t("Your usage stats have been successfully synced."))),()=>(o(),l(()=>o().t("Done")))]),ve("click",Oe,Xe),u(P,he)},t=P=>{var he=Se(),Te=se(he);{var Fe=ye=>{var ie=as(),Q=d(ie),Oe=d(Q,!0);c(Q);var Be=S(Q,2),Me=d(Be,!0);c(Be);var Je=S(Be,2),oe=d(Je),A=d(oe,!0);c(oe),c(Je),c(ie),Ie((le,a,n)=>{ae(Oe,le),ae(Me,a),ae(A,n)},[()=>(o(),l(()=>o().t("Sync Failed"))),()=>(e(G),o(),l(()=>e(G)||o().t("There was an error syncing your stats. Please try again."))),()=>(o(),l(()=>o().t("Try Again")))]),ve("click",oe,()=>{s(U,!1),s(G,"")}),u(ye,ie)},Ue=ye=>{var ie=cs(),Q=se(ie),Oe=d(Q),Be=d(Oe,!0);c(Oe);var Me=S(Oe,2),Je=d(Me);bo(Je,{className:"size-5"}),c(Me),c(Q);var oe=S(Q,2),A=d(oe),le=d(A,!0);c(A);var a=S(A,2),n=d(a,!0);c(a);var f=S(a,2),_=d(f),m=d(_,!0);c(_);var h=S(_,2),O=d(h),V=d(O,!0);c(O);var g=S(O,2),k=d(g,!0);c(g);var H=S(g,2),B=d(H,!0);c(H);var fe=S(H,2),$e=d(fe,!0);c(fe);var we=S(fe,2),ce=d(we,!0);c(we),c(h);var y=S(h,2),Ge=d(y,!0);c(y);var _e=S(y,2),Pe=d(_e),N=d(Pe,!0);c(Pe);var Ke=S(Pe,2),lt=d(Ke,!0);c(Ke);var wt=S(Ke,2),ct=d(wt,!0);c(wt),c(_e),c(f);var dt=S(f,2);{var _t=Re=>{var M=ss(),C=d(M);{let Le=at(()=>(o(),l(()=>o().t("Syncs only chats with updates after your last sync timestamp. Disable to re-sync all chats."))));wa(C,{get content(){return e(Le)},placement:"top-start",children:(de,Ce)=>{var L=os(),ue=d(L);Da(ue);var Ee=S(ue,2),We=d(Ee,!0);c(Ee),c(L),Ie(Ye=>{Na(ue,e(Ae)==="incremental"),ue.disabled=e(R),ae(We,Ye)},[()=>(o(),l(()=>o().t("Only sync new/updated chats")))]),ve("change",ue,Ye=>s(Ae,Ye.target.checked?"incremental":"full")),u(de,L)},$$slots:{default:!0}})}c(M),u(Re,M)};J(dt,Re=>{r(X()),l(()=>{var M;return(M=X())==null?void 0:M.lastSyncedChatUpdatedAt})&&Re(_t)})}var b=S(dt,2);{var W=Re=>{var M=is(),C=d(M),Le=d(C),de=d(Le,!0);c(Le);var Ce=S(Le,2),L=d(Ce);{var ue=ze=>{var qe=Dt();Ie(()=>ae(qe,`${e($)??""}/${e(j)??""}`)),u(ze,qe)};J(L,ze=>{e(j)>0&&ze(ue)})}c(Ce),c(C);var Ee=S(C,2),We=d(Ee);{var Ye=ze=>{var qe=ns();Ie(()=>Ct(qe,`width: ${e(z)??""}%`)),u(ze,qe)},nt=ze=>{var qe=rs();u(ze,qe)};J(We,ze=>{e(j)>0?ze(Ye):ze(nt,!1)})}c(Ee),c(M),Ie(ze=>ae(de,ze),[()=>(e(T),o(),l(()=>e(T)?o().t("Downloading stats..."):o().t("Syncing stats...")))]),u(Re,M)};J(b,Re=>{e(R)&&Re(W)})}var K=S(b,2),be=d(K),xe=d(be),Ze=d(xe,!0);c(xe),c(be);var st=S(be,2),Ut=d(st,!0);c(st);var ut=S(st,2),Tt=d(ut);{var Rt=Re=>{var M=ls(),C=d(M);_a(C,{className:"size-3"});var Le=S(C,2),de=d(Le,!0);c(Le),c(M),Ie(Ce=>ae(de,Ce),[()=>(o(),l(()=>o().t("Syncing...")))]),u(Re,M)},Wt=Re=>{var M=Dt();Ie(C=>ae(M,C),[()=>(o(),l(()=>o().t("Sync")))]),u(Re,M)};J(Tt,Re=>{e(R)&&!e(T)?Re(Rt):Re(Wt,!1)})}c(ut),c(K),c(oe),Ie((Re,M,C,Le,de,Ce,L,ue,Ee,We,Ye,nt,ze,qe,rt)=>{ae(Be,Re),Me.disabled=e(R),ae(le,M),ae(n,C),ae(m,Le),ae(V,de),ae(k,Ce),ae(B,L),ae($e,ue),ae(ce,Ee),ae(Ge,We),ae(N,Ye),ae(lt,nt),ae(ct,ze),xe.disabled=e(R)&&!e(T),ae(Ze,qe),ae(Ut,rt),ut.disabled=e(R)},[()=>(o(),l(()=>o().t("Sync Usage Stats"))),()=>(o(),l(()=>o().t("Do you want to sync your usage stats with Open WebUI Community?"))),()=>(o(),l(()=>o().t("Participate in community leaderboards and evaluations! Syncing aggregated usage stats helps drive research and improvements to Open WebUI. Your privacy is paramount: no message content is ever shared."))),()=>(o(),l(()=>o().t("What is shared:"))),()=>(o(),l(()=>o().t("Open WebUI version"))),()=>(o(),l(()=>o().t("Model names and usage frequency"))),()=>(o(),l(()=>o().t("Message counts and response timestamps"))),()=>(o(),l(()=>o().t("Content lengths (character counts only)"))),()=>(o(),l(()=>o().t("User ratings (thumbs up/down)"))),()=>(o(),l(()=>o().t("What is NOT shared:"))),()=>(o(),l(()=>o().t("Your message text or inputs"))),()=>(o(),l(()=>o().t("Model responses or outputs"))),()=>(o(),l(()=>o().t("Uploaded files or images"))),()=>(e(T),o(),l(()=>e(T)?o().t("Stop Download"):o().t("Download as JSON"))),()=>(o(),l(()=>o().t("Cancel")))]),ve("click",Me,()=>{Y(!1)}),ve("click",xe,tt),ve("click",st,()=>{e(R)?De():Y(!1)}),ve("click",ut,Ve),u(ye,ie)};J(Te,ye=>{e(U)?ye(Fe):ye(Ue,!1)},!0)}u(P,he)};J(q,P=>{e(w)?P(He):P(t,!1)})}c(v),u(Z,v)},$$slots:{default:!0},$$legacy:!0}),ht(),E()}var fs=ee('<link crossorigin="anonymous" rel="icon"/> <meta name="apple-mobile-web-app-title"/> <meta name="description"/> <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" crossorigin="use-credentials"/>',1),vs=ee('<div class=" py-5"><!></div>'),ms=ee('<div class="flex flex-row h-screen"><!> <div class="w-full flex-1 max-w-[calc(100%-4.5rem)]"><!></div></div>'),gs=ee("<!> <!> <!> <!>",1);function an(D,i){pt(i,!1);const o=()=>ke(la,"$WEBUI_VERSION",p),ne=()=>ke(ia,"$WEBUI_DEPLOYMENT_ID",p),E=()=>ke(Mt,"$settings",p),z=()=>ke(Ka,"$toolServers",p),re=()=>ke(Qa,"$page",p),Y=()=>ke(qa,"$chatId",p),X=()=>ke(Ja,"$temporaryChatEnabled",p),pe=()=>ke(Lt,"$isLastActiveTab",p),R=()=>ke(ra,"$currentChatPage",p),T=()=>ke(na,"$socket",p),w=()=>ke($t,"$user",p),U=()=>ke(At,"$channels",p),G=()=>ke(Va,"$channelId",p),$=()=>ke(Jt,"$config",p),j=()=>ke(sa,"$WEBUI_NAME",p),te=()=>ke(aa,"$isApp",p),Ae=()=>ke(oa,"$theme",p),[p,je]=It();let Ne=Io(0,{stiffness:.05});const De=async()=>{if("serviceWorker"in navigator)try{const a=await navigator.serviceWorker.getRegistrations();return await Promise.all(a.map(n=>n.unregister())),!0}catch(a){return!1}return!1};Za(async({willUnload:a,to:n})=>{Jo.current&&!a&&(n!=null&&n.url)&&(await De(),location.href=n.url.href)}),Aa("i18n",eo);const Ve=new BroadcastChannel("active-tab-channel");let tt=I(!1),Xe=null,Z=I(!1),x=I(!1),v=I(null),q=null;const He=768,t=async a=>{const n=Ra(`${gt}`||void 0,{reconnection:!0,reconnectionDelay:1e3,reconnectionDelayMax:5e3,randomizationFactor:.5,path:"/ws/socket.io",transports:a?["websocket"]:["polling","websocket"],auth:{token:localStorage.token}});await na.set(n),n.on("connect_error",f=>{}),n.on("connect",async()=>{n.id;const f=await Xt(localStorage.token),_=(f==null?void 0:f.deployment_id)??null,m=(f==null?void 0:f.version)??null;if((m!==null||_!==null)&&(o()!==null&&m!==o()||ne()!==null&&_!==ne())){await De(),location.href=location.href;return}q=setInterval(()=>{n.connected&&n.emit("heartbeat",{})},3e4),_!==null&&ia.set(_),m!==null&&la.set(m),localStorage.getItem("token")?n.emit("user-join",{auth:{token:localStorage.token}}):console.warn("No token found in localStorage, user-join event not emitted")}),n.on("reconnect_attempt",f=>{}),n.on("reconnect_failed",()=>{}),n.on("disconnect",(f,_)=>{`${n.id}${f}`,q&&(clearInterval(q),q=null)})},P=async(a,n,f)=>{let _=null,m=null,h=null,O=!0,V=[/\bimport\s+requests\b|\bfrom\s+requests\b/.test(n)?"requests":null,/\bimport\s+bs4\b|\bfrom\s+bs4\b/.test(n)?"beautifulsoup4":null,/\bimport\s+numpy\b|\bfrom\s+numpy\b/.test(n)?"numpy":null,/\bimport\s+pandas\b|\bfrom\s+pandas\b/.test(n)?"pandas":null,/\bimport\s+matplotlib\b|\bfrom\s+matplotlib\b/.test(n)?"matplotlib":null,/\bimport\s+seaborn\b|\bfrom\s+seaborn\b/.test(n)?"seaborn":null,/\bimport\s+sklearn\b|\bfrom\s+sklearn\b/.test(n)?"scikit-learn":null,/\bimport\s+scipy\b|\bfrom\s+scipy\b/.test(n)?"scipy":null,/\bimport\s+re\b|\bfrom\s+re\b/.test(n)?"regex":null,/\bimport\s+seaborn\b|\bfrom\s+seaborn\b/.test(n)?"seaborn":null,/\bimport\s+sympy\b|\bfrom\s+sympy\b/.test(n)?"sympy":null,/\bimport\s+tiktoken\b|\bfrom\s+tiktoken\b/.test(n)?"tiktoken":null,/\bimport\s+pytz\b|\bfrom\s+pytz\b/.test(n)?"pytz":null].filter(Boolean);const g=new za;g.postMessage({id:a,code:n,packages:V}),setTimeout(()=>{O&&(O=!1,h="Execution Time Limit Exceeded",g.terminate(),f&&f(JSON.parse(JSON.stringify({stdout:m,stderr:h,result:_},(k,H)=>typeof H=="bigint"?H.toString():H))))},6e4),g.onmessage=k=>{const{id:H,...B}=k.data;B.stdout&&(m=B.stdout),B.stderr&&(h=B.stderr),B.result&&(_=B.result),f&&f(JSON.parse(JSON.stringify({stdout:m,stderr:h,result:_},(fe,$e)=>typeof $e=="bigint"?$e.toString():$e))),O=!1},g.onerror=k=>{f&&f(JSON.parse(JSON.stringify({stdout:m,stderr:h,result:_},(H,B)=>typeof B=="bigint"?B.toString():B))),O=!1}},he=async(a,n)=>{var m,h,O;const f=(h=(m=E())==null?void 0:m.toolServers)==null?void 0:h.find(V=>{var g;return V.url===((g=a.server)==null?void 0:g.url)}),_=(O=z())==null?void 0:O.find(V=>{var g;return V.url===((g=a.server)==null?void 0:g.url)});if(f){let V=null;const g=(f==null?void 0:f.auth_type)??"bearer";g==="bearer"?V=f==null?void 0:f.key:g==="none"||g==="session"&&(V=localStorage.token);const k=await so(V,f.url,a==null?void 0:a.name,a==null?void 0:a.params,_);n&&n(JSON.parse(JSON.stringify(k)))}else n&&n(JSON.parse(JSON.stringify({error:"Tool Server Not Found"})))},Te=async(a,n)=>{var h,O,V,g,k;re().url.pathname.includes(`/c/${a.chat_id}`);let f=document.visibilityState!=="visible";if(window.electronAPI){const H=await window.electronAPI.send({type:"window:isFocused"});H&&(f=H.isFocused)}await it();const _=((h=a==null?void 0:a.data)==null?void 0:h.type)??null,m=((O=a==null?void 0:a.data)==null?void 0:O.data)??null;if(a.chat_id!==Y()&&!X()||f)if(_==="chat:completion"){const{done:H,content:B,title:fe}=m;H&&((((V=E())==null?void 0:V.notificationSoundAlways)??!1)&&(St.set(!0),new Audio("/audio/notification.mp3").play().finally(()=>{St.set(!1)})),pe()&&(((g=E())==null?void 0:g.notificationEnabled)??!1)&&new Notification(`${fe} • Open WebUI`,{body:B,icon:`${gt}/static/favicon.png`}),Ot.custom(ga,{componentProps:{onClick:()=>{kt(`/c/${a.chat_id}`)},content:B,title:fe},duration:15e3,unstyled:!0}))}else _==="chat:title"?(ra.set(1),await Fa.set(await co(localStorage.token,R()))):_==="chat:tags"&&Ya.set(await uo(localStorage.token));else if((m==null?void 0:m.session_id)===T().id){if(_==="execute:python")P(m.id,m.code,n);else if(_==="execute:tool")he(m,n);else if(_==="request:chat:completion"){T().id;const{session_id:H,channel:B,form_data:fe,model:$e}=m;try{const we=((k=E())==null?void 0:k.directConnections)??{};if(we){const ce=$e==null?void 0:$e.urlIdx,y=we.OPENAI_API_BASE_URLS[ce],Ge=we.OPENAI_API_KEYS[ce],_e=we.OPENAI_API_CONFIGS[ce];try{if(_e!=null&&_e.prefix_id){const Ke=_e.prefix_id;fe.model=fe.model.replace(`${Ke}.`,"")}const[Pe,N]=await fo(Ge,fe,y);if(Pe){if(!Pe.ok)throw await Pe.json();if((fe==null?void 0:fe.stream)??!1){n({status:!0});const Ke=Pe.body.getReader(),lt=new TextDecoder;await(async()=>{var ct;for(;;){const{done:dt,value:_t}=await Ke.read();if(dt)break;const W=lt.decode(_t,{stream:!0}).split(`
`).filter(K=>K.trim()!=="");for(const K of W)(ct=T())==null||ct.emit(B,K)}})()}else{const Ke=await Pe.json();n(Ke)}}else throw new Error("An error occurred while fetching the completion")}catch(Pe){n(Pe)}}}catch(we){n(we)}finally{T().emit(B,{done:!0})}}}},Fe=async a=>{var _,m,h,O,V,g,k,H,B,fe,$e;if(((_=a.data)==null?void 0:_.type)==="typing")return;if(((m=a.data)==null?void 0:m.type)==="channel:created"){const we=await va(localStorage.token).catch(async ce=>null);we&&await At.set(we.sort((ce,y)=>["",null,"group","dm"].indexOf(ce.type)-["",null,"group","dm"].indexOf(y.type)));return}const n=re().url.pathname.includes(`/channels/${a.channel_id}`);let f=document.visibilityState!=="visible";if(window.electronAPI){const we=await window.electronAPI.send({type:"window:isFocused"});we&&(f=we.isFocused)}if((!n||f)&&((h=a==null?void 0:a.user)==null?void 0:h.id)!==((O=w())==null?void 0:O.id)){await it();const we=((V=a==null?void 0:a.data)==null?void 0:V.type)??null,ce=((g=a==null?void 0:a.data)==null?void 0:g.data)??null;if(U())if(U().find(y=>y.id===a.channel_id)&&G()!==a.channel_id)At.set(U().map(y=>y.id===a.channel_id&&we==="message"?{...y,unread_count:(y.unread_count??0)+1,last_message_at:a.created_at}:y));else{const y=await va(localStorage.token).catch(async Ge=>null);y&&await At.set(y.sort((Ge,_e)=>["",null,"group","dm"].indexOf(Ge.type)-["",null,"group","dm"].indexOf(_e.type)))}if(we==="message"){const y=`${(k=ce==null?void 0:ce.user)==null?void 0:k.name}${((H=a==null?void 0:a.channel)==null?void 0:H.type)!=="dm"?` (#${(B=a==null?void 0:a.channel)==null?void 0:B.name})`:""}`;pe()&&(((fe=E())==null?void 0:fe.notificationEnabled)??!1)&&new Notification(`${y} • Open WebUI`,{body:ce==null?void 0:ce.content,icon:`${vo}/users/${($e=ce==null?void 0:ce.user)==null?void 0:$e.id}/profile/image`}),Ot.custom(ga,{componentProps:{onClick:()=>{kt(`/channels/${a.channel_id}`)},content:ce==null?void 0:ce.content,title:`${y}`},duration:15e3,unstyled:!0})}}},Ue=60,ye=async()=>{var f;const a=(f=w())==null?void 0:f.expires_at,n=Math.floor(Date.now()/1e3);if(a&&n>=a-Ue){const _=await ro();$t.set(null),localStorage.removeItem("token"),location.href=(_==null?void 0:_.redirect_url)??"/auth"}},ie=async a=>{var n;["https://openwebui.com","https://www.openwebui.com","http://localhost:9999"].includes(a.origin)&&(a.data==="export:stats"||((n=a.data)==null?void 0:n.type)==="export:stats")&&(s(v,a.data),s(x,!0))};Et(async()=>{var h,O,V;window.addEventListener("message",ie);let a=0;function n(g){const k=document.querySelector("nav");return k&&(g===k||k.contains(g))}if(document.addEventListener("touchstart",g=>{n(g.target)&&(a=g.touches[0].clientY)}),document.addEventListener("touchmove",g=>{if(!n(g.target))return;g.touches[0].clientY-a>50&&window.scrollY===0&&(s(Z,!0),g.preventDefault())}),document.addEventListener("touchend",g=>{n(g.target)&&e(Z)&&(s(Z,!1),location.reload())}),typeof window<"u"&&window.applyTheme&&window.applyTheme(),window!=null&&window.electronAPI){const g=await window.electronAPI.send({type:"app:info"});if(g){aa.set(!0),Ha.set(g);const k=await window.electronAPI.send({type:"app:data"});k&&appData.set(k)}}Ve.onmessage=g=>{g.data==="active"&&Lt.set(!1)};const f=()=>{document.visibilityState==="visible"&&(Lt.set(!0),Ve.postMessage("active"),ye())};document.addEventListener("visibilitychange",f),f(),oa.set(localStorage.theme),qt.set(window.innerWidth<He);const _=()=>{window.innerWidth<He?qt.set(!0):qt.set(!1)};window.addEventListener("resize",_),$t.subscribe(async g=>{var k,H,B,fe,$e,we,ce;if(g){(k=T())==null||k.off("events",Te),(H=T())==null||H.off("events:channel",Fe),(B=T())==null||B.on("events",Te),(fe=T())==null||fe.on("events:channel",Fe);const y=await xo(localStorage.token);y?Mt.set(y.ui):Mt.set(JSON.parse(localStorage.getItem("settings")??"{}")),po((($e=E())==null?void 0:$e.textScale)??1),Xe&&clearInterval(Xe),Xe=setInterval(ye,15e3)}else(we=T())==null||we.off("events",Te),(ce=T())==null||ce.off("events:channel",Fe)});let m=null;try{m=await ca()}catch(g){}if(to(localStorage==null?void 0:localStorage.locale),!localStorage.locale){const g=await ao(),k=navigator.languages?navigator.languages:[navigator.language||navigator.userLanguage],H=m.default_locale?m.default_locale:mo(g,k,"en-US");oo(H),ko.locale(H)}if(m){if(await Jt.set(m),await sa.set(m.name),$()){await t(((h=$().features)==null?void 0:h.enable_websocket)??!0);const g=`${window.location.pathname}${window.location.search}`,k=encodeURIComponent(g);if(localStorage.token){const H=await no(localStorage.token).catch(B=>(Ot.error(`${B}`),null));H?(await $t.set(H),await Jt.set(await ca())):(localStorage.removeItem("token"),await kt(`/auth?redirect=${k}`))}else re().url.pathname!=="/auth"&&await kt(`/auth?redirect=${k}`)}}else await kt("/error");if(await it(),document.documentElement.classList.contains("her")&&document.getElementById("progress-bar")){Ne.subscribe(H=>{const B=document.getElementById("progress-bar");B&&(B.style.width=`${H}%`)}),await Ne.set(100),(O=document.getElementById("splash-screen"))==null||O.remove();const g=new Audio("/audio/greeting.mp3"),k=()=>{g.play(),document.removeEventListener("click",k)};document.addEventListener("click",k),s(tt,!0)}else(V=document.getElementById("splash-screen"))==null||V.remove(),s(tt,!0);return(window.opener??!1)&&re().url.searchParams.get("sync")==="true"&&s(x,!0),()=>{window.removeEventListener("resize",_)}}),Qt(()=>{window.removeEventListener("message",ie),Ve.close()}),yt();var Q=gs();Oa("12qhfyh",a=>{var n=fs(),f=se(n),_=S(f,2),m=S(_,2),h=S(m,2);Ie(()=>{ge(f,"href",`${gt}/static/favicon.png`),ge(_,"content",j()),ge(m,"content",j()),ge(h,"title",j())}),Ba(()=>{Ca.title=j()??""}),u(a,n)});var Oe=se(Q);{var Be=a=>{var n=vs(),f=d(n);_a(f,{className:"size-5"}),c(n),u(a,n)};J(Oe,a=>{e(Z)&&a(Be)})}var Me=S(Oe,2);{var Je=a=>{var n=Se(),f=se(n);{var _=h=>{var O=ms(),V=d(O);es(V);var g=S(V,2),k=d(g);et(k,i,"default",{},null),c(g),c(O),u(h,O)},m=h=>{var O=Se(),V=se(O);et(V,i,"default",{},null),u(h,O)};J(f,h=>{te()?h(_):h(m,!1)})}u(a,n)};J(Me,a=>{e(tt)&&a(Je)})}var oe=S(Me,2);{var A=a=>{us(a,{get eventData(){return e(v)},get show(){return e(x)},set show(n){s(x,n)},$$legacy:!0})};J(oe,a=>{var n;(n=$())!=null&&n.features.enable_community_sharing&&a(A)})}var le=S(oe,2);{let a=at(()=>Ae().includes("dark")||Ae()==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");Yo(le,{get theme(){return e(a)},richColors:!0,position:"top-right",closeButton:!0})}u(D,Q),ht(),je()}export{an as component,tn as universal};
//# sourceMappingURL=0.DoXkqbJl.js.map
