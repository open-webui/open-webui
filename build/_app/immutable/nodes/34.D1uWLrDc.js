import"../chunks/CWj6FrbW.js";import"../chunks/69_IOA4Y.js";import{p as ft,g as Jt,f as m,c as s,e as O,k as d,r as a,t as P,w as n,s as k,a as c,u as Se,B as Ft,z as Ce,l as de,i as y,j as e,m as z,n as be,b as ut,o as Kt,q as mr,v as _r,d as vt,h as xr,$ as hr,x as $r,aP as yr}from"../chunks/0WpKKl27.js";import{i as S}from"../chunks/Cmf4RC8y.js";import{i as pt}from"../chunks/C3k0oZ3o.js";import{a as G,s as gt}from"../chunks/BVrWTcfB.js";import{b as Ze,u as Vt,c as mt,W as br,a as Me}from"../chunks/PCOILo-8.js";import{g as Ie}from"../chunks/B6gyXX6T.js";import{e as wr}from"../chunks/u5Cnd4mY.js";import{h as kr}from"../chunks/Bwqchdu-.js";import{r as Mr,a as Ye,s as dt}from"../chunks/CZ1y6KaE.js";import{a as Sr,b as Pr}from"../chunks/kb1CvZ3a.js";import{b as It}from"../chunks/Bo3ZTtFv.js";import{k as zt,m as Ot,n as Hr}from"../chunks/cX8aofVu.js";import{t as Q}from"../chunks/DYdr9DjX.js";import"../chunks/C83syoBY.js";import{f as Cr}from"../chunks/CsWaRabF.js";import{g as ct}from"../chunks/B5RARo22.js";import{a as Tt}from"../chunks/DLhnqOlE.js";import{a as Er,b as Dr,u as At,c as Rt,d as Lr,t as Nr}from"../chunks/DnFm3dkE.js";import{g as jr}from"../chunks/B4L42j3h.js";import{u as Br}from"../chunks/BaVH4moA.js";import{E as Ur}from"../chunks/C2rnPICT.js";import{s as Ir}from"../chunks/3-JilrU5.js";import{p as ae}from"../chunks/DpN1w328.js";import"../chunks/BtReZMDb.js";import{b as zr,c as ye}from"../chunks/DA2vpIKA.js";import{f as Or}from"../chunks/Dbtivbjp.js";import{D as Tr}from"../chunks/DD5ATWsz.js";import{G as qt}from"../chunks/CYXXpf3O.js";import{P as Ar}from"../chunks/DVjsywiU.js";import{T as ke}from"../chunks/Db0gdTVr.js";import{S as Rr}from"../chunks/DM0r1jA3.js";import{D as Wr}from"../chunks/DLpHo_PE.js";import{D as Jr}from"../chunks/CmPVC7JK.js";import{P as Fr}from"../chunks/lU9u-k0A.js";import{P as Kr}from"../chunks/C-WU2PKw.js";import{L as Vr}from"../chunks/1w6CVy8g.js";import{C as qr}from"../chunks/ByHAJgVC.js";import{S as Gr}from"../chunks/BqWDuYyJ.js";import{P as Xr}from"../chunks/BonmQdqt.js";import{C as Yr}from"../chunks/DAAddo_l.js";import{S as Zr}from"../chunks/NOxjCBoP.js";import{S as Wt}from"../chunks/BO1efK8r.js";import{X as Qr}from"../chunks/CZmZoefv.js";import{E as ea}from"../chunks/BAAu3n3-.js";import{E as ta}from"../chunks/BLOpvWpB.js";import{V as ra}from"../chunks/3t3HGsuI.js";import{T as aa}from"../chunks/CQUuNpHc.js";import{P as sa}from"../chunks/DyEgVTRu.js";import{B as oa}from"../chunks/DUufguWK.js";var ia=m("<button><!></button>"),na=m('<!> <div class="flex items-center"> </div>',1),la=Ft('<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-4"><path stroke-linecap="round" stroke-linejoin="round" d="M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"></path></svg>'),da=Ft('<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-4"><path stroke-linecap="round" stroke-linejoin="round" d="M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"></path><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"></path></svg>'),ca=m('<!> <div class="flex items-center"><!></div>',1),va=m('<!> <div class="flex items-center"><!></div>',1),fa=m('<!> <div class="flex items-center"> </div>',1),ua=m('<!> <div class="flex items-center"> </div>',1),pa=m('<!> <div class="flex items-center"> </div>',1),ga=m('<!> <div class="flex items-center"> </div>',1),ma=m('<!> <div class="flex items-center"> </div>',1),_a=m('<!> <!> <!> <!> <hr class="border-gray-50/30 dark:border-gray-800/30 my-1"/> <!> <!> <!> <hr class="border-gray-50/30 dark:border-gray-800/30 my-1"/> <!>',1),xa=m('<div slot="content"><!></div>');function ha(Ee,E){ft(E,!1);const r=()=>G(se,"$i18n",_e),R=()=>G(Ze,"$settings",_e),W=()=>G(Vt,"$currentUser",_e),me=()=>G(mt,"$config",_e),[_e,T]=gt(),se=Jt("i18n");ae(E,"user",8);let J=ae(E,"model",8),ee=ae(E,"editHandler",8),Pe=ae(E,"shareHandler",8),ce=ae(E,"cloneHandler",8),He=ae(E,"exportHandler",8),De=ae(E,"copyLinkHandler",8),ze=ae(E,"hideHandler",8),Oe=ae(E,"pinModelHandler",8),Le=ae(E,"deleteHandler",8),Te=ae(E,"onClose",8),oe=z(!1);pt(),Tr(Ee,{get show(){return e(oe)},set show(F){y(oe,F)},$$events:{change:F=>{F.detail===!1&&Te()()}},children:(F,ve)=>{{let X=be(()=>(r(),n(()=>r().t("More"))));ke(F,{get content(){return e(X)},children:(K,ie)=>{var Y=ia(),xe=s(Y);Ir(xe,E,"default",{},null),a(Y),de("click",Y,fe=>{fe.stopPropagation(),y(oe,!e(oe))}),c(K,Y)},$$slots:{default:!0}})}},$$slots:{default:!0,content:(F,ve)=>{var X=xa(),K=s(X);zr(K,{class:"w-full max-w-[170px] rounded-2xl p-1 border border-gray-100  dark:border-gray-800 z-50 bg-white dark:bg-gray-850 dark:text-white shadow-lg",sideOffset:-2,side:"bottom",align:"start",get transition(){return Or},children:(ie,Y)=>{var xe=_a(),fe=O(xe);ye(fe,{class:"flex gap-2 items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-xl",$$events:{click:()=>{ee()()}},children:(b,D)=>{var w=na(),t=O(w);Ar(t,{});var i=d(t,2),f=s(i,!0);a(i),P(u=>k(f,u),[()=>(r(),n(()=>r().t("Edit")))]),c(b,w)},$$slots:{default:!0}});var Ne=d(fe,2);ye(Ne,{class:"flex  gap-2  items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-xl",$$events:{click:()=>{ze()()}},children:(b,D)=>{var w=ca(),t=O(w);{var i=g=>{var _=la();c(g,_)},f=g=>{var _=da();c(g,_)};S(t,g=>{Se(J()),n(()=>{var _,M;return((M=(_=J())==null?void 0:_.meta)==null?void 0:M.hidden)??!1})?g(i):g(f,!1)})}var u=d(t,2),x=s(u);{var te=g=>{var _=Ce();P(M=>k(_,M),[()=>(r(),n(()=>r().t("Show Model")))]),c(g,_)},we=g=>{var _=Ce();P(M=>k(_,M),[()=>(r(),n(()=>r().t("Hide Model")))]),c(g,_)};S(x,g=>{Se(J()),n(()=>{var _,M;return((M=(_=J())==null?void 0:_.meta)==null?void 0:M.hidden)??!1})?g(te):g(we,!1)})}a(u),c(b,w)},$$slots:{default:!0}});var Ae=d(Ne,2);ye(Ae,{class:"flex  gap-2  items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-xl",$$events:{click:()=>{var b;Oe()((b=J())==null?void 0:b.id)}},children:(b,D)=>{var w=va(),t=O(w);{var i=g=>{Kr(g,{})},f=g=>{Fr(g,{})};S(t,g=>{R(),Se(J()),n(()=>{var _,M;return(((_=R())==null?void 0:_.pinnedModels)??[]).includes((M=J())==null?void 0:M.id)})?g(i):g(f,!1)})}var u=d(t,2),x=s(u);{var te=g=>{var _=Ce();P(M=>k(_,M),[()=>(r(),n(()=>r().t("Hide from Sidebar")))]),c(g,_)},we=g=>{var _=Ce();P(M=>k(_,M),[()=>(r(),n(()=>r().t("Keep in Sidebar")))]),c(g,_)};S(x,g=>{R(),Se(J()),n(()=>{var _,M;return(((_=R())==null?void 0:_.pinnedModels)??[]).includes((M=J())==null?void 0:M.id)})?g(te):g(we,!1)})}a(u),c(b,w)},$$slots:{default:!0}});var Re=d(Ae,2);ye(Re,{class:"flex gap-2 items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-xl",$$events:{click:()=>{ce()()}},children:(b,D)=>{var w=fa(),t=O(w);Wr(t,{});var i=d(t,2),f=s(i,!0);a(i),P(u=>k(f,u),[()=>(r(),n(()=>r().t("Clone")))]),c(b,w)},$$slots:{default:!0}});var je=d(Re,4);ye(je,{class:"flex gap-2 items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-xl",$$events:{click:()=>{De()()}},children:(b,D)=>{var w=ua(),t=O(w);Vr(t,{});var i=d(t,2),f=s(i,!0);a(i),P(u=>k(f,u),[()=>(r(),n(()=>r().t("Copy Link")))]),c(b,w)},$$slots:{default:!0}});var We=d(je,2);{var Qe=b=>{ye(b,{class:"flex gap-2 items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-xl",$$events:{click:()=>{He()()}},children:(D,w)=>{var t=pa(),i=O(t);Jr(i,{});var f=d(i,2),u=s(f,!0);a(f),P(x=>k(u,x),[()=>(r(),n(()=>r().t("Export")))]),c(D,t)},$$slots:{default:!0}})};S(We,b=>{W(),n(()=>{var D,w,t,i;return((D=W())==null?void 0:D.role)==="admin"||((i=(t=(w=W())==null?void 0:w.permissions)==null?void 0:t.workspace)==null?void 0:i.models_export)})&&b(Qe)})}var Je=d(We,2);{var et=b=>{ye(b,{class:"flex gap-2 items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800  rounded-xl",$$events:{click:()=>{Pe()()}},children:(D,w)=>{var t=ga(),i=O(t);Rr(i,{});var f=d(i,2),u=s(f,!0);a(f),P(x=>k(u,x),[()=>(r(),n(()=>r().t("Share")))]),c(D,t)},$$slots:{default:!0}})};S(Je,b=>{me(),n(()=>{var D;return(D=me())==null?void 0:D.features.enable_community_sharing})&&b(et)})}var Fe=d(Je,4);ye(Fe,{class:"flex  gap-2  items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-xl",$$events:{click:()=>{Le()()}},children:(b,D)=>{var w=ma(),t=O(w);qt(t,{});var i=d(t,2),f=s(i,!0);a(i),P(u=>k(f,u),[()=>(r(),n(()=>r().t("Delete")))]),c(b,w)},$$slots:{default:!0}}),c(ie,xe)},$$slots:{default:!0}}),a(X),c(F,X)}},$$legacy:!0}),ut(),T()}var $a=m('<button class="flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-200 transition"><div class=" self-center font-medium line-clamp-1"> </div></button>'),ya=m('<button class="flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-200 transition"><div class=" self-center font-medium line-clamp-1"> </div></button>'),ba=m('<div class="self-center pl-1.5 translate-y-[0.5px] rounded-l-xl bg-transparent"><button class="p-0.5 rounded-full hover:bg-gray-100 dark:hover:bg-gray-900 transition"><!></button></div>'),wa=m('<a class=" font-medium line-clamp-1 hover:underline capitalize"> </a>'),ka=m("<div><!></div>"),Ma=m('<button class="self-center w-fit text-sm p-1.5 dark:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl" type="button"><!></button>'),Sa=m('<button class="self-center w-fit text-sm p-1.5 dark:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl" type="button"><!></button>'),Pa=m("<!> <!>",1),Ha=m('<div class="self-center w-fit p-1 text-sm dark:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"><!></div>'),Ca=m('<div><div class="flex items-center gap-0.5"><!></div></div>'),Ea=m("<button><!></button>"),Da=m('<div class="shrink-0 text-gray-500 text-xs"> </div>'),La=m('<div class="flex gap-1 text-xs overflow-hidden"><div class="line-clamp-1"><!></div></div>'),Na=m('<div><div class="flex group/item gap-3.5 w-full"><div class="self-center pl-0.5"><div class="flex bg-white rounded-2xl"><div><img alt="modelfile profile" class=" rounded-2xl size-12 object-cover"/></div></div></div> <div class=" shrink-0 flex w-full min-w-0 flex-1 pr-1 self-center"><div class="flex h-full w-full flex-1 flex-col justify-start self-center group"><div class="flex-1 w-full"><div class="flex items-center justify-between w-full"><!> <div class="flex items-center gap-1"><!> <!> <!></div></div> <div class=" flex gap-1 pr-2 -mt-1 items-center"><!> <div>Â·</div> <!></div></div></div></div></div></div>'),ja=m('<div class=" px-3 my-2 gap-1 lg:gap-2 grid lg:grid-cols-2" id="model-list"></div> <!>',1),Ba=m('<div class=" w-full h-full flex flex-col justify-center items-center my-16 mb-24"><div class="max-w-md text-center"><div class=" text-3xl mb-3">ðŸ˜•</div> <div class=" text-lg font-medium mb-1"> </div> <div class=" text-gray-500 text-center text-xs"> </div></div></div>'),Ua=m('<div class="w-full h-full flex justify-center items-center py-10"><!></div>'),Ia=m('<div class=" my-16"><div class=" text-xl font-medium mb-1 line-clamp-1"> </div> <a class=" flex cursor-pointer items-center justify-between hover:bg-gray-50 dark:hover:bg-gray-850 w-full mb-2 px-3.5 py-1.5 rounded-xl transition" href="https://openwebui.com/models" target="_blank"><div class=" self-center"><div class=" font-medium line-clamp-1"> </div> <div class=" text-sm line-clamp-1"> </div></div> <div><div><!></div></div></a></div>'),za=m('<!> <div class="flex flex-col gap-1 px-1 mt-1.5 mb-3"><input id="models-import-input" type="file" accept=".json" hidden=""/> <div class="flex justify-between items-center"><div class="flex items-center md:self-center text-xl font-medium px-0.5 gap-2 shrink-0"><div> </div> <div class="text-lg font-medium text-gray-500 dark:text-gray-500"> </div></div> <div class="flex w-full justify-end gap-1.5"><!> <!> <a class=" px-2 py-1.5 rounded-xl bg-black text-white dark:bg-white dark:text-black transition font-medium text-sm flex items-center" href="/workspace/models/create"><!> <div class=" hidden md:block md:ml-1 text-xs"> </div></a></div></div></div> <div class="py-2 bg-white dark:bg-gray-900 rounded-3xl border border-gray-100/30 dark:border-gray-850/30"><div class="px-3.5 flex flex-1 items-center w-full space-x-2 py-0.5 pb-2"><div class="flex flex-1 items-center"><div class=" self-center ml-1 mr-3"><!></div> <input class=" w-full text-sm py-1 rounded-r-xl outline-hidden bg-transparent" maxlength="500"/> <!></div></div> <div class="px-3 flex w-full bg-transparent overflow-x-auto scrollbar-none"><div class="flex gap-0.5 w-fit text-center text-sm rounded-full bg-transparent px-0.5 whitespace-nowrap"><!> <!></div></div> <!></div> <!>',1),Oa=m('<div class="w-full h-full flex justify-center items-center"><!></div>');function Ta(Ee,E){ft(E,!1);const r=()=>G(Pe,"$i18n",se),R=()=>G(mt,"$config",se),W=()=>G(Ze,"$settings",se),me=()=>G(br,"$WEBUI_NAME",se),_e=()=>G(Me,"$_models",se),T=()=>G(Vt,"$user",se),[se,J]=gt(),{saveAs:ee}=Cr,Pe=Jt("i18n");let ce=z(!1),He=z(),De=z(),ze=z(),Oe=z(!1),Le=z(!1),Te=z(null),oe=z([]),F=z(""),ve=z(""),X=z(""),K=z(1),ie=z(null),Y=z(null),xe=z();const fe=async()=>{try{const t=await Er(localStorage.token,e(ve),e(X),e(F),null,null,e(K)).catch(i=>(Q.error(`${i}`),null));t&&(y(ie,t.items),y(Y,t.total),y(oe,await Dr(localStorage.token).catch(i=>(Q.error(`${i}`),[]))))}catch(t){}},Ne=async t=>{var f,u,x;await Lr(localStorage.token,t.id).catch(te=>(Q.error(`${te}`),null))&&(Q.success(r().t("Deleted {{name}}",{name:t.id})),y(K,1),fe()),await Me.set(await Ie(localStorage.token,((u=(f=R())==null?void 0:f.features)==null?void 0:u.enable_direct_connections)&&(((x=W())==null?void 0:x.directConnections)??null)))},Ae=async t=>{sessionStorage.model=JSON.stringify({...t,id:`${t.id}-clone`,name:`${t.name} (Clone)`}),ct("/workspace/models/create")},Re=async t=>{Q.success(r().t("Redirecting you to Open WebUI Community"));const i="https://openwebui.com",f=await window.open(`${i}/models/create`,"_blank"),u=x=>{x.origin===i&&x.data==="loaded"&&(f.postMessage(JSON.stringify(t),"*"),window.removeEventListener("message",u))};window.addEventListener("message",u,!1)},je=async t=>{var f,u,x,te;t.meta={...t.meta,hidden:!(((f=t==null?void 0:t.meta)==null?void 0:f.hidden)??!1)},await At(localStorage.token,t.id,t)&&(Q.success(r().t("Model {{name}} is now {{status}}",{name:t.id,status:t.meta.hidden?"hidden":"visible"})),y(K,1),fe()),await Me.set(await Ie(localStorage.token,((x=(u=R())==null?void 0:u.features)==null?void 0:x.enable_direct_connections)&&(((te=W())==null?void 0:te.directConnections)??null)))},We=async t=>{const i=window.location.origin;await Hr(`${i}/?model=${encodeURIComponent(t.id)}`)?Q.success(r().t("Copied link to clipboard")):Q.error(r().t("Failed to copy link"))},Qe=async t=>{let i=new Blob([JSON.stringify(t)],{type:"application/json"});ee(i,`models-export-${Date.now()}.json`)},Je=async t=>{let i=new Blob([JSON.stringify([t])],{type:"application/json"});ee(i,`${t.id}-${Date.now()}.json`)},et=async t=>{var f;let i=((f=W())==null?void 0:f.pinnedModels)??[];i.includes(t)?i=i.filter(u=>u!==t):i=[...new Set([...i,t])],Ze.set({...W(),pinnedModels:i}),await Br(localStorage.token,{ui:W()})};Kt(async()=>{y(X,localStorage.workspaceViewOption??""),y(K,1),(await jr(localStorage.token)).map(x=>x.id),y(Oe,!0);const i=x=>{x.key==="Shift"&&y(ce,!0)},f=x=>{x.key==="Shift"&&y(ce,!1)},u=()=>{y(ce,!1)};return window.addEventListener("keydown",i),window.addEventListener("keyup",f),window.addEventListener("blur-sm",u),()=>{window.removeEventListener("keydown",i),window.removeEventListener("keyup",f),window.removeEventListener("blur-sm",u)}}),mr(()=>(e(K),e(ve),e(F),e(X),e(xe)),()=>{e(K)!==void 0&&e(ve)!==void 0&&e(F)!==void 0&&e(X)!==void 0&&(clearTimeout(e(xe)),y(xe,setTimeout(()=>{fe()},300)))}),_r(),pt();var Fe=vt();kr("91cwg4",t=>{xr(i=>{hr.title=`
		${i??""} â€¢ ${me()??""}
	`},[()=>(r(),n(()=>r().t("Models")))])});var b=O(Fe);{var D=t=>{var i=za(),f=O(i);qr(f,{get show(){return e(Le)},set show(l){y(Le,l)},$$events:{confirm:()=>{Ne(e(Te))}},$$legacy:!0});var u=d(f,2),x=s(u);It(x,l=>y(De,l),()=>e(De));var te=d(x,2),we=s(te),g=s(we),_=s(g,!0);a(g);var M=d(g,2),Gt=s(M,!0);a(M),a(we);var _t=d(we,2),xt=s(_t);{var Xt=l=>{var v=$a(),p=s(v),C=s(p,!0);a(p),a(v),P(L=>k(C,L),[()=>(r(),n(()=>r().t("Import")))]),de("click",v,()=>{e(De).click()}),c(l,v)};S(xt,l=>{T(),n(()=>{var v,p,C,L;return((v=T())==null?void 0:v.role)==="admin"||((L=(C=(p=T())==null?void 0:p.permissions)==null?void 0:C.workspace)==null?void 0:L.models_import)})&&l(Xt)})}var ht=d(xt,2);{var Yt=l=>{var v=ya(),p=s(v),C=s(p,!0);a(p),a(v),P(L=>k(C,L),[()=>(r(),n(()=>r().t("Export")))]),de("click",v,async()=>{Qe(e(ie))}),c(l,v)};S(ht,l=>{e(Y),T(),n(()=>{var v,p,C,L;return e(Y)&&(((v=T())==null?void 0:v.role)==="admin"||((L=(C=(p=T())==null?void 0:p.permissions)==null?void 0:C.workspace)==null?void 0:L.models_export))})&&l(Yt)})}var $t=d(ht,2),yt=s($t);Xr(yt,{className:"size-3",strokeWidth:"2.5"});var bt=d(yt,2),Zt=s(bt,!0);a(bt),a($t),a(_t),a(te),a(u);var tt=d(u,2),rt=s(tt),wt=s(rt),at=s(wt),Qt=s(at);Gr(Qt,{className:"size-3.5"}),a(at);var Ke=d(at,2);Mr(Ke);var er=d(Ke,2);{var tr=l=>{var v=ba(),p=s(v),C=s(p);Qr(C,{className:"size-3",strokeWidth:"2"}),a(p),a(v),de("click",p,()=>{y(ve,"")}),c(l,v)};S(er,l=>{e(ve)&&l(tr)})}a(wt),a(rt);var Ve=d(rt,2),st=s(Ve),kt=s(st);ra(kt,{onChange:async l=>{localStorage.workspaceViewOption=l,await $r()},get value(){return e(X)},set value(l){y(X,l)},$$legacy:!0});var rr=d(kt,2);{var ar=l=>{{let v=be(()=>(e(oe),n(()=>e(oe).map(p=>({value:p,label:p})))));aa(l,{get items(){return e(v)},get value(){return e(F)},set value(p){y(F,p)},$$legacy:!0})}};S(rr,l=>{e(oe),n(()=>(e(oe)??[]).length>0)&&l(ar)})}a(st),It(st,l=>y(ze,l),()=>e(ze)),a(Ve);var sr=d(Ve,2);{var or=l=>{var v=vt(),p=O(v);{var C=V=>{var $=ja(),B=O($);wr(B,5,()=>e(ie),q=>q.id,(q,o,qe)=>{var ne=Na(),Ge=s(ne),Ue=s(Ge),Mt=s(Ue),ot=s(Mt),dr=s(ot);a(ot),a(Mt),a(Ue);var St=d(Ue,2),Pt=s(St),Ht=s(Pt),it=s(Ht),Ct=s(it);ke(Ct,{get content(){return e(o),n(()=>e(o).name)},className:" w-fit",placement:"top-start",children:(N,h)=>{var H=wa(),j=s(H,!0);a(H),P(le=>{Ye(H,"href",le),k(j,(e(o),n(()=>e(o).name)))},[()=>(e(o),n(()=>`/?models=${encodeURIComponent(e(o).id)}`))]),c(N,H)},$$slots:{default:!0}});var Et=d(Ct,2),Dt=s(Et);{var cr=N=>{var h=ka(),H=s(h);{let j=be(()=>(r(),n(()=>r().t("Read Only"))));oa(H,{type:"muted",get content(){return e(j)}})}a(h),c(N,h)};S(Dt,N=>{e(o),n(()=>!e(o).write_access)&&N(cr)})}var Lt=d(Dt,2);{var vr=N=>{var h=Ca(),H=s(h),j=s(H);{var le=U=>{var Z=Pa(),I=O(Z);{let re=be(()=>(e(o),r(),n(()=>{var pe,Xe;return(Xe=(pe=e(o))==null?void 0:pe.meta)!=null&&Xe.hidden?r().t("Show"):r().t("Hide")})));ke(I,{get content(){return e(re)},children:(pe,Xe)=>{var ge=Ma(),nt=s(ge);{var lt=$e=>{ea($e,{})},gr=$e=>{ta($e,{})};S(nt,$e=>{e(o),n(()=>{var Bt,Ut;return(Ut=(Bt=e(o))==null?void 0:Bt.meta)==null?void 0:Ut.hidden})?$e(lt):$e(gr,!1)})}a(ge),de("click",ge,$e=>{$e.stopPropagation(),je(e(o))}),c(pe,ge)},$$slots:{default:!0}})}var A=d(I,2);{let re=be(()=>(r(),n(()=>r().t("Delete"))));ke(A,{get content(){return e(re)},children:(pe,Xe)=>{var ge=Sa(),nt=s(ge);qt(nt,{}),a(ge),de("click",ge,lt=>{lt.stopPropagation(),Ne(e(o))}),c(pe,ge)},$$slots:{default:!0}})}c(U,Z)},ue=U=>{ha(U,{get user(){return T()},get model(){return e(o)},editHandler:()=>{ct(`/workspace/models/edit?id=${encodeURIComponent(e(o).id)}`)},shareHandler:()=>{Re(e(o))},cloneHandler:()=>{Ae(e(o))},exportHandler:()=>{Je(e(o))},hideHandler:()=>{je(e(o))},pinModelHandler:()=>{et(e(o).id)},copyLinkHandler:()=>{We(e(o))},deleteHandler:()=>{y(Te,e(o)),y(Le,!0)},onClose:()=>{},children:(Z,I)=>{var A=Ha(),re=s(A);Ur(re,{className:"size-5"}),a(A),c(Z,A)},$$slots:{default:!0}})};S(j,U=>{e(ce)?U(le):U(ue,!1)})}a(H),a(h),P(()=>dt(h,1,`flex ${e(o),n(()=>e(o).is_active?"":"text-gray-500")??""}`)),c(N,h)};S(Lt,N=>{e(o),T(),n(()=>{var h;return e(o).write_access||((h=T())==null?void 0:h.role)==="admin"})&&N(vr)})}var fr=d(Lt,2);{var ur=N=>{var h=Ea(),H=s(h);{let j=be(()=>(e(o),r(),n(()=>e(o).is_active?r().t("Enabled"):r().t("Disabled"))));ke(H,{get content(){return e(j)},children:(le,ue)=>{Zr(le,{get state(){return e(o).is_active},set state(U){e(o).is_active=U,yr(()=>e(ie))},$$events:{change:async()=>{var U,Z,I;Nr(localStorage.token,e(o).id),Me.set(await Ie(localStorage.token,((Z=(U=R())==null?void 0:U.features)==null?void 0:Z.enable_direct_connections)&&(((I=W())==null?void 0:I.directConnections)??null)))}},$$legacy:!0})},$$slots:{default:!0}})}a(h),de("click",h,j=>{j.stopPropagation()}),c(N,h)};S(fr,N=>{e(o),n(()=>e(o).write_access)&&N(ur)})}a(Et),a(it);var Nt=d(it,2),jt=s(Nt);{let N=be(()=>(e(o),r(),n(()=>{var h,H;return((H=(h=e(o))==null?void 0:h.user)==null?void 0:H.email)??r().t("Deleted User")})));ke(jt,{get content(){return e(N)},className:"flex shrink-0",placement:"top-start",children:(h,H)=>{var j=Da(),le=s(j,!0);a(j),P(ue=>k(le,ue),[()=>(r(),Se(zt),e(o),n(()=>{var ue,U,Z,I;return r().t("By {{name}}",{name:zt(((U=(ue=e(o))==null?void 0:ue.user)==null?void 0:U.name)??((I=(Z=e(o))==null?void 0:Z.user)==null?void 0:I.email)??r().t("Deleted User"))})}))]),c(h,j)},$$slots:{default:!0}})}var pr=d(jt,4);{let N=be(()=>(Se(Ot),e(o),n(()=>{var h,H;return Ot.parse(((H=(h=e(o))==null?void 0:h.meta)==null?void 0:H.description)??e(o).id)})));ke(pr,{get content(){return e(N)},className:" w-fit text-left",placement:"top-start",children:(h,H)=>{var j=La(),le=s(j),ue=s(le);{var U=I=>{var A=Ce();P(()=>k(A,(e(o),n(()=>{var re,pe;return(pe=(re=e(o))==null?void 0:re.meta)==null?void 0:pe.description})))),c(I,A)},Z=I=>{var A=Ce();P(()=>k(A,(e(o),n(()=>e(o).id)))),c(I,A)};S(ue,I=>{e(o),n(()=>{var A,re;return(((re=(A=e(o))==null?void 0:A.meta)==null?void 0:re.description)??"").trim()})?I(U):I(Z,!1)})}a(le),a(j),c(h,j)},$$slots:{default:!0}})}a(Nt),a(Ht),a(Pt),a(St),a(Ge),a(ne),P(()=>{dt(ne,1,`flex transition rounded-2xl w-full p-2.5 ${e(o),n(()=>e(o).write_access?"cursor-pointer dark:hover:bg-gray-850/50 hover:bg-gray-50":"cursor-not-allowed opacity-60")??""}`),Ye(ne,"id",`model-item-${e(o),n(()=>e(o).id)??""}`),dt(ot,1,`${e(o),n(()=>e(o).is_active?"":"opacity-50 dark:opacity-50")??""} bg-transparent rounded-2xl`),Ye(dr,"src",(Se(Tt),e(o),r(),n(()=>`${Tt}/models/model/profile/image?id=${e(o).id}&lang=${r().language}`)))}),de("click",ne,()=>{e(o).write_access&&ct(`/workspace/models/edit?id=${encodeURIComponent(e(o).id)}`)}),c(q,ne)}),a(B);var he=d(B,2);{var Be=q=>{sa(q,{get count(){return e(Y)},perPage:30,get page(){return e(K)},set page(o){y(K,o)},$$legacy:!0})};S(he,q=>{e(Y)>30&&q(Be)})}c(V,$)},L=V=>{var $=Ba(),B=s($),he=d(s(B),2),Be=s(he,!0);a(he);var q=d(he,2),o=s(q,!0);a(q),a(B),a($),P((qe,ne)=>{k(Be,qe),k(o,ne)},[()=>(r(),n(()=>r().t("No models found"))),()=>(r(),n(()=>r().t("Try adjusting your search or filter to find what you are looking for.")))]),c(V,$)};S(p,V=>{e(ie),n(()=>(e(ie)??[]).length!==0)?V(C):V(L,!1)})}c(l,v)},ir=l=>{var v=Ua(),p=s(v);Wt(p,{className:"size-4"}),a(v),c(l,v)};S(sr,l=>{e(ie)!==null?l(or):l(ir,!1)})}a(tt);var nr=d(tt,2);{var lr=l=>{var v=Ia(),p=s(v),C=s(p,!0);a(p);var L=d(p,2),V=s(L),$=s(V),B=s($,!0);a($);var he=d($,2),Be=s(he,!0);a(he),a(V);var q=d(V,2),o=s(q),qe=s(o);Yr(qe,{}),a(o),a(q),a(L),a(v),P((ne,Ge,Ue)=>{k(C,ne),k(B,Ge),k(Be,Ue)},[()=>(r(),n(()=>r().t("Made by Open WebUI Community"))),()=>(r(),n(()=>r().t("Discover a model"))),()=>(r(),n(()=>r().t("Discover, download, and explore model presets")))]),c(l,v)};S(nr,l=>{R(),n(()=>{var v;return(v=R())==null?void 0:v.features.enable_community_sharing})&&l(lr)})}P((l,v,p)=>{k(_,l),k(Gt,e(Y)),k(Zt,v),Ye(Ke,"placeholder",p)},[()=>(r(),n(()=>r().t("Models"))),()=>(r(),n(()=>r().t("New Model"))),()=>(r(),n(()=>r().t("Search Models")))]),Sr(x,()=>e(He),l=>y(He,l)),de("change",x,()=>{e(He);let l=new FileReader;l.onload=async v=>{var C,L,V;let p=[];try{p=JSON.parse(v.target.result)}catch{Q.error(r().t("Invalid JSON file"));return}for(const $ of p)($==null?void 0:$.info)??!1?_e().find(B=>B.id===$.id)?await At(localStorage.token,$.id,$.info).catch(B=>(Q.error(`${B}`),null)):await Rt(localStorage.token,$.info).catch(B=>(Q.error(`${B}`),null)):$!=null&&$.id&&($!=null&&$.name)&&await Rt(localStorage.token,$).catch(B=>(Q.error(`${B}`),null));await Me.set(await Ie(localStorage.token,((L=(C=R())==null?void 0:C.features)==null?void 0:L.enable_direct_connections)&&(((V=W())==null?void 0:V.directConnections)??null))),y(K,1),fe()},l.readAsText(e(He)[0])}),Pr(Ke,()=>e(ve),l=>y(ve,l)),de("wheel",Ve,l=>{l.deltaY!==0&&(l.preventDefault(),l.currentTarget.scrollLeft+=l.deltaY)}),c(t,i)},w=t=>{var i=Oa(),f=s(i);Wt(f,{className:"size-5"}),a(i),c(t,i)};S(b,t=>{e(Oe)?t(D):t(w,!1)})}c(Ee,Fe),ut(),J()}function zs(Ee,E){ft(E,!1);const r=()=>G(mt,"$config",me),R=()=>G(Ze,"$settings",me),W=()=>G(Me,"$models",me),[me,_e]=gt();Kt(async()=>{await Promise.all([(async()=>{var ee,Pe,ce;Me.set(await Ie(localStorage.token,((Pe=(ee=r())==null?void 0:ee.features)==null?void 0:Pe.enable_direct_connections)&&(((ce=R())==null?void 0:ce.directConnections)??null)))})()])}),pt();var T=vt(),se=O(T);{var J=ee=>{Ta(ee,{})};S(se,ee=>{W()!==null&&ee(J)})}c(Ee,T),ut(),_e()}export{zs as component};
//# sourceMappingURL=34.D1uWLrDc.js.map
