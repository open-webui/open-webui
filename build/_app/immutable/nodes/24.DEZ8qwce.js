import"../chunks/CWj6FrbW.js";import"../chunks/69_IOA4Y.js";import{p as Ft,g as Et,o as Wt,i as o,m as P,aM as fa,q as Ot,j as e,v as ma,f as u,h as pa,w as i,$ as ga,e as he,k as v,c as a,r as t,a as d,b as Rt,A as _a,t as _,s as g,n as Y,l as Ze,d as ht,aT as xa,u as oe,aU as ba,z as At}from"../chunks/0WpKKl27.js";import{i as A}from"../chunks/Cmf4RC8y.js";import{r as ya,a as et,s as tt}from"../chunks/CZ1y6KaE.js";import{i as Ht}from"../chunks/C3k0oZ3o.js";import{a as ne,s as qt}from"../chunks/BVrWTcfB.js";import{d as T,r as ha}from"../chunks/BC4znSyB.js";import"../chunks/BkyXqnA-.js";import{W as $a,m as wa,u as ka,s as It,g as Na}from"../chunks/PCOILo-8.js";import{g as zt}from"../chunks/B5RARo22.js";import{p as Da}from"../chunks/CLoTtgoA.js";import{c as Vt,d as La}from"../chunks/OBWwOOIN.js";import{U as Sa}from"../chunks/DB6UFW7h.js";import{e as xt,i as Pa}from"../chunks/u5Cnd4mY.js";import{h as ja}from"../chunks/Bwqchdu-.js";import{b as Ca}from"../chunks/kb1CvZ3a.js";import{m as Ua,k as Qe,n as Bt,g as Ma}from"../chunks/cX8aofVu.js";import{t as z}from"../chunks/DYdr9DjX.js";import{f as Oa}from"../chunks/CsWaRabF.js";import{d as Aa}from"../chunks/DfIywdCw.js";import{s as Ia,c as Ba,d as Ta}from"../chunks/CqXJ173x.js";import{E as Tt}from"../chunks/C2rnPICT.js";import{C as Ya}from"../chunks/ByHAJgVC.js";import{S as Fa}from"../chunks/BqWDuYyJ.js";import{P as Ea}from"../chunks/BonmQdqt.js";import{S as bt}from"../chunks/BO1efK8r.js";import{T as Te}from"../chunks/Db0gdTVr.js";import{N as Yt}from"../chunks/DGs-EJZm.js";import{F as Wa}from"../chunks/6usEtNPi.js";import{X as Ra}from"../chunks/CZmZoefv.js";import{D as yt}from"../chunks/DmbrTe5t.js";import{L as Ha}from"../chunks/l5Bi75JT.js";import{S as qa}from"../chunks/CGW29DRJ.js";import{a as za}from"../chunks/DLhnqOlE.js";var Va=u('<div class=" text-sm text-gray-500 truncate"> <span class="  font-semibold"> </span>.</div>'),Ka=u('<div class="self-center pl-1.5 translate-y-[0.5px] rounded-l-xl bg-transparent"><button class="p-0.5 rounded-full hover:bg-gray-100 dark:hover:bg-gray-900 transition"><!></button></div>'),Xa=u('<div class=" text-sm font-medium capitalize flex-1 w-full line-clamp-1"> </div>'),Ga=u("<div> </div>"),Ja=u('<div class="shrink-0 text-gray-500"> </div>'),Qa=u('<button class="self-center w-fit text-sm p-1 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl" type="button"><!></button>'),Za=u('<div class=" flex cursor-pointer w-full px-3.5 py-1.5 border border-gray-50 dark:border-gray-850/30 bg-transparent dark:hover:bg-gray-850 hover:bg-white rounded-2xl transition"><a class="w-full flex flex-col justify-between"><div class="flex-1"><div class="  flex items-center gap-2 self-center justify-between"><!> <div class="flex shrink-0 items-center text-xs gap-2.5"><!> <!> <div><!></div></div></div></div></a></div>'),er=u("<div></div>"),tr=u('<button class="self-center w-fit text-sm p-1 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl" type="button"><!></button>'),ar=u('<div class="shrink-0 text-gray-500"> </div>'),rr=u('<div class=" flex space-x-4 cursor-pointer w-full px-4.5 py-4 border border-gray-50 dark:border-gray-850/30 bg-transparent dark:hover:bg-gray-850 hover:bg-white rounded-2xl transition"><div class=" flex flex-1 space-x-4 cursor-pointer w-full"><a class="w-full -translate-y-0.5 flex flex-col justify-between"><div class="flex-1"><div class="  flex items-center gap-2 self-center mb-1 justify-between"><div class=" font-semibold line-clamp-1 capitalize"> </div> <div><!></div></div> <div class=" text-xs text-gray-500 dark:text-gray-500 mb-3 line-clamp-3 min-h-10"><!></div></div> <div class=" text-xs px-0.5 w-full flex justify-between items-center"><div> </div> <!></div></a></div></div>'),sr=u("<div></div>"),lr=u('<div class="w-full text-xs text-gray-500 dark:text-gray-500 font-medium px-2.5 pb-2.5"> </div> <!>',1),ir=u('<div class="w-full flex justify-center py-4 text-xs animate-pulse items-center gap-2"><!> <div class=" "> </div></div>'),or=u('<div class="@container h-full py-2.5 px-2.5"><div><!> <!></div></div>'),nr=u('<div class="w-full h-full flex flex-col items-center justify-center"><div class="py-20 text-center"><div class=" text-sm text-gray-400 dark:text-gray-600"> </div> <div class="mt-1 text-xs text-gray-300 dark:text-gray-700"> </div></div></div>'),dr=u('<div class="w-full h-full flex justify-center items-center py-10"><!></div>'),vr=u('<!> <div class="flex flex-col gap-1 px-1 mt-1.5 mb-3"><div class="flex justify-between items-center"><div class="flex items-center md:self-center text-xl font-medium px-0.5 gap-2 shrink-0"><div> </div> <div class="text-lg font-medium text-gray-500 dark:text-gray-500"> </div></div> <div class="flex w-full justify-end gap-1.5"><button class=" px-2 py-1.5 rounded-xl bg-black text-white dark:bg-white dark:text-black transition font-medium text-sm flex items-center"><!> <div class=" ml-1 text-xs"> </div></button></div></div></div> <div class="py-2 bg-white dark:bg-gray-900 rounded-3xl border border-gray-100/30 dark:border-gray-850/30"><div class="px-3.5 flex flex-1 items-center w-full space-x-2 py-0.5 pb-2"><div class="flex flex-1 items-center"><div class=" self-center ml-1 mr-3"><!></div> <input class=" w-full text-sm py-1 rounded-r-xl outline-hidden bg-transparent"/> <!></div></div> <div class="px-3 flex justify-between"><div class="flex w-full bg-transparent overflow-x-auto scrollbar-none"><div class="flex gap-3 w-fit text-center text-sm rounded-full bg-transparent px-0.5 whitespace-nowrap"><!> <!></div></div> <div><!></div></div> <!></div>',1),cr=u('<div class="w-full h-full flex justify-center items-center"><!></div>'),ur=u('<!> <div id="notes-container" class="w-full min-h-full h-full px-3 md:px-[18px]"><!></div>',1);function fr(at,rt){Ft(rt,!1);const r=()=>ne(st,"$i18n",Ye),de=()=>ne($a,"$WEBUI_NAME",Ye),[Ye,$e]=qt(),{saveAs:Z}=Oa;T.extend(Aa),T.extend(ha);async function ee(s){for(const l of s)try{T.locale(l);break}catch(m){`${l}`}}const st=Et("i18n");let ve=P(!1),y=P(null),V=P(!1),j=P(null),ce=P(null),L=P(""),F=null,k=P(null),C=P(null),E=P(null),we=1,te=P(!1),W=P(!1);const ke=async s=>{if(s==="txt"){const l=new Blob([e(y).data.content.md],{type:"text/plain"});Z(l,`${e(y).title}.txt`)}else if(s==="md"){const l=new Blob([e(y).data.content.md],{type:"text/markdown"});Z(l,`${e(y).title}.md`)}else if(s==="pdf")try{await La(e(y))}catch(l){z.error(`${l}`)}},Fe=async s=>{await Ta(localStorage.token,s).catch(m=>(z.error(`${m}`),null))&&Ne()},lt=async s=>{for(const l of s){if(l.type!=="text/markdown"){z.error(r().t("Only markdown files are allowed"));return}const m=new FileReader;m.onload=async x=>{const U=x.target.result;let Se=l.name.replace(/\.md$/,"");if(typeof U!="string"){z.error(r().t("Invalid file content"));return}await Ba(localStorage.token,{title:Se,data:{content:{json:null,html:Ua.parse(U??""),md:U}},meta:null,access_control:{}}).catch(dt=>(z.error(`${dt}`),null))&&Ne()},m.readAsText(l)}},Ee=()=>{we=1,o(j,null),o(ce,null),o(W,!1),o(te,!1)},it=async()=>{e(W)||(we+=1,await De())},Ne=async()=>{Ee(),await De()},De=async()=>{o(te,!0),e(C)==="created"&&o(E,null);const s=await Ia(localStorage.token,e(L),e(C),e(E),F,we).catch(()=>[]);if(s){o(ce,s.total);const l=s.items;(l??[]).length===0?o(W,!0):o(W,!1),e(j)?o(j,[...e(j),...l]):o(j,l)}return o(te,!1),s},ot=s=>{if(!Array.isArray(s))return[];const l={},m=[];for(const x of s){const U=Ma(x.updated_at/1e9);l[U]||(l[U]=[],m.push(U)),l[U].push({...x,timeRange:U})}return m.map(x=>[x,l[x]])};let h=P(!1);const R=s=>{var l,m;s.preventDefault(),(m=(l=s.dataTransfer)==null?void 0:l.types)!=null&&m.includes("Files")?o(h,!0):o(h,!1)},I=()=>{o(h,!1)},Le=async s=>{var l,m;if(s.preventDefault(),(l=s.dataTransfer)!=null&&l.files){const x=Array.from((m=s.dataTransfer)==null?void 0:m.files);x&&x.length>0&&lt(x)}o(h,!1)};Wt(async()=>{o(C,(localStorage==null?void 0:localStorage.noteViewOption)??null),o(k,(localStorage==null?void 0:localStorage.noteDisplayOption)??null),o(ve,!0);const s=document.getElementById("notes-container");s==null||s.addEventListener("dragover",R),s==null||s.addEventListener("drop",Le),s==null||s.addEventListener("dragleave",I)}),fa(()=>{const s=document.getElementById("notes-container");s&&(s==null||s.removeEventListener("dragover",R),s==null||s.removeEventListener("drop",Le),s==null||s.removeEventListener("dragleave",I))}),Ot(()=>r(),()=>{ee(r().languages)}),Ot(()=>(e(ve),e(L),e(E),e(C)),()=>{e(ve)&&e(L)!==void 0&&F!==void 0&&e(E)!==void 0&&e(C)!==void 0&&Ne()}),ma(),Ht();var K=ur();ja("1lmd4qv",s=>{pa(l=>{ga.title=`
		${l??""} â€¢ ${de()??""}
	`},[()=>(r(),i(()=>r().t("Notes")))])});var ue=he(K);Wa(ue,{get show(){return e(h)}});var H=v(ue,2),ae=a(H);{var nt=s=>{var l=vr(),m=he(l);{let n=Y(()=>(r(),i(()=>r().t("Delete note?"))));Ya(m,{get title(){return e(n)},get show(){return e(V)},set show(c){o(V,c)},$$events:{confirm:()=>{Fe(e(y).id),o(V,!1)}},children:(c,M)=>{var re=Va(),qe=a(re),q=v(qe),B=a(q,!0);t(q),_a(),t(re),_(X=>{g(qe,`${X??""} `),g(B,(e(y),i(()=>e(y).title)))},[()=>(r(),i(()=>r().t("This will delete")))]),d(c,re)},$$slots:{default:!0},$$legacy:!0})}var x=v(m,2),U=a(x),Se=a(U),We=a(Se),dt=a(We,!0);t(We);var $t=v(We,2),Xt=a($t,!0);t($t),t(Se);var wt=v(Se,2),vt=a(wt),kt=a(vt);Ea(kt,{className:"size-3",strokeWidth:"2.5"});var Nt=v(kt,2),Gt=a(Nt,!0);t(Nt),t(vt),t(wt),t(U),t(x);var Dt=v(x,2),ct=a(Dt),Lt=a(ct),ut=a(Lt),Jt=a(ut);Fa(Jt,{className:"size-3.5"}),t(ut);var Re=v(ut,2);ya(Re);var Qt=v(Re,2);{var Zt=n=>{var c=Ka(),M=a(c),re=a(M);Ra(re,{className:"size-3",strokeWidth:"2"}),t(M),t(c),Ze("click",M,()=>{o(L,"")}),d(n,c)};A(Qt,n=>{e(L)&&n(Zt)})}t(Lt),t(ct);var ft=v(ct,2),He=a(ft),St=a(He),Pt=a(St);{let n=Y(()=>(r(),i(()=>[{value:null,label:r().t("All")},{value:"created",label:r().t("Created by you")},{value:"shared",label:r().t("Shared with you")}])));yt(Pt,{align:"start",className:"flex w-full items-center gap-2 truncate px-3 py-1.5 text-sm bg-gray-50 dark:bg-gray-850 rounded-xl  placeholder-gray-400 outline-hidden focus:outline-hidden",get items(){return e(n)},onChange:c=>{c?localStorage.noteViewOption=c:delete localStorage.noteViewOption},get value(){return e(C)},set value(c){o(C,c)},$$legacy:!0})}var ea=v(Pt,2);{var ta=n=>{{let c=Y(()=>(r(),i(()=>[{value:null,label:r().t("Write")},{value:"read_only",label:r().t("Read Only")}])));yt(n,{align:"start",get items(){return e(c)},get value(){return e(E)},set value(M){o(E,M)},$$legacy:!0})}};A(ea,n=>{e(C),i(()=>[null,"shared"].includes(e(C)))&&n(ta)})}t(St),t(He);var jt=v(He,2),aa=a(jt);{let n=Y(()=>(r(),i(()=>[{value:null,label:r().t("List")},{value:"grid",label:r().t("Grid")}])));yt(aa,{align:"start",get items(){return e(n)},onChange:()=>{e(k)?localStorage.noteDisplayOption=e(k):delete localStorage.noteDisplayOption},get value(){return e(k)},set value(c){o(k,c)},$$legacy:!0})}t(jt),t(ft);var ra=v(ft,2);{var sa=n=>{var c=ht(),M=he(c);{var re=q=>{const B=Y(()=>(e(j),i(()=>ot(e(j)))));var X=or(),fe=a(X),ze=a(fe);xt(ze,1,()=>e(B),Pa,(se,me,pt)=>{var pe=xa(()=>ba(e(me),2));let Pe=()=>e(pe)[0],je=()=>e(pe)[1];var Ke=lr(),Ce=he(Ke),ia=a(Ce,!0);t(Ce);var oa=v(Ce,2);{var na=G=>{var le=er();xt(le,7,je,Ue=>Ue.id,(Ue,p,Xe,Me)=>{var ie=Za(),f=a(ie),gt=a(f),_t=a(gt),ge=a(_t);Te(ge,{get content(){return e(p),i(()=>e(p).title)},className:"flex-1",placement:"top-start",children:(S,O)=>{var N=Xa(),D=a(N,!0);t(N),_(()=>g(D,(e(p),i(()=>e(p).title)))),d(S,N)},$$slots:{default:!0}});var Oe=v(ge,2),_e=a(Oe);{let S=Y(()=>(oe(T),e(p),i(()=>T(e(p).updated_at/1e6).format("LLLL"))));Te(_e,{get content(){return e(S)},children:(O,N)=>{var D=Ga(),Ie=a(D,!0);t(D),_(J=>g(Ie,J),[()=>(oe(T),e(p),i(()=>T(e(p).updated_at/1e6).fromNow()))]),d(O,D)},$$slots:{default:!0}})}var xe=v(_e,2);{let S=Y(()=>(e(p),r(),i(()=>{var O,N;return((N=(O=e(p))==null?void 0:O.user)==null?void 0:N.email)??r().t("Deleted User")})));Te(xe,{get content(){return e(S)},className:"flex shrink-0",placement:"top-start",children:(O,N)=>{var D=Ja(),Ie=a(D,!0);t(D),_(J=>g(Ie,J),[()=>(r(),oe(Qe),e(p),i(()=>{var J,Ge,Be,ye;return r().t("By {{name}}",{name:Qe(((Ge=(J=e(p))==null?void 0:J.user)==null?void 0:Ge.name)??((ye=(Be=e(p))==null?void 0:Be.user)==null?void 0:ye.email)??r().t("Deleted User"))})}))]),d(O,D)},$$slots:{default:!0}})}var be=v(xe,2),Ae=a(be);Yt(Ae,{onDownload:S=>{o(y,e(p)),ke(S)},onCopyLink:async()=>{const S=window.location.origin;await Bt(`${S}/notes/${e(p).id}`)?z.success(r().t("Copied link to clipboard")):z.error(r().t("Failed to copy link"))},onDelete:()=>{o(y,e(p)),o(V,!0)},children:(S,O)=>{var N=Qa(),D=a(N);Tt(D,{className:"size-5"}),t(N),d(S,N)},$$slots:{default:!0}}),t(be),t(Oe),t(_t),t(gt),t(f),t(ie),_(()=>et(f,"href",(e(p),i(()=>`/notes/${e(p).id}`)))),d(Ue,ie)}),t(le),_(()=>tt(le,1,`${oe(e(B)),i(()=>e(B).length-1!==pt?"mb-3":"")??""} gap-1.5 flex flex-col`)),d(G,le)},da=G=>{var le=ht(),Ue=he(le);{var p=Xe=>{var Me=sr();xt(Me,7,je,ie=>ie.id,(ie,f,gt,_t)=>{var ge=rr(),Oe=a(ge),_e=a(Oe),xe=a(_e),be=a(xe),Ae=a(be),S=a(Ae,!0);t(Ae);var O=v(Ae,2),N=a(O);Yt(N,{onDownload:b=>{o(y,e(f)),ke(b)},onCopyLink:async()=>{const b=window.location.origin;await Bt(`${b}/notes/${e(f).id}`)?z.success(r().t("Copied link to clipboard")):z.error(r().t("Failed to copy link"))},onDelete:()=>{o(y,e(f)),o(V,!0)},children:(b,$)=>{var w=tr(),Q=a(w);Tt(Q,{className:"size-5"}),t(w),d(b,w)},$$slots:{default:!0}}),t(O),t(be);var D=v(be,2),Ie=a(D);{var J=b=>{var $=At();_(()=>g($,(e(f),i(()=>{var w,Q;return(Q=(w=e(f).data)==null?void 0:w.content)==null?void 0:Q.md})))),d(b,$)},Ge=b=>{var $=At();_(w=>g($,w),[()=>(r(),i(()=>r().t("No content")))]),d(b,$)};A(Ie,b=>{e(f),i(()=>{var $,w;return(w=($=e(f).data)==null?void 0:$.content)==null?void 0:w.md})?b(J):b(Ge,!1)})}t(D),t(xe);var Be=v(xe,2),ye=a(Be),va=a(ye,!0);t(ye);var ca=v(ye,2);{let b=Y(()=>(e(f),r(),i(()=>{var $,w;return((w=($=e(f))==null?void 0:$.user)==null?void 0:w.email)??r().t("Deleted User")})));Te(ca,{get content(){return e(b)},className:"flex shrink-0",placement:"top-start",children:($,w)=>{var Q=ar(),ua=a(Q,!0);t(Q),_(Je=>g(ua,Je),[()=>(r(),oe(Qe),e(f),i(()=>{var Je,Ct,Ut,Mt;return r().t("By {{name}}",{name:Qe(((Ct=(Je=e(f))==null?void 0:Je.user)==null?void 0:Ct.name)??((Mt=(Ut=e(f))==null?void 0:Ut.user)==null?void 0:Mt.email)??r().t("Deleted User"))})}))]),d($,Q)},$$slots:{default:!0}})}t(Be),t(_e),t(Oe),t(ge),_(b=>{et(_e,"href",(e(f),i(()=>`/notes/${e(f).id}`))),g(S,(e(f),i(()=>e(f).title))),g(va,b)},[()=>(oe(T),e(f),i(()=>T(e(f).updated_at/1e6).fromNow()))]),d(ie,ge)}),t(Me),_(()=>tt(Me,1,`${oe(e(B)),i(()=>e(B).length-1!==pt?"mb-5":"")??""} gap-2.5 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5`)),d(Xe,Me)};A(Ue,Xe=>{e(k)==="grid"&&Xe(p)},!0)}d(G,le)};A(oa,G=>{e(k)===null?G(na):G(da,!1)})}_(G=>g(ia,G),[()=>(r(),Pe(),i(()=>r().t(Pe())))]),d(se,Ke)});var Ve=v(ze,2);{var mt=se=>{Ha(se,{$$events:{visible:me=>{e(te)||it()}},children:(me,pt)=>{var pe=ir(),Pe=a(pe);bt(Pe,{className:" size-4"});var je=v(Pe,2),Ke=a(je,!0);t(je),t(pe),_(Ce=>g(Ke,Ce),[()=>(r(),i(()=>r().t("Loading...")))]),d(me,pe)},$$slots:{default:!0}})};A(Ve,se=>{e(W)||se(mt)})}t(fe),t(X),d(q,X)},qe=q=>{var B=nr(),X=a(B),fe=a(X),ze=a(fe,!0);t(fe);var Ve=v(fe,2),mt=a(Ve,!0);t(Ve),t(X),t(B),_((se,me)=>{g(ze,se),g(mt,me)},[()=>(r(),i(()=>r().t("No Notes"))),()=>(r(),i(()=>r().t("Create your first note by clicking on the plus button below.")))]),d(q,B)};A(M,q=>{e(j),i(()=>(e(j)??[]).length>0)?q(re):q(qe,!1)})}d(n,c)},la=n=>{var c=dr(),M=a(c);bt(M,{className:"size-4"}),t(c),d(n,c)};A(ra,n=>{e(j)!==null&&e(ce)!==null?n(sa):n(la,!1)})}t(Dt),_((n,c,M)=>{g(dt,n),g(Xt,e(ce)),g(Gt,c),et(Re,"placeholder",M)},[()=>(r(),i(()=>r().t("Notes"))),()=>(r(),i(()=>r().t("New Note"))),()=>(r(),i(()=>r().t("Search Notes")))]),Ze("click",vt,async()=>{const n=await Vt(T().format("YYYY-MM-DD"));n&&zt(`/notes/${n.id}`)}),Ca(Re,()=>e(L),n=>o(L,n)),Ze("wheel",He,n=>{n.deltaY!==0&&(n.preventDefault(),n.currentTarget.scrollLeft+=n.deltaY)}),d(s,l)},Kt=s=>{var l=cr(),m=a(l);bt(m,{className:"size-4"}),t(l),d(s,l)};A(ae,s=>{e(ve)?s(nt):s(Kt,!1)})}t(H),d(at,K),Rt(),$e()}var mr=u('<button id="sidebar-toggle-button" class=" cursor-pointer flex rounded-lg hover:bg-gray-100 dark:hover:bg-gray-850 transition cursor-"><div class=" self-center p-1.5"><!></div></button>'),pr=u("<div><!></div>"),gr=u('<button class="select-none flex rounded-xl p-1.5 w-full hover:bg-gray-50 dark:hover:bg-gray-850 transition" aria-label="User Menu"><div class=" self-center"><img class="size-6 object-cover rounded-full" alt="User profile" draggable="false"/></div></button>'),_r=u('<div><nav class="   px-2 pt-1.5 backdrop-blur-xl w-full drag-region"><div class=" flex items-center"><!> <div class="ml-2 py-0.5 self-center flex items-center justify-between w-full"><div><div class="flex gap-1 scrollbar-none overflow-x-auto w-fit text-center text-sm font-medium bg-transparent py-1 touch-auto pointer-events-auto"><a class="min-w-fit transition" href="/notes"> </a></div></div> <div class=" self-center flex items-center gap-1"><!></div></div></div></nav> <div class=" flex-1 max-h-full overflow-y-auto @container"><!></div></div>');function Zr(at,rt){Ft(rt,!1);const r=()=>ne(Da,"$page",ee),de=()=>ne(It,"$showSidebar",ee),Ye=()=>ne(wa,"$mobile",ee),$e=()=>ne(ve,"$i18n",ee),Z=()=>ne(ka,"$user",ee),[ee,st]=qt(),ve=Et("i18n");let y=P(!1);Wt(async()=>{if(r().url.searchParams.get("content")!==null||r().url.searchParams.get("title")!==null){const L=r().url.searchParams.get("title")??T().format("YYYY-MM-DD"),F=r().url.searchParams.get("content")??"",k=await Vt(L,F);k&&zt(`/notes/${k.id}`);return}o(y,!0)}),Ht();var V=ht(),j=he(V);{var ce=L=>{var F=_r(),k=a(F),C=a(k),E=a(C);{var we=h=>{var R=pr(),I=a(R);{let Le=Y(()=>de()?$e().t("Close Sidebar"):$e().t("Open Sidebar"));Te(I,{get content(){return e(Le)},interactive:!0,children:(K,ue)=>{var H=mr(),ae=a(H),nt=a(ae);qa(nt,{}),t(ae),t(H),Ze("click",H,()=>{It.set(!de())}),d(K,H)},$$slots:{default:!0}})}t(R),_(()=>tt(R,1,`${de()?"md:hidden":""} flex flex-none items-center`)),d(h,R)};A(E,h=>{Ye()&&h(we)})}var te=v(E,2),W=a(te),ke=a(W),Fe=a(ke),lt=a(Fe,!0);t(Fe),t(ke),t(W);var Ee=v(W,2),it=a(Ee);{var Ne=h=>{{let R=Y(()=>{var I;return(I=Z())==null?void 0:I.role});Sa(h,{className:"max-w-[240px]",get role(){return e(R)},help:!0,$$events:{show:I=>{I.detail==="archived-chat"&&Na.set(!0)}},children:(I,Le)=>{var K=gr(),ue=a(K),H=a(ue);t(ue),t(K),_(()=>{var ae;return et(H,"src",`${za}/users/${(ae=Z())==null?void 0:ae.id}/profile/image`)}),d(I,K)},$$slots:{default:!0}})}};A(it,h=>{Z()!==void 0&&Z()!==null&&h(Ne)})}t(Ee),t(te),t(C),t(k);var De=v(k,2),ot=a(De);fr(ot,{}),t(De),t(F),_(h=>{tt(F,1,` flex flex-col w-full h-screen max-h-[100dvh] transition-width duration-200 ease-in-out ${de()?"md:max-w-[calc(100%-var(--sidebar-width))]":""} max-w-full`),g(lt,h)},[()=>$e().t("Notes")]),d(L,F)};A(j,L=>{e(y)&&L(ce)})}d(at,V),Rt(),st()}export{Zr as component};
//# sourceMappingURL=24.DEZ8qwce.js.map
