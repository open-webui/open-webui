import{s as hl,e as d,t as O,k as D,c as h,a as _,b as P,d as u,o as A,A as ct,f as n,i as M,g as r,u as le,D as Ml,h as U,n as _t,F as Kt,j as zt,p as bl,q as El,B as Ct,C as Q,I as Yt,J as pt,E as $t,K as qt,H as Zt,y as bt,z as Et,N as Ss,l as Gt,G as Ms,M as xt,Y as Sl}from"../chunks/scheduler.Dz-NSSWT.js";import{S as _l,i as vl,t as te,g as wt,a as re,c as yt,f as jt,b as tt,d as lt,m as st,e as at}from"../chunks/index.CVQtJBk6.js";import{t as Ae}from"../chunks/Toaster.svelte_svelte_type_style_lang.Bxfrv8ue.js";import{f as Ti}from"../chunks/FileSaver.min.CimDdHIv.js";import{d as Di,a as Ai}from"../chunks/index.q-Qs2qMV.js";import{d as Ul,m as nl,u as Ma,z as Vi,M as gs,n as Si}from"../chunks/index.D2mQNFJF.js";import{k as Mi,l as Oi,m as Pi}from"../chunks/index.BNHNJEox.js";import{b as Li,u as Ni,c as Ui,d as Ci,a as es,e as Ri,f as Hi,g as ms,h as Bi,i as $i,j as ji,k as Zi,l as Gi,m as Ki,n as Wi,o as zi}from"../chunks/index.DAXOC6bs.js";import{b as Fi,c as qi}from"../chunks/index.CpBvPbVH.js";import{S as Vl}from"../chunks/Switch.Bwda4Oct.js";import{e as ot}from"../chunks/each.CwcyO-D0.js";import{s as Yi,S as kl,g as Qi,a as Ji,b as Xi}from"../chunks/SensitiveInput.qeAYWiTz.js";import{S as bs}from"../chunks/Spinner.CTca_gHl.js";import{g as xi,a as eo,b as to,u as lo}from"../chunks/index.GZY0tup4.js";import{T as fa,v as so,s as Vs}from"../chunks/index.C8OzP8zI.js";import{g as ao,a as ro,b as no,u as Er,c as io,v as kr}from"../chunks/index.BeUqKr0g.js";import{T as ul}from"../chunks/create.BSJgY7P6.js";import{a as bi,b as Ei,g as Va,p as wr,d as yr,c as Ir,u as oo,e as uo,f as Tr,h as Dr}from"../chunks/index.CBBgCOQU.js";import{C as Sa}from"../chunks/ConfirmDialog.2fUkeJzy.js";import{a as fo,b as co,c as Ar,d as ho,u as Vr,e as Sr,f as _o}from"../chunks/index.BYJs7_s1.js";import{g as vo}from"../chunks/index.CVedh36t.js";import{g as po,a as ki,s as go,b as mo,c as wi,d as Mr,e as bo,f as Eo,h as ko,r as wo,i as yo}from"../chunks/index.CF_prFGd.js";function Or(s){let e,t,l,a='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"></path><path fill-rule="evenodd" d="M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z" clip-rule="evenodd"></path></svg>',o,i,c=s[1].t("Download Database")+"",f,v,b,g,m='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"></path><path fill-rule="evenodd" d="M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z" clip-rule="evenodd"></path></svg>',p,y,k=s[1].t("Export All Chats (All Users)")+"",w,E,I;return{c(){e=d("div"),t=d("button"),l=d("div"),l.innerHTML=a,o=D(),i=d("div"),f=O(c),v=D(),b=d("button"),g=d("div"),g.innerHTML=m,p=D(),y=d("div"),w=O(k),this.h()},l(T){e=h(T,"DIV",{class:!0});var V=_(e);t=h(V,"BUTTON",{class:!0,type:!0});var S=_(t);l=h(S,"DIV",{class:!0,"data-svelte-h":!0}),ct(l)!=="svelte-1n29mwa"&&(l.innerHTML=a),o=A(S),i=h(S,"DIV",{class:!0});var H=_(i);f=P(H,c),H.forEach(u),S.forEach(u),V.forEach(u),v=A(T),b=h(T,"BUTTON",{class:!0});var L=_(b);g=h(L,"DIV",{class:!0,"data-svelte-h":!0}),ct(g)!=="svelte-1l0oz0g"&&(g.innerHTML=m),p=A(L),y=h(L,"DIV",{class:!0});var F=_(y);w=P(F,k),F.forEach(u),L.forEach(u),this.h()},h(){n(l,"class","self-center mr-3"),n(i,"class","self-center text-sm font-medium"),n(t,"class","flex rounded-md py-1.5 px-3 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),n(t,"type","button"),n(e,"class","flex w-full justify-between"),n(g,"class","self-center mr-3"),n(y,"class","self-center text-sm font-medium"),n(b,"class","flex rounded-md py-2 px-3 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition")},m(T,V){M(T,e,V),r(e,t),r(t,l),r(t,o),r(t,i),r(i,f),M(T,v,V),M(T,b,V),r(b,g),r(b,p),r(b,y),r(y,w),E||(I=[le(t,"click",s[5]),le(b,"click",s[6])],E=!0)},p(T,V){V&2&&c!==(c=T[1].t("Download Database")+"")&&U(f,c),V&2&&k!==(k=T[1].t("Export All Chats (All Users)")+"")&&U(w,k)},d(T){T&&(u(e),u(v),u(b)),E=!1,Kt(I)}}}function Io(s){var H;let e,t,l,a,o=s[1].t("Database")+"",i,c,f,v,b,g,m,p,y='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-4"><path fill-rule="evenodd" d="M5.625 1.5H9a3.75 3.75 0 0 1 3.75 3.75v1.875c0 1.036.84 1.875 1.875 1.875H16.5a3.75 3.75 0 0 1 3.75 3.75v7.875c0 1.035-.84 1.875-1.875 1.875H5.625a1.875 1.875 0 0 1-1.875-1.875V3.375c0-1.036.84-1.875 1.875-1.875Zm5.845 17.03a.75.75 0 0 0 1.06 0l3-3a.75.75 0 1 0-1.06-1.06l-1.72 1.72V12a.75.75 0 0 0-1.5 0v4.19l-1.72-1.72a.75.75 0 0 0-1.06 1.06l3 3Z" clip-rule="evenodd"></path><path d="M14.25 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 16.5 7.5h-1.875a.375.375 0 0 1-.375-.375V5.25Z"></path></svg>',k,w,E=s[1].t("Export LiteLLM config.yaml")+"",I,T,V,S=(((H=s[2])==null?void 0:H.features.enable_admin_export)??!0)&&Or(s);return{c(){e=d("form"),t=d("div"),l=d("div"),a=d("div"),i=O(o),c=D(),S&&S.c(),f=D(),v=d("hr"),b=D(),g=d("div"),m=d("button"),p=d("div"),p.innerHTML=y,k=D(),w=d("div"),I=O(E),this.h()},l(L){e=h(L,"FORM",{class:!0});var F=_(e);t=h(F,"DIV",{class:!0});var x=_(t);l=h(x,"DIV",{});var R=_(l);a=h(R,"DIV",{class:!0});var J=_(a);i=P(J,o),J.forEach(u),c=A(R),S&&S.l(R),f=A(R),v=h(R,"HR",{class:!0}),b=A(R),g=h(R,"DIV",{class:!0});var j=_(g);m=h(j,"BUTTON",{class:!0,type:!0});var B=_(m);p=h(B,"DIV",{class:!0,"data-svelte-h":!0}),ct(p)!=="svelte-fw6871"&&(p.innerHTML=y),k=A(B),w=h(B,"DIV",{class:!0});var G=_(w);I=P(G,E),G.forEach(u),B.forEach(u),j.forEach(u),R.forEach(u),x.forEach(u),F.forEach(u),this.h()},h(){n(a,"class","mb-2 text-sm font-medium"),n(v,"class","dark:border-gray-850 my-1"),n(p,"class","self-center mr-3"),n(w,"class","self-center text-sm font-medium"),n(m,"class","flex rounded-md py-1.5 px-3 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),n(m,"type","button"),n(g,"class","flex w-full justify-between"),n(t,"class","space-y-3 overflow-y-scroll scrollbar-hidden h-full"),n(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(L,F){M(L,e,F),r(e,t),r(t,l),r(l,a),r(a,i),r(l,c),S&&S.m(l,null),r(l,f),r(l,v),r(l,b),r(l,g),r(g,m),r(m,p),r(m,k),r(m,w),r(w,I),T||(V=[le(m,"click",s[7]),le(e,"submit",Ml(s[8]))],T=!0)},p(L,[F]){var x;F&2&&o!==(o=L[1].t("Database")+"")&&U(i,o),((x=L[2])==null?void 0:x.features.enable_admin_export)??!0?S?S.p(L,F):(S=Or(L),S.c(),S.m(l,f)):S&&(S.d(1),S=null),F&2&&E!==(E=L[1].t("Export LiteLLM config.yaml")+"")&&U(I,E)},i:_t,o:_t,d(L){L&&u(e),S&&S.d(),T=!1,Kt(V)}}}function To(s,e,t){let l,a;zt(s,Ul,p=>t(2,a=p));const{saveAs:o}=Ti,i=bl("i18n");zt(s,i,p=>t(1,l=p));let{saveHandler:c}=e;const f=async()=>{let p=new Blob([JSON.stringify(await Mi(localStorage.token))],{type:"application/json"});o(p,`all-chats-export-${Date.now()}.json`)};El(async()=>{});const v=()=>{Di(localStorage.token).catch(p=>{Ae.error(p)})},b=()=>{f()},g=()=>{Ai(localStorage.token).catch(p=>{Ae.error(p)})},m=async()=>{c()};return s.$$set=p=>{"saveHandler"in p&&t(0,c=p.saveHandler)},[c,l,a,i,f,v,b,g,m]}class Do extends _l{constructor(e){super(),vl(this,e,To,Io,hl,{saveHandler:0})}}function Pr(s){let e,t,l=s[2].t("General Settings")+"",a,o,i,c,f=s[2].t("Enable New Sign Ups")+"",v,b,g,m,p,y,k,w=s[2].t("Default User Role")+"",E,I,T,V,S,H=s[2].t("pending")+"",L,F,x=s[2].t("user")+"",R,J,j=s[2].t("admin")+"",B,G,N,C,W,Y,ee=s[2].t("Show Admin Details in Account Pending Overlay")+"",K,$,q,z,ce,ne,ge,me=s[2].t("Enable Community Sharing")+"",Oe,qe,Ve,Te,je,be,Me,fe=s[2].t("Enable Message Rating")+"",ye,Ze,Ce,Pe,et,Ne,He,Xe,de,Se,ve=s[2].t("JWT Expiration")+"",oe,Ee,ae,ke,ze,De,he=s[2].t("Valid time units:")+"",ue,Ue,We,Fe=s[2].t("'s', 'm', 'h', 'd', 'w' or '-1' for no expiration.")+"",Ke,ut,nt,it,Je,Ye,we,ft=s[2].t("Webhook URL")+"",xe,Be,ie,X,Z,se,_e;function Ge(Le){s[6](Le)}let gt={};s[0].ENABLE_SIGNUP!==void 0&&(gt.state=s[0].ENABLE_SIGNUP),g=new Vl({props:gt}),Ct.push(()=>jt(g,"state",Ge));function Tt(Le){s[8](Le)}let Dt={};s[0].SHOW_ADMIN_DETAILS!==void 0&&(Dt.state=s[0].SHOW_ADMIN_DETAILS),q=new Vl({props:Dt}),Ct.push(()=>jt(q,"state",Tt));function St(Le){s[9](Le)}let Pt={};s[0].ENABLE_COMMUNITY_SHARING!==void 0&&(Pt.state=s[0].ENABLE_COMMUNITY_SHARING),Ve=new Vl({props:Pt}),Ct.push(()=>jt(Ve,"state",St));function Rt(Le){s[10](Le)}let Mt={};return s[0].ENABLE_MESSAGE_RATING!==void 0&&(Mt.state=s[0].ENABLE_MESSAGE_RATING),Ce=new Vl({props:Mt}),Ct.push(()=>jt(Ce,"state",Rt)),{c(){e=d("div"),t=d("div"),a=O(l),o=D(),i=d("div"),c=d("div"),v=O(f),b=D(),tt(g.$$.fragment),p=D(),y=d("div"),k=d("div"),E=O(w),I=D(),T=d("div"),V=d("select"),S=d("option"),L=O(H),F=d("option"),R=O(x),J=d("option"),B=O(j),G=D(),N=d("hr"),C=D(),W=d("div"),Y=d("div"),K=O(ee),$=D(),tt(q.$$.fragment),ce=D(),ne=d("div"),ge=d("div"),Oe=O(me),qe=D(),tt(Ve.$$.fragment),je=D(),be=d("div"),Me=d("div"),ye=O(fe),Ze=D(),tt(Ce.$$.fragment),et=D(),Ne=d("hr"),He=D(),Xe=d("div"),de=d("div"),Se=d("div"),oe=O(ve),Ee=D(),ae=d("div"),ke=d("input"),ze=D(),De=d("div"),ue=O(he),Ue=D(),We=d("span"),Ke=O(Fe),ut=D(),nt=d("hr"),it=D(),Je=d("div"),Ye=d("div"),we=d("div"),xe=O(ft),Be=D(),ie=d("div"),X=d("input"),this.h()},l(Le){e=h(Le,"DIV",{});var Ie=_(e);t=h(Ie,"DIV",{class:!0});var It=_(t);a=P(It,l),It.forEach(u),o=A(Ie),i=h(Ie,"DIV",{class:!0});var At=_(i);c=h(At,"DIV",{class:!0});var Ht=_(c);v=P(Ht,f),Ht.forEach(u),b=A(At),lt(g.$$.fragment,At),At.forEach(u),p=A(Ie),y=h(Ie,"DIV",{class:!0});var vt=_(y);k=h(vt,"DIV",{class:!0});var ht=_(k);E=P(ht,w),ht.forEach(u),I=A(vt),T=h(vt,"DIV",{class:!0});var mt=_(T);V=h(mt,"SELECT",{class:!0,placeholder:!0});var rt=_(V);S=h(rt,"OPTION",{});var Nt=_(S);L=P(Nt,H),Nt.forEach(u),F=h(rt,"OPTION",{});var Ut=_(F);R=P(Ut,x),Ut.forEach(u),J=h(rt,"OPTION",{});var Wt=_(J);B=P(Wt,j),Wt.forEach(u),rt.forEach(u),mt.forEach(u),vt.forEach(u),G=A(Ie),N=h(Ie,"HR",{class:!0}),C=A(Ie),W=h(Ie,"DIV",{class:!0});var Ot=_(W);Y=h(Ot,"DIV",{class:!0});var Lt=_(Y);K=P(Lt,ee),Lt.forEach(u),$=A(Ot),lt(q.$$.fragment,Ot),Ot.forEach(u),ce=A(Ie),ne=h(Ie,"DIV",{class:!0});var Re=_(ne);ge=h(Re,"DIV",{class:!0});var Qe=_(ge);Oe=P(Qe,me),Qe.forEach(u),qe=A(Re),lt(Ve.$$.fragment,Re),Re.forEach(u),je=A(Ie),be=h(Ie,"DIV",{class:!0});var dt=_(be);Me=h(dt,"DIV",{class:!0});var Qt=_(Me);ye=P(Qt,fe),Qt.forEach(u),Ze=A(dt),lt(Ce.$$.fragment,dt),dt.forEach(u),et=A(Ie),Ne=h(Ie,"HR",{class:!0}),He=A(Ie),Xe=h(Ie,"DIV",{class:!0});var Bt=_(Xe);de=h(Bt,"DIV",{class:!0});var Jt=_(de);Se=h(Jt,"DIV",{class:!0});var wl=_(Se);oe=P(wl,ve),wl.forEach(u),Jt.forEach(u),Ee=A(Bt),ae=h(Bt,"DIV",{class:!0});var pl=_(ae);ke=h(pl,"INPUT",{class:!0,type:!0,placeholder:!0}),pl.forEach(u),ze=A(Bt),De=h(Bt,"DIV",{class:!0});var yl=_(De);ue=P(yl,he),Ue=A(yl),We=h(yl,"SPAN",{class:!0});var Xt=_(We);Ke=P(Xt,Fe),Xt.forEach(u),yl.forEach(u),Bt.forEach(u),ut=A(Ie),nt=h(Ie,"HR",{class:!0}),it=A(Ie),Je=h(Ie,"DIV",{class:!0});var el=_(Je);Ye=h(el,"DIV",{class:!0});var ol=_(Ye);we=h(ol,"DIV",{class:!0});var Il=_(we);xe=P(Il,ft),Il.forEach(u),ol.forEach(u),Be=A(el),ie=h(el,"DIV",{class:!0});var gl=_(ie);X=h(gl,"INPUT",{class:!0,type:!0,placeholder:!0}),gl.forEach(u),el.forEach(u),Ie.forEach(u),this.h()},h(){n(t,"class","mb-3 text-sm font-medium"),n(c,"class","self-center text-xs font-medium"),n(i,"class","flex w-full justify-between pr-2"),n(k,"class","self-center text-xs font-medium"),S.__value="pending",Q(S,S.__value),F.__value="user",Q(F,F.__value),J.__value="admin",Q(J,J.__value),n(V,"class","dark:bg-gray-900 w-fit pr-8 rounded px-2 text-xs bg-transparent outline-none text-right"),n(V,"placeholder","Select a role"),s[0].DEFAULT_USER_ROLE===void 0&&Yt(()=>s[7].call(V)),n(T,"class","flex items-center relative"),n(y,"class","my-3 flex w-full justify-between"),n(N,"class","dark:border-gray-850 my-2"),n(Y,"class","self-center text-xs font-medium"),n(W,"class","my-3 flex w-full items-center justify-between pr-2"),n(ge,"class","self-center text-xs font-medium"),n(ne,"class","my-3 flex w-full items-center justify-between pr-2"),n(Me,"class","self-center text-xs font-medium"),n(be,"class","my-3 flex w-full items-center justify-between pr-2"),n(Ne,"class","dark:border-gray-850 my-2"),n(Se,"class","self-center text-xs font-medium"),n(de,"class","flex w-full justify-between"),n(ke,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(ke,"type","text"),n(ke,"placeholder",'e.g.) "30m","1h", "10d". '),n(ae,"class","flex mt-2 space-x-2"),n(We,"class","text-gray-300 font-medium"),n(De,"class","mt-2 text-xs text-gray-400 dark:text-gray-500"),n(Xe,"class","w-full justify-between"),n(nt,"class","dark:border-gray-850 my-2"),n(we,"class","self-center text-xs font-medium"),n(Ye,"class","flex w-full justify-between"),n(X,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(X,"type","text"),n(X,"placeholder","https://example.com/webhook"),n(ie,"class","flex mt-2 space-x-2"),n(Je,"class","w-full justify-between")},m(Le,Ie){M(Le,e,Ie),r(e,t),r(t,a),r(e,o),r(e,i),r(i,c),r(c,v),r(i,b),st(g,i,null),r(e,p),r(e,y),r(y,k),r(k,E),r(y,I),r(y,T),r(T,V),r(V,S),r(S,L),r(V,F),r(F,R),r(V,J),r(J,B),pt(V,s[0].DEFAULT_USER_ROLE,!0),r(e,G),r(e,N),r(e,C),r(e,W),r(W,Y),r(Y,K),r(W,$),st(q,W,null),r(e,ce),r(e,ne),r(ne,ge),r(ge,Oe),r(ne,qe),st(Ve,ne,null),r(e,je),r(e,be),r(be,Me),r(Me,ye),r(be,Ze),st(Ce,be,null),r(e,et),r(e,Ne),r(e,He),r(e,Xe),r(Xe,de),r(de,Se),r(Se,oe),r(Xe,Ee),r(Xe,ae),r(ae,ke),Q(ke,s[0].JWT_EXPIRES_IN),r(Xe,ze),r(Xe,De),r(De,ue),r(De,Ue),r(De,We),r(We,Ke),r(e,ut),r(e,nt),r(e,it),r(e,Je),r(Je,Ye),r(Ye,we),r(we,xe),r(Je,Be),r(Je,ie),r(ie,X),Q(X,s[1]),Z=!0,se||(_e=[le(V,"change",s[7]),le(ke,"input",s[11]),le(X,"input",s[12])],se=!0)},p(Le,Ie){(!Z||Ie&4)&&l!==(l=Le[2].t("General Settings")+"")&&U(a,l),(!Z||Ie&4)&&f!==(f=Le[2].t("Enable New Sign Ups")+"")&&U(v,f);const It={};!m&&Ie&1&&(m=!0,It.state=Le[0].ENABLE_SIGNUP,$t(()=>m=!1)),g.$set(It),(!Z||Ie&4)&&w!==(w=Le[2].t("Default User Role")+"")&&U(E,w),(!Z||Ie&4)&&H!==(H=Le[2].t("pending")+"")&&U(L,H),(!Z||Ie&4)&&x!==(x=Le[2].t("user")+"")&&U(R,x),(!Z||Ie&4)&&j!==(j=Le[2].t("admin")+"")&&U(B,j),Ie&1&&pt(V,Le[0].DEFAULT_USER_ROLE),(!Z||Ie&4)&&ee!==(ee=Le[2].t("Show Admin Details in Account Pending Overlay")+"")&&U(K,ee);const At={};!z&&Ie&1&&(z=!0,At.state=Le[0].SHOW_ADMIN_DETAILS,$t(()=>z=!1)),q.$set(At),(!Z||Ie&4)&&me!==(me=Le[2].t("Enable Community Sharing")+"")&&U(Oe,me);const Ht={};!Te&&Ie&1&&(Te=!0,Ht.state=Le[0].ENABLE_COMMUNITY_SHARING,$t(()=>Te=!1)),Ve.$set(Ht),(!Z||Ie&4)&&fe!==(fe=Le[2].t("Enable Message Rating")+"")&&U(ye,fe);const vt={};!Pe&&Ie&1&&(Pe=!0,vt.state=Le[0].ENABLE_MESSAGE_RATING,$t(()=>Pe=!1)),Ce.$set(vt),(!Z||Ie&4)&&ve!==(ve=Le[2].t("JWT Expiration")+"")&&U(oe,ve),Ie&1&&ke.value!==Le[0].JWT_EXPIRES_IN&&Q(ke,Le[0].JWT_EXPIRES_IN),(!Z||Ie&4)&&he!==(he=Le[2].t("Valid time units:")+"")&&U(ue,he),(!Z||Ie&4)&&Fe!==(Fe=Le[2].t("'s', 'm', 'h', 'd', 'w' or '-1' for no expiration.")+"")&&U(Ke,Fe),(!Z||Ie&4)&&ft!==(ft=Le[2].t("Webhook URL")+"")&&U(xe,ft),Ie&2&&X.value!==Le[1]&&Q(X,Le[1])},i(Le){Z||(te(g.$$.fragment,Le),te(q.$$.fragment,Le),te(Ve.$$.fragment,Le),te(Ce.$$.fragment,Le),Z=!0)},o(Le){re(g.$$.fragment,Le),re(q.$$.fragment,Le),re(Ve.$$.fragment,Le),re(Ce.$$.fragment,Le),Z=!1},d(Le){Le&&u(e),at(g),at(q),at(Ve),at(Ce),se=!1,Kt(_e)}}}function Ao(s){let e,t,l,a,o,i=s[2].t("Save")+"",c,f,v,b,g=s[0]!==null&&Pr(s);return{c(){e=d("form"),t=d("div"),g&&g.c(),l=D(),a=d("div"),o=d("button"),c=O(i),this.h()},l(m){e=h(m,"FORM",{class:!0});var p=_(e);t=h(p,"DIV",{class:!0});var y=_(t);g&&g.l(y),y.forEach(u),l=A(p),a=h(p,"DIV",{class:!0});var k=_(a);o=h(k,"BUTTON",{class:!0,type:!0});var w=_(o);c=P(w,i),w.forEach(u),k.forEach(u),p.forEach(u),this.h()},h(){n(t,"class","space-y-3 overflow-y-scroll scrollbar-hidden h-full"),n(o,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),n(o,"type","submit"),n(a,"class","flex justify-end pt-3 text-sm font-medium"),n(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(m,p){M(m,e,p),r(e,t),g&&g.m(t,null),r(e,l),r(e,a),r(a,o),r(o,c),f=!0,v||(b=le(e,"submit",Ml(s[13])),v=!0)},p(m,[p]){m[0]!==null?g?(g.p(m,p),p&1&&te(g,1)):(g=Pr(m),g.c(),te(g,1),g.m(t,null)):g&&(wt(),re(g,1,1,()=>{g=null}),yt()),(!f||p&4)&&i!==(i=m[2].t("Save")+"")&&U(c,i)},i(m){f||(te(g),f=!0)},o(m){re(g),f=!1},d(m){m&&u(e),g&&g.d(),v=!1,b()}}}function Vo(s,e,t){let l;const a=bl("i18n");zt(s,a,E=>t(2,l=E));let{saveHandler:o}=e,i=null,c="";const f=async()=>{t(1,c=await Ni(localStorage.token,c)),await qi(localStorage.token,i)?o():Ae.error(a.t("Failed to update settings"))};El(async()=>{await Promise.all([(async()=>{t(0,i=await Fi(localStorage.token))})(),(async()=>{t(1,c=await Li(localStorage.token))})()])});function v(E){s.$$.not_equal(i.ENABLE_SIGNUP,E)&&(i.ENABLE_SIGNUP=E,t(0,i))}function b(){i.DEFAULT_USER_ROLE=qt(this),t(0,i)}function g(E){s.$$.not_equal(i.SHOW_ADMIN_DETAILS,E)&&(i.SHOW_ADMIN_DETAILS=E,t(0,i))}function m(E){s.$$.not_equal(i.ENABLE_COMMUNITY_SHARING,E)&&(i.ENABLE_COMMUNITY_SHARING=E,t(0,i))}function p(E){s.$$.not_equal(i.ENABLE_MESSAGE_RATING,E)&&(i.ENABLE_MESSAGE_RATING=E,t(0,i))}function y(){i.JWT_EXPIRES_IN=this.value,t(0,i)}function k(){c=this.value,t(1,c)}const w=async()=>{f()};return s.$$set=E=>{"saveHandler"in E&&t(5,o=E.saveHandler)},[i,c,l,a,f,o,v,b,g,m,p,y,k,w]}class So extends _l{constructor(e){super(),vl(this,e,Vo,Ao,hl,{saveHandler:5})}}function Lr(s,e,t){const l=s.slice();return l[18]=e[t],l[19]=e,l[20]=t,l}function Nr(s,e,t){const l=s.slice();return l[21]=e[t],l}function Ur(s,e,t){const l=s.slice();return l[21]=e[t],l}function Mo(s){let e,t,l,a,o=s[5].t("Don't Allow")+"",i;return{c(){e=bt("svg"),t=bt("path"),l=D(),a=d("span"),i=O(o),this.h()},l(c){e=Et(c,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var f=_(e);t=Et(f,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),_(t).forEach(u),f.forEach(u),l=A(c),a=h(c,"SPAN",{class:!0});var v=_(a);i=P(v,o),v.forEach(u),this.h()},h(){n(t,"fill-rule","evenodd"),n(t,"d","M8 1a3.5 3.5 0 0 0-3.5 3.5V7A1.5 1.5 0 0 0 3 8.5v5A1.5 1.5 0 0 0 4.5 15h7a1.5 1.5 0 0 0 1.5-1.5v-5A1.5 1.5 0 0 0 11.5 7V4.5A3.5 3.5 0 0 0 8 1Zm2 6V4.5a2 2 0 1 0-4 0V7h4Z"),n(t,"clip-rule","evenodd"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"viewBox","0 0 16 16"),n(e,"fill","currentColor"),n(e,"class","w-4 h-4"),n(a,"class","ml-2 self-center")},m(c,f){M(c,e,f),r(e,t),M(c,l,f),M(c,a,f),r(a,i)},p(c,f){f&32&&o!==(o=c[5].t("Don't Allow")+"")&&U(i,o)},d(c){c&&(u(e),u(l),u(a))}}}function Oo(s){let e,t,l,a,o=s[5].t("Allow")+"",i;return{c(){e=bt("svg"),t=bt("path"),l=D(),a=d("span"),i=O(o),this.h()},l(c){e=Et(c,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var f=_(e);t=Et(f,"path",{d:!0}),_(t).forEach(u),f.forEach(u),l=A(c),a=h(c,"SPAN",{class:!0});var v=_(a);i=P(v,o),v.forEach(u),this.h()},h(){n(t,"d","M11.5 1A3.5 3.5 0 0 0 8 4.5V7H2.5A1.5 1.5 0 0 0 1 8.5v5A1.5 1.5 0 0 0 2.5 15h7a1.5 1.5 0 0 0 1.5-1.5v-5A1.5 1.5 0 0 0 9.5 7V4.5a2 2 0 1 1 4 0v1.75a.75.75 0 0 0 1.5 0V4.5A3.5 3.5 0 0 0 11.5 1Z"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"viewBox","0 0 16 16"),n(e,"fill","currentColor"),n(e,"class","w-4 h-4"),n(a,"class","ml-2 self-center")},m(c,f){M(c,e,f),r(e,t),M(c,l,f),M(c,a,f),r(a,i)},p(c,f){f&32&&o!==(o=c[5].t("Allow")+"")&&U(i,o)},d(c){c&&(u(e),u(l),u(a))}}}function Po(s){let e,t,l,a,o=s[5].t("Don't Allow")+"",i;return{c(){e=bt("svg"),t=bt("path"),l=D(),a=d("span"),i=O(o),this.h()},l(c){e=Et(c,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var f=_(e);t=Et(f,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),_(t).forEach(u),f.forEach(u),l=A(c),a=h(c,"SPAN",{class:!0});var v=_(a);i=P(v,o),v.forEach(u),this.h()},h(){n(t,"fill-rule","evenodd"),n(t,"d","M8 1a3.5 3.5 0 0 0-3.5 3.5V7A1.5 1.5 0 0 0 3 8.5v5A1.5 1.5 0 0 0 4.5 15h7a1.5 1.5 0 0 0 1.5-1.5v-5A1.5 1.5 0 0 0 11.5 7V4.5A3.5 3.5 0 0 0 8 1Zm2 6V4.5a2 2 0 1 0-4 0V7h4Z"),n(t,"clip-rule","evenodd"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"viewBox","0 0 16 16"),n(e,"fill","currentColor"),n(e,"class","w-4 h-4"),n(a,"class","ml-2 self-center")},m(c,f){M(c,e,f),r(e,t),M(c,l,f),M(c,a,f),r(a,i)},p(c,f){f&32&&o!==(o=c[5].t("Don't Allow")+"")&&U(i,o)},d(c){c&&(u(e),u(l),u(a))}}}function Lo(s){let e,t,l,a,o=s[5].t("Allow")+"",i;return{c(){e=bt("svg"),t=bt("path"),l=D(),a=d("span"),i=O(o),this.h()},l(c){e=Et(c,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var f=_(e);t=Et(f,"path",{d:!0}),_(t).forEach(u),f.forEach(u),l=A(c),a=h(c,"SPAN",{class:!0});var v=_(a);i=P(v,o),v.forEach(u),this.h()},h(){n(t,"d","M11.5 1A3.5 3.5 0 0 0 8 4.5V7H2.5A1.5 1.5 0 0 0 1 8.5v5A1.5 1.5 0 0 0 2.5 15h7a1.5 1.5 0 0 0 1.5-1.5v-5A1.5 1.5 0 0 0 9.5 7V4.5a2 2 0 1 1 4 0v1.75a.75.75 0 0 0 1.5 0V4.5A3.5 3.5 0 0 0 11.5 1Z"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"viewBox","0 0 16 16"),n(e,"fill","currentColor"),n(e,"class","w-4 h-4"),n(a,"class","ml-2 self-center")},m(c,f){M(c,e,f),r(e,t),M(c,l,f),M(c,a,f),r(a,i)},p(c,f){f&32&&o!==(o=c[5].t("Allow")+"")&&U(i,o)},d(c){c&&(u(e),u(l),u(a))}}}function No(s){let e,t,l,a,o=s[5].t("Don't Allow")+"",i;return{c(){e=bt("svg"),t=bt("path"),l=D(),a=d("span"),i=O(o),this.h()},l(c){e=Et(c,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var f=_(e);t=Et(f,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),_(t).forEach(u),f.forEach(u),l=A(c),a=h(c,"SPAN",{class:!0});var v=_(a);i=P(v,o),v.forEach(u),this.h()},h(){n(t,"fill-rule","evenodd"),n(t,"d","M8 1a3.5 3.5 0 0 0-3.5 3.5V7A1.5 1.5 0 0 0 3 8.5v5A1.5 1.5 0 0 0 4.5 15h7a1.5 1.5 0 0 0 1.5-1.5v-5A1.5 1.5 0 0 0 11.5 7V4.5A3.5 3.5 0 0 0 8 1Zm2 6V4.5a2 2 0 1 0-4 0V7h4Z"),n(t,"clip-rule","evenodd"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"viewBox","0 0 16 16"),n(e,"fill","currentColor"),n(e,"class","w-4 h-4"),n(a,"class","ml-2 self-center")},m(c,f){M(c,e,f),r(e,t),M(c,l,f),M(c,a,f),r(a,i)},p(c,f){f&32&&o!==(o=c[5].t("Don't Allow")+"")&&U(i,o)},d(c){c&&(u(e),u(l),u(a))}}}function Uo(s){let e,t,l,a,o=s[5].t("Allow")+"",i;return{c(){e=bt("svg"),t=bt("path"),l=D(),a=d("span"),i=O(o),this.h()},l(c){e=Et(c,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var f=_(e);t=Et(f,"path",{d:!0}),_(t).forEach(u),f.forEach(u),l=A(c),a=h(c,"SPAN",{class:!0});var v=_(a);i=P(v,o),v.forEach(u),this.h()},h(){n(t,"d","M11.5 1A3.5 3.5 0 0 0 8 4.5V7H2.5A1.5 1.5 0 0 0 1 8.5v5A1.5 1.5 0 0 0 2.5 15h7a1.5 1.5 0 0 0 1.5-1.5v-5A1.5 1.5 0 0 0 9.5 7V4.5a2 2 0 1 1 4 0v1.75a.75.75 0 0 0 1.5 0V4.5A3.5 3.5 0 0 0 11.5 1Z"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"viewBox","0 0 16 16"),n(e,"fill","currentColor"),n(e,"class","w-4 h-4"),n(a,"class","ml-2 self-center")},m(c,f){M(c,e,f),r(e,t),M(c,l,f),M(c,a,f),r(a,i)},p(c,f){f&32&&o!==(o=c[5].t("Allow")+"")&&U(i,o)},d(c){c&&(u(e),u(l),u(a))}}}function Cr(s){let e,t=s[21].name+"",l,a;return{c(){e=d("option"),l=O(t),this.h()},l(o){e=h(o,"OPTION",{class:!0});var i=_(e);l=P(i,t),i.forEach(u),this.h()},h(){e.__value=a=s[21].id,Q(e,e.__value),n(e,"class","bg-gray-100 dark:bg-gray-700")},m(o,i){M(o,e,i),r(e,l)},p(o,i){i&64&&t!==(t=o[21].name+"")&&U(l,t),i&64&&a!==(a=o[21].id)&&(e.__value=a,Q(e,e.__value))},d(o){o&&u(e)}}}function Rr(s){let e,t,l,a,o,i=s[3].length+"",c,f,v=s[5].t("Model(s) Whitelisted")+"",b,g=ot(s[3]),m=[];for(let p=0;p<g.length;p+=1)m[p]=Br(Lr(s,g,p));return{c(){e=d("div"),t=d("div");for(let p=0;p<m.length;p+=1)m[p].c();l=D(),a=d("div"),o=d("div"),c=O(i),f=D(),b=O(v),this.h()},l(p){e=h(p,"DIV",{});var y=_(e);t=h(y,"DIV",{class:!0});var k=_(t);for(let I=0;I<m.length;I+=1)m[I].l(k);k.forEach(u),l=A(y),a=h(y,"DIV",{class:!0});var w=_(a);o=h(w,"DIV",{class:!0});var E=_(o);c=P(E,i),f=A(E),b=P(E,v),E.forEach(u),w.forEach(u),y.forEach(u),this.h()},h(){n(t,"class","space-y-1.5"),n(o,"class","text-xs font-medium"),n(a,"class","flex justify-end items-center text-xs mt-1.5 text-right")},m(p,y){M(p,e,y),r(e,t);for(let k=0;k<m.length;k+=1)m[k]&&m[k].m(t,null);r(e,l),r(e,a),r(a,o),r(o,c),r(o,f),r(o,b)},p(p,y){if(y&104){g=ot(p[3]);let k;for(k=0;k<g.length;k+=1){const w=Lr(p,g,k);m[k]?m[k].p(w,y):(m[k]=Br(w),m[k].c(),m[k].m(t,null))}for(;k<m.length;k+=1)m[k].d(1);m.length=g.length}y&8&&i!==(i=p[3].length+"")&&U(c,i),y&32&&v!==(v=p[5].t("Model(s) Whitelisted")+"")&&U(b,v)},d(p){p&&u(e),Zt(m,p)}}}function Hr(s){let e,t=s[21].name+"",l,a;return{c(){e=d("option"),l=O(t),this.h()},l(o){e=h(o,"OPTION",{class:!0});var i=_(e);l=P(i,t),i.forEach(u),this.h()},h(){e.__value=a=s[21].id,Q(e,e.__value),n(e,"class","bg-gray-100 dark:bg-gray-700")},m(o,i){M(o,e,i),r(e,l)},p(o,i){i&64&&t!==(t=o[21].name+"")&&U(l,t),i&64&&a!==(a=o[21].id)&&(e.__value=a,Q(e,e.__value))},d(o){o&&u(e)}}}function Co(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M3.75 7.25a.75.75 0 0 0 0 1.5h8.5a.75.75 0 0 0 0-1.5h-8.5Z"></path></svg>',l,a;function o(){return s[15](s[20])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(i){e=h(i,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ct(e)!=="svelte-l44j0v"&&(e.innerHTML=t),this.h()},h(){n(e,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-900 dark:text-white rounded-lg transition"),n(e,"type","button")},m(i,c){M(i,e,c),l||(a=le(e,"click",o),l=!0)},p(i,c){s=i},d(i){i&&u(e),l=!1,a()}}}function Ro(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8.75 3.75a.75.75 0 0 0-1.5 0v3.5h-3.5a.75.75 0 0 0 0 1.5h3.5v3.5a.75.75 0 0 0 1.5 0v-3.5h3.5a.75.75 0 0 0 0-1.5h-3.5v-3.5Z"></path></svg>',l,a;return{c(){e=d("button"),e.innerHTML=t,this.h()},l(o){e=h(o,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ct(e)!=="svelte-1gajka4"&&(e.innerHTML=t),this.h()},h(){n(e,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-900 dark:text-white rounded-lg transition"),n(e,"type","button")},m(o,i){M(o,e,i),l||(a=le(e,"click",s[14]),l=!0)},p:_t,d(o){o&&u(e),l=!1,a()}}}function Br(s){let e,t,l,a,o=s[5].t("Select a model")+"",i,c,f,v,b,g=ot(s[6].filter(jr)),m=[];for(let E=0;E<g.length;E+=1)m[E]=Hr(Nr(s,g,E));function p(){s[13].call(l,s[19],s[20])}function y(E,I){return E[20]===0?Ro:Co}let w=y(s)(s);return{c(){e=d("div"),t=d("div"),l=d("select"),a=d("option"),i=O(o);for(let E=0;E<m.length;E+=1)m[E].c();c=D(),w.c(),f=D(),this.h()},l(E){e=h(E,"DIV",{class:!0});var I=_(e);t=h(I,"DIV",{class:!0});var T=_(t);l=h(T,"SELECT",{class:!0,placeholder:!0});var V=_(l);a=h(V,"OPTION",{});var S=_(a);i=P(S,o),S.forEach(u);for(let H=0;H<m.length;H+=1)m[H].l(V);V.forEach(u),T.forEach(u),c=A(I),w.l(I),f=A(I),I.forEach(u),this.h()},h(){a.__value="",Q(a,a.__value),a.disabled=!0,a.selected=!0,n(l,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(l,"placeholder","Select a model"),s[18]===void 0&&Yt(p),n(t,"class","flex-1 mr-2"),n(e,"class","flex w-full")},m(E,I){M(E,e,I),r(e,t),r(t,l),r(l,a),r(a,i);for(let T=0;T<m.length;T+=1)m[T]&&m[T].m(l,null);pt(l,s[18],!0),r(e,c),w.m(e,null),r(e,f),v||(b=le(l,"change",p),v=!0)},p(E,I){if(s=E,I&32&&o!==(o=s[5].t("Select a model")+"")&&U(i,o),I&64){g=ot(s[6].filter(jr));let T;for(T=0;T<g.length;T+=1){const V=Nr(s,g,T);m[T]?m[T].p(V,I):(m[T]=Hr(V),m[T].c(),m[T].m(l,null))}for(;T<m.length;T+=1)m[T].d(1);m.length=g.length}I&72&&pt(l,s[18]),w.p(s,I)},d(E){E&&u(e),Zt(m,E),w.d(),v=!1,b()}}}function Ho(s){let e,t,l,a,o=s[5].t("User Permissions")+"",i,c,f,v,b=s[5].t("Allow Chat Deletion")+"",g,m,p,y,k,w,E=s[5].t("Allow Chat Editing")+"",I,T,V,S,H,L,F=s[5].t("Allow Temporary Chat")+"",x,R,J,j,B,G,N,C,W,Y,ee,K=s[5].t("Manage Models")+"",$,q,z,ce,ne,ge,me=s[5].t("Default Model")+"",Oe,qe,Ve,Te,je,be=s[5].t("Select a model")+"",Me,fe,ye,Ze,Ce,Pe,et=s[5].t("Model Whitelisting")+"",Ne,He,Xe,de,Se,ve,oe,Ee,ae=s[5].t("Save")+"",ke,ze,De,he;function ue(ie,X){var Z,se;return((se=(Z=ie[4])==null?void 0:Z.chat)==null?void 0:se.deletion)??!0?Oo:Mo}let Ue=ue(s),We=Ue(s);function Fe(ie,X){var Z,se;return((se=(Z=ie[4])==null?void 0:Z.chat)==null?void 0:se.editing)??!0?Lo:Po}let Ke=Fe(s),ut=Ke(s);function nt(ie,X){var Z,se;return((se=(Z=ie[4])==null?void 0:Z.chat)==null?void 0:se.temporary)??!0?Uo:No}let it=nt(s),Je=it(s),Ye=ot(s[6].filter($r)),we=[];for(let ie=0;ie<Ye.length;ie+=1)we[ie]=Cr(Ur(s,Ye,ie));function ft(ie){s[12](ie)}let xe={};s[2]!==void 0&&(xe.state=s[2]),Xe=new Vl({props:xe}),Ct.push(()=>jt(Xe,"state",ft));let Be=s[2]&&Rr(s);return{c(){e=d("form"),t=d("div"),l=d("div"),a=d("div"),i=O(o),c=D(),f=d("div"),v=d("div"),g=O(b),m=D(),p=d("button"),We.c(),y=D(),k=d("div"),w=d("div"),I=O(E),T=D(),V=d("button"),ut.c(),S=D(),H=d("div"),L=d("div"),x=O(F),R=D(),J=d("button"),Je.c(),j=D(),B=d("hr"),G=D(),N=d("div"),C=d("div"),W=d("div"),Y=d("div"),ee=d("div"),$=O(K),q=D(),z=d("div"),ce=d("div"),ne=d("div"),ge=d("div"),Oe=O(me),qe=D(),Ve=d("div"),Te=d("select"),je=d("option"),Me=O(be);for(let ie=0;ie<we.length;ie+=1)we[ie].c();fe=D(),ye=d("div"),Ze=d("div"),Ce=d("div"),Pe=d("div"),Ne=O(et),He=D(),tt(Xe.$$.fragment),Se=D(),Be&&Be.c(),ve=D(),oe=d("div"),Ee=d("button"),ke=O(ae),this.h()},l(ie){e=h(ie,"FORM",{class:!0});var X=_(e);t=h(X,"DIV",{class:!0});var Z=_(t);l=h(Z,"DIV",{});var se=_(l);a=h(se,"DIV",{class:!0});var _e=_(a);i=P(_e,o),_e.forEach(u),c=A(se),f=h(se,"DIV",{class:!0});var Ge=_(f);v=h(Ge,"DIV",{class:!0});var gt=_(v);g=P(gt,b),gt.forEach(u),m=A(Ge),p=h(Ge,"BUTTON",{class:!0,type:!0});var Tt=_(p);We.l(Tt),Tt.forEach(u),Ge.forEach(u),y=A(se),k=h(se,"DIV",{class:!0});var Dt=_(k);w=h(Dt,"DIV",{class:!0});var St=_(w);I=P(St,E),St.forEach(u),T=A(Dt),V=h(Dt,"BUTTON",{class:!0,type:!0});var Pt=_(V);ut.l(Pt),Pt.forEach(u),Dt.forEach(u),S=A(se),H=h(se,"DIV",{class:!0});var Rt=_(H);L=h(Rt,"DIV",{class:!0});var Mt=_(L);x=P(Mt,F),Mt.forEach(u),R=A(Rt),J=h(Rt,"BUTTON",{class:!0,type:!0});var Le=_(J);Je.l(Le),Le.forEach(u),Rt.forEach(u),se.forEach(u),j=A(Z),B=h(Z,"HR",{class:!0}),G=A(Z),N=h(Z,"DIV",{class:!0});var Ie=_(N);C=h(Ie,"DIV",{});var It=_(C);W=h(It,"DIV",{class:!0});var At=_(W);Y=h(At,"DIV",{class:!0});var Ht=_(Y);ee=h(Ht,"DIV",{class:!0});var vt=_(ee);$=P(vt,K),vt.forEach(u),Ht.forEach(u),At.forEach(u),q=A(It),z=h(It,"DIV",{class:!0});var ht=_(z);ce=h(ht,"DIV",{class:!0});var mt=_(ce);ne=h(mt,"DIV",{class:!0});var rt=_(ne);ge=h(rt,"DIV",{class:!0});var Nt=_(ge);Oe=P(Nt,me),Nt.forEach(u),rt.forEach(u),mt.forEach(u),qe=A(ht),Ve=h(ht,"DIV",{class:!0});var Ut=_(Ve);Te=h(Ut,"SELECT",{class:!0,placeholder:!0});var Wt=_(Te);je=h(Wt,"OPTION",{});var Ot=_(je);Me=P(Ot,be),Ot.forEach(u);for(let Jt=0;Jt<we.length;Jt+=1)we[Jt].l(Wt);Wt.forEach(u),Ut.forEach(u),ht.forEach(u),fe=A(It),ye=h(It,"DIV",{class:!0});var Lt=_(ye);Ze=h(Lt,"DIV",{class:!0});var Re=_(Ze);Ce=h(Re,"DIV",{class:!0});var Qe=_(Ce);Pe=h(Qe,"DIV",{class:!0});var dt=_(Pe);Ne=P(dt,et),dt.forEach(u),He=A(Qe),lt(Xe.$$.fragment,Qe),Qe.forEach(u),Re.forEach(u),Se=A(Lt),Be&&Be.l(Lt),Lt.forEach(u),It.forEach(u),Ie.forEach(u),Z.forEach(u),ve=A(X),oe=h(X,"DIV",{class:!0});var Qt=_(oe);Ee=h(Qt,"BUTTON",{class:!0,type:!0});var Bt=_(Ee);ke=P(Bt,ae),Bt.forEach(u),Qt.forEach(u),X.forEach(u),this.h()},h(){n(a,"class","mb-2 text-sm font-medium"),n(v,"class","self-center text-xs font-medium"),n(p,"class","p-1 px-3 text-xs flex rounded transition"),n(p,"type","button"),n(f,"class","flex w-full justify-between"),n(w,"class","self-center text-xs font-medium"),n(V,"class","p-1 px-3 text-xs flex rounded transition"),n(V,"type","button"),n(k,"class","flex w-full justify-between"),n(L,"class","self-center text-xs font-medium"),n(J,"class","p-1 px-3 text-xs flex rounded transition"),n(J,"type","button"),n(H,"class","flex w-full justify-between"),n(B,"class","dark:border-gray-850 my-2"),n(ee,"class","text-sm font-medium"),n(Y,"class","flex justify-between items-center text-xs"),n(W,"class","mb-2"),n(ge,"class","text-xs font-medium"),n(ne,"class","flex justify-between items-center text-xs"),n(ce,"class","mb-2"),je.__value="",Q(je,je.__value),je.disabled=!0,je.selected=!0,n(Te,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(Te,"placeholder","Select a model"),s[1]===void 0&&Yt(()=>s[11].call(Te)),n(Ve,"class","flex-1 mr-2"),n(z,"class","space-y-1 mb-3"),n(Pe,"class","text-xs font-medium"),n(Ce,"class","flex justify-between items-center text-xs"),n(Ze,"class","mb-2"),n(ye,"class","space-y-1"),n(N,"class","mt-2 space-y-3"),n(t,"class","space-y-3 overflow-y-scroll max-h-full"),n(Ee,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),n(Ee,"type","submit"),n(oe,"class","flex justify-end pt-3 text-sm font-medium"),n(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(ie,X){M(ie,e,X),r(e,t),r(t,l),r(l,a),r(a,i),r(l,c),r(l,f),r(f,v),r(v,g),r(f,m),r(f,p),We.m(p,null),r(l,y),r(l,k),r(k,w),r(w,I),r(k,T),r(k,V),ut.m(V,null),r(l,S),r(l,H),r(H,L),r(L,x),r(H,R),r(H,J),Je.m(J,null),r(t,j),r(t,B),r(t,G),r(t,N),r(N,C),r(C,W),r(W,Y),r(Y,ee),r(ee,$),r(C,q),r(C,z),r(z,ce),r(ce,ne),r(ne,ge),r(ge,Oe),r(z,qe),r(z,Ve),r(Ve,Te),r(Te,je),r(je,Me);for(let Z=0;Z<we.length;Z+=1)we[Z]&&we[Z].m(Te,null);pt(Te,s[1],!0),r(C,fe),r(C,ye),r(ye,Ze),r(Ze,Ce),r(Ce,Pe),r(Pe,Ne),r(Ce,He),st(Xe,Ce,null),r(ye,Se),Be&&Be.m(ye,null),r(e,ve),r(e,oe),r(oe,Ee),r(Ee,ke),ze=!0,De||(he=[le(p,"click",s[8]),le(V,"click",s[9]),le(J,"click",s[10]),le(Te,"change",s[11]),le(e,"submit",Ml(s[16]))],De=!0)},p(ie,[X]){if((!ze||X&32)&&o!==(o=ie[5].t("User Permissions")+"")&&U(i,o),(!ze||X&32)&&b!==(b=ie[5].t("Allow Chat Deletion")+"")&&U(g,b),Ue===(Ue=ue(ie))&&We?We.p(ie,X):(We.d(1),We=Ue(ie),We&&(We.c(),We.m(p,null))),(!ze||X&32)&&E!==(E=ie[5].t("Allow Chat Editing")+"")&&U(I,E),Ke===(Ke=Fe(ie))&&ut?ut.p(ie,X):(ut.d(1),ut=Ke(ie),ut&&(ut.c(),ut.m(V,null))),(!ze||X&32)&&F!==(F=ie[5].t("Allow Temporary Chat")+"")&&U(x,F),it===(it=nt(ie))&&Je?Je.p(ie,X):(Je.d(1),Je=it(ie),Je&&(Je.c(),Je.m(J,null))),(!ze||X&32)&&K!==(K=ie[5].t("Manage Models")+"")&&U($,K),(!ze||X&32)&&me!==(me=ie[5].t("Default Model")+"")&&U(Oe,me),(!ze||X&32)&&be!==(be=ie[5].t("Select a model")+"")&&U(Me,be),X&64){Ye=ot(ie[6].filter($r));let se;for(se=0;se<Ye.length;se+=1){const _e=Ur(ie,Ye,se);we[se]?we[se].p(_e,X):(we[se]=Cr(_e),we[se].c(),we[se].m(Te,null))}for(;se<we.length;se+=1)we[se].d(1);we.length=Ye.length}X&66&&pt(Te,ie[1]),(!ze||X&32)&&et!==(et=ie[5].t("Model Whitelisting")+"")&&U(Ne,et);const Z={};!de&&X&4&&(de=!0,Z.state=ie[2],$t(()=>de=!1)),Xe.$set(Z),ie[2]?Be?Be.p(ie,X):(Be=Rr(ie),Be.c(),Be.m(ye,null)):Be&&(Be.d(1),Be=null),(!ze||X&32)&&ae!==(ae=ie[5].t("Save")+"")&&U(ke,ae)},i(ie){ze||(te(Xe.$$.fragment,ie),ze=!0)},o(ie){re(Xe.$$.fragment,ie),ze=!1},d(ie){ie&&u(e),We.d(),ut.d(),Je.d(),Zt(we,ie),at(Xe),Be&&Be.d(),De=!1,Kt(he)}}}const $r=s=>s.id,jr=s=>s.id;function Bo(s,e,t){let l,a,o;zt(s,Ul,S=>t(17,l=S)),zt(s,nl,S=>t(6,o=S));const i=bl("i18n");zt(s,i,S=>t(5,a=S));let{saveHandler:c}=e,f="",v=!1,b=[""],g={chat:{deletion:!0,edit:!0,temporary:!0}};El(async()=>{t(4,g=await Oi(localStorage.token));const S=await Ui(localStorage.token);S&&(t(2,v=S.enabled),t(3,b=S.models.length>0?S.models:[""])),t(1,f=l.default_models?l==null?void 0:l.default_models.split(",")[0]:"")});const m=()=>{var S;t(4,g.chat.deletion=!(((S=g==null?void 0:g.chat)==null?void 0:S.deletion)??!0),g)},p=()=>{var S;t(4,g.chat.editing=!(((S=g==null?void 0:g.chat)==null?void 0:S.editing)??!0),g)},y=()=>{var S;t(4,g.chat.temporary=!(((S=g==null?void 0:g.chat)==null?void 0:S.temporary)??!0),g)};function k(){f=qt(this),t(1,f)}function w(S){v=S,t(2,v)}function E(S,H){S[H]=qt(this),t(3,b)}const I=()=>{b.at(-1)!==""&&t(3,b=[...b,""])},T=S=>{b.splice(S,1),t(3,b)},V=async()=>{await Yi(localStorage.token,f),await Pi(localStorage.token,g),await Ci(localStorage.token,v,b),c(),await Ul.set(await es())};return s.$$set=S=>{"saveHandler"in S&&t(0,c=S.saveHandler)},[c,f,v,b,g,a,o,i,m,p,y,k,w,E,I,T,V]}class $o extends _l{constructor(e){super(),vl(this,e,Bo,Ho,hl,{saveHandler:0})}}function Zr(s,e,t){const l=s.slice();return l[34]=e[t],l[35]=e,l[36]=t,l}function Gr(s,e,t){const l=s.slice();return l[37]=e[t],l}function Kr(s,e,t){const l=s.slice();return l[40]=e[t],l[36]=t,l}function Wr(s,e,t){const l=s.slice();return l[10]=e[t],l[36]=t,l}function jo(s){let e,t,l,a;return l=new bs({props:{className:"size-6"}}),{c(){e=d("div"),t=d("div"),tt(l.$$.fragment),this.h()},l(o){e=h(o,"DIV",{class:!0});var i=_(e);t=h(i,"DIV",{class:!0});var c=_(t);lt(l.$$.fragment,c),c.forEach(u),i.forEach(u),this.h()},h(){n(t,"class","my-auto"),n(e,"class","flex justify-center h-full")},m(o,i){M(o,e,i),r(e,t),st(l,t,null),a=!0},p:_t,i(o){a||(te(l.$$.fragment,o),a=!0)},o(o){re(l.$$.fragment,o),a=!1},d(o){o&&u(e),at(l)}}}function Zo(s){let e,t,l=s[9].t("Manage Pipelines")+"",a,o,i,c,f,v;const b=[Ko,Go],g=[];function m(p,y){return p[3].length>0?0:1}return i=m(s),c=g[i]=b[i](s),{c(){e=d("div"),t=d("div"),a=O(l),o=D(),c.c(),f=Gt(),this.h()},l(p){e=h(p,"DIV",{class:!0});var y=_(e);t=h(y,"DIV",{class:!0});var k=_(t);a=P(k,l),k.forEach(u),y.forEach(u),o=A(p),c.l(p),f=Gt(),this.h()},h(){n(t,"class","self-center text-sm font-semibold"),n(e,"class","flex w-full justify-between mb-2")},m(p,y){M(p,e,y),r(e,t),r(t,a),M(p,o,y),g[i].m(p,y),M(p,f,y),v=!0},p(p,y){(!v||y[0]&512)&&l!==(l=p[9].t("Manage Pipelines")+"")&&U(a,l);let k=i;i=m(p),i===k?g[i].p(p,y):(wt(),re(g[k],1,1,()=>{g[k]=null}),yt(),c=g[i],c?c.p(p,y):(c=g[i]=b[i](p),c.c()),te(c,1),c.m(f.parentNode,f))},i(p){v||(te(c),v=!0)},o(p){re(c),v=!1},d(p){p&&(u(e),u(o),u(f)),g[i].d(p)}}}function Go(s){let e,t=s[9].t("Pipelines Not Detected")+"",l;return{c(){e=d("div"),l=O(t)},l(a){e=h(a,"DIV",{});var o=_(e);l=P(o,t),o.forEach(u)},m(a,o){M(a,e,o),r(e,l)},p(a,o){o[0]&512&&t!==(t=a[9].t("Pipelines Not Detected")+"")&&U(l,t)},i:_t,o:_t,d(a){a&&u(e)}}}function Ko(s){let e,t,l,a,o,i=s[9].t("Select a pipeline url")+"",c,f,v,b,g,m=s[9].t("Upload Pipeline")+"",p,y,k,w,E,I,T,V,S,H,L,F,x=s[9].t("Install from Github URL")+"",R,J,j,B,G,N,C,W,Y,ee,K=`<span class="font-semibold dark:text-gray-200">Warning:</span> Pipelines are a plugin
						system with arbitrary code execution â€”
						<span class="font-medium dark:text-gray-400">don&#39;t fetch random pipelines from sources you don&#39;t trust.</span>`,$,q,z,ce,ne,ge,me,Oe,qe,Ve=ot(s[3]),Te=[];for(let de=0;de<Ve.length;de+=1)Te[de]=zr(Wr(s,Ve,de));function je(de,Se){return de[2]?zo:Wo}let be=je(s),Me=be(s);function fe(de,Se){return de[1]?qo:Fo}let ye=fe(s),Ze=ye(s);function Ce(de,Se){return de[0]?Qo:Yo}let Pe=Ce(s),et=Pe(s);const Ne=[Xo,Jo],He=[];function Xe(de,Se){return de[10]!==null?0:1}return ce=Xe(s),ne=He[ce]=Ne[ce](s),{c(){e=d("div"),t=d("div"),l=d("div"),a=d("select"),o=d("option"),c=O(i);for(let de=0;de<Te.length;de+=1)Te[de].c();v=D(),b=d("div"),g=d("div"),p=O(m),y=D(),k=d("div"),w=d("div"),E=d("input"),I=D(),T=d("button"),Me.c(),V=D(),S=d("button"),Ze.c(),H=D(),L=d("div"),F=d("div"),R=O(x),J=D(),j=d("div"),B=d("div"),G=d("input"),C=D(),W=d("button"),et.c(),Y=D(),ee=d("div"),ee.innerHTML=K,$=D(),q=d("hr"),z=D(),ne.c(),ge=Gt(),this.h()},l(de){e=h(de,"DIV",{class:!0});var Se=_(e);t=h(Se,"DIV",{class:!0});var ve=_(t);l=h(ve,"DIV",{class:!0});var oe=_(l);a=h(oe,"SELECT",{class:!0,placeholder:!0});var Ee=_(a);o=h(Ee,"OPTION",{class:!0});var ae=_(o);c=P(ae,i),ae.forEach(u);for(let it=0;it<Te.length;it+=1)Te[it].l(Ee);Ee.forEach(u),oe.forEach(u),ve.forEach(u),Se.forEach(u),v=A(de),b=h(de,"DIV",{class:!0});var ke=_(b);g=h(ke,"DIV",{class:!0});var ze=_(g);p=P(ze,m),ze.forEach(u),y=A(ke),k=h(ke,"DIV",{class:!0});var De=_(k);w=h(De,"DIV",{class:!0});var he=_(w);E=h(he,"INPUT",{id:!0,type:!0,accept:!0}),I=A(he),T=h(he,"BUTTON",{class:!0,type:!0});var ue=_(T);Me.l(ue),ue.forEach(u),he.forEach(u),V=A(De),S=h(De,"BUTTON",{class:!0,type:!0});var Ue=_(S);Ze.l(Ue),Ue.forEach(u),De.forEach(u),ke.forEach(u),H=A(de),L=h(de,"DIV",{class:!0});var We=_(L);F=h(We,"DIV",{class:!0});var Fe=_(F);R=P(Fe,x),Fe.forEach(u),J=A(We),j=h(We,"DIV",{class:!0});var Ke=_(j);B=h(Ke,"DIV",{class:!0});var ut=_(B);G=h(ut,"INPUT",{class:!0,placeholder:!0}),ut.forEach(u),C=A(Ke),W=h(Ke,"BUTTON",{class:!0,type:!0});var nt=_(W);et.l(nt),nt.forEach(u),Ke.forEach(u),Y=A(We),ee=h(We,"DIV",{class:!0,"data-svelte-h":!0}),ct(ee)!=="svelte-ob7r3n"&&(ee.innerHTML=K),We.forEach(u),$=A(de),q=h(de,"HR",{class:!0}),z=A(de),ne.l(de),ge=Gt(),this.h()},h(){o.__value="",Q(o,o.__value),o.selected=!0,o.disabled=!0,n(o,"class","bg-gray-100 dark:bg-gray-700"),n(a,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(a,"placeholder",f=s[9].t("Select a pipeline url")),s[4]===void 0&&Yt(()=>s[19].call(a)),n(l,"class","flex-1"),n(t,"class","flex gap-2"),n(e,"class","space-y-1"),n(g,"class","mb-2 text-sm font-medium"),n(E,"id","pipelines-upload-input"),n(E,"type","file"),n(E,"accept",".py"),E.hidden=!0,n(T,"class","w-full text-sm font-medium py-2 bg-transparent hover:bg-gray-100 border border-dashed dark:border-gray-800 dark:hover:bg-gray-850 text-center rounded-xl"),n(T,"type","button"),n(w,"class","flex-1 mr-2"),n(S,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),S.disabled=s[1],n(S,"type","button"),n(k,"class","flex w-full"),n(b,"class","my-2"),n(F,"class","mb-2 text-sm font-medium"),n(G,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(G,"placeholder",N=s[9].t("Enter Github Raw URL")),n(B,"class","flex-1 mr-2"),n(W,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),W.disabled=s[0],n(W,"type","button"),n(j,"class","flex w-full"),n(ee,"class","mt-2 text-xs text-gray-500"),n(L,"class","my-2"),n(q,"class","dark:border-gray-800 my-3 w-full")},m(de,Se){M(de,e,Se),r(e,t),r(t,l),r(l,a),r(a,o),r(o,c);for(let ve=0;ve<Te.length;ve+=1)Te[ve]&&Te[ve].m(a,null);pt(a,s[4],!0),M(de,v,Se),M(de,b,Se),r(b,g),r(g,p),r(b,y),r(b,k),r(k,w),r(w,E),r(w,I),r(w,T),Me.m(T,null),r(k,V),r(k,S),Ze.m(S,null),M(de,H,Se),M(de,L,Se),r(L,F),r(F,R),r(L,J),r(L,j),r(j,B),r(B,G),Q(G,s[8]),r(j,C),r(j,W),et.m(W,null),r(L,Y),r(L,ee),M(de,$,Se),M(de,q,Se),M(de,z,Se),He[ce].m(de,Se),M(de,ge,Se),me=!0,Oe||(qe=[le(a,"change",s[19]),le(a,"change",s[20]),le(E,"change",s[21]),le(T,"click",s[22]),le(S,"click",s[23]),le(G,"input",s[24]),le(W,"click",s[25])],Oe=!0)},p(de,Se){if((!me||Se[0]&512)&&i!==(i=de[9].t("Select a pipeline url")+"")&&U(c,i),Se[0]&8){Ve=ot(de[3]);let oe;for(oe=0;oe<Ve.length;oe+=1){const Ee=Wr(de,Ve,oe);Te[oe]?Te[oe].p(Ee,Se):(Te[oe]=zr(Ee),Te[oe].c(),Te[oe].m(a,null))}for(;oe<Te.length;oe+=1)Te[oe].d(1);Te.length=Ve.length}(!me||Se[0]&512&&f!==(f=de[9].t("Select a pipeline url")))&&n(a,"placeholder",f),Se[0]&24&&pt(a,de[4]),(!me||Se[0]&512)&&m!==(m=de[9].t("Upload Pipeline")+"")&&U(p,m),be===(be=je(de))&&Me?Me.p(de,Se):(Me.d(1),Me=be(de),Me&&(Me.c(),Me.m(T,null))),ye!==(ye=fe(de))&&(Ze.d(1),Ze=ye(de),Ze&&(Ze.c(),Ze.m(S,null))),(!me||Se[0]&2)&&(S.disabled=de[1]),(!me||Se[0]&512)&&x!==(x=de[9].t("Install from Github URL")+"")&&U(R,x),(!me||Se[0]&512&&N!==(N=de[9].t("Enter Github Raw URL")))&&n(G,"placeholder",N),Se[0]&256&&G.value!==de[8]&&Q(G,de[8]),Pe!==(Pe=Ce(de))&&(et.d(1),et=Pe(de),et&&(et.c(),et.m(W,null))),(!me||Se[0]&1)&&(W.disabled=de[0]);let ve=ce;ce=Xe(de),ce===ve?He[ce].p(de,Se):(wt(),re(He[ve],1,1,()=>{He[ve]=null}),yt(),ne=He[ce],ne?ne.p(de,Se):(ne=He[ce]=Ne[ce](de),ne.c()),te(ne,1),ne.m(ge.parentNode,ge))},i(de){me||(te(ne),me=!0)},o(de){re(ne),me=!1},d(de){de&&(u(e),u(v),u(b),u(H),u(L),u($),u(q),u(z),u(ge)),Zt(Te,de),Me.d(),Ze.d(),et.d(),He[ce].d(de),Oe=!1,Kt(qe)}}}function zr(s){let e,t=s[10].url+"",l,a;return{c(){e=d("option"),l=O(t),this.h()},l(o){e=h(o,"OPTION",{class:!0});var i=_(e);l=P(i,t),i.forEach(u),this.h()},h(){e.__value=a=s[10].idx.toString(),Q(e,e.__value),n(e,"class","bg-gray-100 dark:bg-gray-700")},m(o,i){M(o,e,i),r(e,l)},p(o,i){i[0]&8&&t!==(t=o[10].url+"")&&U(l,t),i[0]&8&&a!==(a=o[10].idx.toString())&&(e.__value=a,Q(e,e.__value))},d(o){o&&u(e)}}}function Wo(s){let e=s[9].t("Click here to select a py file.")+"",t;return{c(){t=O(e)},l(l){t=P(l,e)},m(l,a){M(l,t,a)},p(l,a){a[0]&512&&e!==(e=l[9].t("Click here to select a py file.")+"")&&U(t,e)},d(l){l&&u(t)}}}function zo(s){let e=s[2].length>0?`${s[2].length}`:"",t,l;return{c(){t=O(e),l=O(" pipeline(s) selected.")},l(a){t=P(a,e),l=P(a," pipeline(s) selected.")},m(a,o){M(a,t,o),M(a,l,o)},p(a,o){o[0]&4&&e!==(e=a[2].length>0?`${a[2].length}`:"")&&U(t,e)},d(a){a&&(u(t),u(l))}}}function Fo(s){let e,t,l;return{c(){e=bt("svg"),t=bt("path"),l=bt("path"),this.h()},l(a){e=Et(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var o=_(e);t=Et(o,"path",{d:!0}),_(t).forEach(u),l=Et(o,"path",{d:!0}),_(l).forEach(u),o.forEach(u),this.h()},h(){n(t,"d","M7.25 10.25a.75.75 0 0 0 1.5 0V4.56l2.22 2.22a.75.75 0 1 0 1.06-1.06l-3.5-3.5a.75.75 0 0 0-1.06 0l-3.5 3.5a.75.75 0 0 0 1.06 1.06l2.22-2.22v5.69Z"),n(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"viewBox","0 0 16 16"),n(e,"fill","currentColor"),n(e,"class","size-4")},m(a,o){M(a,e,o),r(e,t),r(e,l)},d(a){a&&u(e)}}}function qo(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}

											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),ct(e)!=="svelte-1x85grn"&&(e.innerHTML=t),this.h()},h(){n(e,"class","self-center")},m(l,a){M(l,e,a)},d(l){l&&u(e)}}}function Yo(s){let e,t,l;return{c(){e=bt("svg"),t=bt("path"),l=bt("path"),this.h()},l(a){e=Et(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var o=_(e);t=Et(o,"path",{d:!0}),_(t).forEach(u),l=Et(o,"path",{d:!0}),_(l).forEach(u),o.forEach(u),this.h()},h(){n(t,"d","M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"),n(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"viewBox","0 0 16 16"),n(e,"fill","currentColor"),n(e,"class","w-4 h-4")},m(a,o){M(a,e,o),r(e,t),r(e,l)},d(a){a&&u(e)}}}function Qo(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}

											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),ct(e)!=="svelte-1x85grn"&&(e.innerHTML=t),this.h()},h(){n(e,"class","self-center")},m(l,a){M(l,e,a)},d(l){l&&u(e)}}}function Jo(s){let e,t,l,a;return l=new bs({props:{className:"size-4"}}),{c(){e=d("div"),t=d("div"),tt(l.$$.fragment),this.h()},l(o){e=h(o,"DIV",{class:!0});var i=_(e);t=h(i,"DIV",{class:!0});var c=_(t);lt(l.$$.fragment,c),c.forEach(u),i.forEach(u),this.h()},h(){n(t,"class","my-auto"),n(e,"class","flex justify-center")},m(o,i){M(o,e,i),r(e,t),st(l,t,null),a=!0},p:_t,i(o){a||(te(l.$$.fragment,o),a=!0)},o(o){re(l.$$.fragment,o),a=!1},d(o){o&&u(e),at(l)}}}function Xo(s){let e,t,l,a;const o=[eu,xo],i=[];function c(f,v){return f[10].length>0?0:f[10].length===0?1:-1}return~(e=c(s))&&(t=i[e]=o[e](s)),{c(){t&&t.c(),l=Gt()},l(f){t&&t.l(f),l=Gt()},m(f,v){~e&&i[e].m(f,v),M(f,l,v),a=!0},p(f,v){let b=e;e=c(f),e===b?~e&&i[e].p(f,v):(t&&(wt(),re(i[b],1,1,()=>{i[b]=null}),yt()),~e?(t=i[e],t?t.p(f,v):(t=i[e]=o[e](f),t.c()),te(t,1),t.m(l.parentNode,l)):t=null)},i(f){a||(te(t),a=!0)},o(f){re(t),a=!1},d(f){f&&u(l),~e&&i[e].d(f)}}}function xo(s){let e,t="Pipelines Not Detected";return{c(){e=d("div"),e.textContent=t},l(l){e=h(l,"DIV",{"data-svelte-h":!0}),ct(e)!=="svelte-nrqgpw"&&(e.textContent=t)},m(l,a){M(l,e,a)},p:_t,i:_t,o:_t,d(l){l&&u(e)}}}function eu(s){let e,t,l=s[9].t("Pipelines Valves")+"",a,o,i,c,f,v,b,g,m=s[10].length>0&&Fr(s);const p=[lu,tu],y=[];function k(w,E){return w[10][w[7]].valves?0:1}return v=k(s),b=y[v]=p[v](s),{c(){e=d("div"),t=d("div"),a=O(l),o=D(),i=d("div"),m&&m.c(),c=D(),f=d("div"),b.c(),this.h()},l(w){e=h(w,"DIV",{class:!0});var E=_(e);t=h(E,"DIV",{class:!0});var I=_(t);a=P(I,l),I.forEach(u),E.forEach(u),o=A(w),i=h(w,"DIV",{class:!0});var T=_(i);m&&m.l(T),c=A(T),f=h(T,"DIV",{class:!0});var V=_(f);b.l(V),V.forEach(u),T.forEach(u),this.h()},h(){n(t,"class","self-center text-sm font-semibold"),n(e,"class","flex w-full justify-between mb-2"),n(f,"class","space-y-1"),n(i,"class","space-y-1")},m(w,E){M(w,e,E),r(e,t),r(t,a),M(w,o,E),M(w,i,E),m&&m.m(i,null),r(i,c),r(i,f),y[v].m(f,null),g=!0},p(w,E){(!g||E[0]&512)&&l!==(l=w[9].t("Pipelines Valves")+"")&&U(a,l),w[10].length>0?m?m.p(w,E):(m=Fr(w),m.c(),m.m(i,c)):m&&(m.d(1),m=null);let I=v;v=k(w),v===I?y[v].p(w,E):(wt(),re(y[I],1,1,()=>{y[I]=null}),yt(),b=y[v],b?b.p(w,E):(b=y[v]=p[v](w),b.c()),te(b,1),b.m(f,null))},i(w){g||(te(b),g=!0)},o(w){re(b),g=!1},d(w){w&&(u(e),u(o),u(i)),m&&m.d(),y[v].d()}}}function Fr(s){let e,t,l,a,o,i,c='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M5 3.25V4H2.75a.75.75 0 0 0 0 1.5h.3l.815 8.15A1.5 1.5 0 0 0 5.357 15h5.285a1.5 1.5 0 0 0 1.493-1.35l.815-8.15h.3a.75.75 0 0 0 0-1.5H11v-.75A2.25 2.25 0 0 0 8.75 1h-1.5A2.25 2.25 0 0 0 5 3.25Zm2.25-.75a.75.75 0 0 0-.75.75V4h3v-.75a.75.75 0 0 0-.75-.75h-1.5ZM6.05 6a.75.75 0 0 1 .787.713l.275 5.5a.75.75 0 0 1-1.498.075l-.275-5.5A.75.75 0 0 1 6.05 6Zm3.9 0a.75.75 0 0 1 .712.787l-.275 5.5a.75.75 0 0 1-1.498-.075l.275-5.5a.75.75 0 0 1 .786-.711Z" clip-rule="evenodd"></path></svg>',f,v,b=ot(s[10]),g=[];for(let m=0;m<b.length;m+=1)g[m]=qr(Kr(s,b,m));return{c(){e=d("div"),t=d("div"),l=d("select");for(let m=0;m<g.length;m+=1)g[m].c();o=D(),i=d("button"),i.innerHTML=c,this.h()},l(m){e=h(m,"DIV",{class:!0});var p=_(e);t=h(p,"DIV",{class:!0});var y=_(t);l=h(y,"SELECT",{class:!0,placeholder:!0});var k=_(l);for(let w=0;w<g.length;w+=1)g[w].l(k);k.forEach(u),y.forEach(u),o=A(p),i=h(p,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ct(i)!=="svelte-121ij38"&&(i.innerHTML=c),p.forEach(u),this.h()},h(){n(l,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(l,"placeholder",a=s[9].t("Select a pipeline")),s[7]===void 0&&Yt(()=>s[26].call(l)),n(t,"class","flex-1"),n(i,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),n(i,"type","button"),n(e,"class","flex gap-2")},m(m,p){M(m,e,p),r(e,t),r(t,l);for(let y=0;y<g.length;y+=1)g[y]&&g[y].m(l,null);pt(l,s[7],!0),r(e,o),r(e,i),f||(v=[le(l,"change",s[26]),le(l,"change",s[27]),le(i,"click",s[28])],f=!0)},p(m,p){if(p[0]&1024){b=ot(m[10]);let y;for(y=0;y<b.length;y+=1){const k=Kr(m,b,y);g[y]?g[y].p(k,p):(g[y]=qr(k),g[y].c(),g[y].m(l,null))}for(;y<g.length;y+=1)g[y].d(1);g.length=b.length}p[0]&512&&a!==(a=m[9].t("Select a pipeline"))&&n(l,"placeholder",a),p[0]&128&&pt(l,m[7])},d(m){m&&u(e),Zt(g,m),f=!1,Kt(v)}}}function qr(s){let e,t=s[40].name+"",l,a,o=(s[40].type??"pipe")+"",i,c;return{c(){e=d("option"),l=O(t),a=O(" ("),i=O(o),c=O(")"),this.h()},l(f){e=h(f,"OPTION",{class:!0});var v=_(e);l=P(v,t),a=P(v," ("),i=P(v,o),c=P(v,")"),v.forEach(u),this.h()},h(){e.__value=s[36],Q(e,e.__value),n(e,"class","bg-gray-100 dark:bg-gray-700")},m(f,v){M(f,e,v),r(e,l),r(e,a),r(e,i),r(e,c)},p(f,v){v[0]&1024&&t!==(t=f[40].name+"")&&U(l,t),v[0]&1024&&o!==(o=(f[40].type??"pipe")+"")&&U(i,o)},d(f){f&&u(e)}}}function tu(s){let e,t="No valves";return{c(){e=d("div"),e.textContent=t},l(l){e=h(l,"DIV",{"data-svelte-h":!0}),ct(e)!=="svelte-gfhjqw"&&(e.textContent=t)},m(l,a){M(l,e,a)},p:_t,i:_t,o:_t,d(l){l&&u(e)}}}function lu(s){let e,t,l,a;const o=[au,su],i=[];function c(f,v){return f[5]?0:1}return e=c(s),t=i[e]=o[e](s),{c(){t.c(),l=Gt()},l(f){t.l(f),l=Gt()},m(f,v){i[e].m(f,v),M(f,l,v),a=!0},p(f,v){let b=e;e=c(f),e===b?i[e].p(f,v):(wt(),re(i[b],1,1,()=>{i[b]=null}),yt(),t=i[e],t?t.p(f,v):(t=i[e]=o[e](f),t.c()),te(t,1),t.m(l.parentNode,l))},i(f){a||(te(t),a=!0)},o(f){re(t),a=!1},d(f){f&&u(l),i[e].d(f)}}}function su(s){let e,t;return e=new bs({props:{className:"size-5"}}),{c(){tt(e.$$.fragment)},l(l){lt(e.$$.fragment,l)},m(l,a){st(e,l,a),t=!0},p:_t,i(l){t||(te(e.$$.fragment,l),t=!0)},o(l){re(e.$$.fragment,l),t=!1},d(l){at(e,l)}}}function au(s){let e,t,l=ot(Object.keys(s[6].properties)),a=[];for(let i=0;i<l.length;i+=1)a[i]=Jr(Zr(s,l,i));const o=i=>re(a[i],1,1,()=>{a[i]=null});return{c(){for(let i=0;i<a.length;i+=1)a[i].c();e=Gt()},l(i){for(let c=0;c<a.length;c+=1)a[c].l(i);e=Gt()},m(i,c){for(let f=0;f<a.length;f+=1)a[f]&&a[f].m(i,c);M(i,e,c),t=!0},p(i,c){if(c[0]&608){l=ot(Object.keys(i[6].properties));let f;for(f=0;f<l.length;f+=1){const v=Zr(i,l,f);a[f]?(a[f].p(v,c),te(a[f],1)):(a[f]=Jr(v),a[f].c(),te(a[f],1),a[f].m(e.parentNode,e))}for(wt(),f=l.length;f<a.length;f+=1)o(f);yt()}},i(i){if(!t){for(let c=0;c<l.length;c+=1)te(a[c]);t=!0}},o(i){a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)re(a[c]);t=!1},d(i){i&&u(e),Zt(a,i)}}}function ru(s){let e,t=s[9].t("Custom")+"",l;return{c(){e=d("span"),l=O(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var o=_(e);l=P(o,t),o.forEach(u),this.h()},h(){n(e,"class","ml-2 self-center")},m(a,o){M(a,e,o),r(e,l)},p(a,o){o[0]&512&&t!==(t=a[9].t("Custom")+"")&&U(l,t)},d(a){a&&u(e)}}}function nu(s){let e,t=s[9].t("None")+"",l;return{c(){e=d("span"),l=O(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var o=_(e);l=P(o,t),o.forEach(u),this.h()},h(){n(e,"class","ml-2 self-center")},m(a,o){M(a,e,o),r(e,l)},p(a,o){o[0]&512&&t!==(t=a[9].t("None")+"")&&U(l,t)},d(a){a&&u(e)}}}function Yr(s){let e,t,l,a,o;const i=[uu,ou,iu],c=[];function f(v,b){var g,m;return((g=v[6].properties[v[34]])==null?void 0:g.enum)??null?0:(((m=v[6].properties[v[34]])==null?void 0:m.type)??null)==="boolean"?1:2}return l=f(s),a=c[l]=i[l](s),{c(){e=d("div"),t=d("div"),a.c(),this.h()},l(v){e=h(v,"DIV",{class:!0});var b=_(e);t=h(b,"DIV",{class:!0});var g=_(t);a.l(g),g.forEach(u),b.forEach(u),this.h()},h(){n(t,"class","flex-1"),n(e,"class","flex mt-0.5 mb-1.5 space-x-2")},m(v,b){M(v,e,b),r(e,t),c[l].m(t,null),o=!0},p(v,b){let g=l;l=f(v),l===g?c[l].p(v,b):(wt(),re(c[g],1,1,()=>{c[g]=null}),yt(),a=c[l],a?a.p(v,b):(a=c[l]=i[l](v),a.c()),te(a,1),a.m(t,null))},i(v){o||(te(a),o=!0)},o(v){re(a),o=!1},d(v){v&&u(e),c[l].d()}}}function iu(s){let e,t,l,a;function o(){s[32].call(e,s[34])}return{c(){e=d("input"),this.h()},l(i){e=h(i,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),this.h()},h(){n(e,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(e,"type","text"),n(e,"placeholder",t=s[6].properties[s[34]].title),n(e,"autocomplete","off"),e.required=!0},m(i,c){M(i,e,c),Q(e,s[5][s[34]]),l||(a=le(e,"input",o),l=!0)},p(i,c){s=i,c[0]&64&&t!==(t=s[6].properties[s[34]].title)&&n(e,"placeholder",t),c[0]&96&&e.value!==s[5][s[34]]&&Q(e,s[5][s[34]])},i:_t,o:_t,d(i){i&&u(e),l=!1,a()}}}function ou(s){let e,t,l=s[5][s[34]]?"Enabled":"Disabled",a,o,i,c,f,v;function b(m){s[31](m,s[34])}let g={};return s[5][s[34]]!==void 0&&(g.state=s[5][s[34]]),c=new Vl({props:g}),Ct.push(()=>jt(c,"state",b)),{c(){e=d("div"),t=d("div"),a=O(l),o=D(),i=d("div"),tt(c.$$.fragment),this.h()},l(m){e=h(m,"DIV",{class:!0});var p=_(e);t=h(p,"DIV",{class:!0});var y=_(t);a=P(y,l),y.forEach(u),o=A(p),i=h(p,"DIV",{class:!0});var k=_(i);lt(c.$$.fragment,k),k.forEach(u),p.forEach(u),this.h()},h(){n(t,"class","text-xs text-gray-500"),n(i,"class","pr-2"),n(e,"class","flex justify-between items-center")},m(m,p){M(m,e,p),r(e,t),r(t,a),r(e,o),r(e,i),st(c,i,null),v=!0},p(m,p){s=m,(!v||p[0]&96)&&l!==(l=s[5][s[34]]?"Enabled":"Disabled")&&U(a,l);const y={};!f&&p[0]&96&&(f=!0,y.state=s[5][s[34]],$t(()=>f=!1)),c.$set(y)},i(m){v||(te(c.$$.fragment,m),v=!0)},o(m){re(c.$$.fragment,m),v=!1},d(m){m&&u(e),at(c)}}}function uu(s){let e,t,l,a=ot(s[6].properties[s[34]].enum),o=[];for(let c=0;c<a.length;c+=1)o[c]=Qr(Gr(s,a,c));function i(){s[30].call(e,s[34])}return{c(){e=d("select");for(let c=0;c<o.length;c+=1)o[c].c();this.h()},l(c){e=h(c,"SELECT",{class:!0});var f=_(e);for(let v=0;v<o.length;v+=1)o[v].l(f);f.forEach(u),this.h()},h(){n(e,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),s[5][s[34]]===void 0&&Yt(i)},m(c,f){M(c,e,f);for(let v=0;v<o.length;v+=1)o[v]&&o[v].m(e,null);pt(e,s[5][s[34]],!0),t||(l=le(e,"change",i),t=!0)},p(c,f){if(s=c,f[0]&96){a=ot(s[6].properties[s[34]].enum);let v;for(v=0;v<a.length;v+=1){const b=Gr(s,a,v);o[v]?o[v].p(b,f):(o[v]=Qr(b),o[v].c(),o[v].m(e,null))}for(;v<o.length;v+=1)o[v].d(1);o.length=a.length}f[0]&96&&pt(e,s[5][s[34]])},i:_t,o:_t,d(c){c&&u(e),Zt(o,c),t=!1,l()}}}function Qr(s){let e,t=s[37]+"",l,a,o,i;return{c(){e=d("option"),l=O(t),a=D(),this.h()},l(c){e=h(c,"OPTION",{});var f=_(e);l=P(f,t),a=A(f),f.forEach(u),this.h()},h(){e.__value=o=s[37],Q(e,e.__value),e.selected=i=s[37]===s[5][s[34]]},m(c,f){M(c,e,f),r(e,l),r(e,a)},p(c,f){f[0]&64&&t!==(t=c[37]+"")&&U(l,t),f[0]&64&&o!==(o=c[37])&&(e.__value=o,Q(e,e.__value)),f[0]&96&&i!==(i=c[37]===c[5][c[34]])&&(e.selected=i)},d(c){c&&u(e)}}}function Jr(s){let e,t,l,a=s[6].properties[s[34]].title+"",o,i,c,f,v,b,g,m;function p(I,T){return(I[5][I[34]]??null)===null?nu:ru}let y=p(s),k=y(s);function w(){return s[29](s[34])}let E=(s[5][s[34]]??null)!==null&&Yr(s);return{c(){e=d("div"),t=d("div"),l=d("div"),o=O(a),i=D(),c=d("button"),k.c(),f=D(),E&&E.c(),v=D(),this.h()},l(I){e=h(I,"DIV",{class:!0});var T=_(e);t=h(T,"DIV",{class:!0});var V=_(t);l=h(V,"DIV",{class:!0});var S=_(l);o=P(S,a),S.forEach(u),i=A(V),c=h(V,"BUTTON",{class:!0,type:!0});var H=_(c);k.l(H),H.forEach(u),V.forEach(u),f=A(T),E&&E.l(T),v=A(T),T.forEach(u),this.h()},h(){n(l,"class","self-center text-xs font-medium"),n(c,"class","p-1 px-3 text-xs flex rounded transition"),n(c,"type","button"),n(t,"class","flex w-full justify-between"),n(e,"class","py-0.5 w-full justify-between")},m(I,T){M(I,e,T),r(e,t),r(t,l),r(l,o),r(t,i),r(t,c),k.m(c,null),r(e,f),E&&E.m(e,null),r(e,v),b=!0,g||(m=le(c,"click",w),g=!0)},p(I,T){s=I,(!b||T[0]&64)&&a!==(a=s[6].properties[s[34]].title+"")&&U(o,a),y===(y=p(s))&&k?k.p(s,T):(k.d(1),k=y(s),k&&(k.c(),k.m(c,null))),(s[5][s[34]]??null)!==null?E?(E.p(s,T),T[0]&96&&te(E,1)):(E=Yr(s),E.c(),te(E,1),E.m(e,v)):E&&(wt(),re(E,1,1,()=>{E=null}),yt())},i(I){b||(te(E),b=!0)},o(I){re(E),b=!1},d(I){I&&u(e),k.d(),E&&E.d(),g=!1,m()}}}function fu(s){let e,t,l,a,o,i,c,f=s[9].t("Save")+"",v,b,g,m;const p=[Zo,jo],y=[];function k(w,E){return w[3]!==null?0:1}return l=k(s),a=y[l]=p[l](s),{c(){e=d("form"),t=d("div"),a.c(),o=D(),i=d("div"),c=d("button"),v=O(f),this.h()},l(w){e=h(w,"FORM",{class:!0});var E=_(e);t=h(E,"DIV",{class:!0});var I=_(t);a.l(I),I.forEach(u),o=A(E),i=h(E,"DIV",{class:!0});var T=_(i);c=h(T,"BUTTON",{class:!0,type:!0});var V=_(c);v=P(V,f),V.forEach(u),T.forEach(u),E.forEach(u),this.h()},h(){n(t,"class","overflow-y-scroll scrollbar-hidden h-full"),n(c,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),n(c,"type","submit"),n(i,"class","flex justify-end pt-3 text-sm font-medium"),n(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(w,E){M(w,e,E),r(e,t),y[l].m(t,null),r(e,o),r(e,i),r(i,c),r(c,v),b=!0,g||(m=le(e,"submit",Ml(s[33])),g=!0)},p(w,E){let I=l;l=k(w),l===I?y[l].p(w,E):(wt(),re(y[I],1,1,()=>{y[I]=null}),yt(),a=y[l],a?a.p(w,E):(a=y[l]=p[l](w),a.c()),te(a,1),a.m(t,null)),(!b||E[0]&512)&&f!==(f=w[9].t("Save")+"")&&U(v,f)},i(w){b||(te(a),b=!0)},o(w){re(a),b=!1},d(w){w&&u(e),y[l].d(),g=!1,m()}}}function cu(s,e,t){let l;const a=bl("i18n");zt(s,a,$=>t(9,l=$));let{saveHandler:o}=e,i=!1,c=!1,f,v=null,b="",g=null,m=null,p=null,y=null,k="";const w=async()=>{var q;const $=g[y];if($&&(($==null?void 0:$.valves)??!1)){for(const ce in p.properties)((q=p.properties[ce])==null?void 0:q.type)==="array"&&t(5,m[ce]=m[ce].split(",").map(ne=>ne.trim()),m);await Hi(localStorage.token,$.id,m,b).catch(ce=>{Ae.error(ce)})&&(Ae.success(l.t("Valves updated successfully")),I(),nl.set(await ms(localStorage.token)),o())}else Ae.error(l.t("No valves to update"))},E=async $=>{var q;t(5,m=null),t(6,p=null),t(6,p=await Bi(localStorage.token,g[$].id,b)),t(5,m=await $i(localStorage.token,g[$].id,b));for(const z in p.properties)((q=p.properties[z])==null?void 0:q.type)==="array"&&t(5,m[z]=m[z].join(","),m)},I=async()=>{t(10,g=null),t(5,m=null),t(6,p=null),v.length>0?(console.log(b),t(10,g=await ji(localStorage.token,b)),g.length>0&&(t(7,y=0),await E(y))):t(10,g=[])},T=async()=>{t(0,i=!0),await Zi(localStorage.token,k,b).catch(q=>(Ae.error(q),null))&&(Ae.success(l.t("Pipeline downloaded successfully")),I(),nl.set(await ms(localStorage.token))),t(0,i=!1)},V=async()=>{if(t(1,c=!0),f&&f.length!==0){const q=f[0];console.log(q),await Ki(localStorage.token,q,b).catch(ce=>(console.log(ce),Ae.error("Something went wrong :/"),null))&&(Ae.success(l.t("Pipeline downloaded successfully")),I(),nl.set(await ms(localStorage.token)))}else Ae.error(l.t("No file selected"));t(2,f=null);const $=document.getElementById("pipeline-upload-input");$&&($.value=null),t(1,c=!1)},S=async()=>{await Gi(localStorage.token,g[y].id,b).catch(q=>(Ae.error(q),null))&&(Ae.success(l.t("Pipeline deleted successfully")),I(),nl.set(await ms(localStorage.token)))};El(async()=>{t(3,v=await Ri(localStorage.token)),console.log(v),v.length>0&&t(4,b=v[0].idx.toString()),await I()});function H(){b=qt(this),t(4,b),t(3,v)}const L=async()=>{await Ss(),await I()};function F(){f=this.files,t(2,f)}const x=()=>{var $;($=document.getElementById("pipelines-upload-input"))==null||$.click()},R=()=>{V()};function J(){k=this.value,t(8,k)}const j=()=>{T()};function B(){y=qt(this),t(7,y)}const G=async()=>{await Ss(),await E(y)},N=()=>{S()},C=$=>{t(5,m[$]=(m[$]??null)===null?"":null,m)};function W($){m[$]=qt(this),t(5,m),t(6,p)}function Y($,q){s.$$.not_equal(m[q],$)&&(m[q]=$,t(5,m))}function ee($){m[$]=this.value,t(5,m),t(6,p)}const K=async()=>{w()};return s.$$set=$=>{"saveHandler"in $&&t(18,o=$.saveHandler)},[i,c,f,v,b,m,p,y,k,l,g,a,w,E,I,T,V,S,o,H,L,F,x,R,J,j,B,G,N,C,W,Y,ee,K]}class du extends _l{constructor(e){super(),vl(this,e,cu,fu,hl,{saveHandler:18},null,[-1,-1])}}function Xr(s,e,t){const l=s.slice();return l[36]=e[t],l}function xr(s,e,t){const l=s.slice();return l[42]=e[t],l}function en(s,e,t){const l=s.slice();return l[39]=e[t],l}function tn(s,e,t){const l=s.slice();return l[42]=e[t],l}function ln(s,e,t){const l=s.slice();return l[39]=e[t],l}function sn(s,e,t){const l=s.slice();return l[39]=e[t],l}function an(s){let e,t,l,a,o,i,c,f,v,b,g,m,p=s[13].t("STT Model")+"",y,k,w,E,I,T,V,S,H,L,F;function x(J){s[22](J)}let R={placeholder:s[13].t("API Key")};return s[8]!==void 0&&(R.value=s[8]),i=new kl({props:R}),Ct.push(()=>jt(i,"value",x)),{c(){e=d("div"),t=d("div"),l=d("input"),o=D(),tt(i.$$.fragment),f=D(),v=d("hr"),b=D(),g=d("div"),m=d("div"),y=O(p),k=D(),w=d("div"),E=d("div"),I=d("input"),T=D(),V=d("datalist"),S=d("option"),this.h()},l(J){e=h(J,"DIV",{});var j=_(e);t=h(j,"DIV",{class:!0});var B=_(t);l=h(B,"INPUT",{class:!0,placeholder:!0}),o=A(B),lt(i.$$.fragment,B),B.forEach(u),j.forEach(u),f=A(J),v=h(J,"HR",{class:!0}),b=A(J),g=h(J,"DIV",{});var G=_(g);m=h(G,"DIV",{class:!0});var N=_(m);y=P(N,p),N.forEach(u),k=A(G),w=h(G,"DIV",{class:!0});var C=_(w);E=h(C,"DIV",{class:!0});var W=_(E);I=h(W,"INPUT",{list:!0,class:!0,placeholder:!0}),T=A(W),V=h(W,"DATALIST",{id:!0});var Y=_(V);S=h(Y,"OPTION",{}),_(S).forEach(u),Y.forEach(u),W.forEach(u),C.forEach(u),G.forEach(u),this.h()},h(){n(l,"class","flex-1 w-full rounded-lg py-2 pl-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(l,"placeholder",a=s[13].t("API Base URL")),l.required=!0,n(t,"class","mt-1 flex gap-2 mb-1"),n(v,"class","dark:border-gray-850 my-2"),n(m,"class","mb-1.5 text-sm font-medium"),n(I,"list","model-list"),n(I,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(I,"placeholder","Select a model"),S.__value="whisper-1",Q(S,S.__value),n(V,"id","model-list"),n(E,"class","flex-1"),n(w,"class","flex w-full")},m(J,j){M(J,e,j),r(e,t),r(t,l),Q(l,s[7]),r(t,o),st(i,t,null),M(J,f,j),M(J,v,j),M(J,b,j),M(J,g,j),r(g,m),r(m,y),r(g,k),r(g,w),r(w,E),r(E,I),Q(I,s[10]),r(E,T),r(E,V),r(V,S),H=!0,L||(F=[le(l,"input",s[21]),le(I,"input",s[23])],L=!0)},p(J,j){(!H||j[0]&8192&&a!==(a=J[13].t("API Base URL")))&&n(l,"placeholder",a),j[0]&128&&l.value!==J[7]&&Q(l,J[7]);const B={};j[0]&8192&&(B.placeholder=J[13].t("API Key")),!c&&j[0]&256&&(c=!0,B.value=J[8],$t(()=>c=!1)),i.$set(B),(!H||j[0]&8192)&&p!==(p=J[13].t("STT Model")+"")&&U(y,p),j[0]&1024&&I.value!==J[10]&&Q(I,J[10])},i(J){H||(te(i.$$.fragment,J),H=!0)},o(J){re(i.$$.fragment,J),H=!1},d(J){J&&(u(e),u(f),u(v),u(b),u(g)),at(i),L=!1,Kt(F)}}}function hu(s){let e,t,l,a,o,i;return{c(){e=d("div"),t=d("div"),l=d("input"),this.h()},l(c){e=h(c,"DIV",{});var f=_(e);t=h(f,"DIV",{class:!0});var v=_(t);l=h(v,"INPUT",{class:!0,placeholder:!0}),v.forEach(u),f.forEach(u),this.h()},h(){n(l,"class","flex-1 w-full rounded-lg py-2 pl-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(l,"placeholder",a=s[13].t("API Key")),l.required=!0,n(t,"class","mt-1 flex gap-2 mb-1")},m(c,f){M(c,e,f),r(e,t),r(t,l),Q(l,s[2]),o||(i=le(l,"input",s[28]),o=!0)},p(c,f){f[0]&8192&&a!==(a=c[13].t("API Key"))&&n(l,"placeholder",a),f[0]&4&&l.value!==c[2]&&Q(l,c[2])},i:_t,o:_t,d(c){c&&u(e),o=!1,i()}}}function _u(s){let e,t,l,a,o,i,c,f,v,b;function g(p){s[27](p)}let m={placeholder:s[13].t("API Key")};return s[1]!==void 0&&(m.value=s[1]),i=new kl({props:m}),Ct.push(()=>jt(i,"value",g)),{c(){e=d("div"),t=d("div"),l=d("input"),o=D(),tt(i.$$.fragment),this.h()},l(p){e=h(p,"DIV",{});var y=_(e);t=h(y,"DIV",{class:!0});var k=_(t);l=h(k,"INPUT",{class:!0,placeholder:!0}),o=A(k),lt(i.$$.fragment,k),k.forEach(u),y.forEach(u),this.h()},h(){n(l,"class","flex-1 w-full rounded-lg py-2 pl-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(l,"placeholder",a=s[13].t("API Base URL")),l.required=!0,n(t,"class","mt-1 flex gap-2 mb-1")},m(p,y){M(p,e,y),r(e,t),r(t,l),Q(l,s[0]),r(t,o),st(i,t,null),f=!0,v||(b=le(l,"input",s[26]),v=!0)},p(p,y){(!f||y[0]&8192&&a!==(a=p[13].t("API Base URL")))&&n(l,"placeholder",a),y[0]&1&&l.value!==p[0]&&Q(l,p[0]);const k={};y[0]&8192&&(k.placeholder=p[13].t("API Key")),!c&&y[0]&2&&(c=!0,k.value=p[1],$t(()=>c=!1)),i.$set(k)},i(p){f||(te(i.$$.fragment,p),f=!0)},o(p){re(i.$$.fragment,p),f=!1},d(p){p&&u(e),at(i),v=!1,b()}}}function vu(s){let e,t,l,a=s[13].t("TTS Voice")+"",o,i,c,f,v,b,g,m,p,y,k=s[13].t("TTS Model")+"",w,E,I,T,V,S,H,L,F,x=ot(s[11]),R=[];for(let B=0;B<x.length;B+=1)R[B]=rn(en(s,x,B));let J=ot(s[12]),j=[];for(let B=0;B<J.length;B+=1)j[B]=nn(xr(s,J,B));return{c(){e=d("div"),t=d("div"),l=d("div"),o=O(a),i=D(),c=d("div"),f=d("div"),v=d("input"),b=D(),g=d("datalist");for(let B=0;B<R.length;B+=1)R[B].c();m=D(),p=d("div"),y=d("div"),w=O(k),E=D(),I=d("div"),T=d("div"),V=d("input"),S=D(),H=d("datalist");for(let B=0;B<j.length;B+=1)j[B].c();this.h()},l(B){e=h(B,"DIV",{class:!0});var G=_(e);t=h(G,"DIV",{class:!0});var N=_(t);l=h(N,"DIV",{class:!0});var C=_(l);o=P(C,a),C.forEach(u),i=A(N),c=h(N,"DIV",{class:!0});var W=_(c);f=h(W,"DIV",{class:!0});var Y=_(f);v=h(Y,"INPUT",{list:!0,class:!0,placeholder:!0}),b=A(Y),g=h(Y,"DATALIST",{id:!0});var ee=_(g);for(let ne=0;ne<R.length;ne+=1)R[ne].l(ee);ee.forEach(u),Y.forEach(u),W.forEach(u),N.forEach(u),m=A(G),p=h(G,"DIV",{class:!0});var K=_(p);y=h(K,"DIV",{class:!0});var $=_(y);w=P($,k),$.forEach(u),E=A(K),I=h(K,"DIV",{class:!0});var q=_(I);T=h(q,"DIV",{class:!0});var z=_(T);V=h(z,"INPUT",{list:!0,class:!0,placeholder:!0}),S=A(z),H=h(z,"DATALIST",{id:!0});var ce=_(H);for(let ne=0;ne<j.length;ne+=1)j[ne].l(ce);ce.forEach(u),z.forEach(u),q.forEach(u),K.forEach(u),G.forEach(u),this.h()},h(){n(l,"class","mb-1.5 text-sm font-medium"),n(v,"list","voice-list"),n(v,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(v,"placeholder","Select a voice"),n(g,"id","voice-list"),n(f,"class","flex-1"),n(c,"class","flex w-full"),n(t,"class","w-full"),n(y,"class","mb-1.5 text-sm font-medium"),n(V,"list","tts-model-list"),n(V,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(V,"placeholder","Select a model"),n(H,"id","tts-model-list"),n(T,"class","flex-1"),n(I,"class","flex w-full"),n(p,"class","w-full"),n(e,"class","flex gap-2")},m(B,G){M(B,e,G),r(e,t),r(t,l),r(l,o),r(t,i),r(t,c),r(c,f),r(f,v),Q(v,s[5]),r(f,b),r(f,g);for(let N=0;N<R.length;N+=1)R[N]&&R[N].m(g,null);r(e,m),r(e,p),r(p,y),r(y,w),r(p,E),r(p,I),r(I,T),r(T,V),Q(V,s[4]),r(T,S),r(T,H);for(let N=0;N<j.length;N+=1)j[N]&&j[N].m(H,null);L||(F=[le(v,"input",s[32]),le(V,"input",s[33])],L=!0)},p(B,G){if(G[0]&8192&&a!==(a=B[13].t("TTS Voice")+"")&&U(o,a),G[0]&2080&&v.value!==B[5]&&Q(v,B[5]),G[0]&2048){x=ot(B[11]);let N;for(N=0;N<x.length;N+=1){const C=en(B,x,N);R[N]?R[N].p(C,G):(R[N]=rn(C),R[N].c(),R[N].m(g,null))}for(;N<R.length;N+=1)R[N].d(1);R.length=x.length}if(G[0]&8192&&k!==(k=B[13].t("TTS Model")+"")&&U(w,k),G[0]&16&&V.value!==B[4]&&Q(V,B[4]),G[0]&4096){J=ot(B[12]);let N;for(N=0;N<J.length;N+=1){const C=xr(B,J,N);j[N]?j[N].p(C,G):(j[N]=nn(C),j[N].c(),j[N].m(H,null))}for(;N<j.length;N+=1)j[N].d(1);j.length=J.length}},d(B){B&&u(e),Zt(R,B),Zt(j,B),L=!1,Kt(F)}}}function pu(s){let e,t,l,a=s[13].t("TTS Voice")+"",o,i,c,f,v,b,g,m,p,y,k=s[13].t("TTS Model")+"",w,E,I,T,V,S,H,L,F,x=ot(s[11]),R=[];for(let B=0;B<x.length;B+=1)R[B]=on(ln(s,x,B));let J=ot(s[12]),j=[];for(let B=0;B<J.length;B+=1)j[B]=un(tn(s,J,B));return{c(){e=d("div"),t=d("div"),l=d("div"),o=O(a),i=D(),c=d("div"),f=d("div"),v=d("input"),b=D(),g=d("datalist");for(let B=0;B<R.length;B+=1)R[B].c();m=D(),p=d("div"),y=d("div"),w=O(k),E=D(),I=d("div"),T=d("div"),V=d("input"),S=D(),H=d("datalist");for(let B=0;B<j.length;B+=1)j[B].c();this.h()},l(B){e=h(B,"DIV",{class:!0});var G=_(e);t=h(G,"DIV",{class:!0});var N=_(t);l=h(N,"DIV",{class:!0});var C=_(l);o=P(C,a),C.forEach(u),i=A(N),c=h(N,"DIV",{class:!0});var W=_(c);f=h(W,"DIV",{class:!0});var Y=_(f);v=h(Y,"INPUT",{list:!0,class:!0,placeholder:!0}),b=A(Y),g=h(Y,"DATALIST",{id:!0});var ee=_(g);for(let ne=0;ne<R.length;ne+=1)R[ne].l(ee);ee.forEach(u),Y.forEach(u),W.forEach(u),N.forEach(u),m=A(G),p=h(G,"DIV",{class:!0});var K=_(p);y=h(K,"DIV",{class:!0});var $=_(y);w=P($,k),$.forEach(u),E=A(K),I=h(K,"DIV",{class:!0});var q=_(I);T=h(q,"DIV",{class:!0});var z=_(T);V=h(z,"INPUT",{list:!0,class:!0,placeholder:!0}),S=A(z),H=h(z,"DATALIST",{id:!0});var ce=_(H);for(let ne=0;ne<j.length;ne+=1)j[ne].l(ce);ce.forEach(u),z.forEach(u),q.forEach(u),K.forEach(u),G.forEach(u),this.h()},h(){n(l,"class","mb-1.5 text-sm font-medium"),n(v,"list","voice-list"),n(v,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(v,"placeholder","Select a voice"),n(g,"id","voice-list"),n(f,"class","flex-1"),n(c,"class","flex w-full"),n(t,"class","w-full"),n(y,"class","mb-1.5 text-sm font-medium"),n(V,"list","tts-model-list"),n(V,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(V,"placeholder","Select a model"),n(H,"id","tts-model-list"),n(T,"class","flex-1"),n(I,"class","flex w-full"),n(p,"class","w-full"),n(e,"class","flex gap-2")},m(B,G){M(B,e,G),r(e,t),r(t,l),r(l,o),r(t,i),r(t,c),r(c,f),r(f,v),Q(v,s[5]),r(f,b),r(f,g);for(let N=0;N<R.length;N+=1)R[N]&&R[N].m(g,null);r(e,m),r(e,p),r(p,y),r(y,w),r(p,E),r(p,I),r(I,T),r(T,V),Q(V,s[4]),r(T,S),r(T,H);for(let N=0;N<j.length;N+=1)j[N]&&j[N].m(H,null);L||(F=[le(v,"input",s[30]),le(V,"input",s[31])],L=!0)},p(B,G){if(G[0]&8192&&a!==(a=B[13].t("TTS Voice")+"")&&U(o,a),G[0]&2080&&v.value!==B[5]&&Q(v,B[5]),G[0]&2048){x=ot(B[11]);let N;for(N=0;N<x.length;N+=1){const C=ln(B,x,N);R[N]?R[N].p(C,G):(R[N]=on(C),R[N].c(),R[N].m(g,null))}for(;N<R.length;N+=1)R[N].d(1);R.length=x.length}if(G[0]&8192&&k!==(k=B[13].t("TTS Model")+"")&&U(w,k),G[0]&16&&V.value!==B[4]&&Q(V,B[4]),G[0]&4096){J=ot(B[12]);let N;for(N=0;N<J.length;N+=1){const C=tn(B,J,N);j[N]?j[N].p(C,G):(j[N]=un(C),j[N].c(),j[N].m(H,null))}for(;N<j.length;N+=1)j[N].d(1);j.length=J.length}},d(B){B&&u(e),Zt(R,B),Zt(j,B),L=!1,Kt(F)}}}function gu(s){let e,t,l=s[13].t("TTS Voice")+"",a,o,i,c,f,v,b=s[13].t("Default")+"",g,m,p,y,k=ot(s[11]),w=[];for(let E=0;E<k.length;E+=1)w[E]=fn(sn(s,k,E));return{c(){e=d("div"),t=d("div"),a=O(l),o=D(),i=d("div"),c=d("div"),f=d("select"),v=d("option"),g=O(b);for(let E=0;E<w.length;E+=1)w[E].c();this.h()},l(E){e=h(E,"DIV",{});var I=_(e);t=h(I,"DIV",{class:!0});var T=_(t);a=P(T,l),T.forEach(u),o=A(I),i=h(I,"DIV",{class:!0});var V=_(i);c=h(V,"DIV",{class:!0});var S=_(c);f=h(S,"SELECT",{class:!0});var H=_(f);v=h(H,"OPTION",{});var L=_(v);g=P(L,b),L.forEach(u);for(let F=0;F<w.length;F+=1)w[F].l(H);H.forEach(u),S.forEach(u),V.forEach(u),I.forEach(u),this.h()},h(){n(t,"class","mb-1.5 text-sm font-medium"),v.__value="",Q(v,v.__value),v.selected=m=s[5]!=="",n(f,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),s[5]===void 0&&Yt(()=>s[29].call(f)),n(c,"class","flex-1"),n(i,"class","flex w-full")},m(E,I){M(E,e,I),r(e,t),r(t,a),r(e,o),r(e,i),r(i,c),r(c,f),r(f,v),r(v,g);for(let T=0;T<w.length;T+=1)w[T]&&w[T].m(f,null);pt(f,s[5],!0),p||(y=le(f,"change",s[29]),p=!0)},p(E,I){if(I[0]&8192&&l!==(l=E[13].t("TTS Voice")+"")&&U(a,l),I[0]&8192&&b!==(b=E[13].t("Default")+"")&&U(g,b),I[0]&2080&&m!==(m=E[5]!=="")&&(v.selected=m),I[0]&2080){k=ot(E[11]);let T;for(T=0;T<k.length;T+=1){const V=sn(E,k,T);w[T]?w[T].p(V,I):(w[T]=fn(V),w[T].c(),w[T].m(f,null))}for(;T<w.length;T+=1)w[T].d(1);w.length=k.length}I[0]&2080&&pt(f,E[5])},d(E){E&&u(e),Zt(w,E),p=!1,y()}}}function rn(s){let e,t=s[39].name+"",l,a;return{c(){e=d("option"),l=O(t),this.h()},l(o){e=h(o,"OPTION",{});var i=_(e);l=P(i,t),i.forEach(u),this.h()},h(){e.__value=a=s[39].id,Q(e,e.__value)},m(o,i){M(o,e,i),r(e,l)},p(o,i){i[0]&2048&&t!==(t=o[39].name+"")&&U(l,t),i[0]&2048&&a!==(a=o[39].id)&&(e.__value=a,Q(e,e.__value))},d(o){o&&u(e)}}}function nn(s){let e,t;return{c(){e=d("option"),this.h()},l(l){e=h(l,"OPTION",{}),_(e).forEach(u),this.h()},h(){e.__value=t=s[42].id,Q(e,e.__value)},m(l,a){M(l,e,a)},p(l,a){a[0]&4096&&t!==(t=l[42].id)&&(e.__value=t,Q(e,e.__value))},d(l){l&&u(e)}}}function on(s){let e,t=s[39].name+"",l,a;return{c(){e=d("option"),l=O(t),this.h()},l(o){e=h(o,"OPTION",{});var i=_(e);l=P(i,t),i.forEach(u),this.h()},h(){e.__value=a=s[39].id,Q(e,e.__value)},m(o,i){M(o,e,i),r(e,l)},p(o,i){i[0]&2048&&t!==(t=o[39].name+"")&&U(l,t),i[0]&2048&&a!==(a=o[39].id)&&(e.__value=a,Q(e,e.__value))},d(o){o&&u(e)}}}function un(s){let e,t;return{c(){e=d("option"),this.h()},l(l){e=h(l,"OPTION",{}),_(e).forEach(u),this.h()},h(){e.__value=t=s[42].id,Q(e,e.__value)},m(l,a){M(l,e,a)},p(l,a){a[0]&4096&&t!==(t=l[42].id)&&(e.__value=t,Q(e,e.__value))},d(l){l&&u(e)}}}function fn(s){let e,t=s[39].name+"",l,a,o;return{c(){e=d("option"),l=O(t),this.h()},l(i){e=h(i,"OPTION",{class:!0});var c=_(e);l=P(c,t),c.forEach(u),this.h()},h(){e.__value=a=s[39].voiceURI,Q(e,e.__value),n(e,"class","bg-gray-100 dark:bg-gray-700"),e.selected=o=s[5]===s[39].voiceURI},m(i,c){M(i,e,c),r(e,l)},p(i,c){c[0]&2048&&t!==(t=i[39].name+"")&&U(l,t),c[0]&2048&&a!==(a=i[39].voiceURI)&&(e.__value=a,Q(e,e.__value)),c[0]&2080&&o!==(o=i[5]===i[39].voiceURI)&&(e.selected=o)},d(i){i&&u(e)}}}function cn(s){let e,t=s[13].t(s[36].charAt(0).toUpperCase()+s[36].slice(1))+"",l;return{c(){e=d("option"),l=O(t),this.h()},l(a){e=h(a,"OPTION",{});var o=_(e);l=P(o,t),o.forEach(u),this.h()},h(){e.__value=s[36],Q(e,e.__value)},m(a,o){M(a,e,o),r(e,l)},p(a,o){o[0]&8192&&t!==(t=a[13].t(a[36].charAt(0).toUpperCase()+a[36].slice(1))+"")&&U(l,t)},d(a){a&&u(e)}}}function mu(s){let e,t,l,a,o,i=s[13].t("STT Settings")+"",c,f,v,b,g=s[13].t("Speech-to-Text Engine")+"",m,p,y,k,w,E=s[13].t("Whisper (Local)")+"",I,T,V="OpenAI",S,H=s[13].t("Web API")+"",L,F,x,R,J,j,B,G=s[13].t("TTS Settings")+"",N,C,W,Y,ee=s[13].t("Text-to-Speech Engine")+"",K,$,q,z,ce,ne=s[13].t("Web API")+"",ge,me,Oe=s[13].t("OpenAI")+"",qe,Ve,Te=s[13].t("ElevenLabs")+"",je,be,Me,fe,ye,Ze,Ce,Pe,et,Ne,He,Xe,de=s[13].t("Response splitting")+"",Se,ve,oe,Ee,ae,ke,ze=s[13].t("Control how message text is split for TTS requests. 'Punctuation' splits into sentences, 'paragraphs' splits into paragraphs, and 'none' keeps the message as a single string.")+"",De,he,ue,Ue,We=s[13].t("Save")+"",Fe,Ke,ut,nt,it=s[9]==="openai"&&an(s);const Je=[_u,hu],Ye=[];function we(Z,se){return Z[3]==="openai"?0:Z[3]==="elevenlabs"?1:-1}~(Me=we(s))&&(fe=Ye[Me]=Je[Me](s));function ft(Z,se){if(Z[3]==="")return gu;if(Z[3]==="openai")return pu;if(Z[3]==="elevenlabs")return vu}let xe=ft(s),Be=xe&&xe(s),ie=ot(Object.values(fa)),X=[];for(let Z=0;Z<ie.length;Z+=1)X[Z]=cn(Xr(s,ie,Z));return{c(){e=d("form"),t=d("div"),l=d("div"),a=d("div"),o=d("div"),c=O(i),f=D(),v=d("div"),b=d("div"),m=O(g),p=D(),y=d("div"),k=d("select"),w=d("option"),I=O(E),T=d("option"),T.textContent=V,S=d("option"),L=O(H),F=D(),it&&it.c(),x=D(),R=d("hr"),J=D(),j=d("div"),B=d("div"),N=O(G),C=D(),W=d("div"),Y=d("div"),K=O(ee),$=D(),q=d("div"),z=d("select"),ce=d("option"),ge=O(ne),me=d("option"),qe=O(Oe),Ve=d("option"),je=O(Te),be=D(),fe&&fe.c(),ye=D(),Ze=d("hr"),Ce=D(),Be&&Be.c(),Pe=D(),et=d("hr"),Ne=D(),He=d("div"),Xe=d("div"),Se=O(de),ve=D(),oe=d("div"),Ee=d("select");for(let Z=0;Z<X.length;Z+=1)X[Z].c();ae=D(),ke=d("div"),De=O(ze),he=D(),ue=d("div"),Ue=d("button"),Fe=O(We),this.h()},l(Z){e=h(Z,"FORM",{class:!0});var se=_(e);t=h(se,"DIV",{class:!0});var _e=_(t);l=h(_e,"DIV",{class:!0});var Ge=_(l);a=h(Ge,"DIV",{});var gt=_(a);o=h(gt,"DIV",{class:!0});var Tt=_(o);c=P(Tt,i),Tt.forEach(u),f=A(gt),v=h(gt,"DIV",{class:!0});var Dt=_(v);b=h(Dt,"DIV",{class:!0});var St=_(b);m=P(St,g),St.forEach(u),p=A(Dt),y=h(Dt,"DIV",{class:!0});var Pt=_(y);k=h(Pt,"SELECT",{class:!0,placeholder:!0});var Rt=_(k);w=h(Rt,"OPTION",{});var Mt=_(w);I=P(Mt,E),Mt.forEach(u),T=h(Rt,"OPTION",{"data-svelte-h":!0}),ct(T)!=="svelte-bbvrw2"&&(T.textContent=V),S=h(Rt,"OPTION",{});var Le=_(S);L=P(Le,H),Le.forEach(u),Rt.forEach(u),Pt.forEach(u),Dt.forEach(u),F=A(gt),it&&it.l(gt),gt.forEach(u),x=A(Ge),R=h(Ge,"HR",{class:!0}),J=A(Ge),j=h(Ge,"DIV",{});var Ie=_(j);B=h(Ie,"DIV",{class:!0});var It=_(B);N=P(It,G),It.forEach(u),C=A(Ie),W=h(Ie,"DIV",{class:!0});var At=_(W);Y=h(At,"DIV",{class:!0});var Ht=_(Y);K=P(Ht,ee),Ht.forEach(u),$=A(At),q=h(At,"DIV",{class:!0});var vt=_(q);z=h(vt,"SELECT",{class:!0,placeholder:!0});var ht=_(z);ce=h(ht,"OPTION",{});var mt=_(ce);ge=P(mt,ne),mt.forEach(u),me=h(ht,"OPTION",{});var rt=_(me);qe=P(rt,Oe),rt.forEach(u),Ve=h(ht,"OPTION",{});var Nt=_(Ve);je=P(Nt,Te),Nt.forEach(u),ht.forEach(u),vt.forEach(u),At.forEach(u),be=A(Ie),fe&&fe.l(Ie),ye=A(Ie),Ze=h(Ie,"HR",{class:!0}),Ce=A(Ie),Be&&Be.l(Ie),Pe=A(Ie),et=h(Ie,"HR",{class:!0}),Ne=A(Ie),He=h(Ie,"DIV",{class:!0});var Ut=_(He);Xe=h(Ut,"DIV",{class:!0});var Wt=_(Xe);Se=P(Wt,de),Wt.forEach(u),ve=A(Ut),oe=h(Ut,"DIV",{class:!0});var Ot=_(oe);Ee=h(Ot,"SELECT",{class:!0,"aria-label":!0});var Lt=_(Ee);for(let Qt=0;Qt<X.length;Qt+=1)X[Qt].l(Lt);Lt.forEach(u),Ot.forEach(u),Ut.forEach(u),ae=A(Ie),ke=h(Ie,"DIV",{class:!0});var Re=_(ke);De=P(Re,ze),Re.forEach(u),Ie.forEach(u),Ge.forEach(u),_e.forEach(u),he=A(se),ue=h(se,"DIV",{class:!0});var Qe=_(ue);Ue=h(Qe,"BUTTON",{class:!0,type:!0});var dt=_(Ue);Fe=P(dt,We),dt.forEach(u),Qe.forEach(u),se.forEach(u),this.h()},h(){n(o,"class","mb-1 text-sm font-medium"),n(b,"class","self-center text-xs font-medium"),w.__value="",Q(w,w.__value),T.__value="openai",Q(T,T.__value),S.__value="web",Q(S,S.__value),n(k,"class","dark:bg-gray-900 cursor-pointer w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),n(k,"placeholder","Select an engine"),s[9]===void 0&&Yt(()=>s[20].call(k)),n(y,"class","flex items-center relative"),n(v,"class","py-0.5 flex w-full justify-between"),n(R,"class","dark:border-gray-800"),n(B,"class","mb-1 text-sm font-medium"),n(Y,"class","self-center text-xs font-medium"),ce.__value="",Q(ce,ce.__value),me.__value="openai",Q(me,me.__value),Ve.__value="elevenlabs",Q(Ve,Ve.__value),n(z,"class","dark:bg-gray-900 w-fit pr-8 cursor-pointer rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),n(z,"placeholder","Select a mode"),s[3]===void 0&&Yt(()=>s[24].call(z)),n(q,"class","flex items-center relative"),n(W,"class","py-0.5 flex w-full justify-between"),n(Ze,"class","dark:border-gray-850 my-2"),n(et,"class","dark:border-gray-850 my-2"),n(Xe,"class","self-center text-xs font-medium"),n(Ee,"class","dark:bg-gray-900 w-fit pr-8 cursor-pointer rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),n(Ee,"aria-label","Select how to split message text for TTS requests"),s[6]===void 0&&Yt(()=>s[34].call(Ee)),n(oe,"class","flex items-center relative"),n(He,"class","pt-0.5 flex w-full justify-between"),n(ke,"class","mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500"),n(l,"class","flex flex-col gap-3"),n(t,"class","space-y-3 overflow-y-scroll scrollbar-hidden h-full"),n(Ue,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),n(Ue,"type","submit"),n(ue,"class","flex justify-end text-sm font-medium"),n(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(Z,se){M(Z,e,se),r(e,t),r(t,l),r(l,a),r(a,o),r(o,c),r(a,f),r(a,v),r(v,b),r(b,m),r(v,p),r(v,y),r(y,k),r(k,w),r(w,I),r(k,T),r(k,S),r(S,L),pt(k,s[9],!0),r(a,F),it&&it.m(a,null),r(l,x),r(l,R),r(l,J),r(l,j),r(j,B),r(B,N),r(j,C),r(j,W),r(W,Y),r(Y,K),r(W,$),r(W,q),r(q,z),r(z,ce),r(ce,ge),r(z,me),r(me,qe),r(z,Ve),r(Ve,je),pt(z,s[3],!0),r(j,be),~Me&&Ye[Me].m(j,null),r(j,ye),r(j,Ze),r(j,Ce),Be&&Be.m(j,null),r(j,Pe),r(j,et),r(j,Ne),r(j,He),r(He,Xe),r(Xe,Se),r(He,ve),r(He,oe),r(oe,Ee);for(let _e=0;_e<X.length;_e+=1)X[_e]&&X[_e].m(Ee,null);pt(Ee,s[6],!0),r(j,ae),r(j,ke),r(ke,De),r(e,he),r(e,ue),r(ue,Ue),r(Ue,Fe),Ke=!0,ut||(nt=[le(k,"change",s[20]),le(z,"change",s[24]),le(z,"change",s[25]),le(Ee,"change",s[34]),le(e,"submit",Ml(s[35]))],ut=!0)},p(Z,se){(!Ke||se[0]&8192)&&i!==(i=Z[13].t("STT Settings")+"")&&U(c,i),(!Ke||se[0]&8192)&&g!==(g=Z[13].t("Speech-to-Text Engine")+"")&&U(m,g),(!Ke||se[0]&8192)&&E!==(E=Z[13].t("Whisper (Local)")+"")&&U(I,E),(!Ke||se[0]&8192)&&H!==(H=Z[13].t("Web API")+"")&&U(L,H),se[0]&512&&pt(k,Z[9]),Z[9]==="openai"?it?(it.p(Z,se),se[0]&512&&te(it,1)):(it=an(Z),it.c(),te(it,1),it.m(a,null)):it&&(wt(),re(it,1,1,()=>{it=null}),yt()),(!Ke||se[0]&8192)&&G!==(G=Z[13].t("TTS Settings")+"")&&U(N,G),(!Ke||se[0]&8192)&&ee!==(ee=Z[13].t("Text-to-Speech Engine")+"")&&U(K,ee),(!Ke||se[0]&8192)&&ne!==(ne=Z[13].t("Web API")+"")&&U(ge,ne),(!Ke||se[0]&8192)&&Oe!==(Oe=Z[13].t("OpenAI")+"")&&U(qe,Oe),(!Ke||se[0]&8192)&&Te!==(Te=Z[13].t("ElevenLabs")+"")&&U(je,Te),se[0]&8&&pt(z,Z[3]);let _e=Me;if(Me=we(Z),Me===_e?~Me&&Ye[Me].p(Z,se):(fe&&(wt(),re(Ye[_e],1,1,()=>{Ye[_e]=null}),yt()),~Me?(fe=Ye[Me],fe?fe.p(Z,se):(fe=Ye[Me]=Je[Me](Z),fe.c()),te(fe,1),fe.m(j,ye)):fe=null),xe===(xe=ft(Z))&&Be?Be.p(Z,se):(Be&&Be.d(1),Be=xe&&xe(Z),Be&&(Be.c(),Be.m(j,Pe))),(!Ke||se[0]&8192)&&de!==(de=Z[13].t("Response splitting")+"")&&U(Se,de),se[0]&8192){ie=ot(Object.values(fa));let Ge;for(Ge=0;Ge<ie.length;Ge+=1){const gt=Xr(Z,ie,Ge);X[Ge]?X[Ge].p(gt,se):(X[Ge]=cn(gt),X[Ge].c(),X[Ge].m(Ee,null))}for(;Ge<X.length;Ge+=1)X[Ge].d(1);X.length=ie.length}se[0]&64&&pt(Ee,Z[6]),(!Ke||se[0]&8192)&&ze!==(ze=Z[13].t("Control how message text is split for TTS requests. 'Punctuation' splits into sentences, 'paragraphs' splits into paragraphs, and 'none' keeps the message as a single string.")+"")&&U(De,ze),(!Ke||se[0]&8192)&&We!==(We=Z[13].t("Save")+"")&&U(Fe,We)},i(Z){Ke||(te(it),te(fe),Ke=!0)},o(Z){re(it),re(fe),Ke=!1},d(Z){Z&&u(e),it&&it.d(),~Me&&Ye[Me].d(),Be&&Be.d(),Zt(X,Z),ut=!1,Kt(nt)}}}function bu(s,e,t){let l;const a=Ms(),o=bl("i18n");zt(s,o,z=>t(13,l=z));let{saveHandler:i}=e,c="",f="",v="",b="",g="",m="",p=fa.PUNCTUATION,y="",k="",w="",E="",I=[],T=[];const V=async()=>{if(b==="")t(12,T=[]);else{const z=await eo(localStorage.token).catch(ce=>{Ae.error(ce)});z&&(console.log(z),t(12,T=z.models))}},S=async()=>{if(b===""){const z=setInterval(()=>{t(11,I=speechSynthesis.getVoices()),I.length>0&&clearInterval(z)},100)}else{const z=await to(localStorage.token).catch(ce=>{Ae.error(ce)});z&&(console.log(z),t(11,I=z.voices))}},H=async()=>{await lo(localStorage.token,{tts:{OPENAI_API_BASE_URL:c,OPENAI_API_KEY:f,API_KEY:v,ENGINE:b,MODEL:g,VOICE:m,SPLIT_ON:p},stt:{OPENAI_API_BASE_URL:y,OPENAI_API_KEY:k,ENGINE:w,MODEL:E}})&&(i(),es().then(Ul.set).catch(()=>{}))};El(async()=>{const z=await xi(localStorage.token);z&&(console.log(z),t(0,c=z.tts.OPENAI_API_BASE_URL),t(1,f=z.tts.OPENAI_API_KEY),t(2,v=z.tts.API_KEY),t(3,b=z.tts.ENGINE),t(4,g=z.tts.MODEL),t(5,m=z.tts.VOICE),t(6,p=z.tts.SPLIT_ON||fa.PUNCTUATION),t(7,y=z.stt.OPENAI_API_BASE_URL),t(8,k=z.stt.OPENAI_API_KEY),t(9,w=z.stt.ENGINE),t(10,E=z.stt.MODEL)),await S(),await V()});function L(){w=qt(this),t(9,w)}function F(){y=this.value,t(7,y)}function x(z){k=z,t(8,k)}function R(){E=this.value,t(10,E)}function J(){b=qt(this),t(3,b)}const j=async z=>{var ce;await H(),await S(),await V(),((ce=z.target)==null?void 0:ce.value)==="openai"?(t(5,m="alloy"),t(4,g="tts-1")):(t(5,m=""),t(4,g=""))};function B(){c=this.value,t(0,c)}function G(z){f=z,t(1,f)}function N(){v=this.value,t(2,v)}function C(){m=qt(this),t(5,m),t(11,I)}function W(){m=this.value,t(5,m),t(11,I)}function Y(){g=this.value,t(4,g)}function ee(){m=this.value,t(5,m),t(11,I)}function K(){g=this.value,t(4,g)}function $(){p=qt(this),t(6,p)}const q=async()=>{await H(),a("save")};return s.$$set=z=>{"saveHandler"in z&&t(19,i=z.saveHandler)},[c,f,v,b,g,m,p,y,k,w,E,I,T,l,a,o,V,S,H,i,L,F,x,R,J,j,B,G,N,C,W,Y,ee,K,$,q]}class Eu extends _l{constructor(e){super(),vl(this,e,bu,mu,hl,{saveHandler:19},null,[-1,-1])}}function dn(s,e,t){const l=s.slice();return l[33]=e[t],l}function hn(s,e,t){const l=s.slice();return l[36]=e[t],l[37]=e,l[38]=t,l}function _n(s){var Me;let e,t,l=s[5].t("Image Settings")+"",a,o,i,c,f,v=s[5].t("Image Generation (Experimental)")+"",b,g,m,p,y,k,w,E,I=s[5].t("Image Generation Engine")+"",T,V,S,H,L,F=s[5].t("Default (Open AI)")+"",x,R,J=s[5].t("ComfyUI")+"",j,B,G=s[5].t("Automatic1111")+"",N,C,W,Y,ee,K,$,q,z,ce,ne,ge,me;function Oe(fe){s[9](fe)}let qe={};s[1].enabled!==void 0&&(qe.state=s[1].enabled),p=new Vl({props:qe}),Ct.push(()=>jt(p,"state",Oe)),p.$on("change",s[10]);const Ve=[yu,wu,ku],Te=[];function je(fe,ye){var Ze,Ce,Pe;return(((Ze=fe[1])==null?void 0:Ze.engine)??"automatic1111")==="automatic1111"?0:((Ce=fe[1])==null?void 0:Ce.engine)==="comfyui"?1:((Pe=fe[1])==null?void 0:Pe.engine)==="openai"?2:-1}~($=je(s))&&(q=Te[$]=Ve[$](s));let be=((Me=s[1])==null?void 0:Me.enabled)&&mn(s);return{c(){e=d("div"),t=d("div"),a=O(l),o=D(),i=d("div"),c=d("div"),f=d("div"),b=O(v),g=D(),m=d("div"),tt(p.$$.fragment),k=D(),w=d("div"),E=d("div"),T=O(I),V=D(),S=d("div"),H=d("select"),L=d("option"),x=O(F),R=d("option"),j=O(J),B=d("option"),N=O(G),W=D(),Y=d("hr"),ee=D(),K=d("div"),q&&q.c(),z=D(),be&&be.c(),ce=Gt(),this.h()},l(fe){e=h(fe,"DIV",{});var ye=_(e);t=h(ye,"DIV",{class:!0});var Ze=_(t);a=P(Ze,l),Ze.forEach(u),o=A(ye),i=h(ye,"DIV",{});var Ce=_(i);c=h(Ce,"DIV",{class:!0});var Pe=_(c);f=h(Pe,"DIV",{class:!0});var et=_(f);b=P(et,v),et.forEach(u),g=A(Pe),m=h(Pe,"DIV",{class:!0});var Ne=_(m);lt(p.$$.fragment,Ne),Ne.forEach(u),Pe.forEach(u),Ce.forEach(u),k=A(ye),w=h(ye,"DIV",{class:!0});var He=_(w);E=h(He,"DIV",{class:!0});var Xe=_(E);T=P(Xe,I),Xe.forEach(u),V=A(He),S=h(He,"DIV",{class:!0});var de=_(S);H=h(de,"SELECT",{class:!0,placeholder:!0});var Se=_(H);L=h(Se,"OPTION",{});var ve=_(L);x=P(ve,F),ve.forEach(u),R=h(Se,"OPTION",{});var oe=_(R);j=P(oe,J),oe.forEach(u),B=h(Se,"OPTION",{});var Ee=_(B);N=P(Ee,G),Ee.forEach(u),Se.forEach(u),de.forEach(u),He.forEach(u),ye.forEach(u),W=A(fe),Y=h(fe,"HR",{class:!0}),ee=A(fe),K=h(fe,"DIV",{class:!0});var ae=_(K);q&&q.l(ae),ae.forEach(u),z=A(fe),be&&be.l(fe),ce=Gt(),this.h()},h(){n(t,"class","mb-1 text-sm font-medium"),n(f,"class","self-center text-xs font-medium"),n(m,"class","px-1"),n(c,"class","py-0.5 flex w-full justify-between"),n(E,"class","self-center text-xs font-medium"),L.__value="openai",Q(L,L.__value),R.__value="comfyui",Q(R,R.__value),B.__value="automatic1111",Q(B,B.__value),n(H,"class","w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),n(H,"placeholder",C=s[5].t("Select Engine")),s[1].engine===void 0&&Yt(()=>s[11].call(H)),n(S,"class","flex items-center relative"),n(w,"class","py-0.5 flex w-full justify-between"),n(Y,"class","dark:border-gray-850"),n(K,"class","flex flex-col gap-2")},m(fe,ye){M(fe,e,ye),r(e,t),r(t,a),r(e,o),r(e,i),r(i,c),r(c,f),r(f,b),r(c,g),r(c,m),st(p,m,null),r(e,k),r(e,w),r(w,E),r(E,T),r(w,V),r(w,S),r(S,H),r(H,L),r(L,x),r(H,R),r(R,j),r(H,B),r(B,N),pt(H,s[1].engine,!0),M(fe,W,ye),M(fe,Y,ye),M(fe,ee,ye),M(fe,K,ye),~$&&Te[$].m(K,null),M(fe,z,ye),be&&be.m(fe,ye),M(fe,ce,ye),ne=!0,ge||(me=[le(H,"change",s[11]),le(H,"change",s[12])],ge=!0)},p(fe,ye){var Pe;(!ne||ye[0]&32)&&l!==(l=fe[5].t("Image Settings")+"")&&U(a,l),(!ne||ye[0]&32)&&v!==(v=fe[5].t("Image Generation (Experimental)")+"")&&U(b,v);const Ze={};!y&&ye[0]&2&&(y=!0,Ze.state=fe[1].enabled,$t(()=>y=!1)),p.$set(Ze),(!ne||ye[0]&32)&&I!==(I=fe[5].t("Image Generation Engine")+"")&&U(T,I),(!ne||ye[0]&32)&&F!==(F=fe[5].t("Default (Open AI)")+"")&&U(x,F),(!ne||ye[0]&32)&&J!==(J=fe[5].t("ComfyUI")+"")&&U(j,J),(!ne||ye[0]&32)&&G!==(G=fe[5].t("Automatic1111")+"")&&U(N,G),(!ne||ye[0]&32&&C!==(C=fe[5].t("Select Engine")))&&n(H,"placeholder",C),ye[0]&2&&pt(H,fe[1].engine);let Ce=$;$=je(fe),$===Ce?~$&&Te[$].p(fe,ye):(q&&(wt(),re(Te[Ce],1,1,()=>{Te[Ce]=null}),yt()),~$?(q=Te[$],q?q.p(fe,ye):(q=Te[$]=Ve[$](fe),q.c()),te(q,1),q.m(K,null)):q=null),(Pe=fe[1])!=null&&Pe.enabled?be?(be.p(fe,ye),ye[0]&2&&te(be,1)):(be=mn(fe),be.c(),te(be,1),be.m(ce.parentNode,ce)):be&&(wt(),re(be,1,1,()=>{be=null}),yt())},i(fe){ne||(te(p.$$.fragment,fe),te(q),te(be),ne=!0)},o(fe){re(p.$$.fragment,fe),re(q),re(be),ne=!1},d(fe){fe&&(u(e),u(W),u(Y),u(ee),u(K),u(z),u(ce)),at(p),~$&&Te[$].d(),be&&be.d(fe),ge=!1,Kt(me)}}}function ku(s){let e,t,l=s[5].t("OpenAI API Config")+"",a,o,i,c,f,v,b,g,m,p,y;function k(E){s[24](E)}let w={placeholder:s[5].t("API Key")};return s[1].openai.OPENAI_API_KEY!==void 0&&(w.value=s[1].openai.OPENAI_API_KEY),b=new kl({props:w}),Ct.push(()=>jt(b,"value",k)),{c(){e=d("div"),t=d("div"),a=O(l),o=D(),i=d("div"),c=d("input"),v=D(),tt(b.$$.fragment),this.h()},l(E){e=h(E,"DIV",{});var I=_(e);t=h(I,"DIV",{class:!0});var T=_(t);a=P(T,l),T.forEach(u),o=A(I),i=h(I,"DIV",{class:!0});var V=_(i);c=h(V,"INPUT",{class:!0,placeholder:!0}),v=A(V),lt(b.$$.fragment,V),V.forEach(u),I.forEach(u),this.h()},h(){n(t,"class","mb-1.5 text-sm font-medium"),n(c,"class","flex-1 w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(c,"placeholder",f=s[5].t("API Base URL")),c.required=!0,n(i,"class","flex gap-2 mb-1")},m(E,I){M(E,e,I),r(e,t),r(t,a),r(e,o),r(e,i),r(i,c),Q(c,s[1].openai.OPENAI_API_BASE_URL),r(i,v),st(b,i,null),m=!0,p||(y=le(c,"input",s[23]),p=!0)},p(E,I){(!m||I[0]&32)&&l!==(l=E[5].t("OpenAI API Config")+"")&&U(a,l),(!m||I[0]&32&&f!==(f=E[5].t("API Base URL")))&&n(c,"placeholder",f),I[0]&2&&c.value!==E[1].openai.OPENAI_API_BASE_URL&&Q(c,E[1].openai.OPENAI_API_BASE_URL);const T={};I[0]&32&&(T.placeholder=E[5].t("API Key")),!g&&I[0]&2&&(g=!0,T.value=E[1].openai.OPENAI_API_KEY,$t(()=>g=!1)),b.$set(T)},i(E){m||(te(b.$$.fragment,E),m=!0)},o(E){re(b.$$.fragment,E),m=!1},d(E){E&&u(e),at(b),p=!1,y()}}}function wu(s){let e,t,l=s[5].t("ComfyUI Base URL")+"",a,o,i,c,f,v,b,g,m='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z" clip-rule="evenodd"></path></svg>',p,y,k,w=s[5].t("ComfyUI Workflow")+"",E,I,T,V,S,H,L,F,x=s[5].t("Click here to upload a workflow.json file.")+"",R,J,j,B=s[5].t("Make sure to export a workflow.json file as API format from ComfyUI.")+"",G,N,C,W,Y,ee,K=s[1].comfyui.COMFYUI_WORKFLOW&&vn(s),$=s[1].comfyui.COMFYUI_WORKFLOW&&pn(s);return{c(){e=d("div"),t=d("div"),a=O(l),o=D(),i=d("div"),c=d("div"),f=d("input"),b=D(),g=d("button"),g.innerHTML=m,p=D(),y=d("div"),k=d("div"),E=O(w),I=D(),K&&K.c(),T=D(),V=d("div"),S=d("div"),H=d("input"),L=D(),F=d("button"),R=O(x),J=D(),j=d("div"),G=O(B),N=D(),$&&$.c(),C=Gt(),this.h()},l(q){e=h(q,"DIV",{class:!0});var z=_(e);t=h(z,"DIV",{class:!0});var ce=_(t);a=P(ce,l),ce.forEach(u),o=A(z),i=h(z,"DIV",{class:!0});var ne=_(i);c=h(ne,"DIV",{class:!0});var ge=_(c);f=h(ge,"INPUT",{class:!0,placeholder:!0}),ge.forEach(u),b=A(ne),g=h(ne,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ct(g)!=="svelte-3652k3"&&(g.innerHTML=m),ne.forEach(u),z.forEach(u),p=A(q),y=h(q,"DIV",{class:!0});var me=_(y);k=h(me,"DIV",{class:!0});var Oe=_(k);E=P(Oe,w),Oe.forEach(u),I=A(me),K&&K.l(me),T=A(me),V=h(me,"DIV",{class:!0});var qe=_(V);S=h(qe,"DIV",{class:!0});var Ve=_(S);H=h(Ve,"INPUT",{id:!0,type:!0,accept:!0}),L=A(Ve),F=h(Ve,"BUTTON",{class:!0,type:!0});var Te=_(F);R=P(Te,x),Te.forEach(u),Ve.forEach(u),qe.forEach(u),J=A(me),j=h(me,"DIV",{class:!0});var je=_(j);G=P(je,B),je.forEach(u),me.forEach(u),N=A(q),$&&$.l(q),C=Gt(),this.h()},h(){n(t,"class","mb-2 text-sm font-medium"),n(f,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(f,"placeholder",v=s[5].t("Enter URL (e.g. http://127.0.0.1:7860/)")),n(c,"class","flex-1 mr-2"),n(g,"class","px-2.5 bg-gray-50 hover:bg-gray-100 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),n(g,"type","button"),n(i,"class","flex w-full"),n(e,"class",""),n(k,"class","mb-2 text-sm font-medium"),n(H,"id","upload-comfyui-workflow-input"),H.hidden=!0,n(H,"type","file"),n(H,"accept",".json"),n(F,"class","w-full text-sm font-medium py-2 bg-transparent hover:bg-gray-100 border border-dashed dark:border-gray-800 dark:hover:bg-gray-850 text-center rounded-xl"),n(F,"type","button"),n(S,"class","flex-1"),n(V,"class","flex w-full"),n(j,"class","mt-2 text-xs text-gray-400 dark:text-gray-500"),n(y,"class","")},m(q,z){M(q,e,z),r(e,t),r(t,a),r(e,o),r(e,i),r(i,c),r(c,f),Q(f,s[1].comfyui.COMFYUI_BASE_URL),r(i,b),r(i,g),M(q,p,z),M(q,y,z),r(y,k),r(k,E),r(y,I),K&&K.m(y,null),r(y,T),r(y,V),r(V,S),r(S,H),r(S,L),r(S,F),r(F,R),r(y,J),r(y,j),r(j,G),M(q,N,z),$&&$.m(q,z),M(q,C,z),W=!0,Y||(ee=[le(f,"input",s[16]),le(g,"click",s[17]),le(H,"change",s[19]),le(F,"click",s[20])],Y=!0)},p(q,z){(!W||z[0]&32)&&l!==(l=q[5].t("ComfyUI Base URL")+"")&&U(a,l),(!W||z[0]&32&&v!==(v=q[5].t("Enter URL (e.g. http://127.0.0.1:7860/)")))&&n(f,"placeholder",v),z[0]&2&&f.value!==q[1].comfyui.COMFYUI_BASE_URL&&Q(f,q[1].comfyui.COMFYUI_BASE_URL),(!W||z[0]&32)&&w!==(w=q[5].t("ComfyUI Workflow")+"")&&U(E,w),q[1].comfyui.COMFYUI_WORKFLOW?K?K.p(q,z):(K=vn(q),K.c(),K.m(y,T)):K&&(K.d(1),K=null),(!W||z[0]&32)&&x!==(x=q[5].t("Click here to upload a workflow.json file.")+"")&&U(R,x),(!W||z[0]&32)&&B!==(B=q[5].t("Make sure to export a workflow.json file as API format from ComfyUI.")+"")&&U(G,B),q[1].comfyui.COMFYUI_WORKFLOW?$?($.p(q,z),z[0]&2&&te($,1)):($=pn(q),$.c(),te($,1),$.m(C.parentNode,C)):$&&(wt(),re($,1,1,()=>{$=null}),yt())},i(q){W||(te($),W=!0)},o(q){re($),W=!1},d(q){q&&(u(e),u(p),u(y),u(N),u(C)),K&&K.d(),$&&$.d(q),Y=!1,Kt(ee)}}}function yu(s){let e,t,l=s[5].t("AUTOMATIC1111 Base URL")+"",a,o,i,c,f,v,b,g,m='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z" clip-rule="evenodd"></path></svg>',p,y,k=s[5].t("Include `--api` flag when running stable-diffusion-webui")+"",w,E,I,T=s[5].t("(e.g. `sh webui.sh --api`)")+"",V,S,H,L,F=s[5].t("AUTOMATIC1111 Api Auth String")+"",x,R,J,j,B,G,N=s[5].t("Include `--api-auth` flag when running stable-diffusion-webui")+"",C,W,Y,ee=s[5].t("(e.g. `sh webui.sh --api --api-auth username_password`)").replace("_",":")+"",K,$,q,z;function ce(ge){s[15](ge)}let ne={placeholder:s[5].t("Enter api auth string (e.g. username:password)"),required:!1};return s[1].automatic1111.AUTOMATIC1111_API_AUTH!==void 0&&(ne.value=s[1].automatic1111.AUTOMATIC1111_API_AUTH),J=new kl({props:ne}),Ct.push(()=>jt(J,"value",ce)),{c(){e=d("div"),t=d("div"),a=O(l),o=D(),i=d("div"),c=d("div"),f=d("input"),b=D(),g=d("button"),g.innerHTML=m,p=D(),y=d("div"),w=O(k),E=D(),I=d("a"),V=O(T),S=D(),H=d("div"),L=d("div"),x=O(F),R=D(),tt(J.$$.fragment),B=D(),G=d("div"),C=O(N),W=D(),Y=d("a"),K=O(ee),this.h()},l(ge){e=h(ge,"DIV",{});var me=_(e);t=h(me,"DIV",{class:!0});var Oe=_(t);a=P(Oe,l),Oe.forEach(u),o=A(me),i=h(me,"DIV",{class:!0});var qe=_(i);c=h(qe,"DIV",{class:!0});var Ve=_(c);f=h(Ve,"INPUT",{class:!0,placeholder:!0}),Ve.forEach(u),b=A(qe),g=h(qe,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ct(g)!=="svelte-3652k3"&&(g.innerHTML=m),qe.forEach(u),p=A(me),y=h(me,"DIV",{class:!0});var Te=_(y);w=P(Te,k),E=A(Te),I=h(Te,"A",{class:!0,href:!0,target:!0});var je=_(I);V=P(je,T),je.forEach(u),Te.forEach(u),me.forEach(u),S=A(ge),H=h(ge,"DIV",{});var be=_(H);L=h(be,"DIV",{class:!0});var Me=_(L);x=P(Me,F),Me.forEach(u),R=A(be),lt(J.$$.fragment,be),B=A(be),G=h(be,"DIV",{class:!0});var fe=_(G);C=P(fe,N),W=A(fe),Y=h(fe,"A",{class:!0,href:!0,target:!0});var ye=_(Y);K=P(ye,ee),ye.forEach(u),fe.forEach(u),be.forEach(u),this.h()},h(){n(t,"class","mb-2 text-sm font-medium"),n(f,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(f,"placeholder",v=s[5].t("Enter URL (e.g. http://127.0.0.1:7860/)")),n(c,"class","flex-1 mr-2"),n(g,"class","px-2.5 bg-gray-50 hover:bg-gray-100 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),n(g,"type","button"),n(i,"class","flex w-full"),n(I,"class","text-gray-300 font-medium"),n(I,"href","https://github.com/AUTOMATIC1111/stable-diffusion-webui/discussions/3734"),n(I,"target","_blank"),n(y,"class","mt-2 text-xs text-gray-400 dark:text-gray-500"),n(L,"class","mb-2 text-sm font-medium"),n(Y,"class","text-gray-300 font-medium"),n(Y,"href","https://github.com/AUTOMATIC1111/stable-diffusion-webui/discussions/13993"),n(Y,"target","_blank"),n(G,"class","mt-2 text-xs text-gray-400 dark:text-gray-500")},m(ge,me){M(ge,e,me),r(e,t),r(t,a),r(e,o),r(e,i),r(i,c),r(c,f),Q(f,s[1].automatic1111.AUTOMATIC1111_BASE_URL),r(i,b),r(i,g),r(e,p),r(e,y),r(y,w),r(y,E),r(y,I),r(I,V),M(ge,S,me),M(ge,H,me),r(H,L),r(L,x),r(H,R),st(J,H,null),r(H,B),r(H,G),r(G,C),r(G,W),r(G,Y),r(Y,K),$=!0,q||(z=[le(f,"input",s[13]),le(g,"click",s[14])],q=!0)},p(ge,me){(!$||me[0]&32)&&l!==(l=ge[5].t("AUTOMATIC1111 Base URL")+"")&&U(a,l),(!$||me[0]&32&&v!==(v=ge[5].t("Enter URL (e.g. http://127.0.0.1:7860/)")))&&n(f,"placeholder",v),me[0]&2&&f.value!==ge[1].automatic1111.AUTOMATIC1111_BASE_URL&&Q(f,ge[1].automatic1111.AUTOMATIC1111_BASE_URL),(!$||me[0]&32)&&k!==(k=ge[5].t("Include `--api` flag when running stable-diffusion-webui")+"")&&U(w,k),(!$||me[0]&32)&&T!==(T=ge[5].t("(e.g. `sh webui.sh --api`)")+"")&&U(V,T),(!$||me[0]&32)&&F!==(F=ge[5].t("AUTOMATIC1111 Api Auth String")+"")&&U(x,F);const Oe={};me[0]&32&&(Oe.placeholder=ge[5].t("Enter api auth string (e.g. username:password)")),!j&&me[0]&2&&(j=!0,Oe.value=ge[1].automatic1111.AUTOMATIC1111_API_AUTH,$t(()=>j=!1)),J.$set(Oe),(!$||me[0]&32)&&N!==(N=ge[5].t("Include `--api-auth` flag when running stable-diffusion-webui")+"")&&U(C,N),(!$||me[0]&32)&&ee!==(ee=ge[5].t("(e.g. `sh webui.sh --api --api-auth username_password`)").replace("_",":")+"")&&U(K,ee)},i(ge){$||(te(J.$$.fragment,ge),$=!0)},o(ge){re(J.$$.fragment,ge),$=!1},d(ge){ge&&(u(e),u(S),u(H)),at(J),q=!1,Kt(z)}}}function vn(s){let e,t,l;return{c(){e=d("textarea"),this.h()},l(a){e=h(a,"TEXTAREA",{class:!0,rows:!0}),_(e).forEach(u),this.h()},h(){n(e,"class","w-full rounded-lg mb-1 py-2 px-4 text-xs bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none disabled:text-gray-600 resize-none"),n(e,"rows","10"),e.required=!0},m(a,o){M(a,e,o),Q(e,s[1].comfyui.COMFYUI_WORKFLOW),t||(l=le(e,"input",s[18]),t=!0)},p(a,o){o[0]&2&&Q(e,a[1].comfyui.COMFYUI_WORKFLOW)},d(a){a&&u(e),t=!1,l()}}}function pn(s){let e,t,l=s[5].t("ComfyUI Workflow Nodes")+"",a,o,i,c,f,v=s[5].t("*Prompt node ID(s) are required for image generation")+"",b,g,m=ot(s[4]),p=[];for(let k=0;k<m.length;k+=1)p[k]=gn(hn(s,m,k));const y=k=>re(p[k],1,1,()=>{p[k]=null});return{c(){e=d("div"),t=d("div"),a=O(l),o=D(),i=d("div");for(let k=0;k<p.length;k+=1)p[k].c();c=D(),f=d("div"),b=O(v),this.h()},l(k){e=h(k,"DIV",{class:!0});var w=_(e);t=h(w,"DIV",{class:!0});var E=_(t);a=P(E,l),E.forEach(u),o=A(w),i=h(w,"DIV",{class:!0});var I=_(i);for(let V=0;V<p.length;V+=1)p[V].l(I);I.forEach(u),c=A(w),f=h(w,"DIV",{class:!0});var T=_(f);b=P(T,v),T.forEach(u),w.forEach(u),this.h()},h(){n(t,"class","mb-2 text-sm font-medium"),n(i,"class","text-xs flex flex-col gap-1.5"),n(f,"class","mt-2 text-xs text-right text-gray-400 dark:text-gray-500"),n(e,"class","")},m(k,w){M(k,e,w),r(e,t),r(t,a),r(e,o),r(e,i);for(let E=0;E<p.length;E+=1)p[E]&&p[E].m(i,null);r(e,c),r(e,f),r(f,b),g=!0},p(k,w){if((!g||w[0]&32)&&l!==(l=k[5].t("ComfyUI Workflow Nodes")+"")&&U(a,l),w[0]&16){m=ot(k[4]);let E;for(E=0;E<m.length;E+=1){const I=hn(k,m,E);p[E]?(p[E].p(I,w),te(p[E],1)):(p[E]=gn(I),p[E].c(),te(p[E],1),p[E].m(i,null))}for(wt(),E=m.length;E<p.length;E+=1)y(E);yt()}(!g||w[0]&32)&&v!==(v=k[5].t("*Prompt node ID(s) are required for image generation")+"")&&U(b,v)},i(k){if(!g){for(let w=0;w<m.length;w+=1)te(p[w]);g=!0}},o(k){p=p.filter(Boolean);for(let w=0;w<p.length;w+=1)re(p[w]);g=!1},d(k){k&&u(e),Zt(p,k)}}}function Iu(s){let e,t,l;function a(){s[21].call(e,s[37],s[38])}return{c(){e=d("input"),this.h()},l(o){e=h(o,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){n(e,"class","py-1 px-3 w-24 text-xs text-center bg-transparent outline-none border-r dark:border-gray-850"),n(e,"placeholder","Key"),e.required=!0},m(o,i){M(o,e,i),Q(e,s[36].key),t||(l=le(e,"input",a),t=!0)},p(o,i){s=o,i[0]&16&&e.value!==s[36].key&&Q(e,s[36].key)},d(o){o&&u(e),t=!1,l()}}}function Tu(s){let e,t,l;function a(){s[22].call(e,s[37],s[38])}return{c(){e=d("input"),this.h()},l(o){e=h(o,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){n(e,"class","w-full py-1 px-4 rounded-r-lg text-xs bg-transparent outline-none"),n(e,"placeholder","Node Ids")},m(o,i){M(o,e,i),Q(e,s[36].node_ids),t||(l=le(e,"input",a),t=!0)},p(o,i){s=o,i[0]&16&&e.value!==s[36].node_ids&&Q(e,s[36].node_ids)},d(o){o&&u(e),t=!1,l()}}}function gn(s){let e,t,l,a=s[36].type+"",o,i=s[36].type==="prompt"?"*":"",c,f,v,b,g,m,p,y,k;return b=new ul({props:{content:"Input Key (e.g. text, unet_name, steps)",$$slots:{default:[Iu]},$$scope:{ctx:s}}}),p=new ul({props:{content:"Comma separated Node Ids (e.g. 1 or 1,2)",placement:"top-start",$$slots:{default:[Tu]},$$scope:{ctx:s}}}),{c(){e=d("div"),t=d("div"),l=d("div"),o=O(a),c=O(i),f=D(),v=d("div"),tt(b.$$.fragment),g=D(),m=d("div"),tt(p.$$.fragment),y=D(),this.h()},l(w){e=h(w,"DIV",{class:!0});var E=_(e);t=h(E,"DIV",{class:!0});var I=_(t);l=h(I,"DIV",{class:!0});var T=_(l);o=P(T,a),c=P(T,i),T.forEach(u),I.forEach(u),f=A(E),v=h(E,"DIV",{class:!0});var V=_(v);lt(b.$$.fragment,V),V.forEach(u),g=A(E),m=h(E,"DIV",{class:!0});var S=_(m);lt(p.$$.fragment,S),S.forEach(u),y=A(E),E.forEach(u),this.h()},h(){n(l,"class","capitalize line-clamp-1 font-medium px-3 py-1 w-20 text-center rounded-l-lg bg-green-500/10 text-green-700 dark:text-green-200"),n(t,"class","flex-shrink-0"),n(v,"class",""),n(m,"class","w-full"),n(e,"class","flex w-full items-center border dark:border-gray-850 rounded-lg")},m(w,E){M(w,e,E),r(e,t),r(t,l),r(l,o),r(l,c),r(e,f),r(e,v),st(b,v,null),r(e,g),r(e,m),st(p,m,null),r(e,y),k=!0},p(w,E){(!k||E[0]&16)&&a!==(a=w[36].type+"")&&U(o,a),(!k||E[0]&16)&&i!==(i=w[36].type==="prompt"?"*":"")&&U(c,i);const I={};E[0]&16|E[1]&256&&(I.$$scope={dirty:E,ctx:w}),b.$set(I);const T={};E[0]&16|E[1]&256&&(T.$$scope={dirty:E,ctx:w}),p.$set(T)},i(w){k||(te(b.$$.fragment,w),te(p.$$.fragment,w),k=!0)},o(w){re(b.$$.fragment,w),re(p.$$.fragment,w),k=!1},d(w){w&&u(e),at(b),at(p)}}}function mn(s){let e,t,l,a,o=s[5].t("Set Default Model")+"",i,c,f,v,b,g,m,p,y,k,w=s[5].t("Set Image Size")+"",E,I,T,V,S,H,L,F,x=s[5].t("Set Steps")+"",R,J,j,B,G,N;return m=new ul({props:{content:s[5].t("Enter Model ID"),placement:"top-start",$$slots:{default:[Du]},$$scope:{ctx:s}}}),S=new ul({props:{content:s[5].t("Enter Image Size (e.g. 512x512)"),placement:"top-start",$$slots:{default:[Au]},$$scope:{ctx:s}}}),G=new ul({props:{content:s[5].t("Enter Number of Steps (e.g. 50)"),placement:"top-start",$$slots:{default:[Vu]},$$scope:{ctx:s}}}),{c(){e=d("hr"),t=D(),l=d("div"),a=d("div"),i=O(o),c=D(),f=d("div"),v=d("div"),b=d("div"),g=d("div"),tt(m.$$.fragment),p=D(),y=d("div"),k=d("div"),E=O(w),I=D(),T=d("div"),V=d("div"),tt(S.$$.fragment),H=D(),L=d("div"),F=d("div"),R=O(x),J=D(),j=d("div"),B=d("div"),tt(G.$$.fragment),this.h()},l(C){e=h(C,"HR",{class:!0}),t=A(C),l=h(C,"DIV",{});var W=_(l);a=h(W,"DIV",{class:!0});var Y=_(a);i=P(Y,o),Y.forEach(u),c=A(W),f=h(W,"DIV",{class:!0});var ee=_(f);v=h(ee,"DIV",{class:!0});var K=_(v);b=h(K,"DIV",{class:!0});var $=_(b);g=h($,"DIV",{class:!0});var q=_(g);lt(m.$$.fragment,q),q.forEach(u),$.forEach(u),K.forEach(u),ee.forEach(u),W.forEach(u),p=A(C),y=h(C,"DIV",{});var z=_(y);k=h(z,"DIV",{class:!0});var ce=_(k);E=P(ce,w),ce.forEach(u),I=A(z),T=h(z,"DIV",{class:!0});var ne=_(T);V=h(ne,"DIV",{class:!0});var ge=_(V);lt(S.$$.fragment,ge),ge.forEach(u),ne.forEach(u),z.forEach(u),H=A(C),L=h(C,"DIV",{});var me=_(L);F=h(me,"DIV",{class:!0});var Oe=_(F);R=P(Oe,x),Oe.forEach(u),J=A(me),j=h(me,"DIV",{class:!0});var qe=_(j);B=h(qe,"DIV",{class:!0});var Ve=_(B);lt(G.$$.fragment,Ve),Ve.forEach(u),qe.forEach(u),me.forEach(u),this.h()},h(){n(e,"class","dark:border-gray-850"),n(a,"class","mb-2.5 text-sm font-medium"),n(g,"class","flex-1"),n(b,"class","flex w-full"),n(v,"class","flex-1 mr-2"),n(f,"class","flex w-full"),n(k,"class","mb-2.5 text-sm font-medium"),n(V,"class","flex-1 mr-2"),n(T,"class","flex w-full"),n(F,"class","mb-2.5 text-sm font-medium"),n(B,"class","flex-1 mr-2"),n(j,"class","flex w-full")},m(C,W){M(C,e,W),M(C,t,W),M(C,l,W),r(l,a),r(a,i),r(l,c),r(l,f),r(f,v),r(v,b),r(b,g),st(m,g,null),M(C,p,W),M(C,y,W),r(y,k),r(k,E),r(y,I),r(y,T),r(T,V),st(S,V,null),M(C,H,W),M(C,L,W),r(L,F),r(F,R),r(L,J),r(L,j),r(j,B),st(G,B,null),N=!0},p(C,W){(!N||W[0]&32)&&o!==(o=C[5].t("Set Default Model")+"")&&U(i,o);const Y={};W[0]&32&&(Y.content=C[5].t("Enter Model ID")),W[0]&12|W[1]&256&&(Y.$$scope={dirty:W,ctx:C}),m.$set(Y),(!N||W[0]&32)&&w!==(w=C[5].t("Set Image Size")+"")&&U(E,w);const ee={};W[0]&32&&(ee.content=C[5].t("Enter Image Size (e.g. 512x512)")),W[0]&36|W[1]&256&&(ee.$$scope={dirty:W,ctx:C}),S.$set(ee),(!N||W[0]&32)&&x!==(x=C[5].t("Set Steps")+"")&&U(R,x);const K={};W[0]&32&&(K.content=C[5].t("Enter Number of Steps (e.g. 50)")),W[0]&36|W[1]&256&&(K.$$scope={dirty:W,ctx:C}),G.$set(K)},i(C){N||(te(m.$$.fragment,C),te(S.$$.fragment,C),te(G.$$.fragment,C),N=!0)},o(C){re(m.$$.fragment,C),re(S.$$.fragment,C),re(G.$$.fragment,C),N=!1},d(C){C&&(u(e),u(t),u(l),u(p),u(y),u(H),u(L)),at(m),at(S),at(G)}}}function bn(s){let e,t=s[33].name+"",l,a;return{c(){e=d("option"),l=O(t),this.h()},l(o){e=h(o,"OPTION",{});var i=_(e);l=P(i,t),i.forEach(u),this.h()},h(){e.__value=a=s[33].id,Q(e,e.__value)},m(o,i){M(o,e,i),r(e,l)},p(o,i){i[0]&8&&t!==(t=o[33].name+"")&&U(l,t),i[0]&8&&a!==(a=o[33].id)&&(e.__value=a,Q(e,e.__value))},d(o){o&&u(e)}}}function Du(s){let e,t,l,a,o,i=ot(s[3]??[]),c=[];for(let f=0;f<i.length;f+=1)c[f]=bn(dn(s,i,f));return{c(){e=d("input"),t=D(),l=d("datalist");for(let f=0;f<c.length;f+=1)c[f].c();this.h()},l(f){e=h(f,"INPUT",{list:!0,class:!0,placeholder:!0}),t=A(f),l=h(f,"DATALIST",{id:!0});var v=_(l);for(let b=0;b<c.length;b+=1)c[b].l(v);v.forEach(u),this.h()},h(){n(e,"list","model-list"),n(e,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(e,"placeholder","Select a model"),e.required=!0,n(l,"id","model-list")},m(f,v){M(f,e,v),Q(e,s[2].MODEL),M(f,t,v),M(f,l,v);for(let b=0;b<c.length;b+=1)c[b]&&c[b].m(l,null);a||(o=le(e,"input",s[25]),a=!0)},p(f,v){if(v[0]&4&&e.value!==f[2].MODEL&&Q(e,f[2].MODEL),v[0]&8){i=ot(f[3]??[]);let b;for(b=0;b<i.length;b+=1){const g=dn(f,i,b);c[b]?c[b].p(g,v):(c[b]=bn(g),c[b].c(),c[b].m(l,null))}for(;b<c.length;b+=1)c[b].d(1);c.length=i.length}},d(f){f&&(u(e),u(t),u(l)),Zt(c,f),a=!1,o()}}}function Au(s){let e,t,l,a;return{c(){e=d("input"),this.h()},l(o){e=h(o,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){n(e,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(e,"placeholder",t=s[5].t("Enter Image Size (e.g. 512x512)")),e.required=!0},m(o,i){M(o,e,i),Q(e,s[2].IMAGE_SIZE),l||(a=le(e,"input",s[26]),l=!0)},p(o,i){i[0]&32&&t!==(t=o[5].t("Enter Image Size (e.g. 512x512)"))&&n(e,"placeholder",t),i[0]&4&&e.value!==o[2].IMAGE_SIZE&&Q(e,o[2].IMAGE_SIZE)},d(o){o&&u(e),l=!1,a()}}}function Vu(s){let e,t,l,a;return{c(){e=d("input"),this.h()},l(o){e=h(o,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){n(e,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(e,"placeholder",t=s[5].t("Enter Number of Steps (e.g. 50)")),e.required=!0},m(o,i){M(o,e,i),Q(e,s[2].IMAGE_STEPS),l||(a=le(e,"input",s[27]),l=!0)},p(o,i){i[0]&32&&t!==(t=o[5].t("Enter Number of Steps (e.g. 50)"))&&n(e,"placeholder",t),i[0]&4&&e.value!==o[2].IMAGE_STEPS&&Q(e,o[2].IMAGE_STEPS)},d(o){o&&u(e),l=!1,a()}}}function En(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
								transform-origin: center;
								animation: spinner_AtaB 0.75s infinite linear;
							}
							@keyframes spinner_AtaB {
								100% {
									transform: rotate(360deg);
								}
							}
						</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),ct(e)!=="svelte-1hiv40m"&&(e.innerHTML=t),this.h()},h(){n(e,"class","ml-2 self-center")},m(l,a){M(l,e,a)},d(l){l&&u(e)}}}function Su(s){let e,t,l,a,o,i=s[5].t("Save")+"",c,f,v,b,g,m,p=s[1]&&s[2]&&_n(s),y=s[0]&&En();return{c(){e=d("form"),t=d("div"),p&&p.c(),l=D(),a=d("div"),o=d("button"),c=O(i),f=D(),y&&y.c(),this.h()},l(k){e=h(k,"FORM",{class:!0});var w=_(e);t=h(w,"DIV",{class:!0});var E=_(t);p&&p.l(E),E.forEach(u),l=A(w),a=h(w,"DIV",{class:!0});var I=_(a);o=h(I,"BUTTON",{class:!0,type:!0});var T=_(o);c=P(T,i),f=A(T),y&&y.l(T),T.forEach(u),I.forEach(u),w.forEach(u),this.h()},h(){n(t,"class","space-y-3 overflow-y-scroll scrollbar-hidden pr-2"),n(o,"class",v="px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg flex flex-row space-x-1 items-center "+(s[0]?" cursor-not-allowed":"")),n(o,"type","submit"),o.disabled=s[0],n(a,"class","flex justify-end pt-3 text-sm font-medium"),n(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(k,w){M(k,e,w),r(e,t),p&&p.m(t,null),r(e,l),r(e,a),r(a,o),r(o,c),r(o,f),y&&y.m(o,null),b=!0,g||(m=le(e,"submit",Ml(s[28])),g=!0)},p(k,w){k[1]&&k[2]?p?(p.p(k,w),w[0]&6&&te(p,1)):(p=_n(k),p.c(),te(p,1),p.m(t,null)):p&&(wt(),re(p,1,1,()=>{p=null}),yt()),(!b||w[0]&32)&&i!==(i=k[5].t("Save")+"")&&U(c,i),k[0]?y||(y=En(),y.c(),y.m(o,null)):y&&(y.d(1),y=null),(!b||w[0]&1&&v!==(v="px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg flex flex-row space-x-1 items-center "+(k[0]?" cursor-not-allowed":"")))&&n(o,"class",v),(!b||w[0]&1)&&(o.disabled=k[0])},i(k){b||(te(p),b=!0)},o(k){re(p),b=!1},d(k){k&&u(e),p&&p.d(),y&&y.d(),g=!1,m()}}}function Mu(s,e,t){let l,a;zt(s,Ma,K=>t(29,l=K));const o=Ms(),i=bl("i18n");zt(s,i,K=>t(5,a=K));let c=!1,f=null,v=null,b=null,g=[{type:"prompt",key:"text",node_ids:""},{type:"model",key:"ckpt_name",node_ids:""},{type:"width",key:"width",node_ids:""},{type:"height",key:"height",node_ids:""},{type:"steps",key:"steps",node_ids:""},{type:"seed",key:"seed",node_ids:""}];const m=async()=>{t(3,b=await no(localStorage.token).catch(K=>(Ae.error(K),null)))},p=async()=>{const K=await Er(localStorage.token,f).catch($=>(Ae.error($),null));K&&t(1,f=K),f.enabled&&(Ul.set(await es()),m())},y=K=>{try{const $=JSON.parse(K);if($&&typeof $=="object")return!0}catch{}return!1},k=async()=>{var K,$;if(t(0,c=!0),(K=f==null?void 0:f.comfyui)!=null&&K.COMFYUI_WORKFLOW&&!y(f.comfyui.COMFYUI_WORKFLOW)){Ae.error("Invalid JSON format for ComfyUI Workflow."),t(0,c=!1);return}($=f==null?void 0:f.comfyui)!=null&&$.COMFYUI_WORKFLOW&&t(1,f.comfyui.COMFYUI_WORKFLOW_NODES=g.map(q=>({type:q.type,key:q.key,node_ids:q.node_ids.trim()===""?[]:q.node_ids.split(",").map(z=>z.trim())})),f),await Er(localStorage.token,f).catch(q=>(Ae.error(q),t(0,c=!1),null)),await io(localStorage.token,v).catch(q=>(Ae.error(q),t(0,c=!1),null)),m(),o("save"),t(0,c=!1)};El(async()=>{if(l.role==="admin"){const K=await ao(localStorage.token).catch(q=>(Ae.error(q),null));K&&t(1,f=K),f.enabled&&m(),f.comfyui.COMFYUI_WORKFLOW&&t(1,f.comfyui.COMFYUI_WORKFLOW=JSON.stringify(JSON.parse(f.comfyui.COMFYUI_WORKFLOW),null,2),f),t(4,g=g.map(q=>{const z=f.comfyui.COMFYUI_WORKFLOW_NODES.find(ce=>ce.type===q.type)??q;return console.log(z),{type:z.type,key:z.key,node_ids:typeof z.node_ids=="string"?z.node_ids:z.node_ids.join(",")}}));const $=await ro(localStorage.token).catch(q=>(Ae.error(q),null));$&&t(2,v=$)}});function w(K){s.$$.not_equal(f.enabled,K)&&(f.enabled=K,t(1,f))}const E=K=>{K.detail&&(f.engine==="automatic1111"&&f.automatic1111.AUTOMATIC1111_BASE_URL===""?(Ae.error(a.t("AUTOMATIC1111 Base URL is required.")),t(1,f.enabled=!1,f)):f.engine==="comfyui"&&f.comfyui.COMFYUI_BASE_URL===""?(Ae.error(a.t("ComfyUI Base URL is required.")),t(1,f.enabled=!1,f)):f.engine==="openai"&&f.openai.OPENAI_API_KEY===""&&(Ae.error(a.t("OpenAI API Key is required.")),t(1,f.enabled=!1,f))),p()};function I(){f.engine=qt(this),t(1,f)}const T=async()=>{p()};function V(){f.automatic1111.AUTOMATIC1111_BASE_URL=this.value,t(1,f)}const S=async()=>{await p(),await kr(localStorage.token).catch($=>(Ae.error($),null))&&Ae.success(a.t("Server connection verified"))};function H(K){s.$$.not_equal(f.automatic1111.AUTOMATIC1111_API_AUTH,K)&&(f.automatic1111.AUTOMATIC1111_API_AUTH=K,t(1,f))}function L(){f.comfyui.COMFYUI_BASE_URL=this.value,t(1,f)}const F=async()=>{await p(),await kr(localStorage.token).catch($=>(Ae.error($),null))&&Ae.success(a.t("Server connection verified"))};function x(){f.comfyui.COMFYUI_WORKFLOW=this.value,t(1,f)}const R=K=>{const $=K.target.files[0],q=new FileReader;q.onload=z=>{t(1,f.comfyui.COMFYUI_WORKFLOW=z.target.result,f),z.target.value=null},q.readAsText($)},J=()=>{var K;(K=document.getElementById("upload-comfyui-workflow-input"))==null||K.click()};function j(K,$){K[$].key=this.value,t(4,g)}function B(K,$){K[$].node_ids=this.value,t(4,g)}function G(){f.openai.OPENAI_API_BASE_URL=this.value,t(1,f)}function N(K){s.$$.not_equal(f.openai.OPENAI_API_KEY,K)&&(f.openai.OPENAI_API_KEY=K,t(1,f))}function C(){v.MODEL=this.value,t(2,v)}function W(){v.IMAGE_SIZE=this.value,t(2,v)}function Y(){v.IMAGE_STEPS=this.value,t(2,v)}return[c,f,v,b,g,a,i,p,k,w,E,I,T,V,S,H,L,F,x,R,J,j,B,G,N,C,W,Y,async()=>{k()}]}class Ou extends _l{constructor(e){super(),vl(this,e,Mu,Su,hl,{},null,[-1,-1])}}function kn(s,e,t){const l=s.slice();return l[27]=e[t],l[28]=e,l[29]=t,l}function wn(s,e,t){const l=s.slice();return l[30]=e[t],l[31]=e,l[32]=t,l}function yn(s,e,t){const l=s.slice();return l[33]=e[t],l}function In(s,e,t){const l=s.slice();return l[33]=e[t],l}function Pu(s){let e,t;return{c(){e=bt("svg"),t=bt("path"),this.h()},l(l){e=Et(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var a=_(e);t=Et(a,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),_(t).forEach(u),a.forEach(u),this.h()},h(){n(t,"stroke-linecap","round"),n(t,"stroke-linejoin","round"),n(t,"d","m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"fill","none"),n(e,"viewBox","0 0 24 24"),n(e,"stroke-width","1.5"),n(e,"stroke","currentColor"),n(e,"class","w-5 h-5")},m(l,a){M(l,e,a),r(e,t)},p:_t,d(l){l&&u(e)}}}function Tn(s){let e,t=s[33].name+"",l,a,o;return{c(){e=d("option"),l=O(t),a=D(),this.h()},l(i){e=h(i,"OPTION",{class:!0});var c=_(e);l=P(c,t),a=A(c),c.forEach(u),this.h()},h(){e.__value=o=s[33].id,Q(e,e.__value),n(e,"class","bg-gray-100 dark:bg-gray-700")},m(i,c){M(i,e,c),r(e,l),r(e,a)},p(i,c){c[0]&16&&t!==(t=i[33].name+"")&&U(l,t),c[0]&16&&o!==(o=i[33].id)&&(e.__value=o,Q(e,e.__value))},d(i){i&&u(e)}}}function Dn(s){let e,t=s[33].name+"",l,a,o;return{c(){e=d("option"),l=O(t),a=D(),this.h()},l(i){e=h(i,"OPTION",{class:!0});var c=_(e);l=P(c,t),a=A(c),c.forEach(u),this.h()},h(){e.__value=o=s[33].id,Q(e,e.__value),n(e,"class","bg-gray-100 dark:bg-gray-700")},m(i,c){M(i,e,c),r(e,l),r(e,a)},p(i,c){c[0]&16&&t!==(t=i[33].name+"")&&U(l,t),c[0]&16&&o!==(o=i[33].id)&&(e.__value=o,Q(e,e.__value))},d(i){i&&u(e)}}}function An(s){let e,t=s[3].t("Type")+"",l;return{c(){e=d("option"),l=O(t),this.h()},l(a){e=h(a,"OPTION",{class:!0});var o=_(e);l=P(o,t),o.forEach(u),this.h()},h(){e.__value="",Q(e,e.__value),e.selected=!0,e.disabled=!0,n(e,"class","text-gray-900")},m(a,o){M(a,e,o),r(e,l)},p(a,o){o[0]&8&&t!==(t=a[3].t("Type")+"")&&U(l,t)},d(a){a&&u(e)}}}function Lu(s){let e,t,l;function a(i){s[17](i,s[30])}let o={};return s[30].dismissible!==void 0&&(o.state=s[30].dismissible),e=new Vl({props:o}),Ct.push(()=>jt(e,"state",a)),{c(){tt(e.$$.fragment)},l(i){lt(e.$$.fragment,i)},m(i,c){st(e,i,c),l=!0},p(i,c){s=i;const f={};!t&&c[0]&4&&(t=!0,f.state=s[30].dismissible,$t(()=>t=!1)),e.$set(f)},i(i){l||(te(e.$$.fragment,i),l=!0)},o(i){re(e.$$.fragment,i),l=!1},d(i){at(e,i)}}}function Vn(s){let e,t,l,a,o=s[3].t("Info")+"",i,c,f=s[3].t("Warning")+"",v,b,g=s[3].t("Error")+"",m,p,y=s[3].t("Success")+"",k,w,E,I,T,V,S,H,L,F='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',x,R,J,j,B=s[30].type==""&&An(s);function G(){s[15].call(l,s[31],s[32])}function N(){s[16].call(E,s[31],s[32])}S=new ul({props:{content:s[3].t("Dismissible"),className:"flex h-fit items-center",$$slots:{default:[Lu]},$$scope:{ctx:s}}});function C(){return s[18](s[32])}return{c(){e=d("div"),t=d("div"),l=d("select"),B&&B.c(),a=d("option"),i=O(o),c=d("option"),v=O(f),b=d("option"),m=O(g),p=d("option"),k=O(y),w=D(),E=d("input"),T=D(),V=d("div"),tt(S.$$.fragment),H=D(),L=d("button"),L.innerHTML=F,x=D(),this.h()},l(W){e=h(W,"DIV",{class:!0});var Y=_(e);t=h(Y,"DIV",{class:!0});var ee=_(t);l=h(ee,"SELECT",{class:!0});var K=_(l);B&&B.l(K),a=h(K,"OPTION",{class:!0});var $=_(a);i=P($,o),$.forEach(u),c=h(K,"OPTION",{class:!0});var q=_(c);v=P(q,f),q.forEach(u),b=h(K,"OPTION",{class:!0});var z=_(b);m=P(z,g),z.forEach(u),p=h(K,"OPTION",{class:!0});var ce=_(p);k=P(ce,y),ce.forEach(u),K.forEach(u),w=A(ee),E=h(ee,"INPUT",{class:!0,placeholder:!0}),T=A(ee),V=h(ee,"DIV",{class:!0});var ne=_(V);lt(S.$$.fragment,ne),ne.forEach(u),ee.forEach(u),H=A(Y),L=h(Y,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ct(L)!=="svelte-nlagmo"&&(L.innerHTML=F),x=A(Y),Y.forEach(u),this.h()},h(){a.__value="info",Q(a,a.__value),n(a,"class","text-gray-900"),c.__value="warning",Q(c,c.__value),n(c,"class","text-gray-900"),b.__value="error",Q(b,b.__value),n(b,"class","text-gray-900"),p.__value="success",Q(p,p.__value),n(p,"class","text-gray-900"),n(l,"class","w-fit capitalize rounded-xl py-2 px-4 text-xs bg-transparent outline-none"),l.required=!0,s[30].type===void 0&&Yt(G),n(E,"class","pr-5 py-1.5 text-xs w-full bg-transparent outline-none"),n(E,"placeholder",I=s[3].t("Content")),n(V,"class","relative top-1.5 -left-2"),n(t,"class","flex flex-row flex-1 border rounded-xl dark:border-gray-800"),n(L,"class","px-2"),n(L,"type","button"),n(e,"class","flex justify-between")},m(W,Y){M(W,e,Y),r(e,t),r(t,l),B&&B.m(l,null),r(l,a),r(a,i),r(l,c),r(c,v),r(l,b),r(b,m),r(l,p),r(p,k),pt(l,s[30].type,!0),r(t,w),r(t,E),Q(E,s[30].content),r(t,T),r(t,V),st(S,V,null),r(e,H),r(e,L),r(e,x),R=!0,J||(j=[le(l,"change",G),le(E,"input",N),le(L,"click",C)],J=!0)},p(W,Y){s=W,s[30].type==""?B?B.p(s,Y):(B=An(s),B.c(),B.m(l,a)):B&&(B.d(1),B=null),(!R||Y[0]&8)&&o!==(o=s[3].t("Info")+"")&&U(i,o),(!R||Y[0]&8)&&f!==(f=s[3].t("Warning")+"")&&U(v,f),(!R||Y[0]&8)&&g!==(g=s[3].t("Error")+"")&&U(m,g),(!R||Y[0]&8)&&y!==(y=s[3].t("Success")+"")&&U(k,y),Y[0]&4&&pt(l,s[30].type),(!R||Y[0]&8&&I!==(I=s[3].t("Content")))&&n(E,"placeholder",I),Y[0]&4&&E.value!==s[30].content&&Q(E,s[30].content);const ee={};Y[0]&8&&(ee.content=s[3].t("Dismissible")),Y[0]&4|Y[1]&128&&(ee.$$scope={dirty:Y,ctx:s}),S.$set(ee)},i(W){R||(te(S.$$.fragment,W),R=!0)},o(W){re(S.$$.fragment,W),R=!1},d(W){W&&u(e),B&&B.d(),at(S),J=!1,Kt(j)}}}function Sn(s){let e,t,l,a=s[3].t("Default Prompt Suggestions")+"",o,i,c,f='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"></path></svg>',v,b,g,m,p,y=ot(s[1]),k=[];for(let E=0;E<y.length;E+=1)k[E]=Mn(kn(s,y,E));let w=s[1].length>0&&On(s);return{c(){e=d("div"),t=d("div"),l=d("div"),o=O(a),i=D(),c=d("button"),c.innerHTML=f,v=D(),b=d("div");for(let E=0;E<k.length;E+=1)k[E].c();g=D(),w&&w.c(),this.h()},l(E){e=h(E,"DIV",{class:!0});var I=_(e);t=h(I,"DIV",{class:!0});var T=_(t);l=h(T,"DIV",{class:!0});var V=_(l);o=P(V,a),V.forEach(u),i=A(T),c=h(T,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ct(c)!=="svelte-192kpg7"&&(c.innerHTML=f),T.forEach(u),v=A(I),b=h(I,"DIV",{class:!0});var S=_(b);for(let H=0;H<k.length;H+=1)k[H].l(S);S.forEach(u),g=A(I),w&&w.l(I),I.forEach(u),this.h()},h(){n(l,"class","self-center text-sm font-semibold"),n(c,"class","p-1 px-3 text-xs flex rounded transition"),n(c,"type","button"),n(t,"class","flex w-full justify-between mb-2"),n(b,"class","grid lg:grid-cols-2 flex-col gap-1.5"),n(e,"class","space-y-3")},m(E,I){M(E,e,I),r(e,t),r(t,l),r(l,o),r(t,i),r(t,c),r(e,v),r(e,b);for(let T=0;T<k.length;T+=1)k[T]&&k[T].m(b,null);r(e,g),w&&w.m(e,null),m||(p=le(c,"click",s[19]),m=!0)},p(E,I){if(I[0]&8&&a!==(a=E[3].t("Default Prompt Suggestions")+"")&&U(o,a),I[0]&10){y=ot(E[1]);let T;for(T=0;T<y.length;T+=1){const V=kn(E,y,T);k[T]?k[T].p(V,I):(k[T]=Mn(V),k[T].c(),k[T].m(b,null))}for(;T<k.length;T+=1)k[T].d(1);k.length=y.length}E[1].length>0?w?w.p(E,I):(w=On(E),w.c(),w.m(e,null)):w&&(w.d(1),w=null)},d(E){E&&u(e),Zt(k,E),w&&w.d(),m=!1,p()}}}function Mn(s){let e,t,l,a,o,i,c,f,v,b,g,m,p,y='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',k,w,E;function I(){s[20].call(a,s[28],s[29])}function T(){s[21].call(c,s[28],s[29])}function V(){s[22].call(b,s[28],s[29])}function S(){return s[23](s[29])}return{c(){e=d("div"),t=d("div"),l=d("div"),a=d("input"),i=D(),c=d("input"),v=D(),b=d("input"),m=D(),p=d("button"),p.innerHTML=y,k=D(),this.h()},l(H){e=h(H,"DIV",{class:!0});var L=_(e);t=h(L,"DIV",{class:!0});var F=_(t);l=h(F,"DIV",{class:!0});var x=_(l);a=h(x,"INPUT",{class:!0,placeholder:!0}),i=A(x),c=h(x,"INPUT",{class:!0,placeholder:!0}),x.forEach(u),v=A(F),b=h(F,"INPUT",{class:!0,placeholder:!0}),F.forEach(u),m=A(L),p=h(L,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ct(p)!=="svelte-1dyt8gv"&&(p.innerHTML=y),k=A(L),L.forEach(u),this.h()},h(){n(a,"class","px-3 py-1.5 text-xs w-full bg-transparent outline-none border-r border-gray-100 dark:border-gray-800"),n(a,"placeholder",o=s[3].t("Title (e.g. Tell me a fun fact)")),n(c,"class","px-3 py-1.5 text-xs w-full bg-transparent outline-none border-r border-gray-100 dark:border-gray-800"),n(c,"placeholder",f=s[3].t("Subtitle (e.g. about the Roman Empire)")),n(l,"class","flex border-b border-gray-100 dark:border-gray-800 w-full"),n(b,"class","px-3 py-1.5 text-xs w-full bg-transparent outline-none border-r border-gray-100 dark:border-gray-800"),n(b,"placeholder",g=s[3].t("Prompt (e.g. Tell me a fun fact about the Roman Empire)")),n(t,"class","flex flex-col flex-1 pl-1"),n(p,"class","px-3"),n(p,"type","button"),n(e,"class","flex border border-gray-100 dark:border-none dark:bg-gray-850 rounded-xl py-1.5")},m(H,L){M(H,e,L),r(e,t),r(t,l),r(l,a),Q(a,s[27].title[0]),r(l,i),r(l,c),Q(c,s[27].title[1]),r(t,v),r(t,b),Q(b,s[27].content),r(e,m),r(e,p),r(e,k),w||(E=[le(a,"input",I),le(c,"input",T),le(b,"input",V),le(p,"click",S)],w=!0)},p(H,L){s=H,L[0]&8&&o!==(o=s[3].t("Title (e.g. Tell me a fun fact)"))&&n(a,"placeholder",o),L[0]&2&&a.value!==s[27].title[0]&&Q(a,s[27].title[0]),L[0]&8&&f!==(f=s[3].t("Subtitle (e.g. about the Roman Empire)"))&&n(c,"placeholder",f),L[0]&2&&c.value!==s[27].title[1]&&Q(c,s[27].title[1]),L[0]&8&&g!==(g=s[3].t("Prompt (e.g. Tell me a fun fact about the Roman Empire)"))&&n(b,"placeholder",g),L[0]&2&&b.value!==s[27].content&&Q(b,s[27].content)},d(H){H&&u(e),w=!1,Kt(E)}}}function On(s){let e,t=s[3].t("Adjusting these settings will apply changes universally to all users.")+"",l;return{c(){e=d("div"),l=O(t),this.h()},l(a){e=h(a,"DIV",{class:!0});var o=_(e);l=P(o,t),o.forEach(u),this.h()},h(){n(e,"class","text-xs text-left w-full mt-2")},m(a,o){M(a,e,o),r(e,l)},p(a,o){o[0]&8&&t!==(t=a[3].t("Adjusting these settings will apply changes universally to all users.")+"")&&U(l,t)},d(a){a&&u(e)}}}function Nu(s){let e,t,l,a,o,i=s[3].t("Set Task Model")+"",c,f,v,b,g,m,p,y=s[3].t("Local Models")+"",k,w,E,I,T=s[3].t("Current Model")+"",V,S,H,L,F,x=s[3].t("External Models")+"",R,J,j,B,G=s[3].t("Current Model")+"",N,C,W,Y,ee,K=s[3].t("Title Generation Prompt")+"",$,q,z,ce,ne,ge,me=s[3].t("Search Query Generation Prompt")+"",Oe,qe,Ve,Te,je,be,Me=s[3].t("Search Query Generation Prompt Length Threshold")+"",fe,ye,Ze,Ce,Pe,et,Ne,He,Xe,de=s[3].t("Banners")+"",Se,ve,oe,Ee='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"></path></svg>',ae,ke,ze,De,he,ue,Ue,We=s[3].t("Save")+"",Fe,Ke,ut,nt;v=new ul({props:{content:s[3].t("A task model is used when performing tasks such as generating titles for chats and web search queries"),$$slots:{default:[Pu]},$$scope:{ctx:s}}});let it=ot(s[4].filter(Pn)),Je=[];for(let X=0;X<it.length;X+=1)Je[X]=Tn(In(s,it,X));let Ye=ot(s[4]),we=[];for(let X=0;X<Ye.length;X+=1)we[X]=Dn(yn(s,Ye,X));let ft=ot(s[2]),xe=[];for(let X=0;X<ft.length;X+=1)xe[X]=Vn(wn(s,ft,X));const Be=X=>re(xe[X],1,1,()=>{xe[X]=null});let ie=s[5].role==="admin"&&Sn(s);return{c(){e=d("form"),t=d("div"),l=d("div"),a=d("div"),o=d("div"),c=O(i),f=D(),tt(v.$$.fragment),b=D(),g=d("div"),m=d("div"),p=d("div"),k=O(y),w=D(),E=d("select"),I=d("option"),V=O(T);for(let X=0;X<Je.length;X+=1)Je[X].c();H=D(),L=d("div"),F=d("div"),R=O(x),J=D(),j=d("select"),B=d("option"),N=O(G);for(let X=0;X<we.length;X+=1)we[X].c();W=D(),Y=d("div"),ee=d("div"),$=O(K),q=D(),z=d("textarea"),ce=D(),ne=d("div"),ge=d("div"),Oe=O(me),qe=D(),Ve=d("textarea"),Te=D(),je=d("div"),be=d("div"),fe=O(Me),ye=D(),Ze=d("input"),Ce=D(),Pe=d("hr"),et=D(),Ne=d("div"),He=d("div"),Xe=d("div"),Se=O(de),ve=D(),oe=d("button"),oe.innerHTML=Ee,ae=D(),ke=d("div");for(let X=0;X<xe.length;X+=1)xe[X].c();De=D(),ie&&ie.c(),he=D(),ue=d("div"),Ue=d("button"),Fe=O(We),this.h()},l(X){e=h(X,"FORM",{class:!0});var Z=_(e);t=h(Z,"DIV",{class:!0});var se=_(t);l=h(se,"DIV",{});var _e=_(l);a=h(_e,"DIV",{class:!0});var Ge=_(a);o=h(Ge,"DIV",{class:!0});var gt=_(o);c=P(gt,i),gt.forEach(u),f=A(Ge),lt(v.$$.fragment,Ge),Ge.forEach(u),b=A(_e),g=h(_e,"DIV",{class:!0});var Tt=_(g);m=h(Tt,"DIV",{class:!0});var Dt=_(m);p=h(Dt,"DIV",{class:!0});var St=_(p);k=P(St,y),St.forEach(u),w=A(Dt),E=h(Dt,"SELECT",{class:!0,placeholder:!0});var Pt=_(E);I=h(Pt,"OPTION",{});var Rt=_(I);V=P(Rt,T),Rt.forEach(u);for(let Qe=0;Qe<Je.length;Qe+=1)Je[Qe].l(Pt);Pt.forEach(u),Dt.forEach(u),H=A(Tt),L=h(Tt,"DIV",{class:!0});var Mt=_(L);F=h(Mt,"DIV",{class:!0});var Le=_(F);R=P(Le,x),Le.forEach(u),J=A(Mt),j=h(Mt,"SELECT",{class:!0,placeholder:!0});var Ie=_(j);B=h(Ie,"OPTION",{});var It=_(B);N=P(It,G),It.forEach(u);for(let Qe=0;Qe<we.length;Qe+=1)we[Qe].l(Ie);Ie.forEach(u),Mt.forEach(u),Tt.forEach(u),W=A(_e),Y=h(_e,"DIV",{class:!0});var At=_(Y);ee=h(At,"DIV",{class:!0});var Ht=_(ee);$=P(Ht,K),Ht.forEach(u),q=A(At),z=h(At,"TEXTAREA",{class:!0,rows:!0}),_(z).forEach(u),At.forEach(u),ce=A(_e),ne=h(_e,"DIV",{class:!0});var vt=_(ne);ge=h(vt,"DIV",{class:!0});var ht=_(ge);Oe=P(ht,me),ht.forEach(u),qe=A(vt),Ve=h(vt,"TEXTAREA",{class:!0,rows:!0}),_(Ve).forEach(u),vt.forEach(u),Te=A(_e),je=h(_e,"DIV",{class:!0});var mt=_(je);be=h(mt,"DIV",{class:!0});var rt=_(be);fe=P(rt,Me),rt.forEach(u),ye=A(mt),Ze=h(mt,"INPUT",{class:!0,type:!0}),mt.forEach(u),_e.forEach(u),Ce=A(se),Pe=h(se,"HR",{class:!0}),et=A(se),Ne=h(se,"DIV",{class:!0});var Nt=_(Ne);He=h(Nt,"DIV",{class:!0});var Ut=_(He);Xe=h(Ut,"DIV",{class:!0});var Wt=_(Xe);Se=P(Wt,de),Wt.forEach(u),ve=A(Ut),oe=h(Ut,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ct(oe)!=="svelte-1nhoygc"&&(oe.innerHTML=Ee),Ut.forEach(u),ae=A(Nt),ke=h(Nt,"DIV",{class:!0});var Ot=_(ke);for(let Qe=0;Qe<xe.length;Qe+=1)xe[Qe].l(Ot);Ot.forEach(u),Nt.forEach(u),De=A(se),ie&&ie.l(se),se.forEach(u),he=A(Z),ue=h(Z,"DIV",{class:!0});var Lt=_(ue);Ue=h(Lt,"BUTTON",{class:!0,type:!0});var Re=_(Ue);Fe=P(Re,We),Re.forEach(u),Lt.forEach(u),Z.forEach(u),this.h()},h(){n(o,"class","mr-1"),n(a,"class","mb-2.5 text-sm font-medium flex"),n(p,"class","text-xs mb-1"),I.__value="",Q(I,I.__value),I.selected=!0,n(E,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(E,"placeholder",S=s[3].t("Select a model")),s[0].TASK_MODEL===void 0&&Yt(()=>s[9].call(E)),n(m,"class","flex-1"),n(F,"class","text-xs mb-1"),B.__value="",Q(B,B.__value),B.selected=!0,n(j,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(j,"placeholder",C=s[3].t("Select a model")),s[0].TASK_MODEL_EXTERNAL===void 0&&Yt(()=>s[10].call(j)),n(L,"class","flex-1"),n(g,"class","flex w-full gap-2"),n(ee,"class","mb-2.5 text-sm font-medium"),n(z,"class","w-full rounded-lg py-3 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none resize-none"),n(z,"rows","6"),n(Y,"class","mt-3"),n(ge,"class","mb-2.5 text-sm font-medium"),n(Ve,"class","w-full rounded-lg py-3 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none resize-none"),n(Ve,"rows","6"),n(ne,"class","mt-3"),n(be,"class","mb-2.5 text-sm font-medium"),n(Ze,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none resize-none"),n(Ze,"type","number"),n(je,"class","mt-3"),n(Pe,"class","dark:border-gray-850 my-3"),n(Xe,"class","self-center text-sm font-semibold"),n(oe,"class","p-1 px-3 text-xs flex rounded transition"),n(oe,"type","button"),n(He,"class","flex w-full justify-between"),n(ke,"class","flex flex-col space-y-1"),n(Ne,"class",ze="space-y-3 "+(s[2].length>0?" mb-3":"")),n(t,"class","overflow-y-scroll scrollbar-hidden h-full pr-1.5"),n(Ue,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),n(Ue,"type","submit"),n(ue,"class","flex justify-end text-sm font-medium"),n(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(X,Z){M(X,e,Z),r(e,t),r(t,l),r(l,a),r(a,o),r(o,c),r(a,f),st(v,a,null),r(l,b),r(l,g),r(g,m),r(m,p),r(p,k),r(m,w),r(m,E),r(E,I),r(I,V);for(let se=0;se<Je.length;se+=1)Je[se]&&Je[se].m(E,null);pt(E,s[0].TASK_MODEL,!0),r(g,H),r(g,L),r(L,F),r(F,R),r(L,J),r(L,j),r(j,B),r(B,N);for(let se=0;se<we.length;se+=1)we[se]&&we[se].m(j,null);pt(j,s[0].TASK_MODEL_EXTERNAL,!0),r(l,W),r(l,Y),r(Y,ee),r(ee,$),r(Y,q),r(Y,z),Q(z,s[0].TITLE_GENERATION_PROMPT_TEMPLATE),r(l,ce),r(l,ne),r(ne,ge),r(ge,Oe),r(ne,qe),r(ne,Ve),Q(Ve,s[0].SEARCH_QUERY_GENERATION_PROMPT_TEMPLATE),r(l,Te),r(l,je),r(je,be),r(be,fe),r(je,ye),r(je,Ze),Q(Ze,s[0].SEARCH_QUERY_PROMPT_LENGTH_THRESHOLD),r(t,Ce),r(t,Pe),r(t,et),r(t,Ne),r(Ne,He),r(He,Xe),r(Xe,Se),r(He,ve),r(He,oe),r(Ne,ae),r(Ne,ke);for(let se=0;se<xe.length;se+=1)xe[se]&&xe[se].m(ke,null);r(t,De),ie&&ie.m(t,null),r(e,he),r(e,ue),r(ue,Ue),r(Ue,Fe),Ke=!0,ut||(nt=[le(E,"change",s[9]),le(j,"change",s[10]),le(z,"input",s[11]),le(Ve,"input",s[12]),le(Ze,"input",s[13]),le(oe,"click",s[14]),le(e,"submit",Ml(s[24]))],ut=!0)},p(X,Z){(!Ke||Z[0]&8)&&i!==(i=X[3].t("Set Task Model")+"")&&U(c,i);const se={};if(Z[0]&8&&(se.content=X[3].t("A task model is used when performing tasks such as generating titles for chats and web search queries")),Z[1]&128&&(se.$$scope={dirty:Z,ctx:X}),v.$set(se),(!Ke||Z[0]&8)&&y!==(y=X[3].t("Local Models")+"")&&U(k,y),(!Ke||Z[0]&8)&&T!==(T=X[3].t("Current Model")+"")&&U(V,T),Z[0]&16){it=ot(X[4].filter(Pn));let _e;for(_e=0;_e<it.length;_e+=1){const Ge=In(X,it,_e);Je[_e]?Je[_e].p(Ge,Z):(Je[_e]=Tn(Ge),Je[_e].c(),Je[_e].m(E,null))}for(;_e<Je.length;_e+=1)Je[_e].d(1);Je.length=it.length}if((!Ke||Z[0]&8&&S!==(S=X[3].t("Select a model")))&&n(E,"placeholder",S),Z[0]&17&&pt(E,X[0].TASK_MODEL),(!Ke||Z[0]&8)&&x!==(x=X[3].t("External Models")+"")&&U(R,x),(!Ke||Z[0]&8)&&G!==(G=X[3].t("Current Model")+"")&&U(N,G),Z[0]&16){Ye=ot(X[4]);let _e;for(_e=0;_e<Ye.length;_e+=1){const Ge=yn(X,Ye,_e);we[_e]?we[_e].p(Ge,Z):(we[_e]=Dn(Ge),we[_e].c(),we[_e].m(j,null))}for(;_e<we.length;_e+=1)we[_e].d(1);we.length=Ye.length}if((!Ke||Z[0]&8&&C!==(C=X[3].t("Select a model")))&&n(j,"placeholder",C),Z[0]&17&&pt(j,X[0].TASK_MODEL_EXTERNAL),(!Ke||Z[0]&8)&&K!==(K=X[3].t("Title Generation Prompt")+"")&&U($,K),Z[0]&17&&Q(z,X[0].TITLE_GENERATION_PROMPT_TEMPLATE),(!Ke||Z[0]&8)&&me!==(me=X[3].t("Search Query Generation Prompt")+"")&&U(Oe,me),Z[0]&17&&Q(Ve,X[0].SEARCH_QUERY_GENERATION_PROMPT_TEMPLATE),(!Ke||Z[0]&8)&&Me!==(Me=X[3].t("Search Query Generation Prompt Length Threshold")+"")&&U(fe,Me),Z[0]&17&&xt(Ze.value)!==X[0].SEARCH_QUERY_PROMPT_LENGTH_THRESHOLD&&Q(Ze,X[0].SEARCH_QUERY_PROMPT_LENGTH_THRESHOLD),(!Ke||Z[0]&8)&&de!==(de=X[3].t("Banners")+"")&&U(Se,de),Z[0]&12){ft=ot(X[2]);let _e;for(_e=0;_e<ft.length;_e+=1){const Ge=wn(X,ft,_e);xe[_e]?(xe[_e].p(Ge,Z),te(xe[_e],1)):(xe[_e]=Vn(Ge),xe[_e].c(),te(xe[_e],1),xe[_e].m(ke,null))}for(wt(),_e=ft.length;_e<xe.length;_e+=1)Be(_e);yt()}(!Ke||Z[0]&4&&ze!==(ze="space-y-3 "+(X[2].length>0?" mb-3":"")))&&n(Ne,"class",ze),X[5].role==="admin"?ie?ie.p(X,Z):(ie=Sn(X),ie.c(),ie.m(t,null)):ie&&(ie.d(1),ie=null),(!Ke||Z[0]&8)&&We!==(We=X[3].t("Save")+"")&&U(Fe,We)},i(X){if(!Ke){te(v.$$.fragment,X);for(let Z=0;Z<ft.length;Z+=1)te(xe[Z]);Ke=!0}},o(X){re(v.$$.fragment,X),xe=xe.filter(Boolean);for(let Z=0;Z<xe.length;Z+=1)re(xe[Z]);Ke=!1},d(X){X&&u(e),at(v),Zt(Je,X),Zt(we,X),Zt(xe,X),ie&&ie.d(),ut=!1,Kt(nt)}}}const Pn=s=>s.owned_by==="ollama";function Uu(s,e,t){let l,a,o,i;zt(s,Ul,G=>t(25,l=G)),zt(s,nl,G=>t(4,o=G)),zt(s,Ma,G=>t(5,i=G));const c=Ms(),f=bl("i18n");zt(s,f,G=>t(3,a=G));let v={TASK_MODEL:"",TASK_MODEL_EXTERNAL:"",TITLE_GENERATION_PROMPT_TEMPLATE:"",SEARCH_QUERY_GENERATION_PROMPT_TEMPLATE:"",SEARCH_QUERY_PROMPT_LENGTH_THRESHOLD:0},b=[],g=[];const m=async()=>{t(0,v=await zi(localStorage.token,v)),t(1,b=await Ji(localStorage.token,b)),await p(),await Ul.set(await es())};El(async()=>{t(0,v=await Wi(localStorage.token)),t(1,b=l==null?void 0:l.default_prompt_suggestions),t(2,g=await Qi(localStorage.token))});const p=async()=>{Vi.set(await Xi(localStorage.token,g))};function y(){v.TASK_MODEL=qt(this),t(0,v)}function k(){v.TASK_MODEL_EXTERNAL=qt(this),t(0,v)}function w(){v.TITLE_GENERATION_PROMPT_TEMPLATE=this.value,t(0,v)}function E(){v.SEARCH_QUERY_GENERATION_PROMPT_TEMPLATE=this.value,t(0,v)}function I(){v.SEARCH_QUERY_PROMPT_LENGTH_THRESHOLD=xt(this.value),t(0,v)}const T=()=>{(g.length===0||g.at(-1).content!=="")&&t(2,g=[...g,{id:so(),type:"",title:"",content:"",dismissible:!0,timestamp:Math.floor(Date.now()/1e3)}])};function V(G,N){G[N].type=qt(this),t(2,g)}function S(G,N){G[N].content=this.value,t(2,g)}function H(G,N){s.$$.not_equal(N.dismissible,G)&&(N.dismissible=G,t(2,g))}const L=G=>{g.splice(G,1),t(2,g)},F=()=>{(b.length===0||b.at(-1).content!=="")&&t(1,b=[...b,{content:"",title:["",""]}])};function x(G,N){G[N].title[0]=this.value,t(1,b)}function R(G,N){G[N].title[1]=this.value,t(1,b)}function J(G,N){G[N].content=this.value,t(1,b)}return[v,b,g,a,o,i,c,f,m,y,k,w,E,I,T,V,S,H,L,F,x,R,J,G=>{b.splice(G,1),t(1,b)},()=>{m(),c("save")}]}class Cu extends _l{constructor(e){super(),vl(this,e,Uu,Nu,hl,{},null,[-1,-1])}}function Ln(s,e,t){const l=s.slice();return l[59]=e[t],l}function Nn(s,e,t){const l=s.slice();return l[59]=e[t],l}function Un(s,e,t){const l=s.slice();return l[64]=e[t],l[66]=t,l}function Ru(s){let e,t,l,a;return l=new bs({props:{className:"size-6"}}),{c(){e=d("div"),t=d("div"),tt(l.$$.fragment),this.h()},l(o){e=h(o,"DIV",{class:!0});var i=_(e);t=h(i,"DIV",{class:!0});var c=_(t);lt(l.$$.fragment,c),c.forEach(u),i.forEach(u),this.h()},h(){n(t,"class","my-auto"),n(e,"class","flex h-full justify-center")},m(o,i){M(o,e,i),r(e,t),st(l,t,null),a=!0},p:_t,i(o){a||(te(l.$$.fragment,o),a=!0)},o(o){re(l.$$.fragment,o),a=!1},d(o){o&&u(e),at(l)}}}function Hu(s){let e,t=s[24].t("Ollama API is disabled")+"",l;return{c(){e=d("div"),l=O(t)},l(a){e=h(a,"DIV",{});var o=_(e);l=P(o,t),o.forEach(u)},m(a,o){M(a,e,o),r(e,l)},p(a,o){o[0]&16777216&&t!==(t=a[24].t("Ollama API is disabled")+"")&&U(l,t)},i:_t,o:_t,d(a){a&&u(e)}}}function Bu(s){let e,t,l,a;const o=[Zu,ju,$u],i=[];function c(f,v){return f[8]!==null?0:f[8]===!1?1:2}return e=c(s),t=i[e]=o[e](s),{c(){t.c(),l=Gt()},l(f){t.l(f),l=Gt()},m(f,v){i[e].m(f,v),M(f,l,v),a=!0},p(f,v){let b=e;e=c(f),e===b?i[e].p(f,v):(wt(),re(i[b],1,1,()=>{i[b]=null}),yt(),t=i[e],t?t.p(f,v):(t=i[e]=o[e](f),t.c()),te(t,1),t.m(l.parentNode,l))},i(f){a||(te(t),a=!0)},o(f){re(t),a=!1},d(f){f&&u(l),i[e].d(f)}}}function $u(s){let e,t,l,a;return l=new bs({props:{className:"size-6"}}),{c(){e=d("div"),t=d("div"),tt(l.$$.fragment),this.h()},l(o){e=h(o,"DIV",{class:!0});var i=_(e);t=h(i,"DIV",{class:!0});var c=_(t);lt(l.$$.fragment,c),c.forEach(u),i.forEach(u),this.h()},h(){n(t,"class","my-auto"),n(e,"class","flex h-full justify-center")},m(o,i){M(o,e,i),r(e,t),st(l,t,null),a=!0},p:_t,i(o){a||(te(l.$$.fragment,o),a=!0)},o(o){re(l.$$.fragment,o),a=!1},d(o){o&&u(e),at(l)}}}function ju(s){let e,t="Ollama Not Detected";return{c(){e=d("div"),e.textContent=t},l(l){e=h(l,"DIV",{"data-svelte-h":!0}),ct(e)!=="svelte-1tqefd"&&(e.textContent=t)},m(l,a){M(l,e,a)},p:_t,i:_t,o:_t,d(l){l&&u(e)}}}function Zu(s){let e,t,l=s[24].t("Manage Ollama Models")+"",a,o,i,c,f,v,b=s[24].t("Pull a model from Ollama.com")+"",g,m,p,y,k,w,E,I,T,V,S=s[24].t("To access the available model names for downloading,")+"",H,L,F,x=s[24].t("click here.")+"",R,J,j=Object.keys(s[25]).length>0,B,G,N,C=s[24].t("Delete a model")+"",W,Y,ee,K,$,q,z,ce,ne,ge='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M5 3.25V4H2.75a.75.75 0 0 0 0 1.5h.3l.815 8.15A1.5 1.5 0 0 0 5.357 15h5.285a1.5 1.5 0 0 0 1.493-1.35l.815-8.15h.3a.75.75 0 0 0 0-1.5H11v-.75A2.25 2.25 0 0 0 8.75 1h-1.5A2.25 2.25 0 0 0 5 3.25Zm2.25-.75a.75.75 0 0 0-.75.75V4h3v-.75a.75.75 0 0 0-.75-.75h-1.5ZM6.05 6a.75.75 0 0 1 .787.713l.275 5.5a.75.75 0 0 1-1.498.075l-.275-5.5A.75.75 0 0 1 6.05 6Zm3.9 0a.75.75 0 0 1 .712.787l-.275 5.5a.75.75 0 0 1-1.498-.075l.275-5.5a.75.75 0 0 1 .786-.711Z" clip-rule="evenodd"></path></svg>',me,Oe,qe,Ve=s[24].t("Create a model")+"",Te,je,be,Me,fe,ye,Ze,Ce,Pe,et,Ne,He,Xe,de,Se,ve,oe,Ee,ae,ke=s[24].t("Experimental")+"",ze,De,he,ue=(s[7]?s[24].t("Hide"):s[24].t("Show"))+"",Ue,We,Fe,Ke,ut,nt=s[3].length>0&&Cn(s);function it(Z,se){return Z[9]?Wu:Ku}let Je=it(s),Ye=Je(s),we=j&&Bn(s),ft=!s[23]&&Gn(s),xe=ot(s[26].filter(s[41])),Be=[];for(let Z=0;Z<xe.length;Z+=1)Be[Z]=Kn(Ln(s,xe,Z));let ie=s[14]!==""&&Wn(s),X=s[7]&&Fn(s);return{c(){e=d("div"),t=d("div"),a=O(l),o=D(),nt&&nt.c(),i=D(),c=d("div"),f=d("div"),v=d("div"),g=O(b),m=D(),p=d("div"),y=d("div"),k=d("input"),E=D(),I=d("button"),Ye.c(),T=D(),V=d("div"),H=O(S),L=D(),F=d("a"),R=O(x),J=D(),we&&we.c(),B=D(),G=d("div"),N=d("div"),W=O(C),Y=D(),ee=d("div"),K=d("div"),$=d("select"),ft&&ft.c(),q=Gt();for(let Z=0;Z<Be.length;Z+=1)Be[Z].c();ce=D(),ne=d("button"),ne.innerHTML=ge,me=D(),Oe=d("div"),qe=d("div"),Te=O(Ve),je=D(),be=d("div"),Me=d("div"),fe=d("input"),Ze=D(),Ce=d("textarea"),Pe=D(),et=d("div"),Ne=d("button"),He=bt("svg"),Xe=bt("path"),de=bt("path"),Se=D(),ie&&ie.c(),ve=D(),oe=d("div"),Ee=d("div"),ae=d("div"),ze=O(ke),De=D(),he=d("button"),Ue=O(ue),We=D(),X&&X.c(),this.h()},l(Z){e=h(Z,"DIV",{class:!0});var se=_(e);t=h(se,"DIV",{class:!0});var _e=_(t);a=P(_e,l),_e.forEach(u),o=A(se),nt&&nt.l(se),i=A(se),c=h(se,"DIV",{class:!0});var Ge=_(c);f=h(Ge,"DIV",{});var gt=_(f);v=h(gt,"DIV",{class:!0});var Tt=_(v);g=P(Tt,b),Tt.forEach(u),m=A(gt),p=h(gt,"DIV",{class:!0});var Dt=_(p);y=h(Dt,"DIV",{class:!0});var St=_(y);k=h(St,"INPUT",{class:!0,placeholder:!0}),St.forEach(u),E=A(Dt),I=h(Dt,"BUTTON",{class:!0});var Pt=_(I);Ye.l(Pt),Pt.forEach(u),Dt.forEach(u),T=A(gt),V=h(gt,"DIV",{class:!0});var Rt=_(V);H=P(Rt,S),L=A(Rt),F=h(Rt,"A",{class:!0,href:!0,target:!0});var Mt=_(F);R=P(Mt,x),Mt.forEach(u),Rt.forEach(u),J=A(gt),we&&we.l(gt),gt.forEach(u),B=A(Ge),G=h(Ge,"DIV",{});var Le=_(G);N=h(Le,"DIV",{class:!0});var Ie=_(N);W=P(Ie,C),Ie.forEach(u),Y=A(Le),ee=h(Le,"DIV",{class:!0});var It=_(ee);K=h(It,"DIV",{class:!0});var At=_(K);$=h(At,"SELECT",{class:!0,placeholder:!0});var Ht=_($);ft&&ft.l(Ht),q=Gt();for(let dt=0;dt<Be.length;dt+=1)Be[dt].l(Ht);Ht.forEach(u),At.forEach(u),ce=A(It),ne=h(It,"BUTTON",{class:!0,"data-svelte-h":!0}),ct(ne)!=="svelte-2dig6p"&&(ne.innerHTML=ge),It.forEach(u),Le.forEach(u),me=A(Ge),Oe=h(Ge,"DIV",{});var vt=_(Oe);qe=h(vt,"DIV",{class:!0});var ht=_(qe);Te=P(ht,Ve),ht.forEach(u),je=A(vt),be=h(vt,"DIV",{class:!0});var mt=_(be);Me=h(mt,"DIV",{class:!0});var rt=_(Me);fe=h(rt,"INPUT",{class:!0,placeholder:!0}),Ze=A(rt),Ce=h(rt,"TEXTAREA",{class:!0,rows:!0,placeholder:!0}),_(Ce).forEach(u),rt.forEach(u),Pe=A(mt),et=h(mt,"DIV",{class:!0});var Nt=_(et);Ne=h(Nt,"BUTTON",{class:!0});var Ut=_(Ne);He=Et(Ut,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var Wt=_(He);Xe=Et(Wt,"path",{d:!0}),_(Xe).forEach(u),de=Et(Wt,"path",{d:!0}),_(de).forEach(u),Wt.forEach(u),Ut.forEach(u),Nt.forEach(u),mt.forEach(u),Se=A(vt),ie&&ie.l(vt),vt.forEach(u),ve=A(Ge),oe=h(Ge,"DIV",{class:!0});var Ot=_(oe);Ee=h(Ot,"DIV",{class:!0});var Lt=_(Ee);ae=h(Lt,"DIV",{class:!0});var Re=_(ae);ze=P(Re,ke),Re.forEach(u),De=A(Lt),he=h(Lt,"BUTTON",{class:!0,type:!0});var Qe=_(he);Ue=P(Qe,ue),Qe.forEach(u),Lt.forEach(u),Ot.forEach(u),We=A(Ge),X&&X.l(Ge),Ge.forEach(u),se.forEach(u),this.h()},h(){n(t,"class","text-sm font-medium"),n(v,"class","mb-2 text-sm font-medium"),n(k,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(k,"placeholder",w=s[24].t("Enter model tag (e.g. {{modelTag}})",{modelTag:"mistral:7b"})),n(y,"class","flex-1 mr-2"),n(I,"class","px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),I.disabled=s[9],n(p,"class","flex w-full"),n(F,"class","text-gray-500 dark:text-gray-300 font-medium underline"),n(F,"href","https://ollama.com/library"),n(F,"target","_blank"),n(V,"class","mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500"),n(N,"class","mb-2 text-sm font-medium"),n($,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n($,"placeholder",z=s[24].t("Select a model")),s[23]===void 0&&Yt(()=>s[42].call($)),n(K,"class","flex-1 mr-2"),n(ne,"class","px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),n(ee,"class","flex w-full"),n(qe,"class","mb-2 text-sm font-medium"),n(fe,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(fe,"placeholder",ye=s[24].t("Enter model tag (e.g. {{modelTag}})",{modelTag:"my-modelfile"})),fe.disabled=s[11],n(Ce,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-100 dark:bg-gray-850 outline-none resize-none scrollbar-hidden"),n(Ce,"rows","6"),n(Ce,"placeholder",`TEMPLATE """{{ .System }}
USER: {{ .Prompt }}
ASSISTANT: """
PARAMETER num_ctx 4096
PARAMETER stop "</s>"
PARAMETER stop "USER:"
PARAMETER stop "ASSISTANT:"`),Ce.disabled=s[11],n(Me,"class","flex-1 mr-2 flex flex-col gap-2"),n(Xe,"d","M7.25 10.25a.75.75 0 0 0 1.5 0V4.56l2.22 2.22a.75.75 0 1 0 1.06-1.06l-3.5-3.5a.75.75 0 0 0-1.06 0l-3.5 3.5a.75.75 0 0 0 1.06 1.06l2.22-2.22v5.69Z"),n(de,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),n(He,"xmlns","http://www.w3.org/2000/svg"),n(He,"viewBox","0 0 16 16"),n(He,"fill","currentColor"),n(He,"class","size-4"),n(Ne,"class","px-2.5 py-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition disabled:cursor-not-allowed"),Ne.disabled=s[11],n(et,"class","flex self-start"),n(be,"class","flex w-full"),n(ae,"class","text-sm font-medium"),n(he,"class","text-xs font-medium text-gray-500"),n(he,"type","button"),n(Ee,"class","flex justify-between items-center text-xs"),n(oe,"class","pt-1"),n(c,"class","space-y-2"),n(e,"class","space-y-2 pr-1.5")},m(Z,se){M(Z,e,se),r(e,t),r(t,a),r(e,o),nt&&nt.m(e,null),r(e,i),r(e,c),r(c,f),r(f,v),r(v,g),r(f,m),r(f,p),r(p,y),r(y,k),Q(k,s[10]),r(p,E),r(p,I),Ye.m(I,null),r(f,T),r(f,V),r(V,H),r(V,L),r(V,F),r(F,R),r(f,J),we&&we.m(f,null),r(c,B),r(c,G),r(G,N),r(N,W),r(G,Y),r(G,ee),r(ee,K),r(K,$),ft&&ft.m($,null),r($,q);for(let _e=0;_e<Be.length;_e+=1)Be[_e]&&Be[_e].m($,null);pt($,s[23],!0),r(ee,ce),r(ee,ne),r(c,me),r(c,Oe),r(Oe,qe),r(qe,Te),r(Oe,je),r(Oe,be),r(be,Me),r(Me,fe),Q(fe,s[12]),r(Me,Ze),r(Me,Ce),Q(Ce,s[13]),r(be,Pe),r(be,et),r(et,Ne),r(Ne,He),r(He,Xe),r(He,de),r(Oe,Se),ie&&ie.m(Oe,null),r(c,ve),r(c,oe),r(oe,Ee),r(Ee,ae),r(ae,ze),r(Ee,De),r(Ee,he),r(he,Ue),r(c,We),X&&X.m(c,null),Fe=!0,Ke||(ut=[le(k,"input",s[38]),le(I,"click",s[39]),le($,"change",s[42]),le(ne,"click",s[43]),le(fe,"input",s[44]),le(Ce,"input",s[45]),le(Ne,"click",s[46]),le(he,"click",s[47])],Ke=!0)},p(Z,se){if((!Fe||se[0]&16777216)&&l!==(l=Z[24].t("Manage Ollama Models")+"")&&U(a,l),Z[3].length>0?nt?(nt.p(Z,se),se[0]&8&&te(nt,1)):(nt=Cn(Z),nt.c(),te(nt,1),nt.m(e,i)):nt&&(wt(),re(nt,1,1,()=>{nt=null}),yt()),(!Fe||se[0]&16777216)&&b!==(b=Z[24].t("Pull a model from Ollama.com")+"")&&U(g,b),(!Fe||se[0]&16777216&&w!==(w=Z[24].t("Enter model tag (e.g. {{modelTag}})",{modelTag:"mistral:7b"})))&&n(k,"placeholder",w),se[0]&1024&&k.value!==Z[10]&&Q(k,Z[10]),Je!==(Je=it(Z))&&(Ye.d(1),Ye=Je(Z),Ye&&(Ye.c(),Ye.m(I,null))),(!Fe||se[0]&512)&&(I.disabled=Z[9]),(!Fe||se[0]&16777216)&&S!==(S=Z[24].t("To access the available model names for downloading,")+"")&&U(H,S),(!Fe||se[0]&16777216)&&x!==(x=Z[24].t("click here.")+"")&&U(R,x),se[0]&33554432&&(j=Object.keys(Z[25]).length>0),j?we?(we.p(Z,se),se[0]&33554432&&te(we,1)):(we=Bn(Z),we.c(),te(we,1),we.m(f,null)):we&&(wt(),re(we,1,1,()=>{we=null}),yt()),(!Fe||se[0]&16777216)&&C!==(C=Z[24].t("Delete a model")+"")&&U(W,C),Z[23]?ft&&(ft.d(1),ft=null):ft?ft.p(Z,se):(ft=Gn(Z),ft.c(),ft.m($,q)),se[0]&67108880){xe=ot(Z[26].filter(Z[41]));let _e;for(_e=0;_e<xe.length;_e+=1){const Ge=Ln(Z,xe,_e);Be[_e]?Be[_e].p(Ge,se):(Be[_e]=Kn(Ge),Be[_e].c(),Be[_e].m($,null))}for(;_e<Be.length;_e+=1)Be[_e].d(1);Be.length=xe.length}(!Fe||se[0]&16777216&&z!==(z=Z[24].t("Select a model")))&&n($,"placeholder",z),se[0]&75497488&&pt($,Z[23]),(!Fe||se[0]&16777216)&&Ve!==(Ve=Z[24].t("Create a model")+"")&&U(Te,Ve),(!Fe||se[0]&16777216&&ye!==(ye=Z[24].t("Enter model tag (e.g. {{modelTag}})",{modelTag:"my-modelfile"})))&&n(fe,"placeholder",ye),(!Fe||se[0]&2048)&&(fe.disabled=Z[11]),se[0]&4096&&fe.value!==Z[12]&&Q(fe,Z[12]),(!Fe||se[0]&2048)&&(Ce.disabled=Z[11]),se[0]&8192&&Q(Ce,Z[13]),(!Fe||se[0]&2048)&&(Ne.disabled=Z[11]),Z[14]!==""?ie?ie.p(Z,se):(ie=Wn(Z),ie.c(),ie.m(Oe,null)):ie&&(ie.d(1),ie=null),(!Fe||se[0]&16777216)&&ke!==(ke=Z[24].t("Experimental")+"")&&U(ze,ke),(!Fe||se[0]&16777344)&&ue!==(ue=(Z[7]?Z[24].t("Hide"):Z[24].t("Show"))+"")&&U(Ue,ue),Z[7]?X?X.p(Z,se):(X=Fn(Z),X.c(),X.m(c,null)):X&&(X.d(1),X=null)},i(Z){Fe||(te(nt),te(we),Fe=!0)},o(Z){re(nt),re(we),Fe=!1},d(Z){Z&&u(e),nt&&nt.d(),Ye.d(),we&&we.d(),ft&&ft.d(),Zt(Be,Z),ie&&ie.d(),X&&X.d(),Ke=!1,Kt(ut)}}}function Cn(s){let e,t,l,a,o,i,c,f,v,b,g,m,p,y=ot(s[3]),k=[];for(let E=0;E<y.length;E+=1)k[E]=Rn(Un(s,y,E));f=new ul({props:{content:"Update All Models",placement:"top",$$slots:{default:[Gu]},$$scope:{ctx:s}}});let w=s[5]&&Hn(s);return{c(){e=d("div"),t=d("div"),l=d("select");for(let E=0;E<k.length;E+=1)k[E].c();o=D(),i=d("div"),c=d("div"),tt(f.$$.fragment),v=D(),w&&w.c(),b=Gt(),this.h()},l(E){e=h(E,"DIV",{class:!0});var I=_(e);t=h(I,"DIV",{class:!0});var T=_(t);l=h(T,"SELECT",{class:!0,placeholder:!0});var V=_(l);for(let L=0;L<k.length;L+=1)k[L].l(V);V.forEach(u),T.forEach(u),o=A(I),i=h(I,"DIV",{});var S=_(i);c=h(S,"DIV",{class:!0});var H=_(c);lt(f.$$.fragment,H),H.forEach(u),S.forEach(u),I.forEach(u),v=A(E),w&&w.l(E),b=Gt(),this.h()},h(){n(l,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(l,"placeholder",a=s[24].t("Select an Ollama instance")),s[4]===void 0&&Yt(()=>s[36].call(l)),n(t,"class","flex-1 pb-1"),n(c,"class","flex w-full justify-end"),n(e,"class","flex gap-2")},m(E,I){M(E,e,I),r(e,t),r(t,l);for(let T=0;T<k.length;T+=1)k[T]&&k[T].m(l,null);pt(l,s[4],!0),r(e,o),r(e,i),r(i,c),st(f,c,null),M(E,v,I),w&&w.m(E,I),M(E,b,I),g=!0,m||(p=le(l,"change",s[36]),m=!0)},p(E,I){if(I[0]&8){y=ot(E[3]);let V;for(V=0;V<y.length;V+=1){const S=Un(E,y,V);k[V]?k[V].p(S,I):(k[V]=Rn(S),k[V].c(),k[V].m(l,null))}for(;V<k.length;V+=1)k[V].d(1);k.length=y.length}(!g||I[0]&16777216&&a!==(a=E[24].t("Select an Ollama instance")))&&n(l,"placeholder",a),I[0]&16&&pt(l,E[4]);const T={};I[2]&32&&(T.$$scope={dirty:I,ctx:E}),f.$set(T),E[5]?w?w.p(E,I):(w=Hn(E),w.c(),w.m(b.parentNode,b)):w&&(w.d(1),w=null)},i(E){g||(te(f.$$.fragment,E),g=!0)},o(E){re(f.$$.fragment,E),g=!1},d(E){E&&(u(e),u(v),u(b)),Zt(k,E),at(f),w&&w.d(E),m=!1,p()}}}function Rn(s){let e,t=s[64]+"",l;return{c(){e=d("option"),l=O(t),this.h()},l(a){e=h(a,"OPTION",{class:!0});var o=_(e);l=P(o,t),o.forEach(u),this.h()},h(){e.__value=s[66],Q(e,e.__value),n(e,"class","bg-gray-50 dark:bg-gray-700")},m(a,o){M(a,e,o),r(e,l)},p(a,o){o[0]&8&&t!==(t=a[64]+"")&&U(l,t)},d(a){a&&u(e)}}}function Gu(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M7 1a.75.75 0 0 1 .75.75V6h-1.5V1.75A.75.75 0 0 1 7 1ZM6.25 6v2.94L5.03 7.72a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06L7.75 8.94V6H10a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2.25Z"></path><path d="M4.268 14A2 2 0 0 0 6 15h6a2 2 0 0 0 2-2v-3a2 2 0 0 0-1-1.732V11a3 3 0 0 1-3 3H4.268Z"></path></svg>',l,a;return{c(){e=d("button"),e.innerHTML=t,this.h()},l(o){e=h(o,"BUTTON",{class:!0,"data-svelte-h":!0}),ct(e)!=="svelte-149ekpm"&&(e.innerHTML=t),this.h()},h(){n(e,"class","p-2.5 flex gap-2 items-center bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition")},m(o,i){M(o,e,i),l||(a=le(e,"click",s[37]),l=!0)},p:_t,d(o){o&&u(e),l=!1,a()}}}function Hn(s){let e,t,l,a=s[6]?`(${s[6]}%)`:"",o;return{c(){e=O('Updating "'),t=O(s[5]),l=O('" '),o=O(a)},l(i){e=P(i,'Updating "'),t=P(i,s[5]),l=P(i,'" '),o=P(i,a)},m(i,c){M(i,e,c),M(i,t,c),M(i,l,c),M(i,o,c)},p(i,c){c[0]&32&&U(t,i[5]),c[0]&64&&a!==(a=i[6]?`(${i[6]}%)`:"")&&U(o,a)},d(i){i&&(u(e),u(t),u(l),u(o))}}}function Ku(s){let e,t,l;return{c(){e=bt("svg"),t=bt("path"),l=bt("path"),this.h()},l(a){e=Et(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var o=_(e);t=Et(o,"path",{d:!0}),_(t).forEach(u),l=Et(o,"path",{d:!0}),_(l).forEach(u),o.forEach(u),this.h()},h(){n(t,"d","M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"),n(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"viewBox","0 0 16 16"),n(e,"fill","currentColor"),n(e,"class","w-4 h-4")},m(a,o){M(a,e,o),r(e,t),r(e,l)},d(a){a&&u(e)}}}function Wu(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
														transform-origin: center;
														animation: spinner_AtaB 0.75s infinite linear;
													}

													@keyframes spinner_AtaB {
														100% {
															transform: rotate(360deg);
														}
													}
												</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),ct(e)!=="svelte-j1a4yh"&&(e.innerHTML=t),this.h()},h(){n(e,"class","self-center")},m(l,a){M(l,e,a)},d(l){l&&u(e)}}}function Bn(s){let e,t,l=ot(Object.keys(s[25])),a=[];for(let i=0;i<l.length;i+=1)a[i]=Zn(Nn(s,l,i));const o=i=>re(a[i],1,1,()=>{a[i]=null});return{c(){for(let i=0;i<a.length;i+=1)a[i].c();e=Gt()},l(i){for(let c=0;c<a.length;c+=1)a[c].l(i);e=Gt()},m(i,c){for(let f=0;f<a.length;f+=1)a[f]&&a[f].m(i,c);M(i,e,c),t=!0},p(i,c){if(c[0]&50331648|c[1]&2){l=ot(Object.keys(i[25]));let f;for(f=0;f<l.length;f+=1){const v=Nn(i,l,f);a[f]?(a[f].p(v,c),te(a[f],1)):(a[f]=Zn(v),a[f].c(),te(a[f],1),a[f].m(e.parentNode,e))}for(wt(),f=l.length;f<a.length;f+=1)o(f);yt()}},i(i){if(!t){for(let c=0;c<l.length;c+=1)te(a[c]);t=!0}},o(i){a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)re(a[c]);t=!1},d(i){i&&u(e),Zt(a,i)}}}function $n(s){let e,t,l=s[59]+"",a,o,i,c,f,v,b=(s[25][s[59]].pullProgress??0)+"",g,m,p,y,k,w,E;y=new ul({props:{content:s[24].t("Cancel"),$$slots:{default:[zu]},$$scope:{ctx:s}}});let I="digest"in s[25][s[59]]&&jn(s);return{c(){e=d("div"),t=d("div"),a=O(l),o=D(),i=d("div"),c=d("div"),f=d("div"),v=d("div"),g=O(b),m=O("%"),p=D(),tt(y.$$.fragment),k=D(),I&&I.c(),w=D(),this.h()},l(T){e=h(T,"DIV",{class:!0});var V=_(e);t=h(V,"DIV",{class:!0});var S=_(t);a=P(S,l),S.forEach(u),o=A(V),i=h(V,"DIV",{class:!0});var H=_(i);c=h(H,"DIV",{class:!0});var L=_(c);f=h(L,"DIV",{class:!0});var F=_(f);v=h(F,"DIV",{class:!0,style:!0});var x=_(v);g=P(x,b),m=P(x,"%"),x.forEach(u),F.forEach(u),p=A(L),lt(y.$$.fragment,L),L.forEach(u),k=A(H),I&&I.l(H),H.forEach(u),w=A(V),V.forEach(u),this.h()},h(){n(t,"class","font-medium mb-1"),n(v,"class","dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full"),Sl(v,"width",Math.max(15,s[25][s[59]].pullProgress??0)+"%"),n(f,"class","flex-1"),n(c,"class","flex flex-row justify-between space-x-4 pr-2"),n(i,"class",""),n(e,"class","flex flex-col")},m(T,V){M(T,e,V),r(e,t),r(t,a),r(e,o),r(e,i),r(i,c),r(c,f),r(f,v),r(v,g),r(v,m),r(c,p),st(y,c,null),r(i,k),I&&I.m(i,null),r(e,w),E=!0},p(T,V){(!E||V[0]&33554432)&&l!==(l=T[59]+"")&&U(a,l),(!E||V[0]&33554432)&&b!==(b=(T[25][T[59]].pullProgress??0)+"")&&U(g,b),(!E||V[0]&33554432)&&Sl(v,"width",Math.max(15,T[25][T[59]].pullProgress??0)+"%");const S={};V[0]&16777216&&(S.content=T[24].t("Cancel")),V[0]&33554432|V[2]&32&&(S.$$scope={dirty:V,ctx:T}),y.$set(S),"digest"in T[25][T[59]]?I?I.p(T,V):(I=jn(T),I.c(),I.m(i,null)):I&&(I.d(1),I=null)},i(T){E||(te(y.$$.fragment,T),E=!0)},o(T){re(y.$$.fragment,T),E=!1},d(T){T&&u(e),at(y),I&&I.d()}}}function zu(s){let e,t='<svg class="w-4 h-4 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18 17.94 6M18 18 6.06 6"></path></svg>',l,a;function o(){return s[40](s[59])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(i){e=h(i,"BUTTON",{class:!0,"data-svelte-h":!0}),ct(e)!=="svelte-7r2t6n"&&(e.innerHTML=t),this.h()},h(){n(e,"class","text-gray-800 dark:text-gray-100")},m(i,c){M(i,e,c),l||(a=le(e,"click",o),l=!0)},p(i,c){s=i},d(i){i&&u(e),l=!1,a()}}}function jn(s){let e,t=s[25][s[59]].digest+"",l;return{c(){e=d("div"),l=O(t),this.h()},l(a){e=h(a,"DIV",{class:!0,style:!0});var o=_(e);l=P(o,t),o.forEach(u),this.h()},h(){n(e,"class","mt-1 text-xs dark:text-gray-500"),Sl(e,"font-size","0.5rem")},m(a,o){M(a,e,o),r(e,l)},p(a,o){o[0]&33554432&&t!==(t=a[25][a[59]].digest+"")&&U(l,t)},d(a){a&&u(e)}}}function Zn(s){let e,t,l="pullProgress"in s[25][s[59]]&&$n(s);return{c(){l&&l.c(),e=Gt()},l(a){l&&l.l(a),e=Gt()},m(a,o){l&&l.m(a,o),M(a,e,o),t=!0},p(a,o){"pullProgress"in a[25][a[59]]?l?(l.p(a,o),o[0]&33554432&&te(l,1)):(l=$n(a),l.c(),te(l,1),l.m(e.parentNode,e)):l&&(wt(),re(l,1,1,()=>{l=null}),yt())},i(a){t||(te(l),t=!0)},o(a){re(l),t=!1},d(a){a&&u(e),l&&l.d(a)}}}function Gn(s){let e,t=s[24].t("Select a model")+"",l;return{c(){e=d("option"),l=O(t),this.h()},l(a){e=h(a,"OPTION",{});var o=_(e);l=P(o,t),o.forEach(u),this.h()},h(){e.__value="",Q(e,e.__value),e.disabled=!0,e.selected=!0},m(a,o){M(a,e,o),r(e,l)},p(a,o){o[0]&16777216&&t!==(t=a[24].t("Select a model")+"")&&U(l,t)},d(a){a&&u(e)}}}function Kn(s){let e,t=s[59].name+" ("+(s[59].ollama.size/1073741824).toFixed(1)+" GB)",l,a;return{c(){e=d("option"),l=O(t),this.h()},l(o){e=h(o,"OPTION",{class:!0});var i=_(e);l=P(i,t),i.forEach(u),this.h()},h(){e.__value=a=s[59].name,Q(e,e.__value),n(e,"class","bg-gray-50 dark:bg-gray-700")},m(o,i){M(o,e,i),r(e,l)},p(o,i){i[0]&67108880&&t!==(t=o[59].name+" ("+(o[59].ollama.size/1024**3).toFixed(1)+" GB)")&&U(l,t),i[0]&67108880&&a!==(a=o[59].name)&&(e.__value=a,Q(e,e.__value))},d(o){o&&u(e)}}}function Wn(s){let e,t,l,a,o,i,c,f,v=(s[15]??0)+"",b,g,m,p=s[14]&&zn(s);return{c(){e=d("div"),t=d("div"),l=O(s[12]),a=D(),o=d("div"),i=d("div"),c=d("div"),f=d("div"),b=O(v),g=O("%"),m=D(),p&&p.c(),this.h()},l(y){e=h(y,"DIV",{class:!0});var k=_(e);t=h(k,"DIV",{class:!0});var w=_(t);l=P(w,s[12]),w.forEach(u),a=A(k),o=h(k,"DIV",{class:!0});var E=_(o);i=h(E,"DIV",{class:!0});var I=_(i);c=h(I,"DIV",{class:!0});var T=_(c);f=h(T,"DIV",{class:!0,style:!0});var V=_(f);b=P(V,v),g=P(V,"%"),V.forEach(u),T.forEach(u),I.forEach(u),m=A(E),p&&p.l(E),E.forEach(u),k.forEach(u),this.h()},h(){n(t,"class","font-medium mb-1"),n(f,"class","dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full"),Sl(f,"width",Math.max(15,s[15]??0)+"%"),n(c,"class","flex-1"),n(i,"class","flex flex-row justify-between space-x-4 pr-2"),n(o,"class",""),n(e,"class","flex flex-col mt-1")},m(y,k){M(y,e,k),r(e,t),r(t,l),r(e,a),r(e,o),r(o,i),r(i,c),r(c,f),r(f,b),r(f,g),r(o,m),p&&p.m(o,null)},p(y,k){k[0]&4096&&U(l,y[12]),k[0]&32768&&v!==(v=(y[15]??0)+"")&&U(b,v),k[0]&32768&&Sl(f,"width",Math.max(15,y[15]??0)+"%"),y[14]?p?p.p(y,k):(p=zn(y),p.c(),p.m(o,null)):p&&(p.d(1),p=null)},d(y){y&&u(e),p&&p.d()}}}function zn(s){let e,t;return{c(){e=d("div"),t=O(s[14]),this.h()},l(l){e=h(l,"DIV",{class:!0,style:!0});var a=_(e);t=P(a,s[14]),a.forEach(u),this.h()},h(){n(e,"class","mt-1 text-xs dark:text-gray-500"),Sl(e,"font-size","0.5rem")},m(l,a){M(l,e,a),r(e,t)},p(l,a){a[0]&16384&&U(t,l[14])},d(l){l&&u(e)}}}function Fn(s){let e,t,l,a=s[24].t("Upload a GGUF model")+"",o,i,c,f,v,b,g,m,p,y,k=s[24].t("To access the GGUF models available for downloading,")+"",w,E,I,T=s[24].t("click here.")+"",V,S,H,L;function F(ee,K){return ee[16]==="file"?qu:Fu}let x=F(s),R=x(s);function J(ee,K){return ee[16]==="file"?Qu:Yu}let j=J(s),B=j(s),G=(s[16]==="file"&&s[17]&&s[17].length>0||s[16]==="url"&&s[18]!=="")&&qn(s),N=(s[16]==="file"&&s[17]&&s[17].length>0||s[16]==="url"&&s[18]!=="")&&Yn(s);function C(ee,K){if(ee[22])return lf;if(ee[21]!==null)return tf}let W=C(s),Y=W&&W(s);return{c(){e=d("form"),t=d("div"),l=d("div"),o=O(a),i=D(),c=d("button"),R.c(),f=D(),v=d("div"),b=d("div"),B.c(),g=D(),G&&G.c(),m=D(),N&&N.c(),p=D(),y=d("div"),w=O(k),E=D(),I=d("a"),V=O(T),S=D(),Y&&Y.c(),this.h()},l(ee){e=h(ee,"FORM",{});var K=_(e);t=h(K,"DIV",{class:!0});var $=_(t);l=h($,"DIV",{class:!0});var q=_(l);o=P(q,a),q.forEach(u),i=A($),c=h($,"BUTTON",{class:!0,type:!0});var z=_(c);R.l(z),z.forEach(u),$.forEach(u),f=A(K),v=h(K,"DIV",{class:!0});var ce=_(v);b=h(ce,"DIV",{class:!0});var ne=_(b);B.l(ne),ne.forEach(u),g=A(ce),G&&G.l(ce),ce.forEach(u),m=A(K),N&&N.l(K),p=A(K),y=h(K,"DIV",{class:!0});var ge=_(y);w=P(ge,k),E=A(ge),I=h(ge,"A",{class:!0,href:!0,target:!0});var me=_(I);V=P(me,T),me.forEach(u),ge.forEach(u),S=A(K),Y&&Y.l(K),K.forEach(u),this.h()},h(){n(l,"class","text-sm font-medium"),n(c,"class","p-1 px-3 text-xs flex rounded transition"),n(c,"type","button"),n(t,"class","mb-2 flex w-full justify-between"),n(b,"class","flex flex-col w-full"),n(v,"class","flex w-full mb-1.5"),n(I,"class","text-gray-500 dark:text-gray-300 font-medium underline"),n(I,"href","https://huggingface.co/models?search=gguf"),n(I,"target","_blank"),n(y,"class","mt-1 text-xs text-gray-400 dark:text-gray-500")},m(ee,K){M(ee,e,K),r(e,t),r(t,l),r(l,o),r(t,i),r(t,c),R.m(c,null),r(e,f),r(e,v),r(v,b),B.m(b,null),r(v,g),G&&G.m(v,null),r(e,m),N&&N.m(e,null),r(e,p),r(e,y),r(y,w),r(y,E),r(y,I),r(I,V),r(e,S),Y&&Y.m(e,null),H||(L=[le(c,"click",s[48]),le(e,"submit",Ml(s[55]))],H=!0)},p(ee,K){K[0]&16777216&&a!==(a=ee[24].t("Upload a GGUF model")+"")&&U(o,a),x===(x=F(ee))&&R?R.p(ee,K):(R.d(1),R=x(ee),R&&(R.c(),R.m(c,null))),j===(j=J(ee))&&B?B.p(ee,K):(B.d(1),B=j(ee),B&&(B.c(),B.m(b,null))),ee[16]==="file"&&ee[17]&&ee[17].length>0||ee[16]==="url"&&ee[18]!==""?G?G.p(ee,K):(G=qn(ee),G.c(),G.m(v,null)):G&&(G.d(1),G=null),ee[16]==="file"&&ee[17]&&ee[17].length>0||ee[16]==="url"&&ee[18]!==""?N?N.p(ee,K):(N=Yn(ee),N.c(),N.m(e,p)):N&&(N.d(1),N=null),K[0]&16777216&&k!==(k=ee[24].t("To access the GGUF models available for downloading,")+"")&&U(w,k),K[0]&16777216&&T!==(T=ee[24].t("click here.")+"")&&U(V,T),W===(W=C(ee))&&Y?Y.p(ee,K):(Y&&Y.d(1),Y=W&&W(ee),Y&&(Y.c(),Y.m(e,null)))},d(ee){ee&&u(e),R.d(),B.d(),G&&G.d(),N&&N.d(),Y&&Y.d(),H=!1,Kt(L)}}}function Fu(s){let e,t=s[24].t("URL Mode")+"",l;return{c(){e=d("span"),l=O(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var o=_(e);l=P(o,t),o.forEach(u),this.h()},h(){n(e,"class","ml-2 self-center")},m(a,o){M(a,e,o),r(e,l)},p(a,o){o[0]&16777216&&t!==(t=a[24].t("URL Mode")+"")&&U(l,t)},d(a){a&&u(e)}}}function qu(s){let e,t=s[24].t("File Mode")+"",l;return{c(){e=d("span"),l=O(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var o=_(e);l=P(o,t),o.forEach(u),this.h()},h(){n(e,"class","ml-2 self-center")},m(a,o){M(a,e,o),r(e,l)},p(a,o){o[0]&16777216&&t!==(t=a[24].t("File Mode")+"")&&U(l,t)},d(a){a&&u(e)}}}function Yu(s){let e,t,l,a,o,i,c;return{c(){e=d("div"),t=d("input"),this.h()},l(f){e=h(f,"DIV",{class:!0});var v=_(e);t=h(v,"INPUT",{class:!0,type:!0,placeholder:!0}),v.forEach(u),this.h()},h(){n(t,"class",l="w-full rounded-lg text-left py-2 px-4 bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none "+(s[18]!==""?"mr-2":"")),n(t,"type","url"),t.required=!0,n(t,"placeholder",a=s[24].t("Type Hugging Face Resolve (Download) URL")),n(e,"class",o="flex-1 "+(s[18]!==""?"mr-2":""))},m(f,v){M(f,e,v),r(e,t),Q(t,s[18]),i||(c=le(t,"input",s[53]),i=!0)},p(f,v){v[0]&262144&&l!==(l="w-full rounded-lg text-left py-2 px-4 bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none "+(f[18]!==""?"mr-2":""))&&n(t,"class",l),v[0]&16777216&&a!==(a=f[24].t("Type Hugging Face Resolve (Download) URL"))&&n(t,"placeholder",a),v[0]&262144&&t.value!==f[18]&&Q(t,f[18]),v[0]&262144&&o!==(o="flex-1 "+(f[18]!==""?"mr-2":""))&&n(e,"class",o)},d(f){f&&u(e),i=!1,c()}}}function Qu(s){let e,t,l,a,o,i,c;function f(g,m){return g[17]&&g[17].length>0?Xu:Ju}let v=f(s),b=v(s);return{c(){e=d("div"),t=d("input"),l=D(),a=d("button"),b.c(),this.h()},l(g){e=h(g,"DIV",{class:!0});var m=_(e);t=h(m,"INPUT",{id:!0,type:!0,accept:!0}),l=A(m),a=h(m,"BUTTON",{type:!0,class:!0});var p=_(a);b.l(p),p.forEach(u),m.forEach(u),this.h()},h(){n(t,"id","model-upload-input"),n(t,"type","file"),n(t,"accept",".gguf,.safetensors"),t.required=!0,t.hidden=!0,n(a,"type","button"),n(a,"class","w-full rounded-lg text-left py-2 px-4 bg-gray-50 dark:text-gray-300 dark:bg-gray-850"),n(e,"class",o="flex-1 "+(s[17]&&s[17].length>0?"mr-2":""))},m(g,m){M(g,e,m),r(e,t),s[49](t),r(e,l),r(e,a),b.m(a,null),i||(c=[le(t,"change",s[50]),le(t,"change",s[51]),le(a,"click",s[52])],i=!0)},p(g,m){v===(v=f(g))&&b?b.p(g,m):(b.d(1),b=v(g),b&&(b.c(),b.m(a,null))),m[0]&131072&&o!==(o="flex-1 "+(g[17]&&g[17].length>0?"mr-2":""))&&n(e,"class",o)},d(g){g&&u(e),s[49](null),b.d(),i=!1,Kt(c)}}}function Ju(s){let e=s[24].t("Click here to select")+"",t;return{c(){t=O(e)},l(l){t=P(l,e)},m(l,a){M(l,t,a)},p(l,a){a[0]&16777216&&e!==(e=l[24].t("Click here to select")+"")&&U(t,e)},d(l){l&&u(t)}}}function Xu(s){let e=s[17][0].name+"",t;return{c(){t=O(e)},l(l){t=P(l,e)},m(l,a){M(l,t,a)},p(l,a){a[0]&131072&&e!==(e=l[17][0].name+"")&&U(t,e)},d(l){l&&u(t)}}}function qn(s){let e;function t(o,i){return o[9]?ef:xu}let l=t(s),a=l(s);return{c(){e=d("button"),a.c(),this.h()},l(o){e=h(o,"BUTTON",{class:!0,type:!0});var i=_(e);a.l(i),i.forEach(u),this.h()},h(){n(e,"class","px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg disabled:cursor-not-allowed transition"),n(e,"type","submit"),e.disabled=s[9]},m(o,i){M(o,e,i),a.m(e,null)},p(o,i){l!==(l=t(o))&&(a.d(1),a=l(o),a&&(a.c(),a.m(e,null))),i[0]&512&&(e.disabled=o[9])},d(o){o&&u(e),a.d()}}}function xu(s){let e,t,l;return{c(){e=bt("svg"),t=bt("path"),l=bt("path"),this.h()},l(a){e=Et(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var o=_(e);t=Et(o,"path",{d:!0}),_(t).forEach(u),l=Et(o,"path",{d:!0}),_(l).forEach(u),o.forEach(u),this.h()},h(){n(t,"d","M7.25 10.25a.75.75 0 0 0 1.5 0V4.56l2.22 2.22a.75.75 0 1 0 1.06-1.06l-3.5-3.5a.75.75 0 0 0-1.06 0l-3.5 3.5a.75.75 0 0 0 1.06 1.06l2.22-2.22v5.69Z"),n(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"viewBox","0 0 16 16"),n(e,"fill","currentColor"),n(e,"class","w-4 h-4")},m(a,o){M(a,e,o),r(e,t),r(e,l)},d(a){a&&u(e)}}}function ef(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
																transform-origin: center;
																animation: spinner_AtaB 0.75s infinite linear;
															}

															@keyframes spinner_AtaB {
																100% {
																	transform: rotate(360deg);
																}
															}
														</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),ct(e)!=="svelte-15ooe3b"&&(e.innerHTML=t),this.h()},h(){n(e,"class","self-center")},m(l,a){M(l,e,a)},d(l){l&&u(e)}}}function Yn(s){let e,t,l,a=s[24].t("Modelfile Content")+"",o,i,c,f,v;return{c(){e=d("div"),t=d("div"),l=d("div"),o=O(a),i=D(),c=d("textarea"),this.h()},l(b){e=h(b,"DIV",{});var g=_(e);t=h(g,"DIV",{});var m=_(t);l=h(m,"DIV",{class:!0});var p=_(l);o=P(p,a),p.forEach(u),i=A(m),c=h(m,"TEXTAREA",{class:!0,rows:!0}),_(c).forEach(u),m.forEach(u),g.forEach(u),this.h()},h(){n(l,"class","my-2.5 text-sm font-medium"),n(c,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-100 dark:bg-gray-850 outline-none resize-none"),n(c,"rows","6")},m(b,g){M(b,e,g),r(e,t),r(t,l),r(l,o),r(t,i),r(t,c),Q(c,s[19]),f||(v=le(c,"input",s[54]),f=!0)},p(b,g){g[0]&16777216&&a!==(a=b[24].t("Modelfile Content")+"")&&U(o,a),g[0]&524288&&Q(c,b[19])},d(b){b&&u(e),f=!1,v()}}}function tf(s){let e,t,l=s[24].t("Upload Progress")+"",a,o,i,c,f=(s[21]??0)+"",v,b,g,m,p;return{c(){e=d("div"),t=d("div"),a=O(l),o=D(),i=d("div"),c=d("div"),v=O(f),b=O("%"),g=D(),m=d("div"),p=O(s[20]),this.h()},l(y){e=h(y,"DIV",{class:!0});var k=_(e);t=h(k,"DIV",{class:!0});var w=_(t);a=P(w,l),w.forEach(u),o=A(k),i=h(k,"DIV",{class:!0});var E=_(i);c=h(E,"DIV",{class:!0,style:!0});var I=_(c);v=P(I,f),b=P(I,"%"),I.forEach(u),E.forEach(u),g=A(k),m=h(k,"DIV",{class:!0,style:!0});var T=_(m);p=P(T,s[20]),T.forEach(u),k.forEach(u),this.h()},h(){n(t,"class","mb-2 text-xs"),n(c,"class","dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full"),Sl(c,"width",Math.max(15,s[21]??0)+"%"),n(i,"class","w-full rounded-full dark:bg-gray-800"),n(m,"class","mt-1 text-xs dark:text-gray-500"),Sl(m,"font-size","0.5rem"),n(e,"class","mt-2")},m(y,k){M(y,e,k),r(e,t),r(t,a),r(e,o),r(e,i),r(i,c),r(c,v),r(c,b),r(e,g),r(e,m),r(m,p)},p(y,k){k[0]&16777216&&l!==(l=y[24].t("Upload Progress")+"")&&U(a,l),k[0]&2097152&&f!==(f=(y[21]??0)+"")&&U(v,f),k[0]&2097152&&Sl(c,"width",Math.max(15,y[21]??0)+"%"),k[0]&1048576&&U(p,y[20])},d(y){y&&u(e)}}}function lf(s){let e,t,l=s[24].t("Upload Progress")+"",a,o,i,c,f,v,b,g;return{c(){e=d("div"),t=d("div"),a=O(l),o=D(),i=d("div"),c=d("div"),f=O(s[22]),v=D(),b=d("div"),g=O(s[20]),this.h()},l(m){e=h(m,"DIV",{class:!0});var p=_(e);t=h(p,"DIV",{class:!0});var y=_(t);a=P(y,l),y.forEach(u),o=A(p),i=h(p,"DIV",{class:!0});var k=_(i);c=h(k,"DIV",{class:!0,style:!0});var w=_(c);f=P(w,s[22]),w.forEach(u),k.forEach(u),v=A(p),b=h(p,"DIV",{class:!0,style:!0});var E=_(b);g=P(E,s[20]),E.forEach(u),p.forEach(u),this.h()},h(){n(t,"class","mb-2 text-xs"),n(c,"class","dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full"),Sl(c,"width","100%"),n(i,"class","w-full rounded-full dark:bg-gray-800"),n(b,"class","mt-1 text-xs dark:text-gray-500"),Sl(b,"font-size","0.5rem"),n(e,"class","mt-2")},m(m,p){M(m,e,p),r(e,t),r(t,a),r(e,o),r(e,i),r(i,c),r(c,f),r(e,v),r(e,b),r(b,g)},p(m,p){p[0]&16777216&&l!==(l=m[24].t("Upload Progress")+"")&&U(a,l),p[0]&4194304&&U(f,m[22]),p[0]&1048576&&U(g,m[20])},d(m){m&&u(e)}}}function sf(s){let e,t,l,a,o,i,c,f;function v(y){s[34](y)}let b={};s[1]!==void 0&&(b.show=s[1]),e=new Sa({props:b}),Ct.push(()=>jt(e,"show",v)),e.$on("confirm",s[35]);const g=[Bu,Hu,Ru],m=[];function p(y,k){return y[2]?0:y[2]===!1?1:2}return i=p(s),c=m[i]=g[i](s),{c(){tt(e.$$.fragment),l=D(),a=d("div"),o=d("div"),c.c(),this.h()},l(y){lt(e.$$.fragment,y),l=A(y),a=h(y,"DIV",{class:!0});var k=_(a);o=h(k,"DIV",{class:!0});var w=_(o);c.l(w),w.forEach(u),k.forEach(u),this.h()},h(){n(o,"class","space-y-3 overflow-y-scroll scrollbar-hidden h-full"),n(a,"class","flex flex-col h-full justify-between text-sm")},m(y,k){st(e,y,k),M(y,l,k),M(y,a,k),r(a,o),m[i].m(o,null),f=!0},p(y,k){const w={};!t&&k[0]&2&&(t=!0,w.show=y[1],$t(()=>t=!1)),e.$set(w);let E=i;i=p(y),i===E?m[i].p(y,k):(wt(),re(m[E],1,1,()=>{m[E]=null}),yt(),c=m[i],c?c.p(y,k):(c=m[i]=g[i](y),c.c()),te(c,1),c.m(o,null))},i(y){f||(te(e.$$.fragment,y),te(c),f=!0)},o(y){re(e.$$.fragment,y),re(c),f=!1},d(y){y&&(u(l),u(a)),at(e,y),m[i].d()}}}const af=3;function rf(s,e,t){let l,a,o;zt(s,gs,ve=>t(25,a=ve)),zt(s,nl,ve=>t(26,o=ve));const i=bl("i18n");zt(s,i,ve=>t(24,l=ve));const c=async()=>await ms(localStorage.token);let f,v=!1,b=null,g=[],m=null,p=null,y=null,k=!1,w=null,E=!1,I="",T=!1,V="",S="",H="",L=null,F="",x=null,R="file",J=null,j="",B=`TEMPLATE """{{ .System }}
USER: {{ .Prompt }}
ASSISTANT: """
PARAMETER num_ctx 4096
PARAMETER stop "</s>"
PARAMETER stop "USER:"
PARAMETER stop "ASSISTANT:"`,G="",N=null,C="",W="";const Y=async()=>{for(const ve of o.filter(oe=>{var Ee;return!((oe==null?void 0:oe.preset)??!1)&&oe.owned_by==="ollama"&&(m===null?!0:(((Ee=oe==null?void 0:oe.ollama)==null?void 0:Ee.urls)??[]).includes(m))})){console.log(ve),t(5,p=ve.id);const[oe,Ee]=await wr(localStorage.token,ve.id,m).catch(ae=>(Ae.error(ae),null));if(oe){const ae=oe.body.pipeThrough(new TextDecoderStream).pipeThrough(Vs(`
`)).getReader();for(;;)try{const{value:ke,done:ze}=await ae.read();if(ze)break;let De=ke.split(`
`);for(const he of De)if(he!==""){let ue=JSON.parse(he);if(console.log(ue),ue.error)throw ue.error;if(ue.detail)throw ue.detail;ue.status&&(ue.digest?(t(6,y=0),ue.completed?t(6,y=Math.round(ue.completed/ue.total*1e3)/10):t(6,y=100)):Ae.success(ue.status))}}catch(ke){console.log(ke)}}}t(5,p=null),t(6,y=null)},ee=async()=>{const ve=I.trim().replace(/^ollama\s+(run|pull)\s+/,"");if(console.log(a),a[ve]){Ae.error(l.t("Model '{{modelTag}}' is already in queue for downloading.",{modelTag:ve}));return}if(Object.keys(a).length===af){Ae.error(l.t("Maximum of 3 models can be downloaded simultaneously. Please try again later."));return}const[oe,Ee]=await wr(localStorage.token,ve,m).catch(ae=>(Ae.error(ae),null));if(oe){const ae=oe.body.pipeThrough(new TextDecoderStream).pipeThrough(Vs(`
`)).getReader();for(gs.set({...a,[ve]:{...a[ve],abortController:Ee,reader:ae,done:!1}});;)try{const{value:ke,done:ze}=await ae.read();if(ze)break;let De=ke.split(`
`);for(const he of De)if(he!==""){let ue=JSON.parse(he);if(console.log(ue),ue.error)throw ue.error;if(ue.detail)throw ue.detail;if(ue.status)if(ue.digest){let Ue=0;ue.completed?Ue=Math.round(ue.completed/ue.total*1e3)/10:Ue=100,gs.set({...a,[ve]:{...a[ve],pullProgress:Ue,digest:ue.digest}})}else Ae.success(ue.status),gs.set({...a,[ve]:{...a[ve],done:ue.status==="success"}})}}catch(ke){console.log(ke),typeof ke!="string"&&(ke=ke.message),Ae.error(ke)}console.log(a[ve]),a[ve].done?(Ae.success(l.t("Model '{{modelName}}' has been successfully downloaded.",{modelName:ve})),nl.set(await c())):Ae.error(l.t("Download canceled")),delete a[ve],gs.set({...a})}t(10,I=""),t(9,E=!1)},K=async()=>{t(9,E=!0);let ve=!1,oe=null,Ee="";if(R==="file"){const ae=J?J[0]:null;ae&&(t(22,C="Uploading..."),oe=await oo(localStorage.token,ae,m).catch(ke=>(Ae.error(ke),null)))}else t(21,N=0),oe=await uo(localStorage.token,j,m).catch(ae=>(Ae.error(ae),null));if(oe&&oe.ok){const ae=oe.body.pipeThrough(new TextDecoderStream).pipeThrough(Vs(`
`)).getReader();for(;;){const{value:ke,done:ze}=await ae.read();if(ze)break;try{let De=ke.split(`
`);for(const he of De)if(he!==""){let ue=JSON.parse(he.replace(/^data: /,""));if(ue.progress&&(C&&t(22,C=""),t(21,N=ue.progress)),ue.error)throw ue.error;ue.done&&(t(20,G=ue.blob),Ee=ue.name,ve=!0)}}catch(De){console.log(De)}}}else{const ae=await(oe==null?void 0:oe.json());Ae.error((ae==null?void 0:ae.detail)??ae)}if(ve){const ae=await Ir(localStorage.token,`${Ee}:latest`,`FROM @${G}
${B}`);if(ae&&ae.ok){const ke=ae.body.pipeThrough(new TextDecoderStream).pipeThrough(Vs(`
`)).getReader();for(;;){const{value:ze,done:De}=await ke.read();if(De)break;try{let he=ze.split(`
`);for(const ue of he)if(ue!==""){console.log(ue);let Ue=JSON.parse(ue);if(console.log(Ue),Ue.error)throw Ue.error;if(Ue.detail)throw Ue.detail;Ue.status&&(!Ue.digest&&!Ue.status.includes("writing")&&!Ue.status.includes("sha256")?Ae.success(Ue.status):Ue.digest&&(F=Ue.digest,Ue.completed?x=Math.round(Ue.completed/Ue.total*1e3)/10:x=100))}}catch(he){console.log(he),Ae.error(he)}}}}t(18,j=""),f&&t(0,f.value="",f),t(17,J=null),t(9,E=!1),t(21,N=null),nl.set(await c())},$=async()=>{await yr(localStorage.token,W,m).catch(oe=>{Ae.error(oe)})&&Ae.success(l.t("Deleted {{deleteModelTag}}",{deleteModelTag:W})),t(23,W=""),nl.set(await c())},q=async ve=>{const{reader:oe,abortController:Ee}=a[ve];Ee&&Ee.abort(),oe&&(await oe.cancel(),delete a[ve],gs.set({...a}),await yr(localStorage.token,ve),Ae.success(`${ve} download has been canceled`))},z=async()=>{t(11,T=!0);const ve=await Ir(localStorage.token,V,S,m).catch(oe=>(Ae.error(oe),null));if(ve&&ve.ok){const oe=ve.body.pipeThrough(new TextDecoderStream).pipeThrough(Vs(`
`)).getReader();for(;;){const{value:Ee,done:ae}=await oe.read();if(ae)break;try{let ke=Ee.split(`
`);for(const ze of ke)if(ze!==""){console.log(ze);let De=JSON.parse(ze);if(console.log(De),De.error)throw De.error;if(De.detail)throw De.detail;De.status&&(!De.digest&&!De.status.includes("writing")&&!De.status.includes("sha256")?Ae.success(De.status):De.digest&&(t(14,H=De.digest),De.completed?t(15,L=Math.round(De.completed/De.total*1e3)/10):t(15,L=100)))}}catch(ke){console.log(ke),Ae.error(ke)}}}nl.set(await c()),t(11,T=!1),t(12,V=""),t(13,S=""),t(14,H=""),t(15,L=null)};El(async()=>{(await bi(localStorage.token)).ENABLE_OLLAMA_API?(t(2,b=!0),await Promise.all([(async()=>{t(3,g=await Ei(localStorage.token).catch(oe=>(Ae.error(oe),[]))),g.length>0&&t(4,m=0)})(),(async()=>{t(8,w=await Va(localStorage.token).catch(oe=>!1))})()])):(t(2,b=!1),Ae.error(l.t("Ollama API is disabled")))});function ce(ve){v=ve,t(1,v)}const ne=()=>{$()};function ge(){m=qt(this),t(4,m)}const me=()=>{Y()};function Oe(){I=this.value,t(10,I)}const qe=()=>{ee()},Ve=ve=>{q(ve)},Te=ve=>{var oe;return!((ve==null?void 0:ve.preset)??!1)&&ve.owned_by==="ollama"&&(m===null?!0:(((oe=ve==null?void 0:ve.ollama)==null?void 0:oe.urls)??[]).includes(m))};function je(){W=qt(this),t(23,W),t(4,m)}const be=()=>{t(1,v=!0)};function Me(){V=this.value,t(12,V)}function fe(){S=this.value,t(13,S)}const ye=()=>{z()},Ze=()=>{t(7,k=!k)},Ce=()=>{R==="file"?t(16,R="url"):t(16,R="file")};function Pe(ve){Ct[ve?"unshift":"push"](()=>{f=ve,t(0,f)})}function et(){J=this.files,t(17,J)}const Ne=()=>{console.log(J)},He=()=>{f.click()};function Xe(){j=this.value,t(18,j)}function de(){B=this.value,t(19,B)}return[f,v,b,g,m,p,y,k,w,E,I,T,V,S,H,L,R,J,j,B,G,N,C,W,l,a,o,i,Y,ee,K,$,q,z,ce,ne,ge,me,Oe,qe,Ve,Te,je,be,Me,fe,ye,Ze,Ce,Pe,et,Ne,He,Xe,de,()=>{K()}]}class nf extends _l{constructor(e){super(),vl(this,e,rf,sf,hl,{},null,[-1,-1,-1])}}function Qn(s,e,t){const l=s.slice();return l[29]=e[t],l[30]=e,l[31]=t,l}function Jn(s,e,t){const l=s.slice();return l[29]=e[t],l[32]=e,l[31]=t,l}function of(s){let e,t,l,a;return l=new bs({props:{className:"size-6"}}),{c(){e=d("div"),t=d("div"),tt(l.$$.fragment),this.h()},l(o){e=h(o,"DIV",{class:!0});var i=_(e);t=h(i,"DIV",{class:!0});var c=_(t);lt(l.$$.fragment,c),c.forEach(u),i.forEach(u),this.h()},h(){n(t,"class","my-auto"),n(e,"class","flex h-full justify-center")},m(o,i){M(o,e,i),r(e,t),st(l,t,null),a=!0},p:_t,i(o){a||(te(l.$$.fragment,o),a=!0)},o(o){re(l.$$.fragment,o),a=!1},d(o){o&&u(e),at(l)}}}function uf(s){let e,t,l,a,o=s[6].t("OpenAI API")+"",i,c,f,v,b,g,m,p,y,k,w,E,I=s[6].t("Ollama API")+"",T,V,S,H,L,F,x;function R(C){s[13](C)}let J={};s[4]!==void 0&&(J.state=s[4]),v=new Vl({props:J}),Ct.push(()=>jt(v,"state",R)),v.$on("change",s[14]);let j=s[4]&&Xn(s);function B(C){s[20](C)}let G={};s[5]!==void 0&&(G.state=s[5]),H=new Vl({props:G}),Ct.push(()=>jt(H,"state",B)),H.$on("change",s[21]);let N=s[5]&&ti(s);return{c(){e=d("div"),t=d("div"),l=d("div"),a=d("div"),i=O(o),c=D(),f=d("div"),tt(v.$$.fragment),g=D(),j&&j.c(),m=D(),p=d("hr"),y=D(),k=d("div"),w=d("div"),E=d("div"),T=O(I),V=D(),S=d("div"),tt(H.$$.fragment),F=D(),N&&N.c(),this.h()},l(C){e=h(C,"DIV",{class:!0});var W=_(e);t=h(W,"DIV",{class:!0});var Y=_(t);l=h(Y,"DIV",{class:!0});var ee=_(l);a=h(ee,"DIV",{class:!0});var K=_(a);i=P(K,o),K.forEach(u),c=A(ee),f=h(ee,"DIV",{class:!0});var $=_(f);lt(v.$$.fragment,$),$.forEach(u),ee.forEach(u),g=A(Y),j&&j.l(Y),Y.forEach(u),W.forEach(u),m=A(C),p=h(C,"HR",{class:!0}),y=A(C),k=h(C,"DIV",{class:!0});var q=_(k);w=h(q,"DIV",{class:!0});var z=_(w);E=h(z,"DIV",{class:!0});var ce=_(E);T=P(ce,I),ce.forEach(u),V=A(z),S=h(z,"DIV",{class:!0});var ne=_(S);lt(H.$$.fragment,ne),ne.forEach(u),z.forEach(u),F=A(q),N&&N.l(q),q.forEach(u),this.h()},h(){n(a,"class","font-medium"),n(f,"class","mt-1"),n(l,"class","flex justify-between items-center text-sm"),n(t,"class","mt-2 space-y-2 pr-1.5"),n(e,"class","space-y-3"),n(p,"class","dark:border-gray-850"),n(E,"class","font-medium"),n(S,"class","mt-1"),n(w,"class","flex justify-between items-center text-sm"),n(k,"class","pr-1.5 space-y-2")},m(C,W){M(C,e,W),r(e,t),r(t,l),r(l,a),r(a,i),r(l,c),r(l,f),st(v,f,null),r(t,g),j&&j.m(t,null),M(C,m,W),M(C,p,W),M(C,y,W),M(C,k,W),r(k,w),r(w,E),r(E,T),r(w,V),r(w,S),st(H,S,null),r(k,F),N&&N.m(k,null),x=!0},p(C,W){(!x||W[0]&64)&&o!==(o=C[6].t("OpenAI API")+"")&&U(i,o);const Y={};!b&&W[0]&16&&(b=!0,Y.state=C[4],$t(()=>b=!1)),v.$set(Y),C[4]?j?(j.p(C,W),W[0]&16&&te(j,1)):(j=Xn(C),j.c(),te(j,1),j.m(t,null)):j&&(wt(),re(j,1,1,()=>{j=null}),yt()),(!x||W[0]&64)&&I!==(I=C[6].t("Ollama API")+"")&&U(T,I);const ee={};!L&&W[0]&32&&(L=!0,ee.state=C[5],$t(()=>L=!1)),H.$set(ee),C[5]?N?(N.p(C,W),W[0]&32&&te(N,1)):(N=ti(C),N.c(),te(N,1),N.m(k,null)):N&&(wt(),re(N,1,1,()=>{N=null}),yt())},i(C){x||(te(v.$$.fragment,C),te(j),te(H.$$.fragment,C),te(N),x=!0)},o(C){re(v.$$.fragment,C),re(j),re(H.$$.fragment,C),re(N),x=!1},d(C){C&&(u(e),u(m),u(p),u(y),u(k)),at(v),j&&j.d(),at(H),N&&N.d()}}}function Xn(s){let e,t,l=ot(s[2]),a=[];for(let i=0;i<l.length;i+=1)a[i]=ei(Jn(s,l,i));const o=i=>re(a[i],1,1,()=>{a[i]=null});return{c(){e=d("div");for(let i=0;i<a.length;i+=1)a[i].c();this.h()},l(i){e=h(i,"DIV",{class:!0});var c=_(e);for(let f=0;f<a.length;f+=1)a[f].l(c);c.forEach(u),this.h()},h(){n(e,"class","flex flex-col gap-1")},m(i,c){M(i,e,c);for(let f=0;f<a.length;f+=1)a[f]&&a[f].m(e,null);t=!0},p(i,c){if(c[0]&590){l=ot(i[2]);let f;for(f=0;f<l.length;f+=1){const v=Jn(i,l,f);a[f]?(a[f].p(v,c),te(a[f],1)):(a[f]=ei(v),a[f].c(),te(a[f],1),a[f].m(e,null))}for(wt(),f=l.length;f<a.length;f+=1)o(f);yt()}},i(i){if(!t){for(let c=0;c<l.length;c+=1)te(a[c]);t=!0}},o(i){a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)re(a[c]);t=!1},d(i){i&&u(e),Zt(a,i)}}}function xn(s){let e,t,l;return t=new ul({props:{content:"Pipelines",$$slots:{default:[ff]},$$scope:{ctx:s}}}),{c(){e=d("div"),tt(t.$$.fragment),this.h()},l(a){e=h(a,"DIV",{class:!0});var o=_(e);lt(t.$$.fragment,o),o.forEach(u),this.h()},h(){n(e,"class","absolute top-2.5 right-2.5")},m(a,o){M(a,e,o),st(t,e,null),l=!0},i(a){l||(te(t.$$.fragment,a),l=!0)},o(a){re(t.$$.fragment,a),l=!1},d(a){a&&u(e),at(t)}}}function ff(s){let e,t,l,a;return{c(){e=bt("svg"),t=bt("path"),l=bt("path"),a=bt("path"),this.h()},l(o){e=Et(o,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=_(e);t=Et(i,"path",{d:!0}),_(t).forEach(u),l=Et(i,"path",{d:!0}),_(l).forEach(u),a=Et(i,"path",{d:!0}),_(a).forEach(u),i.forEach(u),this.h()},h(){n(t,"d","M11.644 1.59a.75.75 0 0 1 .712 0l9.75 5.25a.75.75 0 0 1 0 1.32l-9.75 5.25a.75.75 0 0 1-.712 0l-9.75-5.25a.75.75 0 0 1 0-1.32l9.75-5.25Z"),n(l,"d","m3.265 10.602 7.668 4.129a2.25 2.25 0 0 0 2.134 0l7.668-4.13 1.37.739a.75.75 0 0 1 0 1.32l-9.75 5.25a.75.75 0 0 1-.71 0l-9.75-5.25a.75.75 0 0 1 0-1.32l1.37-.738Z"),n(a,"d","m10.933 19.231-7.668-4.13-1.37.739a.75.75 0 0 0 0 1.32l9.75 5.25c.221.12.489.12.71 0l9.75-5.25a.75.75 0 0 0 0-1.32l-1.37-.738-7.668 4.13a2.25 2.25 0 0 1-2.134-.001Z"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"viewBox","0 0 24 24"),n(e,"fill","currentColor"),n(e,"class","size-4")},m(o,i){M(o,e,i),r(e,t),r(e,l),r(e,a)},p:_t,d(o){o&&u(e)}}}function cf(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M3.75 7.25a.75.75 0 0 0 0 1.5h8.5a.75.75 0 0 0 0-1.5h-8.5Z"></path></svg>',l,a;function o(){return s[18](s[31])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(i){e=h(i,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ct(e)!=="svelte-iasr25"&&(e.innerHTML=t),this.h()},h(){n(e,"class","px-1"),n(e,"type","button")},m(i,c){M(i,e,c),l||(a=le(e,"click",o),l=!0)},p(i,c){s=i},d(i){i&&u(e),l=!1,a()}}}function df(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8.75 3.75a.75.75 0 0 0-1.5 0v3.5h-3.5a.75.75 0 0 0 0 1.5h3.5v3.5a.75.75 0 0 0 1.5 0v-3.5h3.5a.75.75 0 0 0 0-1.5h-3.5v-3.5Z"></path></svg>',l,a;return{c(){e=d("button"),e.innerHTML=t,this.h()},l(o){e=h(o,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ct(e)!=="svelte-k8h0xz"&&(e.innerHTML=t),this.h()},h(){n(e,"class","px-1"),n(e,"type","button")},m(o,i){M(o,e,i),l||(a=le(e,"click",s[17]),l=!0)},p:_t,d(o){o&&u(e),l=!1,a()}}}function hf(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z" clip-rule="evenodd"></path></svg>',l,a;function o(){return s[19](s[31])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(i){e=h(i,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ct(e)!=="svelte-1alsyga"&&(e.innerHTML=t),this.h()},h(){n(e,"class","self-center p-2 bg-gray-200 hover:bg-gray-300 dark:bg-gray-900 dark:hover:bg-gray-850 rounded-lg transition"),n(e,"type","button")},m(i,c){M(i,e,c),l||(a=le(e,"click",o),l=!0)},p(i,c){s=i},d(i){i&&u(e),l=!1,a()}}}function ei(s){let e,t,l,a,o,i,c,f,v,b,g,m,p,y,k,w,E=s[6].t("WebUI will make requests to")+"",I,T,V,S,H=s[29]+"",L,F,x,R,J,j;function B(){s[15].call(l,s[32],s[31])}let G=s[3][s[29]]&&xn(s);function N(K){s[16](K,s[31])}let C={placeholder:s[6].t("API Key")};s[1][s[31]]!==void 0&&(C.value=s[1][s[31]]),f=new kl({props:C}),Ct.push(()=>jt(f,"value",N));function W(K,$){return K[31]===0?df:cf}let ee=W(s)(s);return y=new ul({props:{content:"Verify connection",className:"self-start mt-0.5",$$slots:{default:[hf]},$$scope:{ctx:s}}}),{c(){e=d("div"),t=d("div"),l=d("input"),i=D(),G&&G.c(),c=D(),tt(f.$$.fragment),b=D(),g=d("div"),ee.c(),m=D(),p=d("div"),tt(y.$$.fragment),k=D(),w=d("div"),I=O(E),T=D(),V=d("span"),S=O("'"),L=O(H),F=O("/models'"),x=D(),this.h()},l(K){e=h(K,"DIV",{class:!0});var $=_(e);t=h($,"DIV",{class:!0});var q=_(t);l=h(q,"INPUT",{class:!0,placeholder:!0,autocomplete:!0}),i=A(q),G&&G.l(q),q.forEach(u),c=A($),lt(f.$$.fragment,$),b=A($),g=h($,"DIV",{class:!0});var z=_(g);ee.l(z),z.forEach(u),m=A($),p=h($,"DIV",{class:!0});var ce=_(p);lt(y.$$.fragment,ce),ce.forEach(u),$.forEach(u),k=A(K),w=h(K,"DIV",{class:!0});var ne=_(w);I=P(ne,E),T=A(ne),V=h(ne,"SPAN",{class:!0});var ge=_(V);S=P(ge,"'"),L=P(ge,H),F=P(ge,"/models'"),ge.forEach(u),x=A(ne),ne.forEach(u),this.h()},h(){n(l,"class",a="w-full rounded-lg py-2 px-4 "+(s[3][s[29]]?"pr-8":"")+" text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(l,"placeholder",o=s[6].t("API Base URL")),n(l,"autocomplete","off"),n(t,"class","flex-1 relative"),n(g,"class","self-center flex items-center"),n(p,"class","flex"),n(e,"class","flex w-full gap-2"),n(V,"class","text-gray-200"),n(w,"class","mb-1 text-xs text-gray-400 dark:text-gray-500")},m(K,$){M(K,e,$),r(e,t),r(t,l),Q(l,s[29]),r(t,i),G&&G.m(t,null),r(e,c),st(f,e,null),r(e,b),r(e,g),ee.m(g,null),r(e,m),r(e,p),st(y,p,null),M(K,k,$),M(K,w,$),r(w,I),r(w,T),r(w,V),r(V,S),r(V,L),r(V,F),r(w,x),R=!0,J||(j=le(l,"input",B),J=!0)},p(K,$){s=K,(!R||$[0]&12&&a!==(a="w-full rounded-lg py-2 px-4 "+(s[3][s[29]]?"pr-8":"")+" text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"))&&n(l,"class",a),(!R||$[0]&64&&o!==(o=s[6].t("API Base URL")))&&n(l,"placeholder",o),$[0]&4&&l.value!==s[29]&&Q(l,s[29]),s[3][s[29]]?G?$[0]&12&&te(G,1):(G=xn(s),G.c(),te(G,1),G.m(t,null)):G&&(wt(),re(G,1,1,()=>{G=null}),yt());const q={};$[0]&64&&(q.placeholder=s[6].t("API Key")),!v&&$[0]&2&&(v=!0,q.value=s[1][s[31]],$t(()=>v=!1)),f.$set(q),ee.p(s,$);const z={};$[1]&4&&(z.$$scope={dirty:$,ctx:s}),y.$set(z),(!R||$[0]&64)&&E!==(E=s[6].t("WebUI will make requests to")+"")&&U(I,E),(!R||$[0]&4)&&H!==(H=s[29]+"")&&U(L,H)},i(K){R||(te(G),te(f.$$.fragment,K),te(y.$$.fragment,K),R=!0)},o(K){re(G),re(f.$$.fragment,K),re(y.$$.fragment,K),R=!1},d(K){K&&(u(e),u(k),u(w)),G&&G.d(),at(f),ee.d(),at(y),J=!1,j()}}}function ti(s){let e,t,l,a,o=s[6].t("Trouble accessing Ollama?")+"",i,c,f,v=s[6].t("Click here for help.")+"",b,g,m=ot(s[0]),p=[];for(let k=0;k<m.length;k+=1)p[k]=li(Qn(s,m,k));const y=k=>re(p[k],1,1,()=>{p[k]=null});return{c(){e=d("div"),t=d("div");for(let k=0;k<p.length;k+=1)p[k].c();l=D(),a=d("div"),i=O(o),c=D(),f=d("a"),b=O(v),this.h()},l(k){e=h(k,"DIV",{class:!0});var w=_(e);t=h(w,"DIV",{class:!0});var E=_(t);for(let V=0;V<p.length;V+=1)p[V].l(E);E.forEach(u),w.forEach(u),l=A(k),a=h(k,"DIV",{class:!0});var I=_(a);i=P(I,o),c=A(I),f=h(I,"A",{class:!0,href:!0,target:!0});var T=_(f);b=P(T,v),T.forEach(u),I.forEach(u),this.h()},h(){n(t,"class","flex-1 flex flex-col gap-2"),n(e,"class","flex w-full gap-1.5"),n(f,"class","text-gray-300 font-medium underline"),n(f,"href","https://github.com/open-webui/open-webui#troubleshooting"),n(f,"target","_blank"),n(a,"class","mt-2 text-xs text-gray-400 dark:text-gray-500")},m(k,w){M(k,e,w),r(e,t);for(let E=0;E<p.length;E+=1)p[E]&&p[E].m(t,null);M(k,l,w),M(k,a,w),r(a,i),r(a,c),r(a,f),r(f,b),g=!0},p(k,w){if(w[0]&1089){m=ot(k[0]);let E;for(E=0;E<m.length;E+=1){const I=Qn(k,m,E);p[E]?(p[E].p(I,w),te(p[E],1)):(p[E]=li(I),p[E].c(),te(p[E],1),p[E].m(t,null))}for(wt(),E=m.length;E<p.length;E+=1)y(E);yt()}(!g||w[0]&64)&&o!==(o=k[6].t("Trouble accessing Ollama?")+"")&&U(i,o),(!g||w[0]&64)&&v!==(v=k[6].t("Click here for help.")+"")&&U(b,v)},i(k){if(!g){for(let w=0;w<m.length;w+=1)te(p[w]);g=!0}},o(k){p=p.filter(Boolean);for(let w=0;w<p.length;w+=1)re(p[w]);g=!1},d(k){k&&(u(e),u(l),u(a)),Zt(p,k)}}}function _f(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M3.75 7.25a.75.75 0 0 0 0 1.5h8.5a.75.75 0 0 0 0-1.5h-8.5Z"></path></svg>',l,a;function o(){return s[24](s[31])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(i){e=h(i,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ct(e)!=="svelte-144k5uw"&&(e.innerHTML=t),this.h()},h(){n(e,"class","px-1"),n(e,"type","button")},m(i,c){M(i,e,c),l||(a=le(e,"click",o),l=!0)},p(i,c){s=i},d(i){i&&u(e),l=!1,a()}}}function vf(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8.75 3.75a.75.75 0 0 0-1.5 0v3.5h-3.5a.75.75 0 0 0 0 1.5h3.5v3.5a.75.75 0 0 0 1.5 0v-3.5h3.5a.75.75 0 0 0 0-1.5h-3.5v-3.5Z"></path></svg>',l,a;return{c(){e=d("button"),e.innerHTML=t,this.h()},l(o){e=h(o,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ct(e)!=="svelte-oz6kvw"&&(e.innerHTML=t),this.h()},h(){n(e,"class","px-1"),n(e,"type","button")},m(o,i){M(o,e,i),l||(a=le(e,"click",s[23]),l=!0)},p:_t,d(o){o&&u(e),l=!1,a()}}}function pf(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z" clip-rule="evenodd"></path></svg>',l,a;function o(){return s[25](s[31])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(i){e=h(i,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ct(e)!=="svelte-nntet2"&&(e.innerHTML=t),this.h()},h(){n(e,"class","self-center p-2 bg-gray-200 hover:bg-gray-300 dark:bg-gray-900 dark:hover:bg-gray-850 rounded-lg transition"),n(e,"type","button")},m(i,c){M(i,e,c),l||(a=le(e,"click",o),l=!0)},p(i,c){s=i},d(i){i&&u(e),l=!1,a()}}}function li(s){let e,t,l,a,o,i,c,f,v,b,g,m;function p(){s[22].call(t,s[30],s[31])}function y(E,I){return E[31]===0?vf:_f}let w=y(s)(s);return f=new ul({props:{content:"Verify connection",className:"self-start mt-0.5",$$slots:{default:[pf]},$$scope:{ctx:s}}}),{c(){e=d("div"),t=d("input"),a=D(),o=d("div"),w.c(),i=D(),c=d("div"),tt(f.$$.fragment),v=D(),this.h()},l(E){e=h(E,"DIV",{class:!0});var I=_(e);t=h(I,"INPUT",{class:!0,placeholder:!0}),a=A(I),o=h(I,"DIV",{class:!0});var T=_(o);w.l(T),T.forEach(u),i=A(I),c=h(I,"DIV",{class:!0});var V=_(c);lt(f.$$.fragment,V),V.forEach(u),v=A(I),I.forEach(u),this.h()},h(){n(t,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(t,"placeholder",l=s[6].t("Enter URL (e.g. http://localhost:11434)")),n(o,"class","self-center flex items-center"),n(c,"class","flex"),n(e,"class","flex gap-1.5")},m(E,I){M(E,e,I),r(e,t),Q(t,s[29]),r(e,a),r(e,o),w.m(o,null),r(e,i),r(e,c),st(f,c,null),r(e,v),b=!0,g||(m=le(t,"input",p),g=!0)},p(E,I){s=E,(!b||I[0]&64&&l!==(l=s[6].t("Enter URL (e.g. http://localhost:11434)")))&&n(t,"placeholder",l),I[0]&1&&t.value!==s[29]&&Q(t,s[29]),w.p(s,I);const T={};I[1]&4&&(T.$$scope={dirty:I,ctx:s}),f.$set(T)},i(E){b||(te(f.$$.fragment,E),b=!0)},o(E){re(f.$$.fragment,E),b=!1},d(E){E&&u(e),w.d(),at(f),g=!1,m()}}}function gf(s){let e,t,l,a,o,i,c,f=s[6].t("Save")+"",v,b,g,m;const p=[uf,of],y=[];function k(w,E){return w[4]!==null&&w[5]!==null?0:1}return l=k(s),a=y[l]=p[l](s),{c(){e=d("form"),t=d("div"),a.c(),o=D(),i=d("div"),c=d("button"),v=O(f),this.h()},l(w){e=h(w,"FORM",{class:!0});var E=_(e);t=h(E,"DIV",{class:!0});var I=_(t);a.l(I),I.forEach(u),o=A(E),i=h(E,"DIV",{class:!0});var T=_(i);c=h(T,"BUTTON",{class:!0,type:!0});var V=_(c);v=P(V,f),V.forEach(u),T.forEach(u),E.forEach(u),this.h()},h(){n(t,"class","space-y-3 overflow-y-scroll scrollbar-hidden h-full"),n(c,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),n(c,"type","submit"),n(i,"class","flex justify-end pt-3 text-sm font-medium"),n(e,"class","flex flex-col h-full justify-between text-sm")},m(w,E){M(w,e,E),r(e,t),y[l].m(t,null),r(e,o),r(e,i),r(i,c),r(c,v),b=!0,g||(m=le(e,"submit",Ml(s[26])),g=!0)},p(w,E){let I=l;l=k(w),l===I?y[l].p(w,E):(wt(),re(y[I],1,1,()=>{y[I]=null}),yt(),a=y[l],a?a.p(w,E):(a=y[l]=p[l](w),a.c()),te(a,1),a.m(t,null)),(!b||E[0]&64)&&f!==(f=w[6].t("Save")+"")&&U(v,f)},i(w){b||(te(a),b=!0)},o(w){re(a),b=!1},d(w){w&&u(e),y[l].d(),g=!1,m()}}}function mf(s,e,t){let l,a;zt(s,Ma,C=>t(27,l=C));const o=Ms(),i=bl("i18n");zt(s,i,C=>t(6,a=C));const c=async()=>await ms(localStorage.token);let f=[""],v=[""],b=[""],g={},m=null,p=null;const y=async C=>{t(2,b=b.map(Y=>Y.replace(/\/$/,""))),t(2,b=await Vr(localStorage.token,b)),t(1,v=await Sr(localStorage.token,v));const W=await Ar(localStorage.token,C).catch(Y=>(Ae.error(Y),null));W&&(Ae.success(a.t("Server connection verified")),W.pipelines&&t(3,g[b[C]]=!0,g)),await nl.set(await c())},k=async C=>{t(0,f=f.filter(Y=>Y!=="").map(Y=>Y.replace(/\/$/,""))),t(0,f=await Tr(localStorage.token,f)),await Va(localStorage.token,C).catch(Y=>(Ae.error(Y),null))&&Ae.success(a.t("Server connection verified")),await nl.set(await c())},w=async()=>{if(t(2,b=b.map(C=>C.replace(/\/$/,""))),v.length!==b.length&&(v.length>b.length&&t(1,v=v.slice(0,b.length)),v.length<b.length)){const C=b.length-v.length;for(let W=0;W<C;W++)v.push("")}t(2,b=await Vr(localStorage.token,b)),t(1,v=await Sr(localStorage.token,v)),await nl.set(await c())},E=async()=>{t(0,f=f.filter(C=>C!=="").map(C=>C.replace(/\/$/,""))),console.log(f),f.length===0?(t(5,p=!1),await Dr(localStorage.token,p),Ae.info(a.t("Ollama API disabled"))):(t(0,f=await Tr(localStorage.token,f)),await Va(localStorage.token).catch(W=>(Ae.error(W),null))&&(Ae.success(a.t("Server connection verified")),await nl.set(await c())))};El(async()=>{if(l.role==="admin"){await Promise.all([(async()=>{t(0,f=await Ei(localStorage.token))})(),(async()=>{t(2,b=await fo(localStorage.token))})(),(async()=>{t(1,v=await co(localStorage.token))})()]),b.forEach(async(Y,ee)=>{(await Ar(localStorage.token,ee)).pipelines&&t(3,g[Y]=!0,g)});const C=await bi(localStorage.token),W=await ho(localStorage.token);t(4,m=W.ENABLE_OPENAI_API),t(5,p=C.ENABLE_OLLAMA_API)}});function I(C){m=C,t(4,m)}const T=async()=>{_o(localStorage.token,m)};function V(C,W){C[W]=this.value,t(2,b)}function S(C,W){s.$$.not_equal(v[W],C)&&(v[W]=C,t(1,v))}const H=()=>{t(2,b=[...b,""]),t(1,v=[...v,""])},L=C=>{t(2,b=b.filter((W,Y)=>C!==Y)),t(1,v=v.filter((W,Y)=>C!==Y))},F=C=>{y(C)};function x(C){p=C,t(5,p)}const R=async()=>{Dr(localStorage.token,p),f.length===0&&t(0,f=[""])};function J(C,W){C[W]=this.value,t(0,f)}return[f,v,b,g,m,p,a,o,i,y,k,w,E,I,T,V,S,H,L,F,x,R,J,()=>{t(0,f=[...f,""])},C=>{t(0,f=f.filter((W,Y)=>C!==Y))},C=>{k(C)},()=>{w(),E(),o("save")}]}class bf extends _l{constructor(e){super(),vl(this,e,mf,gf,hl,{},null,[-1,-1])}}function si(s,e,t){const l=s.slice();return l[62]=e[t],l}function ai(s){let e,t=`<svg class="w-3 h-3" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
										transform-origin: center;
										animation: spinner_AtaB 0.75s infinite linear;
									}

									@keyframes spinner_AtaB {
										100% {
											transform: rotate(360deg);
										}
									}
								</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),ct(e)!=="svelte-1u2pzpa"&&(e.innerHTML=t),this.h()},h(){n(e,"class","ml-3 self-center")},m(l,a){M(l,e,a)},d(l){l&&u(e)}}}function ri(s){let e,t,l,a,o,i,c,f,v,b=s[20].t("Embedding Batch Size")+"",g,m,p,y,k,w,E,I,T,V;function S(L){s[36](L)}let H={placeholder:s[20].t("API Key")};return s[16]!==void 0&&(H.value=s[16]),o=new kl({props:H}),Ct.push(()=>jt(o,"value",S)),{c(){e=d("div"),t=d("input"),a=D(),tt(o.$$.fragment),c=D(),f=d("div"),v=d("div"),g=O(b),m=D(),p=d("div"),y=d("input"),k=D(),w=d("div"),E=d("input"),this.h()},l(L){e=h(L,"DIV",{class:!0});var F=_(e);t=h(F,"INPUT",{class:!0,placeholder:!0}),a=A(F),lt(o.$$.fragment,F),F.forEach(u),c=A(L),f=h(L,"DIV",{class:!0});var x=_(f);v=h(x,"DIV",{class:!0});var R=_(v);g=P(R,b),R.forEach(u),m=A(x),p=h(x,"DIV",{class:!0});var J=_(p);y=h(J,"INPUT",{id:!0,type:!0,min:!0,max:!0,step:!0,class:!0}),J.forEach(u),k=A(x),w=h(x,"DIV",{class:!0});var j=_(w);E=h(j,"INPUT",{type:!0,class:!0,min:!0,max:!0,step:!0}),j.forEach(u),x.forEach(u),this.h()},h(){n(t,"class","flex-1 w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(t,"placeholder",l=s[20].t("API Base URL")),t.required=!0,n(e,"class","my-0.5 flex gap-2"),n(v,"class","self-center text-xs font-medium"),n(y,"id","steps-range"),n(y,"type","range"),n(y,"min","1"),n(y,"max","2048"),n(y,"step","1"),n(y,"class","w-full h-2 rounded-lg appearance-none cursor-pointer dark:bg-gray-700"),n(p,"class","flex-1"),n(E,"type","number"),n(E,"class","bg-transparent text-center w-14"),n(E,"min","-2"),n(E,"max","16000"),n(E,"step","1"),n(w,"class",""),n(f,"class","flex mt-0.5 space-x-2")},m(L,F){M(L,e,F),r(e,t),Q(t,s[17]),r(e,a),st(o,e,null),M(L,c,F),M(L,f,F),r(f,v),r(v,g),r(f,m),r(f,p),r(p,y),Q(y,s[18]),r(f,k),r(f,w),r(w,E),Q(E,s[18]),I=!0,T||(V=[le(t,"input",s[35]),le(y,"change",s[37]),le(y,"input",s[37]),le(E,"input",s[38])],T=!0)},p(L,F){(!I||F[0]&1048576&&l!==(l=L[20].t("API Base URL")))&&n(t,"placeholder",l),F[0]&131072&&t.value!==L[17]&&Q(t,L[17]);const x={};F[0]&1048576&&(x.placeholder=L[20].t("API Key")),!i&&F[0]&65536&&(i=!0,x.value=L[16],$t(()=>i=!1)),o.$set(x),(!I||F[0]&1048576)&&b!==(b=L[20].t("Embedding Batch Size")+"")&&U(g,b),F[0]&262144&&Q(y,L[18]),F[0]&262144&&xt(E.value)!==L[18]&&Q(E,L[18])},i(L){I||(te(o.$$.fragment,L),I=!0)},o(L){re(o.$$.fragment,L),I=!1},d(L){L&&(u(e),u(c),u(f)),at(o),T=!1,Kt(V)}}}function Ef(s){let e,t=s[20].t("Off")+"",l;return{c(){e=d("span"),l=O(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var o=_(e);l=P(o,t),o.forEach(u),this.h()},h(){n(e,"class","ml-2 self-center")},m(a,o){M(a,e,o),r(e,l)},p(a,o){o[0]&1048576&&t!==(t=a[20].t("Off")+"")&&U(l,t)},d(a){a&&u(e)}}}function kf(s){let e,t=s[20].t("On")+"",l;return{c(){e=d("span"),l=O(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var o=_(e);l=P(o,t),o.forEach(u),this.h()},h(){n(e,"class","ml-2 self-center")},m(a,o){M(a,e,o),r(e,l)},p(a,o){o[0]&1048576&&t!==(t=a[20].t("On")+"")&&U(l,t)},d(a){a&&u(e)}}}function wf(s){let e,t,l,a,o,i,c,f=s[5]===""&&ni(s);return{c(){e=d("div"),t=d("div"),l=d("input"),o=D(),f&&f.c(),this.h()},l(v){e=h(v,"DIV",{class:!0});var b=_(e);t=h(b,"DIV",{class:!0});var g=_(t);l=h(g,"INPUT",{class:!0,placeholder:!0}),g.forEach(u),o=A(b),f&&f.l(b),b.forEach(u),this.h()},h(){n(l,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(l,"placeholder",a=s[20].t("Set embedding model (e.g. {{model}})",{model:s[6].slice(-40)})),n(t,"class","flex-1 mr-2"),n(e,"class","flex w-full")},m(v,b){M(v,e,b),r(e,t),r(t,l),Q(l,s[6]),r(e,o),f&&f.m(e,null),i||(c=le(l,"input",s[41]),i=!0)},p(v,b){b[0]&3145792&&a!==(a=v[20].t("Set embedding model (e.g. {{model}})",{model:v[6].slice(-40)}))&&n(l,"placeholder",a),b[0]&2097216&&l.value!==v[6]&&Q(l,v[6]),v[5]===""?f?f.p(v,b):(f=ni(v),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},d(v){v&&u(e),f&&f.d(),i=!1,c()}}}function yf(s){let e,t,l,a,o,i,c,f=!s[6]&&ii(s),v=ot(s[21].filter(hi)),b=[];for(let g=0;g<v.length;g+=1)b[g]=oi(si(s,v,g));return{c(){e=d("div"),t=d("div"),l=d("select"),f&&f.c(),a=Gt();for(let g=0;g<b.length;g+=1)b[g].c();this.h()},l(g){e=h(g,"DIV",{class:!0});var m=_(e);t=h(m,"DIV",{class:!0});var p=_(t);l=h(p,"SELECT",{class:!0,placeholder:!0});var y=_(l);f&&f.l(y),a=Gt();for(let k=0;k<b.length;k+=1)b[k].l(y);y.forEach(u),p.forEach(u),m.forEach(u),this.h()},h(){n(l,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(l,"placeholder",o=s[20].t("Select a model")),l.required=!0,s[6]===void 0&&Yt(()=>s[40].call(l)),n(t,"class","flex-1 mr-2"),n(e,"class","flex w-full")},m(g,m){M(g,e,m),r(e,t),r(t,l),f&&f.m(l,null),r(l,a);for(let p=0;p<b.length;p+=1)b[p]&&b[p].m(l,null);pt(l,s[6],!0),i||(c=le(l,"change",s[40]),i=!0)},p(g,m){if(g[6]?f&&(f.d(1),f=null):f?f.p(g,m):(f=ii(g),f.c(),f.m(l,a)),m[0]&2097152){v=ot(g[21].filter(hi));let p;for(p=0;p<v.length;p+=1){const y=si(g,v,p);b[p]?b[p].p(y,m):(b[p]=oi(y),b[p].c(),b[p].m(l,null))}for(;p<b.length;p+=1)b[p].d(1);b.length=v.length}m[0]&1048576&&o!==(o=g[20].t("Select a model"))&&n(l,"placeholder",o),m[0]&2097216&&pt(l,g[6])},d(g){g&&u(e),f&&f.d(),Zt(b,g),i=!1,c()}}}function ni(s){let e,t,l;function a(c,f){return c[1]?Tf:If}let o=a(s),i=o(s);return{c(){e=d("button"),i.c(),this.h()},l(c){e=h(c,"BUTTON",{class:!0});var f=_(e);i.l(f),f.forEach(u),this.h()},h(){n(e,"class","px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),e.disabled=s[1]},m(c,f){M(c,e,f),i.m(e,null),t||(l=le(e,"click",s[42]),t=!0)},p(c,f){o!==(o=a(c))&&(i.d(1),i=o(c),i&&(i.c(),i.m(e,null))),f[0]&2&&(e.disabled=c[1])},d(c){c&&u(e),i.d(),t=!1,l()}}}function If(s){let e,t,l;return{c(){e=bt("svg"),t=bt("path"),l=bt("path"),this.h()},l(a){e=Et(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var o=_(e);t=Et(o,"path",{d:!0}),_(t).forEach(u),l=Et(o,"path",{d:!0}),_(l).forEach(u),o.forEach(u),this.h()},h(){n(t,"d","M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"),n(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"viewBox","0 0 16 16"),n(e,"fill","currentColor"),n(e,"class","w-4 h-4")},m(a,o){M(a,e,o),r(e,t),r(e,l)},d(a){a&&u(e)}}}function Tf(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}

											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),ct(e)!=="svelte-1x85grn"&&(e.innerHTML=t),this.h()},h(){n(e,"class","self-center")},m(l,a){M(l,e,a)},d(l){l&&u(e)}}}function ii(s){let e,t=s[20].t("Select a model")+"",l;return{c(){e=d("option"),l=O(t),this.h()},l(a){e=h(a,"OPTION",{});var o=_(e);l=P(o,t),o.forEach(u),this.h()},h(){e.__value="",Q(e,e.__value),e.disabled=!0,e.selected=!0},m(a,o){M(a,e,o),r(e,l)},p(a,o){o[0]&1048576&&t!==(t=a[20].t("Select a model")+"")&&U(l,t)},d(a){a&&u(e)}}}function oi(s){let e,t=s[62].name+"",l,a;return{c(){e=d("option"),l=O(t),this.h()},l(o){e=h(o,"OPTION",{class:!0});var i=_(e);l=P(i,t),i.forEach(u),this.h()},h(){e.__value=a=s[62].id,Q(e,e.__value),n(e,"class","bg-gray-50 dark:bg-gray-700")},m(o,i){M(o,e,i),r(e,l)},p(o,i){i[0]&2097152&&t!==(t=o[62].name+"")&&U(l,t),i[0]&2097152&&a!==(a=o[62].id)&&(e.__value=a,Q(e,e.__value))},d(o){o&&u(e)}}}function ui(s){let e,t,l=s[20].t("Reranking Model")+"",a,o,i,c,f,v,b,g,m,p;function y(E,I){return E[2]?Af:Df}let k=y(s),w=k(s);return{c(){e=d("div"),t=d("div"),a=O(l),o=D(),i=d("div"),c=d("div"),f=d("input"),b=D(),g=d("button"),w.c(),this.h()},l(E){e=h(E,"DIV",{class:!0});var I=_(e);t=h(I,"DIV",{class:!0});var T=_(t);a=P(T,l),T.forEach(u),o=A(I),i=h(I,"DIV",{class:!0});var V=_(i);c=h(V,"DIV",{class:!0});var S=_(c);f=h(S,"INPUT",{class:!0,placeholder:!0}),S.forEach(u),b=A(V),g=h(V,"BUTTON",{class:!0});var H=_(g);w.l(H),H.forEach(u),V.forEach(u),I.forEach(u),this.h()},h(){n(t,"class","mb-2 text-sm font-medium"),n(f,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(f,"placeholder",v=s[20].t("Set reranking model (e.g. {{model}})",{model:"BAAI/bge-reranker-v2-m3"})),n(c,"class","flex-1 mr-2"),n(g,"class","px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),g.disabled=s[2],n(i,"class","flex w-full"),n(e,"class","")},m(E,I){M(E,e,I),r(e,t),r(t,a),r(e,o),r(e,i),r(i,c),r(c,f),Q(f,s[7]),r(i,b),r(i,g),w.m(g,null),m||(p=[le(f,"input",s[43]),le(g,"click",s[44])],m=!0)},p(E,I){I[0]&1048576&&l!==(l=E[20].t("Reranking Model")+"")&&U(a,l),I[0]&1048576&&v!==(v=E[20].t("Set reranking model (e.g. {{model}})",{model:"BAAI/bge-reranker-v2-m3"}))&&n(f,"placeholder",v),I[0]&128&&f.value!==E[7]&&Q(f,E[7]),k!==(k=y(E))&&(w.d(1),w=k(E),w&&(w.c(),w.m(g,null))),I[0]&4&&(g.disabled=E[2])},d(E){E&&u(e),w.d(),m=!1,Kt(p)}}}function Df(s){let e,t,l;return{c(){e=bt("svg"),t=bt("path"),l=bt("path"),this.h()},l(a){e=Et(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var o=_(e);t=Et(o,"path",{d:!0}),_(t).forEach(u),l=Et(o,"path",{d:!0}),_(l).forEach(u),o.forEach(u),this.h()},h(){n(t,"d","M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"),n(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"viewBox","0 0 16 16"),n(e,"fill","currentColor"),n(e,"class","w-4 h-4")},m(a,o){M(a,e,o),r(e,t),r(e,l)},d(a){a&&u(e)}}}function Af(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}

											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),ct(e)!=="svelte-1x85grn"&&(e.innerHTML=t),this.h()},h(){n(e,"class","self-center")},m(l,a){M(l,e,a)},d(l){l&&u(e)}}}function fi(s){let e,t,l,a,o,i;return{c(){e=d("div"),t=d("div"),l=d("input"),this.h()},l(c){e=h(c,"DIV",{class:!0});var f=_(e);t=h(f,"DIV",{class:!0});var v=_(t);l=h(v,"INPUT",{class:!0,placeholder:!0}),v.forEach(u),f.forEach(u),this.h()},h(){n(l,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(l,"placeholder",a=s[20].t("Enter Tika Server URL")),n(t,"class","flex-1 mr-2"),n(e,"class","flex w-full mt-2")},m(c,f){M(c,e,f),r(e,t),r(t,l),Q(l,s[11]),o||(i=le(l,"input",s[47]),o=!0)},p(c,f){f[0]&1048576&&a!==(a=c[20].t("Enter Tika Server URL"))&&n(l,"placeholder",a),f[0]&2048&&l.value!==c[11]&&Q(l,c[11])},d(c){c&&u(e),o=!1,i()}}}function Vf(s){let e,t,l,a;return{c(){e=d("input"),this.h()},l(o){e=h(o,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),this.h()},h(){n(e,"class","w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(e,"type","number"),n(e,"placeholder",t=s[20].t("Leave empty for unlimited")),n(e,"autocomplete","off"),n(e,"min","0")},m(o,i){M(o,e,i),Q(e,s[8]),l||(a=le(e,"input",s[48]),l=!0)},p(o,i){i[0]&1048576&&t!==(t=o[20].t("Leave empty for unlimited"))&&n(e,"placeholder",t),i[0]&256&&xt(e.value)!==o[8]&&Q(e,o[8])},d(o){o&&u(e),l=!1,a()}}}function Sf(s){let e,t,l,a;return{c(){e=d("input"),this.h()},l(o){e=h(o,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),this.h()},h(){n(e,"class","w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(e,"type","number"),n(e,"placeholder",t=s[20].t("Leave empty for unlimited")),n(e,"autocomplete","off"),n(e,"min","0")},m(o,i){M(o,e,i),Q(e,s[9]),l||(a=le(e,"input",s[49]),l=!0)},p(o,i){i[0]&1048576&&t!==(t=o[20].t("Leave empty for unlimited"))&&n(e,"placeholder",t),i[0]&512&&xt(e.value)!==o[9]&&Q(e,o[9])},d(o){o&&u(e),l=!1,a()}}}function ci(s){let e,t,l=s[20].t("Minimum Score")+"",a,o,i,c,f,v,b,g;return{c(){e=d("div"),t=d("div"),a=O(l),o=D(),i=d("div"),c=d("input"),this.h()},l(m){e=h(m,"DIV",{class:!0});var p=_(e);t=h(p,"DIV",{class:!0});var y=_(t);a=P(y,l),y.forEach(u),o=A(p),i=h(p,"DIV",{class:!0});var k=_(i);c=h(k,"INPUT",{class:!0,type:!0,step:!0,placeholder:!0,autocomplete:!0,min:!0,title:!0}),k.forEach(u),p.forEach(u),this.h()},h(){n(t,"class","self-center text-xs font-medium min-w-fit"),n(c,"class","w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(c,"type","number"),n(c,"step","0.01"),n(c,"placeholder",f=s[20].t("Enter Score")),n(c,"autocomplete","off"),n(c,"min","0.0"),n(c,"title",v=s[20].t("The score should be a value between 0.0 (0%) and 1.0 (100%).")),n(i,"class","self-center p-3"),n(e,"class","flex w-full justify-between")},m(m,p){M(m,e,p),r(e,t),r(t,a),r(e,o),r(e,i),r(i,c),Q(c,s[19].r),b||(g=le(c,"input",s[51]),b=!0)},p(m,p){p[0]&1048576&&l!==(l=m[20].t("Minimum Score")+"")&&U(a,l),p[0]&1048576&&f!==(f=m[20].t("Enter Score"))&&n(c,"placeholder",f),p[0]&1048576&&v!==(v=m[20].t("The score should be a value between 0.0 (0%) and 1.0 (100%)."))&&n(c,"title",v),p[0]&524288&&xt(c.value)!==m[19].r&&Q(c,m[19].r)},d(m){m&&u(e),b=!1,g()}}}function di(s){let e,t=s[20].t("Note: If you set a minimum score, the search will only return documents with a score greater than or equal to the minimum score.")+"",l,a,o;return{c(){e=d("div"),l=O(t),a=D(),o=d("hr"),this.h()},l(i){e=h(i,"DIV",{class:!0});var c=_(e);l=P(c,t),c.forEach(u),a=A(i),o=h(i,"HR",{class:!0}),this.h()},h(){n(e,"class","mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500"),n(o,"class","dark:border-gray-850 my-3")},m(i,c){M(i,e,c),r(e,l),M(i,a,c),M(i,o,c)},p(i,c){c[0]&1048576&&t!==(t=i[20].t("Note: If you set a minimum score, the search will only return documents with a score greater than or equal to the minimum score.")+"")&&U(l,t)},d(i){i&&(u(e),u(a),u(o))}}}function Mf(s){let e,t,l,a,o,i,c,f,v,b,g=s[20].t("General Settings")+"",m,p,y,k,w=s[20].t("Scan for documents from {{path}}",{path:"DOCS_DIR (/data/docs)"})+"",E,I,T,V,S=s[20].t("Scan")+"",H,L,F,x,R,J,j=s[20].t("Embedding Model Engine")+"",B,G,N,C,W,Y=s[20].t("Default (SentenceTransformers)")+"",ee,K,$=s[20].t("Ollama")+"",q,z,ce=s[20].t("OpenAI")+"",ne,ge,me,Oe,qe,Ve=s[20].t("Hybrid Search")+"",Te,je,be,Me,fe,ye,Ze,Ce,Pe,et,Ne=s[20].t("Embedding Model")+"",He,Xe,de,Se,ve=s[20].t("Warning: If you update or change your embedding model, you will need to re-import all documents.")+"",oe,Ee,ae,ke,ze,De,he,ue=s[20].t("Content Extraction")+"",Ue,We,Fe,Ke,ut=s[20].t("Engine")+"",nt,it,Je,Ye,we,ft=s[20].t("Default")+"",xe,Be,ie,X=s[20].t("Tika")+"",Z,se,_e,Ge,gt,Tt,Dt,St=s[20].t("Files")+"",Pt,Rt,Mt,Le,Ie,It=s[20].t("Max Upload Size")+"",At,Ht,vt,ht,mt,rt,Nt,Ut=s[20].t("Max Upload Count")+"",Wt,Ot,Lt,Re,Qe,dt,Qt,Bt,Jt,wl=s[20].t("Query Params")+"",pl,yl,Xt,el,ol,Il=s[20].t("Top K")+"",gl,ts,Tl,tl,Cl,ls,Bl,ql,ml,Rl,Ol=s[20].t("RAG Template")+"",Yl,ss,Hl,ca,Os,da,Pl,as,Es=s[20].t("Chunk Params")+"",Ps,ha,$l,jl,rs,ks=s[20].t("Chunk Size")+"",Ls,_a,ns,fl,Ns,va,Zl,is,ws=s[20].t("Chunk Overlap")+"",Us,pa,os,cl,Cs,ga,us,Gl,fs,ys=s[20].t("PDF Extract Images (OCR)")+"",Rs,ma,Kl,Is=(s[15]?s[20].t("On"):s[20].t("Off"))+"",Hs,ba,Bs,Ea,Ql,Ll,Jl,Oa='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-4"><path fill-rule="evenodd" d="M5.625 1.5H9a3.75 3.75 0 0 1 3.75 3.75v1.875c0 1.036.84 1.875 1.875 1.875H16.5a3.75 3.75 0 0 1 3.75 3.75v7.875c0 1.035-.84 1.875-1.875 1.875H5.625a1.875 1.875 0 0 1-1.875-1.875V3.375c0-1.036.84-1.875 1.875-1.875ZM9.75 14.25a.75.75 0 0 0 0 1.5H15a.75.75 0 0 0 0-1.5H9.75Z" clip-rule="evenodd"></path><path d="M14.25 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 16.5 7.5h-1.875a.375.375 0 0 1-.375-.375V5.25Z"></path></svg>',ka,cs,Ts=s[20].t("Reset Upload Directory")+"",$s,wa,Nl,Xl,Pa='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M3.5 2A1.5 1.5 0 0 0 2 3.5v9A1.5 1.5 0 0 0 3.5 14h9a1.5 1.5 0 0 0 1.5-1.5v-7A1.5 1.5 0 0 0 12.5 4H9.621a1.5 1.5 0 0 1-1.06-.44L7.439 2.44A1.5 1.5 0 0 0 6.38 2H3.5Zm6.75 7.75a.75.75 0 0 0 0-1.5h-4.5a.75.75 0 0 0 0 1.5h4.5Z" clip-rule="evenodd"></path></svg>',ya,ds,Ds=s[20].t("Reset Vector Storage")+"",js,Ia,hs,xl,As=s[20].t("Save")+"",Zs,kt,Ta,La;function yi(pe){s[28](pe)}let Na={};s[4]!==void 0&&(Na.show=s[4]),e=new Sa({props:Na}),Ct.push(()=>jt(e,"show",yi)),e.$on("confirm",s[29]);function Ii(pe){s[30](pe)}let Ua={};s[3]!==void 0&&(Ua.show=s[3]),a=new Sa({props:Ua}),Ct.push(()=>jt(a,"show",Ii)),a.$on("confirm",s[31]);let il=s[0]&&ai(),Ft=s[5]==="openai"&&ri(s);function Ca(pe,$e){return pe[19].hybrid===!0?kf:Ef}let Gs=Ca(s),Dl=Gs(s);function Ra(pe,$e){return pe[5]==="ollama"?yf:wf}let Ks=Ra(s),Al=Ks(s),ll=s[19].hybrid===!0&&ui(s),sl=s[12]&&fi(s);ht=new ul({props:{content:s[20].t("The maximum file size in MB. If the file size exceeds this limit, the file will not be uploaded."),placement:"top-start",$$slots:{default:[Vf]},$$scope:{ctx:s}}}),Re=new ul({props:{content:s[20].t("The maximum number of files that can be used at once in chat. If the number of files exceeds this limit, the files will not be uploaded."),placement:"top-start",$$slots:{default:[Sf]},$$scope:{ctx:s}}});let al=s[19].hybrid===!0&&ci(s),rl=s[19].hybrid===!0&&di(s);return{c(){tt(e.$$.fragment),l=D(),tt(a.$$.fragment),i=D(),c=d("form"),f=d("div"),v=d("div"),b=d("div"),m=O(g),p=D(),y=d("div"),k=d("div"),E=O(w),I=D(),T=d("button"),V=d("div"),H=O(S),L=D(),il&&il.c(),x=D(),R=d("div"),J=d("div"),B=O(j),G=D(),N=d("div"),C=d("select"),W=d("option"),ee=O(Y),K=d("option"),q=O($),z=d("option"),ne=O(ce),ge=D(),Ft&&Ft.c(),me=D(),Oe=d("div"),qe=d("div"),Te=O(Ve),je=D(),be=d("button"),Dl.c(),Me=D(),fe=d("hr"),ye=D(),Ze=d("div"),Ce=D(),Pe=d("div"),et=d("div"),He=O(Ne),Xe=D(),Al.c(),de=D(),Se=d("div"),oe=O(ve),Ee=D(),ll&&ll.c(),ae=D(),ke=d("hr"),ze=D(),De=d("div"),he=d("div"),Ue=O(ue),We=D(),Fe=d("div"),Ke=d("div"),nt=O(ut),it=D(),Je=d("div"),Ye=d("select"),we=d("option"),xe=O(ft),Be=D(),ie=d("option"),Z=O(X),se=D(),sl&&sl.c(),_e=D(),Ge=d("hr"),gt=D(),Tt=d("div"),Dt=d("div"),Pt=O(St),Rt=D(),Mt=d("div"),Le=d("div"),Ie=d("div"),At=O(It),Ht=D(),vt=d("div"),tt(ht.$$.fragment),mt=D(),rt=d("div"),Nt=d("div"),Wt=O(Ut),Ot=D(),Lt=d("div"),tt(Re.$$.fragment),Qe=D(),dt=d("hr"),Qt=D(),Bt=d("div"),Jt=d("div"),pl=O(wl),yl=D(),Xt=d("div"),el=d("div"),ol=d("div"),gl=O(Il),ts=D(),Tl=d("div"),tl=d("input"),ls=D(),al&&al.c(),Bl=D(),rl&&rl.c(),ql=D(),ml=d("div"),Rl=d("div"),Yl=O(Ol),ss=D(),Hl=d("textarea"),ca=D(),Os=d("hr"),da=D(),Pl=d("div"),as=d("div"),Ps=O(Es),ha=D(),$l=d("div"),jl=d("div"),rs=d("div"),Ls=O(ks),_a=D(),ns=d("div"),fl=d("input"),va=D(),Zl=d("div"),is=d("div"),Us=O(ws),pa=D(),os=d("div"),cl=d("input"),ga=D(),us=d("div"),Gl=d("div"),fs=d("div"),Rs=O(ys),ma=D(),Kl=d("button"),Hs=O(Is),ba=D(),Bs=d("hr"),Ea=D(),Ql=d("div"),Ll=d("button"),Jl=d("div"),Jl.innerHTML=Oa,ka=D(),cs=d("div"),$s=O(Ts),wa=D(),Nl=d("button"),Xl=d("div"),Xl.innerHTML=Pa,ya=D(),ds=d("div"),js=O(Ds),Ia=D(),hs=d("div"),xl=d("button"),Zs=O(As),this.h()},l(pe){lt(e.$$.fragment,pe),l=A(pe),lt(a.$$.fragment,pe),i=A(pe),c=h(pe,"FORM",{class:!0});var $e=_(c);f=h($e,"DIV",{class:!0});var Vt=_(f);v=h(Vt,"DIV",{class:!0});var dl=_(v);b=h(dl,"DIV",{class:!0});var _s=_(b);m=P(_s,g),_s.forEach(u),p=A(dl),y=h(dl,"DIV",{class:!0});var Wl=_(y);k=h(Wl,"DIV",{class:!0});var Ha=_(k);E=P(Ha,w),Ha.forEach(u),I=A(Wl),T=h(Wl,"BUTTON",{class:!0,type:!0});var Ws=_(T);V=h(Ws,"DIV",{class:!0});var Ba=_(V);H=P(Ba,S),Ba.forEach(u),L=A(Ws),il&&il.l(Ws),Ws.forEach(u),Wl.forEach(u),x=A(dl),R=h(dl,"DIV",{class:!0});var zs=_(R);J=h(zs,"DIV",{class:!0});var $a=_(J);B=P($a,j),$a.forEach(u),G=A(zs),N=h(zs,"DIV",{class:!0});var ja=_(N);C=h(ja,"SELECT",{class:!0,placeholder:!0});var Fs=_(C);W=h(Fs,"OPTION",{});var Za=_(W);ee=P(Za,Y),Za.forEach(u),K=h(Fs,"OPTION",{});var Ga=_(K);q=P(Ga,$),Ga.forEach(u),z=h(Fs,"OPTION",{});var Ka=_(z);ne=P(Ka,ce),Ka.forEach(u),Fs.forEach(u),ja.forEach(u),zs.forEach(u),ge=A(dl),Ft&&Ft.l(dl),me=A(dl),Oe=h(dl,"DIV",{class:!0});var qs=_(Oe);qe=h(qs,"DIV",{class:!0});var Wa=_(qe);Te=P(Wa,Ve),Wa.forEach(u),je=A(qs),be=h(qs,"BUTTON",{class:!0,type:!0});var za=_(be);Dl.l(za),za.forEach(u),qs.forEach(u),dl.forEach(u),Me=A(Vt),fe=h(Vt,"HR",{class:!0}),ye=A(Vt),Ze=h(Vt,"DIV",{class:!0}),_(Ze).forEach(u),Ce=A(Vt),Pe=h(Vt,"DIV",{});var zl=_(Pe);et=h(zl,"DIV",{class:!0});var Fa=_(et);He=P(Fa,Ne),Fa.forEach(u),Xe=A(zl),Al.l(zl),de=A(zl),Se=h(zl,"DIV",{class:!0});var qa=_(Se);oe=P(qa,ve),qa.forEach(u),Ee=A(zl),ll&&ll.l(zl),zl.forEach(u),ae=A(Vt),ke=h(Vt,"HR",{class:!0}),ze=A(Vt),De=h(Vt,"DIV",{class:!0});var vs=_(De);he=h(vs,"DIV",{class:!0});var Ya=_(he);Ue=P(Ya,ue),Ya.forEach(u),We=A(vs),Fe=h(vs,"DIV",{class:!0});var Ys=_(Fe);Ke=h(Ys,"DIV",{class:!0});var Qa=_(Ke);nt=P(Qa,ut),Qa.forEach(u),it=A(Ys),Je=h(Ys,"DIV",{class:!0});var Ja=_(Je);Ye=h(Ja,"SELECT",{class:!0});var Da=_(Ye);we=h(Da,"OPTION",{});var Aa=_(we);xe=P(Aa,ft),Be=A(Aa),Aa.forEach(u),ie=h(Da,"OPTION",{});var Xa=_(ie);Z=P(Xa,X),Xa.forEach(u),Da.forEach(u),Ja.forEach(u),Ys.forEach(u),se=A(vs),sl&&sl.l(vs),vs.forEach(u),_e=A(Vt),Ge=h(Vt,"HR",{class:!0}),gt=A(Vt),Tt=h(Vt,"DIV",{class:!0});var Qs=_(Tt);Dt=h(Qs,"DIV",{class:!0});var xa=_(Dt);Pt=P(xa,St),xa.forEach(u),Rt=A(Qs),Mt=h(Qs,"DIV",{class:!0});var Js=_(Mt);Le=h(Js,"DIV",{class:!0});var Xs=_(Le);Ie=h(Xs,"DIV",{class:!0});var er=_(Ie);At=P(er,It),er.forEach(u),Ht=A(Xs),vt=h(Xs,"DIV",{class:!0});var tr=_(vt);lt(ht.$$.fragment,tr),tr.forEach(u),Xs.forEach(u),mt=A(Js),rt=h(Js,"DIV",{class:!0});var xs=_(rt);Nt=h(xs,"DIV",{class:!0});var lr=_(Nt);Wt=P(lr,Ut),lr.forEach(u),Ot=A(xs),Lt=h(xs,"DIV",{class:!0});var sr=_(Lt);lt(Re.$$.fragment,sr),sr.forEach(u),xs.forEach(u),Js.forEach(u),Qs.forEach(u),Qe=A(Vt),dt=h(Vt,"HR",{class:!0}),Qt=A(Vt),Bt=h(Vt,"DIV",{class:!0});var Fl=_(Bt);Jt=h(Fl,"DIV",{class:!0});var ar=_(Jt);pl=P(ar,wl),ar.forEach(u),yl=A(Fl),Xt=h(Fl,"DIV",{class:!0});var ea=_(Xt);el=h(ea,"DIV",{class:!0});var ta=_(el);ol=h(ta,"DIV",{class:!0});var rr=_(ol);gl=P(rr,Il),rr.forEach(u),ts=A(ta),Tl=h(ta,"DIV",{class:!0});var nr=_(Tl);tl=h(nr,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),nr.forEach(u),ta.forEach(u),ls=A(ea),al&&al.l(ea),ea.forEach(u),Bl=A(Fl),rl&&rl.l(Fl),ql=A(Fl),ml=h(Fl,"DIV",{});var la=_(ml);Rl=h(la,"DIV",{class:!0});var ir=_(Rl);Yl=P(ir,Ol),ir.forEach(u),ss=A(la),Hl=h(la,"TEXTAREA",{class:!0,rows:!0}),_(Hl).forEach(u),la.forEach(u),Fl.forEach(u),ca=A(Vt),Os=h(Vt,"HR",{class:!0}),da=A(Vt),Pl=h(Vt,"DIV",{class:!0});var ps=_(Pl);as=h(ps,"DIV",{class:!0});var or=_(as);Ps=P(or,Es),or.forEach(u),ha=A(ps),$l=h(ps,"DIV",{class:!0});var sa=_($l);jl=h(sa,"DIV",{class:!0});var aa=_(jl);rs=h(aa,"DIV",{class:!0});var ur=_(rs);Ls=P(ur,ks),ur.forEach(u),_a=A(aa),ns=h(aa,"DIV",{class:!0});var fr=_(ns);fl=h(fr,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),fr.forEach(u),aa.forEach(u),va=A(sa),Zl=h(sa,"DIV",{class:!0});var ra=_(Zl);is=h(ra,"DIV",{class:!0});var cr=_(is);Us=P(cr,ws),cr.forEach(u),pa=A(ra),os=h(ra,"DIV",{class:!0});var dr=_(os);cl=h(dr,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),dr.forEach(u),ra.forEach(u),sa.forEach(u),ga=A(ps),us=h(ps,"DIV",{class:!0});var hr=_(us);Gl=h(hr,"DIV",{class:!0});var na=_(Gl);fs=h(na,"DIV",{class:!0});var _r=_(fs);Rs=P(_r,ys),_r.forEach(u),ma=A(na),Kl=h(na,"BUTTON",{class:!0,type:!0});var vr=_(Kl);Hs=P(vr,Is),vr.forEach(u),na.forEach(u),hr.forEach(u),ps.forEach(u),ba=A(Vt),Bs=h(Vt,"HR",{class:!0}),Ea=A(Vt),Ql=h(Vt,"DIV",{});var ia=_(Ql);Ll=h(ia,"BUTTON",{class:!0,type:!0});var oa=_(Ll);Jl=h(oa,"DIV",{class:!0,"data-svelte-h":!0}),ct(Jl)!=="svelte-1m6igha"&&(Jl.innerHTML=Oa),ka=A(oa),cs=h(oa,"DIV",{class:!0});var pr=_(cs);$s=P(pr,Ts),pr.forEach(u),oa.forEach(u),wa=A(ia),Nl=h(ia,"BUTTON",{class:!0,type:!0});var ua=_(Nl);Xl=h(ua,"DIV",{class:!0,"data-svelte-h":!0}),ct(Xl)!=="svelte-16tyzd9"&&(Xl.innerHTML=Pa),ya=A(ua),ds=h(ua,"DIV",{class:!0});var gr=_(ds);js=P(gr,Ds),gr.forEach(u),ua.forEach(u),ia.forEach(u),Vt.forEach(u),Ia=A($e),hs=h($e,"DIV",{class:!0});var mr=_(hs);xl=h(mr,"BUTTON",{class:!0,type:!0});var br=_(xl);Zs=P(br,As),br.forEach(u),mr.forEach(u),$e.forEach(u),this.h()},h(){n(b,"class","mb-0.5 text-sm font-medium"),n(k,"class","self-center text-xs font-medium"),n(V,"class","self-center font-medium"),n(T,"class",F="self-center text-xs p-1 px-3 bg-gray-50 dark:bg-gray-800 dark:hover:bg-gray-700 rounded-lg flex flex-row space-x-1 items-center "+(s[0]?" cursor-not-allowed":"")),n(T,"type","button"),T.disabled=s[0],n(y,"class","flex w-full justify-between"),n(J,"class","self-center text-xs font-medium"),W.__value="",Q(W,W.__value),K.__value="ollama",Q(K,K.__value),z.__value="openai",Q(z,z.__value),n(C,"class","dark:bg-gray-900 w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),n(C,"placeholder","Select an embedding model engine"),s[5]===void 0&&Yt(()=>s[33].call(C)),n(N,"class","flex items-center relative"),n(R,"class","flex w-full justify-between"),n(qe,"class","self-center text-xs font-medium"),n(be,"class","p-1 px-3 text-xs flex rounded transition"),n(be,"type","button"),n(Oe,"class","flex w-full justify-between"),n(v,"class","flex flex-col gap-0.5"),n(fe,"class","dark:border-gray-850"),n(Ze,"class","space-y-2"),n(et,"class","mb-2 text-sm font-medium"),n(Se,"class","mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500"),n(ke,"class","dark:border-gray-850"),n(he,"class","text-sm font-medium"),n(Ke,"class","self-center text-xs font-medium"),we.__value="",Q(we,we.__value),ie.__value="tika",Q(ie,ie.__value),n(Ye,"class","dark:bg-gray-900 w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),s[10]===void 0&&Yt(()=>s[45].call(Ye)),n(Je,"class","flex items-center relative"),n(Fe,"class","flex w-full justify-between mt-2"),n(De,"class",""),n(Ge,"class","dark:border-gray-850"),n(Dt,"class","text-sm font-medium"),n(Ie,"class","self-center text-xs font-medium min-w-fit mb-1"),n(vt,"class","self-center"),n(Le,"class","w-full"),n(Nt,"class","self-center text-xs font-medium min-w-fit mb-1"),n(Lt,"class","self-center"),n(rt,"class","w-full"),n(Mt,"class","my-2 flex gap-1.5"),n(Tt,"class",""),n(dt,"class","dark:border-gray-850"),n(Jt,"class","text-sm font-medium"),n(ol,"class","self-center text-xs font-medium min-w-fit"),n(tl,"class","w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(tl,"type","number"),n(tl,"placeholder",Cl=s[20].t("Enter Top K")),n(tl,"autocomplete","off"),n(tl,"min","0"),n(Tl,"class","self-center p-3"),n(el,"class","flex w-full justify-between"),n(Xt,"class","flex gap-1"),n(Rl,"class","mb-2.5 text-sm font-medium"),n(Hl,"class","w-full rounded-lg px-4 py-3 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none resize-none"),n(Hl,"rows","4"),n(Bt,"class",""),n(Os,"class","dark:border-gray-850"),n(as,"class","text-sm font-medium"),n(rs,"class","self-center text-xs font-medium min-w-fit mb-1"),n(fl,"class","w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(fl,"type","number"),n(fl,"placeholder",Ns=s[20].t("Enter Chunk Size")),n(fl,"autocomplete","off"),n(fl,"min","0"),n(ns,"class","self-center"),n(jl,"class","w-full justify-between"),n(is,"class","self-center text-xs font-medium min-w-fit mb-1"),n(cl,"class","w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(cl,"type","number"),n(cl,"placeholder",Cs=s[20].t("Enter Chunk Overlap")),n(cl,"autocomplete","off"),n(cl,"min","0"),n(os,"class","self-center"),n(Zl,"class","w-full"),n($l,"class","my-2 flex gap-1.5"),n(fs,"class","text-xs font-medium"),n(Kl,"class","text-xs font-medium text-gray-500"),n(Kl,"type","button"),n(Gl,"class","flex justify-between items-center text-xs"),n(us,"class","my-3"),n(Pl,"class",""),n(Bs,"class","dark:border-gray-850"),n(Jl,"class","self-center mr-3"),n(cs,"class","self-center text-sm font-medium"),n(Ll,"class","flex rounded-xl py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),n(Ll,"type","button"),n(Xl,"class","self-center mr-3"),n(ds,"class","self-center text-sm font-medium"),n(Nl,"class","flex rounded-xl py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),n(Nl,"type","button"),n(f,"class","space-y-2.5 overflow-y-scroll scrollbar-hidden h-full pr-1.5"),n(xl,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),n(xl,"type","submit"),n(hs,"class","flex justify-end pt-3 text-sm font-medium"),n(c,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(pe,$e){st(e,pe,$e),M(pe,l,$e),st(a,pe,$e),M(pe,i,$e),M(pe,c,$e),r(c,f),r(f,v),r(v,b),r(b,m),r(v,p),r(v,y),r(y,k),r(k,E),r(y,I),r(y,T),r(T,V),r(V,H),r(T,L),il&&il.m(T,null),r(v,x),r(v,R),r(R,J),r(J,B),r(R,G),r(R,N),r(N,C),r(C,W),r(W,ee),r(C,K),r(K,q),r(C,z),r(z,ne),pt(C,s[5],!0),r(v,ge),Ft&&Ft.m(v,null),r(v,me),r(v,Oe),r(Oe,qe),r(qe,Te),r(Oe,je),r(Oe,be),Dl.m(be,null),r(f,Me),r(f,fe),r(f,ye),r(f,Ze),r(f,Ce),r(f,Pe),r(Pe,et),r(et,He),r(Pe,Xe),Al.m(Pe,null),r(Pe,de),r(Pe,Se),r(Se,oe),r(Pe,Ee),ll&&ll.m(Pe,null),r(f,ae),r(f,ke),r(f,ze),r(f,De),r(De,he),r(he,Ue),r(De,We),r(De,Fe),r(Fe,Ke),r(Ke,nt),r(Fe,it),r(Fe,Je),r(Je,Ye),r(Ye,we),r(we,xe),r(we,Be),r(Ye,ie),r(ie,Z),pt(Ye,s[10],!0),r(De,se),sl&&sl.m(De,null),r(f,_e),r(f,Ge),r(f,gt),r(f,Tt),r(Tt,Dt),r(Dt,Pt),r(Tt,Rt),r(Tt,Mt),r(Mt,Le),r(Le,Ie),r(Ie,At),r(Le,Ht),r(Le,vt),st(ht,vt,null),r(Mt,mt),r(Mt,rt),r(rt,Nt),r(Nt,Wt),r(rt,Ot),r(rt,Lt),st(Re,Lt,null),r(f,Qe),r(f,dt),r(f,Qt),r(f,Bt),r(Bt,Jt),r(Jt,pl),r(Bt,yl),r(Bt,Xt),r(Xt,el),r(el,ol),r(ol,gl),r(el,ts),r(el,Tl),r(Tl,tl),Q(tl,s[19].k),r(Xt,ls),al&&al.m(Xt,null),r(Bt,Bl),rl&&rl.m(Bt,null),r(Bt,ql),r(Bt,ml),r(ml,Rl),r(Rl,Yl),r(ml,ss),r(ml,Hl),Q(Hl,s[19].template),r(f,ca),r(f,Os),r(f,da),r(f,Pl),r(Pl,as),r(as,Ps),r(Pl,ha),r(Pl,$l),r($l,jl),r(jl,rs),r(rs,Ls),r(jl,_a),r(jl,ns),r(ns,fl),Q(fl,s[13]),r($l,va),r($l,Zl),r(Zl,is),r(is,Us),r(Zl,pa),r(Zl,os),r(os,cl),Q(cl,s[14]),r(Pl,ga),r(Pl,us),r(us,Gl),r(Gl,fs),r(fs,Rs),r(Gl,ma),r(Gl,Kl),r(Kl,Hs),r(f,ba),r(f,Bs),r(f,Ea),r(f,Ql),r(Ql,Ll),r(Ll,Jl),r(Ll,ka),r(Ll,cs),r(cs,$s),r(Ql,wa),r(Ql,Nl),r(Nl,Xl),r(Nl,ya),r(Nl,ds),r(ds,js),r(c,Ia),r(c,hs),r(hs,xl),r(xl,Zs),kt=!0,Ta||(La=[le(T,"click",s[32]),le(C,"change",s[33]),le(C,"change",s[34]),le(be,"click",s[39]),le(Ye,"change",s[45]),le(Ye,"change",s[46]),le(tl,"input",s[50]),le(Hl,"input",s[52]),le(fl,"input",s[53]),le(cl,"input",s[54]),le(Kl,"click",s[55]),le(Ll,"click",s[56]),le(Nl,"click",s[57]),le(c,"submit",Ml(s[58]))],Ta=!0)},p(pe,$e){const Vt={};!t&&$e[0]&16&&(t=!0,Vt.show=pe[4],$t(()=>t=!1)),e.$set(Vt);const dl={};!o&&$e[0]&8&&(o=!0,dl.show=pe[3],$t(()=>o=!1)),a.$set(dl),(!kt||$e[0]&1048576)&&g!==(g=pe[20].t("General Settings")+"")&&U(m,g),(!kt||$e[0]&1048576)&&w!==(w=pe[20].t("Scan for documents from {{path}}",{path:"DOCS_DIR (/data/docs)"})+"")&&U(E,w),(!kt||$e[0]&1048576)&&S!==(S=pe[20].t("Scan")+"")&&U(H,S),pe[0]?il||(il=ai(),il.c(),il.m(T,null)):il&&(il.d(1),il=null),(!kt||$e[0]&1&&F!==(F="self-center text-xs p-1 px-3 bg-gray-50 dark:bg-gray-800 dark:hover:bg-gray-700 rounded-lg flex flex-row space-x-1 items-center "+(pe[0]?" cursor-not-allowed":"")))&&n(T,"class",F),(!kt||$e[0]&1)&&(T.disabled=pe[0]),(!kt||$e[0]&1048576)&&j!==(j=pe[20].t("Embedding Model Engine")+"")&&U(B,j),(!kt||$e[0]&1048576)&&Y!==(Y=pe[20].t("Default (SentenceTransformers)")+"")&&U(ee,Y),(!kt||$e[0]&1048576)&&$!==($=pe[20].t("Ollama")+"")&&U(q,$),(!kt||$e[0]&1048576)&&ce!==(ce=pe[20].t("OpenAI")+"")&&U(ne,ce),$e[0]&32&&pt(C,pe[5]),pe[5]==="openai"?Ft?(Ft.p(pe,$e),$e[0]&32&&te(Ft,1)):(Ft=ri(pe),Ft.c(),te(Ft,1),Ft.m(v,me)):Ft&&(wt(),re(Ft,1,1,()=>{Ft=null}),yt()),(!kt||$e[0]&1048576)&&Ve!==(Ve=pe[20].t("Hybrid Search")+"")&&U(Te,Ve),Gs===(Gs=Ca(pe))&&Dl?Dl.p(pe,$e):(Dl.d(1),Dl=Gs(pe),Dl&&(Dl.c(),Dl.m(be,null))),(!kt||$e[0]&1048576)&&Ne!==(Ne=pe[20].t("Embedding Model")+"")&&U(He,Ne),Ks===(Ks=Ra(pe))&&Al?Al.p(pe,$e):(Al.d(1),Al=Ks(pe),Al&&(Al.c(),Al.m(Pe,de))),(!kt||$e[0]&1048576)&&ve!==(ve=pe[20].t("Warning: If you update or change your embedding model, you will need to re-import all documents.")+"")&&U(oe,ve),pe[19].hybrid===!0?ll?ll.p(pe,$e):(ll=ui(pe),ll.c(),ll.m(Pe,null)):ll&&(ll.d(1),ll=null),(!kt||$e[0]&1048576)&&ue!==(ue=pe[20].t("Content Extraction")+"")&&U(Ue,ue),(!kt||$e[0]&1048576)&&ut!==(ut=pe[20].t("Engine")+"")&&U(nt,ut),(!kt||$e[0]&1048576)&&ft!==(ft=pe[20].t("Default")+"")&&U(xe,ft),(!kt||$e[0]&1048576)&&X!==(X=pe[20].t("Tika")+"")&&U(Z,X),$e[0]&1024&&pt(Ye,pe[10]),pe[12]?sl?sl.p(pe,$e):(sl=fi(pe),sl.c(),sl.m(De,null)):sl&&(sl.d(1),sl=null),(!kt||$e[0]&1048576)&&St!==(St=pe[20].t("Files")+"")&&U(Pt,St),(!kt||$e[0]&1048576)&&It!==(It=pe[20].t("Max Upload Size")+"")&&U(At,It);const _s={};$e[0]&1048576&&(_s.content=pe[20].t("The maximum file size in MB. If the file size exceeds this limit, the file will not be uploaded.")),$e[0]&1048832|$e[2]&8&&(_s.$$scope={dirty:$e,ctx:pe}),ht.$set(_s),(!kt||$e[0]&1048576)&&Ut!==(Ut=pe[20].t("Max Upload Count")+"")&&U(Wt,Ut);const Wl={};$e[0]&1048576&&(Wl.content=pe[20].t("The maximum number of files that can be used at once in chat. If the number of files exceeds this limit, the files will not be uploaded.")),$e[0]&1049088|$e[2]&8&&(Wl.$$scope={dirty:$e,ctx:pe}),Re.$set(Wl),(!kt||$e[0]&1048576)&&wl!==(wl=pe[20].t("Query Params")+"")&&U(pl,wl),(!kt||$e[0]&1048576)&&Il!==(Il=pe[20].t("Top K")+"")&&U(gl,Il),(!kt||$e[0]&1048576&&Cl!==(Cl=pe[20].t("Enter Top K")))&&n(tl,"placeholder",Cl),$e[0]&524288&&xt(tl.value)!==pe[19].k&&Q(tl,pe[19].k),pe[19].hybrid===!0?al?al.p(pe,$e):(al=ci(pe),al.c(),al.m(Xt,null)):al&&(al.d(1),al=null),pe[19].hybrid===!0?rl?rl.p(pe,$e):(rl=di(pe),rl.c(),rl.m(Bt,ql)):rl&&(rl.d(1),rl=null),(!kt||$e[0]&1048576)&&Ol!==(Ol=pe[20].t("RAG Template")+"")&&U(Yl,Ol),$e[0]&524288&&Q(Hl,pe[19].template),(!kt||$e[0]&1048576)&&Es!==(Es=pe[20].t("Chunk Params")+"")&&U(Ps,Es),(!kt||$e[0]&1048576)&&ks!==(ks=pe[20].t("Chunk Size")+"")&&U(Ls,ks),(!kt||$e[0]&1048576&&Ns!==(Ns=pe[20].t("Enter Chunk Size")))&&n(fl,"placeholder",Ns),$e[0]&8192&&xt(fl.value)!==pe[13]&&Q(fl,pe[13]),(!kt||$e[0]&1048576)&&ws!==(ws=pe[20].t("Chunk Overlap")+"")&&U(Us,ws),(!kt||$e[0]&1048576&&Cs!==(Cs=pe[20].t("Enter Chunk Overlap")))&&n(cl,"placeholder",Cs),$e[0]&16384&&xt(cl.value)!==pe[14]&&Q(cl,pe[14]),(!kt||$e[0]&1048576)&&ys!==(ys=pe[20].t("PDF Extract Images (OCR)")+"")&&U(Rs,ys),(!kt||$e[0]&1081344)&&Is!==(Is=(pe[15]?pe[20].t("On"):pe[20].t("Off"))+"")&&U(Hs,Is),(!kt||$e[0]&1048576)&&Ts!==(Ts=pe[20].t("Reset Upload Directory")+"")&&U($s,Ts),(!kt||$e[0]&1048576)&&Ds!==(Ds=pe[20].t("Reset Vector Storage")+"")&&U(js,Ds),(!kt||$e[0]&1048576)&&As!==(As=pe[20].t("Save")+"")&&U(Zs,As)},i(pe){kt||(te(e.$$.fragment,pe),te(a.$$.fragment,pe),te(Ft),te(ht.$$.fragment,pe),te(Re.$$.fragment,pe),kt=!0)},o(pe){re(e.$$.fragment,pe),re(a.$$.fragment,pe),re(Ft),re(ht.$$.fragment,pe),re(Re.$$.fragment,pe),kt=!1},d(pe){pe&&(u(l),u(i),u(c)),at(e,pe),at(a,pe),il&&il.d(),Ft&&Ft.d(),Dl.d(),Al.d(),ll&&ll.d(),sl&&sl.d(),at(ht),at(Re),al&&al.d(),rl&&rl.d(),Ta=!1,Kt(La)}}}const hi=s=>s.id&&s.ollama&&!((s==null?void 0:s.preset)??!1);function Of(s,e,t){let l,a;zt(s,nl,ae=>t(21,a=ae));const o=Ms(),i=bl("i18n");zt(s,i,ae=>t(20,l=ae));let c=!1,f=!1,v=!1,b=!1,g=!1,m="",p="",y="",k=null,w=null,E="default",I="",T=!1,V=0,S=0,H=!0,L="",F="",x=1,R={template:"",r:0,k:4,hybrid:!1};const J=async()=>{t(0,c=!0);const ae=await go(localStorage.token);t(0,c=!1),ae&&(await Si.set(await vo(localStorage.token)),Ae.success(l.t("Scan complete!")))},j=async()=>{if(m===""&&p.split("/").length-1>1){Ae.error(l.t("Model filesystem path detected. Model shortname is required for update, cannot continue."));return}if(m==="ollama"&&p===""){Ae.error(l.t("Model filesystem path detected. Model shortname is required for update, cannot continue."));return}if(m==="openai"&&p===""){Ae.error(l.t("Model filesystem path detected. Model shortname is required for update, cannot continue."));return}if(m==="openai"&&L===""||F===""){Ae.error(l.t("OpenAI URL/Key required."));return}console.log("Update embedding model attempt:",p),t(1,f=!0);const ae=await yo(localStorage.token,{embedding_engine:m,embedding_model:p,...m==="openai"?{openai_config:{key:L,url:F,batch_size:x}}:{}}).catch(async ke=>(Ae.error(ke),await N(),null));t(1,f=!1),ae&&(console.log("embeddingModelUpdateHandler:",ae),ae.status===!0&&Ae.success(l.t('Embedding model set to "{{embedding_model}}"',ae),{duration:1e3*10}))},B=async()=>{console.log("Update reranking model attempt:",y),t(2,v=!0);const ae=await mo(localStorage.token,{reranking_model:y}).catch(async ke=>(Ae.error(ke),await C(),null));t(2,v=!1),ae&&(console.log("rerankingModelUpdateHandler:",ae),ae.status===!0&&(y===""?Ae.success(l.t("Reranking model disabled",ae),{duration:1e3*10}):Ae.success(l.t('Reranking model set to "{{reranking_model}}"',ae),{duration:1e3*10})))},G=async()=>{if(await j(),R.hybrid&&await B(),E==="tika"&&I===""){Ae.error(l.t("Tika Server URL required."));return}await wi(localStorage.token,{pdf_extract_images:H,file:{max_size:k===""?null:k,max_count:w===""?null:w},chunk:{chunk_overlap:S,chunk_size:V},content_extraction:{engine:E,tika_server_url:I}}),await Mr(localStorage.token,R),o("save")},N=async()=>{const ae=await bo(localStorage.token);ae&&(t(5,m=ae.embedding_engine),t(6,p=ae.embedding_model),t(16,L=ae.openai_config.key),t(17,F=ae.openai_config.url),t(18,x=ae.openai_config.batch_size??1))},C=async()=>{const ae=await Eo(localStorage.token);ae&&t(7,y=ae.reranking_model)},W=async()=>{t(19,R.hybrid=!R.hybrid,R),t(19,R=await Mr(localStorage.token,R))};El(async()=>{await N(),await C(),t(19,R=await po(localStorage.token));const ae=await ki(localStorage.token);ae&&(t(15,H=ae.pdf_extract_images),t(13,V=ae.chunk.chunk_size),t(14,S=ae.chunk.chunk_overlap),t(10,E=ae.content_extraction.engine),t(11,I=ae.content_extraction.tika_server_url),t(12,T=E==="tika"),t(8,k=(ae==null?void 0:ae.file.max_size)??""),t(9,w=(ae==null?void 0:ae.file.max_count)??""))});function Y(ae){g=ae,t(4,g)}const ee=async()=>{await ko(localStorage.token).catch(ke=>(Ae.error(ke),null))&&Ae.success(l.t("Success"))};function K(ae){b=ae,t(3,b)}const $=()=>{wo(localStorage.token).catch(ke=>(Ae.error(ke),null))&&Ae.success(l.t("Success"))},q=()=>{J(),console.log("check")};function z(){m=qt(this),t(5,m)}const ce=ae=>{ae.target.value==="ollama"?t(6,p=""):ae.target.value==="openai"?t(6,p="text-embedding-3-small"):ae.target.value===""&&t(6,p="sentence-transformers/all-MiniLM-L6-v2")};function ne(){F=this.value,t(17,F)}function ge(ae){L=ae,t(16,L)}function me(){x=xt(this.value),t(18,x)}function Oe(){x=xt(this.value),t(18,x)}const qe=()=>{W()};function Ve(){p=qt(this),t(6,p)}function Te(){p=this.value,t(6,p)}const je=()=>{j()};function be(){y=this.value,t(7,y)}const Me=()=>{B()};function fe(){E=qt(this),t(10,E)}const ye=ae=>{t(12,T=ae.target.value==="tika")};function Ze(){I=this.value,t(11,I)}function Ce(){k=xt(this.value),t(8,k)}function Pe(){w=xt(this.value),t(9,w)}function et(){R.k=xt(this.value),t(19,R)}function Ne(){R.r=xt(this.value),t(19,R)}function He(){R.template=this.value,t(19,R)}function Xe(){V=xt(this.value),t(13,V)}function de(){S=xt(this.value),t(14,S)}return[c,f,v,b,g,m,p,y,k,w,E,I,T,V,S,H,L,F,x,R,l,a,i,J,j,B,G,W,Y,ee,K,$,q,z,ce,ne,ge,me,Oe,qe,Ve,Te,je,be,Me,fe,ye,Ze,Ce,Pe,et,Ne,He,Xe,de,()=>{t(15,H=!H)},()=>{t(4,g=!0)},()=>{t(3,b=!0)},()=>{G()}]}class Pf extends _l{constructor(e){super(),vl(this,e,Of,Mf,hl,{},null,[-1,-1,-1])}}function _i(s,e,t){const l=s.slice();return l[23]=e[t],l}function vi(s){let e,t,l=s[3].t("Web Search")+"",a,o,i,c,f,v=s[3].t("Enable Web Search")+"",b,g,m,p,y,k,w,E=s[3].t("Web Search Engine")+"",I,T,V,S,H,L=s[3].t("Select a engine")+"",F,x,R,J,j,B,G,N,C,W=s[3].t("Web Loader Settings")+"",Y,ee,K,$,q,z=s[3].t("Bypass SSL verification for Websites")+"",ce,ne,ge,me,Oe,qe=s[3].t("Youtube Loader Settings")+"",Ve,Te,je,be,Me,fe=s[3].t("Language")+"",ye,Ze,Ce,Pe,et,Ne,He,Xe;function de(he){s[7](he)}let Se={};s[1].search.enabled!==void 0&&(Se.state=s[1].search.enabled),m=new Vl({props:Se}),Ct.push(()=>jt(m,"state",de));let ve=ot(s[5]),oe=[];for(let he=0;he<ve.length;he+=1)oe[he]=pi(_i(s,ve,he));let Ee=s[1].search.engine!==""&&gi(s),ae=s[1].search.enabled&&mi(s);function ke(he,ue){return he[1].ssl_verification===!0?jf:$f}let ze=ke(s),De=ze(s);return{c(){e=d("div"),t=d("div"),a=O(l),o=D(),i=d("div"),c=d("div"),f=d("div"),b=O(v),g=D(),tt(m.$$.fragment),y=D(),k=d("div"),w=d("div"),I=O(E),T=D(),V=d("div"),S=d("select"),H=d("option"),F=O(L);for(let he=0;he<oe.length;he+=1)oe[he].c();R=D(),Ee&&Ee.c(),J=D(),ae&&ae.c(),j=D(),B=d("hr"),G=D(),N=d("div"),C=d("div"),Y=O(W),ee=D(),K=d("div"),$=d("div"),q=d("div"),ce=O(z),ne=D(),ge=d("button"),De.c(),me=D(),Oe=d("div"),Ve=O(qe),Te=D(),je=d("div"),be=d("div"),Me=d("div"),ye=O(fe),Ze=D(),Ce=d("div"),Pe=d("input"),this.h()},l(he){e=h(he,"DIV",{});var ue=_(e);t=h(ue,"DIV",{class:!0});var Ue=_(t);a=P(Ue,l),Ue.forEach(u),o=A(ue),i=h(ue,"DIV",{});var We=_(i);c=h(We,"DIV",{class:!0});var Fe=_(c);f=h(Fe,"DIV",{class:!0});var Ke=_(f);b=P(Ke,v),Ke.forEach(u),g=A(Fe),lt(m.$$.fragment,Fe),Fe.forEach(u),We.forEach(u),y=A(ue),k=h(ue,"DIV",{class:!0});var ut=_(k);w=h(ut,"DIV",{class:!0});var nt=_(w);I=P(nt,E),nt.forEach(u),T=A(ut),V=h(ut,"DIV",{class:!0});var it=_(V);S=h(it,"SELECT",{class:!0,placeholder:!0});var Je=_(S);H=h(Je,"OPTION",{});var Ye=_(H);F=P(Ye,L),Ye.forEach(u);for(let Tt=0;Tt<oe.length;Tt+=1)oe[Tt].l(Je);Je.forEach(u),it.forEach(u),ut.forEach(u),R=A(ue),Ee&&Ee.l(ue),J=A(ue),ae&&ae.l(ue),ue.forEach(u),j=A(he),B=h(he,"HR",{class:!0}),G=A(he),N=h(he,"DIV",{});var we=_(N);C=h(we,"DIV",{class:!0});var ft=_(C);Y=P(ft,W),ft.forEach(u),ee=A(we),K=h(we,"DIV",{});var xe=_(K);$=h(xe,"DIV",{class:!0});var Be=_($);q=h(Be,"DIV",{class:!0});var ie=_(q);ce=P(ie,z),ie.forEach(u),ne=A(Be),ge=h(Be,"BUTTON",{class:!0,type:!0});var X=_(ge);De.l(X),X.forEach(u),Be.forEach(u),xe.forEach(u),me=A(we),Oe=h(we,"DIV",{class:!0});var Z=_(Oe);Ve=P(Z,qe),Z.forEach(u),Te=A(we),je=h(we,"DIV",{});var se=_(je);be=h(se,"DIV",{class:!0});var _e=_(be);Me=h(_e,"DIV",{class:!0});var Ge=_(Me);ye=P(Ge,fe),Ge.forEach(u),Ze=A(_e),Ce=h(_e,"DIV",{class:!0});var gt=_(Ce);Pe=h(gt,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),gt.forEach(u),_e.forEach(u),se.forEach(u),we.forEach(u),this.h()},h(){n(t,"class","mb-1 text-sm font-medium"),n(f,"class","self-center text-xs font-medium"),n(c,"class","py-0.5 flex w-full justify-between"),n(w,"class","self-center text-xs font-medium"),H.disabled=!0,H.selected=!0,H.__value="",Q(H,H.__value),n(S,"class","dark:bg-gray-900 w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),n(S,"placeholder",x=s[3].t("Select a engine")),S.required=!0,s[1].search.engine===void 0&&Yt(()=>s[8].call(S)),n(V,"class","flex items-center relative"),n(k,"class","py-0.5 flex w-full justify-between"),n(B,"class","dark:border-gray-850 my-2"),n(C,"class","mb-1 text-sm font-medium"),n(q,"class","self-center text-xs font-medium"),n(ge,"class","p-1 px-3 text-xs flex rounded transition"),n(ge,"type","button"),n($,"class","py-0.5 flex w-full justify-between"),n(Oe,"class","mt-2 mb-1 text-sm font-medium"),n(Me,"class","w-20 text-xs font-medium self-center"),n(Pe,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(Pe,"type","text"),n(Pe,"placeholder",et=s[3].t("Enter language codes")),n(Pe,"autocomplete","off"),n(Ce,"class","flex-1 self-center"),n(be,"class","py-0.5 flex w-full justify-between")},m(he,ue){M(he,e,ue),r(e,t),r(t,a),r(e,o),r(e,i),r(i,c),r(c,f),r(f,b),r(c,g),st(m,c,null),r(e,y),r(e,k),r(k,w),r(w,I),r(k,T),r(k,V),r(V,S),r(S,H),r(H,F);for(let Ue=0;Ue<oe.length;Ue+=1)oe[Ue]&&oe[Ue].m(S,null);pt(S,s[1].search.engine,!0),r(e,R),Ee&&Ee.m(e,null),r(e,J),ae&&ae.m(e,null),M(he,j,ue),M(he,B,ue),M(he,G,ue),M(he,N,ue),r(N,C),r(C,Y),r(N,ee),r(N,K),r(K,$),r($,q),r(q,ce),r($,ne),r($,ge),De.m(ge,null),r(N,me),r(N,Oe),r(Oe,Ve),r(N,Te),r(N,je),r(je,be),r(be,Me),r(Me,ye),r(be,Ze),r(be,Ce),r(Ce,Pe),Q(Pe,s[2]),Ne=!0,He||(Xe=[le(S,"change",s[8]),le(ge,"click",s[19]),le(Pe,"input",s[20])],He=!0)},p(he,ue){(!Ne||ue&8)&&l!==(l=he[3].t("Web Search")+"")&&U(a,l),(!Ne||ue&8)&&v!==(v=he[3].t("Enable Web Search")+"")&&U(b,v);const Ue={};if(!p&&ue&2&&(p=!0,Ue.state=he[1].search.enabled,$t(()=>p=!1)),m.$set(Ue),(!Ne||ue&8)&&E!==(E=he[3].t("Web Search Engine")+"")&&U(I,E),(!Ne||ue&8)&&L!==(L=he[3].t("Select a engine")+"")&&U(F,L),ue&32){ve=ot(he[5]);let We;for(We=0;We<ve.length;We+=1){const Fe=_i(he,ve,We);oe[We]?oe[We].p(Fe,ue):(oe[We]=pi(Fe),oe[We].c(),oe[We].m(S,null))}for(;We<oe.length;We+=1)oe[We].d(1);oe.length=ve.length}(!Ne||ue&8&&x!==(x=he[3].t("Select a engine")))&&n(S,"placeholder",x),ue&34&&pt(S,he[1].search.engine),he[1].search.engine!==""?Ee?(Ee.p(he,ue),ue&2&&te(Ee,1)):(Ee=gi(he),Ee.c(),te(Ee,1),Ee.m(e,J)):Ee&&(wt(),re(Ee,1,1,()=>{Ee=null}),yt()),he[1].search.enabled?ae?ae.p(he,ue):(ae=mi(he),ae.c(),ae.m(e,null)):ae&&(ae.d(1),ae=null),(!Ne||ue&8)&&W!==(W=he[3].t("Web Loader Settings")+"")&&U(Y,W),(!Ne||ue&8)&&z!==(z=he[3].t("Bypass SSL verification for Websites")+"")&&U(ce,z),ze===(ze=ke(he))&&De?De.p(he,ue):(De.d(1),De=ze(he),De&&(De.c(),De.m(ge,null))),(!Ne||ue&8)&&qe!==(qe=he[3].t("Youtube Loader Settings")+"")&&U(Ve,qe),(!Ne||ue&8)&&fe!==(fe=he[3].t("Language")+"")&&U(ye,fe),(!Ne||ue&8&&et!==(et=he[3].t("Enter language codes")))&&n(Pe,"placeholder",et),ue&4&&Pe.value!==he[2]&&Q(Pe,he[2])},i(he){Ne||(te(m.$$.fragment,he),te(Ee),Ne=!0)},o(he){re(m.$$.fragment,he),re(Ee),Ne=!1},d(he){he&&(u(e),u(j),u(B),u(G),u(N)),at(m),Zt(oe,he),Ee&&Ee.d(),ae&&ae.d(),De.d(),He=!1,Kt(Xe)}}}function pi(s){let e,t=s[23]+"",l;return{c(){e=d("option"),l=O(t),this.h()},l(a){e=h(a,"OPTION",{});var o=_(e);l=P(o,t),o.forEach(u),this.h()},h(){e.__value=s[23],Q(e,e.__value)},m(a,o){M(a,e,o),r(e,l)},p:_t,d(a){a&&u(e)}}}function gi(s){let e,t,l,a;const o=[Bf,Hf,Rf,Cf,Uf,Nf,Lf],i=[];function c(f,v){return f[1].search.engine==="searxng"?0:f[1].search.engine==="google_pse"?1:f[1].search.engine==="brave"?2:f[1].search.engine==="serpstack"?3:f[1].search.engine==="serper"?4:f[1].search.engine==="serply"?5:f[1].search.engine==="tavily"?6:-1}return~(t=c(s))&&(l=i[t]=o[t](s)),{c(){e=d("div"),l&&l.c(),this.h()},l(f){e=h(f,"DIV",{class:!0});var v=_(e);l&&l.l(v),v.forEach(u),this.h()},h(){n(e,"class","mt-1.5")},m(f,v){M(f,e,v),~t&&i[t].m(e,null),a=!0},p(f,v){let b=t;t=c(f),t===b?~t&&i[t].p(f,v):(l&&(wt(),re(i[b],1,1,()=>{i[b]=null}),yt()),~t?(l=i[t],l?l.p(f,v):(l=i[t]=o[t](f),l.c()),te(l,1),l.m(e,null)):l=null)},i(f){a||(te(l),a=!0)},o(f){re(l),a=!1},d(f){f&&u(e),~t&&i[t].d()}}}function Lf(s){let e,t,l=s[3].t("Tavily API Key")+"",a,o,i,c,f;function v(g){s[16](g)}let b={placeholder:s[3].t("Enter Tavily API Key")};return s[1].search.tavily_api_key!==void 0&&(b.value=s[1].search.tavily_api_key),i=new kl({props:b}),Ct.push(()=>jt(i,"value",v)),{c(){e=d("div"),t=d("div"),a=O(l),o=D(),tt(i.$$.fragment),this.h()},l(g){e=h(g,"DIV",{});var m=_(e);t=h(m,"DIV",{class:!0});var p=_(t);a=P(p,l),p.forEach(u),o=A(m),lt(i.$$.fragment,m),m.forEach(u),this.h()},h(){n(t,"class","self-center text-xs font-medium mb-1")},m(g,m){M(g,e,m),r(e,t),r(t,a),r(e,o),st(i,e,null),f=!0},p(g,m){(!f||m&8)&&l!==(l=g[3].t("Tavily API Key")+"")&&U(a,l);const p={};m&8&&(p.placeholder=g[3].t("Enter Tavily API Key")),!c&&m&2&&(c=!0,p.value=g[1].search.tavily_api_key,$t(()=>c=!1)),i.$set(p)},i(g){f||(te(i.$$.fragment,g),f=!0)},o(g){re(i.$$.fragment,g),f=!1},d(g){g&&u(e),at(i)}}}function Nf(s){let e,t,l=s[3].t("Serply API Key")+"",a,o,i,c,f;function v(g){s[15](g)}let b={placeholder:s[3].t("Enter Serply API Key")};return s[1].search.serply_api_key!==void 0&&(b.value=s[1].search.serply_api_key),i=new kl({props:b}),Ct.push(()=>jt(i,"value",v)),{c(){e=d("div"),t=d("div"),a=O(l),o=D(),tt(i.$$.fragment),this.h()},l(g){e=h(g,"DIV",{});var m=_(e);t=h(m,"DIV",{class:!0});var p=_(t);a=P(p,l),p.forEach(u),o=A(m),lt(i.$$.fragment,m),m.forEach(u),this.h()},h(){n(t,"class","self-center text-xs font-medium mb-1")},m(g,m){M(g,e,m),r(e,t),r(t,a),r(e,o),st(i,e,null),f=!0},p(g,m){(!f||m&8)&&l!==(l=g[3].t("Serply API Key")+"")&&U(a,l);const p={};m&8&&(p.placeholder=g[3].t("Enter Serply API Key")),!c&&m&2&&(c=!0,p.value=g[1].search.serply_api_key,$t(()=>c=!1)),i.$set(p)},i(g){f||(te(i.$$.fragment,g),f=!0)},o(g){re(i.$$.fragment,g),f=!1},d(g){g&&u(e),at(i)}}}function Uf(s){let e,t,l=s[3].t("Serper API Key")+"",a,o,i,c,f;function v(g){s[14](g)}let b={placeholder:s[3].t("Enter Serper API Key")};return s[1].search.serper_api_key!==void 0&&(b.value=s[1].search.serper_api_key),i=new kl({props:b}),Ct.push(()=>jt(i,"value",v)),{c(){e=d("div"),t=d("div"),a=O(l),o=D(),tt(i.$$.fragment),this.h()},l(g){e=h(g,"DIV",{});var m=_(e);t=h(m,"DIV",{class:!0});var p=_(t);a=P(p,l),p.forEach(u),o=A(m),lt(i.$$.fragment,m),m.forEach(u),this.h()},h(){n(t,"class","self-center text-xs font-medium mb-1")},m(g,m){M(g,e,m),r(e,t),r(t,a),r(e,o),st(i,e,null),f=!0},p(g,m){(!f||m&8)&&l!==(l=g[3].t("Serper API Key")+"")&&U(a,l);const p={};m&8&&(p.placeholder=g[3].t("Enter Serper API Key")),!c&&m&2&&(c=!0,p.value=g[1].search.serper_api_key,$t(()=>c=!1)),i.$set(p)},i(g){f||(te(i.$$.fragment,g),f=!0)},o(g){re(i.$$.fragment,g),f=!1},d(g){g&&u(e),at(i)}}}function Cf(s){let e,t,l=s[3].t("Serpstack API Key")+"",a,o,i,c,f;function v(g){s[13](g)}let b={placeholder:s[3].t("Enter Serpstack API Key")};return s[1].search.serpstack_api_key!==void 0&&(b.value=s[1].search.serpstack_api_key),i=new kl({props:b}),Ct.push(()=>jt(i,"value",v)),{c(){e=d("div"),t=d("div"),a=O(l),o=D(),tt(i.$$.fragment),this.h()},l(g){e=h(g,"DIV",{});var m=_(e);t=h(m,"DIV",{class:!0});var p=_(t);a=P(p,l),p.forEach(u),o=A(m),lt(i.$$.fragment,m),m.forEach(u),this.h()},h(){n(t,"class","self-center text-xs font-medium mb-1")},m(g,m){M(g,e,m),r(e,t),r(t,a),r(e,o),st(i,e,null),f=!0},p(g,m){(!f||m&8)&&l!==(l=g[3].t("Serpstack API Key")+"")&&U(a,l);const p={};m&8&&(p.placeholder=g[3].t("Enter Serpstack API Key")),!c&&m&2&&(c=!0,p.value=g[1].search.serpstack_api_key,$t(()=>c=!1)),i.$set(p)},i(g){f||(te(i.$$.fragment,g),f=!0)},o(g){re(i.$$.fragment,g),f=!1},d(g){g&&u(e),at(i)}}}function Rf(s){let e,t,l=s[3].t("Brave Search API Key")+"",a,o,i,c,f;function v(g){s[12](g)}let b={placeholder:s[3].t("Enter Brave Search API Key")};return s[1].search.brave_search_api_key!==void 0&&(b.value=s[1].search.brave_search_api_key),i=new kl({props:b}),Ct.push(()=>jt(i,"value",v)),{c(){e=d("div"),t=d("div"),a=O(l),o=D(),tt(i.$$.fragment),this.h()},l(g){e=h(g,"DIV",{});var m=_(e);t=h(m,"DIV",{class:!0});var p=_(t);a=P(p,l),p.forEach(u),o=A(m),lt(i.$$.fragment,m),m.forEach(u),this.h()},h(){n(t,"class","self-center text-xs font-medium mb-1")},m(g,m){M(g,e,m),r(e,t),r(t,a),r(e,o),st(i,e,null),f=!0},p(g,m){(!f||m&8)&&l!==(l=g[3].t("Brave Search API Key")+"")&&U(a,l);const p={};m&8&&(p.placeholder=g[3].t("Enter Brave Search API Key")),!c&&m&2&&(c=!0,p.value=g[1].search.brave_search_api_key,$t(()=>c=!1)),i.$set(p)},i(g){f||(te(i.$$.fragment,g),f=!0)},o(g){re(i.$$.fragment,g),f=!1},d(g){g&&u(e),at(i)}}}function Hf(s){let e,t,l=s[3].t("Google PSE API Key")+"",a,o,i,c,f,v,b,g=s[3].t("Google PSE Engine Id")+"",m,p,y,k,w,E,I,T,V;function S(L){s[10](L)}let H={placeholder:s[3].t("Enter Google PSE API Key")};return s[1].search.google_pse_api_key!==void 0&&(H.value=s[1].search.google_pse_api_key),i=new kl({props:H}),Ct.push(()=>jt(i,"value",S)),{c(){e=d("div"),t=d("div"),a=O(l),o=D(),tt(i.$$.fragment),f=D(),v=d("div"),b=d("div"),m=O(g),p=D(),y=d("div"),k=d("div"),w=d("input"),this.h()},l(L){e=h(L,"DIV",{});var F=_(e);t=h(F,"DIV",{class:!0});var x=_(t);a=P(x,l),x.forEach(u),o=A(F),lt(i.$$.fragment,F),F.forEach(u),f=A(L),v=h(L,"DIV",{class:!0});var R=_(v);b=h(R,"DIV",{class:!0});var J=_(b);m=P(J,g),J.forEach(u),p=A(R),y=h(R,"DIV",{class:!0});var j=_(y);k=h(j,"DIV",{class:!0});var B=_(k);w=h(B,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),B.forEach(u),j.forEach(u),R.forEach(u),this.h()},h(){n(t,"class","self-center text-xs font-medium mb-1"),n(b,"class","self-center text-xs font-medium mb-1"),n(w,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(w,"type","text"),n(w,"placeholder",E=s[3].t("Enter Google PSE Engine Id")),n(w,"autocomplete","off"),n(k,"class","flex-1"),n(y,"class","flex w-full"),n(v,"class","mt-1.5")},m(L,F){M(L,e,F),r(e,t),r(t,a),r(e,o),st(i,e,null),M(L,f,F),M(L,v,F),r(v,b),r(b,m),r(v,p),r(v,y),r(y,k),r(k,w),Q(w,s[1].search.google_pse_engine_id),I=!0,T||(V=le(w,"input",s[11]),T=!0)},p(L,F){(!I||F&8)&&l!==(l=L[3].t("Google PSE API Key")+"")&&U(a,l);const x={};F&8&&(x.placeholder=L[3].t("Enter Google PSE API Key")),!c&&F&2&&(c=!0,x.value=L[1].search.google_pse_api_key,$t(()=>c=!1)),i.$set(x),(!I||F&8)&&g!==(g=L[3].t("Google PSE Engine Id")+"")&&U(m,g),(!I||F&8&&E!==(E=L[3].t("Enter Google PSE Engine Id")))&&n(w,"placeholder",E),F&34&&w.value!==L[1].search.google_pse_engine_id&&Q(w,L[1].search.google_pse_engine_id)},i(L){I||(te(i.$$.fragment,L),I=!0)},o(L){re(i.$$.fragment,L),I=!1},d(L){L&&(u(e),u(f),u(v)),at(i),T=!1,V()}}}function Bf(s){let e,t,l=s[3].t("Searxng Query URL")+"",a,o,i,c,f,v,b,g;return{c(){e=d("div"),t=d("div"),a=O(l),o=D(),i=d("div"),c=d("div"),f=d("input"),this.h()},l(m){e=h(m,"DIV",{});var p=_(e);t=h(p,"DIV",{class:!0});var y=_(t);a=P(y,l),y.forEach(u),o=A(p),i=h(p,"DIV",{class:!0});var k=_(i);c=h(k,"DIV",{class:!0});var w=_(c);f=h(w,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),w.forEach(u),k.forEach(u),p.forEach(u),this.h()},h(){n(t,"class","self-center text-xs font-medium mb-1"),n(f,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(f,"type","text"),n(f,"placeholder",v=s[3].t("Enter Searxng Query URL")),n(f,"autocomplete","off"),n(c,"class","flex-1"),n(i,"class","flex w-full")},m(m,p){M(m,e,p),r(e,t),r(t,a),r(e,o),r(e,i),r(i,c),r(c,f),Q(f,s[1].search.searxng_query_url),b||(g=le(f,"input",s[9]),b=!0)},p(m,p){p&8&&l!==(l=m[3].t("Searxng Query URL")+"")&&U(a,l),p&8&&v!==(v=m[3].t("Enter Searxng Query URL"))&&n(f,"placeholder",v),p&34&&f.value!==m[1].search.searxng_query_url&&Q(f,m[1].search.searxng_query_url)},i:_t,o:_t,d(m){m&&u(e),b=!1,g()}}}function mi(s){let e,t,l,a=s[3].t("Search Result Count")+"",o,i,c,f,v,b,g,m=s[3].t("Concurrent Requests")+"",p,y,k,w,E,I;return{c(){e=d("div"),t=d("div"),l=d("div"),o=O(a),i=D(),c=d("input"),v=D(),b=d("div"),g=d("div"),p=O(m),y=D(),k=d("input"),this.h()},l(T){e=h(T,"DIV",{class:!0});var V=_(e);t=h(V,"DIV",{class:!0});var S=_(t);l=h(S,"DIV",{class:!0});var H=_(l);o=P(H,a),H.forEach(u),i=A(S),c=h(S,"INPUT",{class:!0,placeholder:!0}),S.forEach(u),v=A(V),b=h(V,"DIV",{class:!0});var L=_(b);g=h(L,"DIV",{class:!0});var F=_(g);p=P(F,m),F.forEach(u),y=A(L),k=h(L,"INPUT",{class:!0,placeholder:!0}),L.forEach(u),V.forEach(u),this.h()},h(){n(l,"class","self-center text-xs font-medium mb-1"),n(c,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(c,"placeholder",f=s[3].t("Search Result Count")),c.required=!0,n(t,"class","w-full"),n(g,"class","self-center text-xs font-medium mb-1"),n(k,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(k,"placeholder",w=s[3].t("Concurrent Requests")),k.required=!0,n(b,"class","w-full"),n(e,"class","mt-2 flex gap-2 mb-1")},m(T,V){M(T,e,V),r(e,t),r(t,l),r(l,o),r(t,i),r(t,c),Q(c,s[1].search.result_count),r(e,v),r(e,b),r(b,g),r(g,p),r(b,y),r(b,k),Q(k,s[1].search.concurrent_requests),E||(I=[le(c,"input",s[17]),le(k,"input",s[18])],E=!0)},p(T,V){V&8&&a!==(a=T[3].t("Search Result Count")+"")&&U(o,a),V&8&&f!==(f=T[3].t("Search Result Count"))&&n(c,"placeholder",f),V&34&&c.value!==T[1].search.result_count&&Q(c,T[1].search.result_count),V&8&&m!==(m=T[3].t("Concurrent Requests")+"")&&U(p,m),V&8&&w!==(w=T[3].t("Concurrent Requests"))&&n(k,"placeholder",w),V&34&&k.value!==T[1].search.concurrent_requests&&Q(k,T[1].search.concurrent_requests)},d(T){T&&u(e),E=!1,Kt(I)}}}function $f(s){let e,t=s[3].t("Off")+"",l;return{c(){e=d("span"),l=O(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var o=_(e);l=P(o,t),o.forEach(u),this.h()},h(){n(e,"class","ml-2 self-center")},m(a,o){M(a,e,o),r(e,l)},p(a,o){o&8&&t!==(t=a[3].t("Off")+"")&&U(l,t)},d(a){a&&u(e)}}}function jf(s){let e,t=s[3].t("On")+"",l;return{c(){e=d("span"),l=O(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var o=_(e);l=P(o,t),o.forEach(u),this.h()},h(){n(e,"class","ml-2 self-center")},m(a,o){M(a,e,o),r(e,l)},p(a,o){o&8&&t!==(t=a[3].t("On")+"")&&U(l,t)},d(a){a&&u(e)}}}function Zf(s){let e,t,l,a,o,i=s[3].t("Save")+"",c,f,v,b,g=s[1]&&vi(s);return{c(){e=d("form"),t=d("div"),g&&g.c(),l=D(),a=d("div"),o=d("button"),c=O(i),this.h()},l(m){e=h(m,"FORM",{class:!0});var p=_(e);t=h(p,"DIV",{class:!0});var y=_(t);g&&g.l(y),y.forEach(u),l=A(p),a=h(p,"DIV",{class:!0});var k=_(a);o=h(k,"BUTTON",{class:!0,type:!0});var w=_(o);c=P(w,i),w.forEach(u),k.forEach(u),p.forEach(u),this.h()},h(){n(t,"class","space-y-3 overflow-y-scroll scrollbar-hidden h-full"),n(o,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),n(o,"type","submit"),n(a,"class","flex justify-end pt-3 text-sm font-medium"),n(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(m,p){M(m,e,p),r(e,t),g&&g.m(t,null),r(e,l),r(e,a),r(a,o),r(o,c),f=!0,v||(b=le(e,"submit",Ml(s[21])),v=!0)},p(m,[p]){m[1]?g?(g.p(m,p),p&2&&te(g,1)):(g=vi(m),g.c(),te(g,1),g.m(t,null)):g&&(wt(),re(g,1,1,()=>{g=null}),yt()),(!f||p&8)&&i!==(i=m[3].t("Save")+"")&&U(c,i)},i(m){f||(te(g),f=!0)},o(m){re(g),f=!1},d(m){m&&u(e),g&&g.d(),v=!1,b()}}}function Gf(s,e,t){let l;const a=bl("i18n");zt(s,a,R=>t(3,l=R));let{saveHandler:o}=e,i=null,c=["searxng","google_pse","brave","serpstack","serper","serply","duckduckgo","tavily","jina"],f="en",v=null;const b=async()=>{await wi(localStorage.token,{web:i,youtube:{language:f.split(",").map(R=>R.trim()),translation:v}})};El(async()=>{const R=await ki(localStorage.token);R&&(t(1,i=R.web),t(2,f=R.youtube.language.join(",")),v=R.youtube.translation)});function g(R){s.$$.not_equal(i.search.enabled,R)&&(i.search.enabled=R,t(1,i))}function m(){i.search.engine=qt(this),t(1,i),t(5,c)}function p(){i.search.searxng_query_url=this.value,t(1,i),t(5,c)}function y(R){s.$$.not_equal(i.search.google_pse_api_key,R)&&(i.search.google_pse_api_key=R,t(1,i))}function k(){i.search.google_pse_engine_id=this.value,t(1,i),t(5,c)}function w(R){s.$$.not_equal(i.search.brave_search_api_key,R)&&(i.search.brave_search_api_key=R,t(1,i))}function E(R){s.$$.not_equal(i.search.serpstack_api_key,R)&&(i.search.serpstack_api_key=R,t(1,i))}function I(R){s.$$.not_equal(i.search.serper_api_key,R)&&(i.search.serper_api_key=R,t(1,i))}function T(R){s.$$.not_equal(i.search.serply_api_key,R)&&(i.search.serply_api_key=R,t(1,i))}function V(R){s.$$.not_equal(i.search.tavily_api_key,R)&&(i.search.tavily_api_key=R,t(1,i))}function S(){i.search.result_count=this.value,t(1,i),t(5,c)}function H(){i.search.concurrent_requests=this.value,t(1,i),t(5,c)}const L=()=>{t(1,i.ssl_verification=!i.ssl_verification,i),b()};function F(){f=this.value,t(2,f)}const x=async()=>{await b(),o()};return s.$$set=R=>{"saveHandler"in R&&t(0,o=R.saveHandler)},[o,i,f,l,a,c,b,g,m,p,y,k,w,E,I,T,V,S,H,L,F,x]}class Kf extends _l{constructor(e){super(),vl(this,e,Gf,Zf,hl,{saveHandler:0})}}function Wf(s){let e,t;return e=new du({props:{saveHandler:s[23]}}),{c(){tt(e.$$.fragment)},l(l){lt(e.$$.fragment,l)},m(l,a){st(e,l,a),t=!0},p(l,a){const o={};a&2&&(o.saveHandler=l[23]),e.$set(o)},i(l){t||(te(e.$$.fragment,l),t=!0)},o(l){re(e.$$.fragment,l),t=!1},d(l){at(e,l)}}}function zf(s){let e,t;return e=new Do({props:{saveHandler:s[22]}}),{c(){tt(e.$$.fragment)},l(l){lt(e.$$.fragment,l)},m(l,a){st(e,l,a),t=!0},p(l,a){const o={};a&2&&(o.saveHandler=l[22]),e.$set(o)},i(l){t||(te(e.$$.fragment,l),t=!0)},o(l){re(e.$$.fragment,l),t=!1},d(l){at(e,l)}}}function Ff(s){let e,t;return e=new Ou({}),e.$on("save",s[21]),{c(){tt(e.$$.fragment)},l(l){lt(e.$$.fragment,l)},m(l,a){st(e,l,a),t=!0},p:_t,i(l){t||(te(e.$$.fragment,l),t=!0)},o(l){re(e.$$.fragment,l),t=!1},d(l){at(e,l)}}}function qf(s){let e,t;return e=new Eu({props:{saveHandler:s[20]}}),{c(){tt(e.$$.fragment)},l(l){lt(e.$$.fragment,l)},m(l,a){st(e,l,a),t=!0},p(l,a){const o={};a&2&&(o.saveHandler=l[20]),e.$set(o)},i(l){t||(te(e.$$.fragment,l),t=!0)},o(l){re(e.$$.fragment,l),t=!1},d(l){at(e,l)}}}function Yf(s){let e,t;return e=new Cu({}),e.$on("save",s[19]),{c(){tt(e.$$.fragment)},l(l){lt(e.$$.fragment,l)},m(l,a){st(e,l,a),t=!0},p:_t,i(l){t||(te(e.$$.fragment,l),t=!0)},o(l){re(e.$$.fragment,l),t=!1},d(l){at(e,l)}}}function Qf(s){let e,t;return e=new Kf({props:{saveHandler:s[18]}}),{c(){tt(e.$$.fragment)},l(l){lt(e.$$.fragment,l)},m(l,a){st(e,l,a),t=!0},p(l,a){const o={};a&2&&(o.saveHandler=l[18]),e.$set(o)},i(l){t||(te(e.$$.fragment,l),t=!0)},o(l){re(e.$$.fragment,l),t=!1},d(l){at(e,l)}}}function Jf(s){let e,t;return e=new Pf({}),e.$on("save",s[17]),{c(){tt(e.$$.fragment)},l(l){lt(e.$$.fragment,l)},m(l,a){st(e,l,a),t=!0},p:_t,i(l){t||(te(e.$$.fragment,l),t=!0)},o(l){re(e.$$.fragment,l),t=!1},d(l){at(e,l)}}}function Xf(s){let e,t;return e=new nf({}),{c(){tt(e.$$.fragment)},l(l){lt(e.$$.fragment,l)},m(l,a){st(e,l,a),t=!0},p:_t,i(l){t||(te(e.$$.fragment,l),t=!0)},o(l){re(e.$$.fragment,l),t=!1},d(l){at(e,l)}}}function xf(s){let e,t;return e=new bf({}),e.$on("save",s[16]),{c(){tt(e.$$.fragment)},l(l){lt(e.$$.fragment,l)},m(l,a){st(e,l,a),t=!0},p:_t,i(l){t||(te(e.$$.fragment,l),t=!0)},o(l){re(e.$$.fragment,l),t=!1},d(l){at(e,l)}}}function ec(s){let e,t;return e=new $o({props:{saveHandler:s[15]}}),{c(){tt(e.$$.fragment)},l(l){lt(e.$$.fragment,l)},m(l,a){st(e,l,a),t=!0},p(l,a){const o={};a&2&&(o.saveHandler=l[15]),e.$set(o)},i(l){t||(te(e.$$.fragment,l),t=!0)},o(l){re(e.$$.fragment,l),t=!1},d(l){at(e,l)}}}function tc(s){let e,t;return e=new So({props:{saveHandler:s[14]}}),{c(){tt(e.$$.fragment)},l(l){lt(e.$$.fragment,l)},m(l,a){st(e,l,a),t=!0},p(l,a){const o={};a&2&&(o.saveHandler=l[14]),e.$set(o)},i(l){t||(te(e.$$.fragment,l),t=!0)},o(l){re(e.$$.fragment,l),t=!1},d(l){at(e,l)}}}function lc(s){let e,t,l,a,o='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M6.955 1.45A.5.5 0 0 1 7.452 1h1.096a.5.5 0 0 1 .497.45l.17 1.699c.484.12.94.312 1.356.562l1.321-1.081a.5.5 0 0 1 .67.033l.774.775a.5.5 0 0 1 .034.67l-1.08 1.32c.25.417.44.873.561 1.357l1.699.17a.5.5 0 0 1 .45.497v1.096a.5.5 0 0 1-.45.497l-1.699.17c-.12.484-.312.94-.562 1.356l1.082 1.322a.5.5 0 0 1-.034.67l-.774.774a.5.5 0 0 1-.67.033l-1.322-1.08c-.416.25-.872.44-1.356.561l-.17 1.699a.5.5 0 0 1-.497.45H7.452a.5.5 0 0 1-.497-.45l-.17-1.699a4.973 4.973 0 0 1-1.356-.562L4.108 13.37a.5.5 0 0 1-.67-.033l-.774-.775a.5.5 0 0 1-.034-.67l1.08-1.32a4.971 4.971 0 0 1-.561-1.357l-1.699-.17A.5.5 0 0 1 1 8.548V7.452a.5.5 0 0 1 .45-.497l1.699-.17c.12-.484.312-.94.562-1.356L2.629 4.107a.5.5 0 0 1 .034-.67l.774-.774a.5.5 0 0 1 .67-.033L5.43 3.71a4.97 4.97 0 0 1 1.356-.561l.17-1.699ZM6 8c0 .538.212 1.026.558 1.385l.057.057a2 2 0 0 0 2.828-2.828l-.058-.056A2 2 0 0 0 6 8Z" clip-rule="evenodd"></path></svg>',i,c,f=s[1].t("General")+"",v,b,g,m,p,y='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM3.156 11.763c.16-.629.44-1.21.813-1.72a2.5 2.5 0 0 0-2.725 1.377c-.136.287.102.58.418.58h1.449c.01-.077.025-.156.045-.237ZM12.847 11.763c.02.08.036.16.046.237h1.446c.316 0 .554-.293.417-.579a2.5 2.5 0 0 0-2.722-1.378c.374.51.653 1.09.813 1.72ZM14 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0ZM3.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM5 13c-.552 0-1.013-.455-.876-.99a4.002 4.002 0 0 1 7.753 0c.136.535-.324.99-.877.99H5Z"></path></svg>',k,w,E=s[1].t("Users")+"",I,T,V,S,H,L='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M1 9.5A3.5 3.5 0 0 0 4.5 13H12a3 3 0 0 0 .917-5.857 2.503 2.503 0 0 0-3.198-3.019 3.5 3.5 0 0 0-6.628 2.171A3.5 3.5 0 0 0 1 9.5Z"></path></svg>',F,x,R=s[1].t("Connections")+"",J,j,B,G,N,C='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M10 1c3.866 0 7 1.79 7 4s-3.134 4-7 4-7-1.79-7-4 3.134-4 7-4zm5.694 8.13c.464-.264.91-.583 1.306-.952V10c0 2.21-3.134 4-7 4s-7-1.79-7-4V8.178c.396.37.842.688 1.306.953C5.838 10.006 7.854 10.5 10 10.5s4.162-.494 5.694-1.37zM3 13.179V15c0 2.21 3.134 4 7 4s7-1.79 7-4v-1.822c-.396.37-.842.688-1.306.953-1.532.875-3.548 1.369-5.694 1.369s-4.162-.494-5.694-1.37A7.009 7.009 0 013 13.179z" clip-rule="evenodd"></path></svg>',W,Y,ee=s[1].t("Models")+"",K,$,q,z,ce,ne='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4"><path d="M11.625 16.5a1.875 1.875 0 1 0 0-3.75 1.875 1.875 0 0 0 0 3.75Z"></path><path fill-rule="evenodd" d="M5.625 1.5H9a3.75 3.75 0 0 1 3.75 3.75v1.875c0 1.036.84 1.875 1.875 1.875H16.5a3.75 3.75 0 0 1 3.75 3.75v7.875c0 1.035-.84 1.875-1.875 1.875H5.625a1.875 1.875 0 0 1-1.875-1.875V3.375c0-1.036.84-1.875 1.875-1.875Zm6 16.5c.66 0 1.277-.19 1.797-.518l1.048 1.048a.75.75 0 0 0 1.06-1.06l-1.047-1.048A3.375 3.375 0 1 0 11.625 18Z" clip-rule="evenodd"></path><path d="M14.25 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 16.5 7.5h-1.875a.375.375 0 0 1-.375-.375V5.25Z"></path></svg>',ge,me,Oe=s[1].t("Documents")+"",qe,Ve,Te,je,be,Me='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4"><path d="M21.721 12.752a9.711 9.711 0 0 0-.945-5.003 12.754 12.754 0 0 1-4.339 2.708 18.991 18.991 0 0 1-.214 4.772 17.165 17.165 0 0 0 5.498-2.477ZM14.634 15.55a17.324 17.324 0 0 0 .332-4.647c-.952.227-1.945.347-2.966.347-1.021 0-2.014-.12-2.966-.347a17.515 17.515 0 0 0 .332 4.647 17.385 17.385 0 0 0 5.268 0ZM9.772 17.119a18.963 18.963 0 0 0 4.456 0A17.182 17.182 0 0 1 12 21.724a17.18 17.18 0 0 1-2.228-4.605ZM7.777 15.23a18.87 18.87 0 0 1-.214-4.774 12.753 12.753 0 0 1-4.34-2.708 9.711 9.711 0 0 0-.944 5.004 17.165 17.165 0 0 0 5.498 2.477ZM21.356 14.752a9.765 9.765 0 0 1-7.478 6.817 18.64 18.64 0 0 0 1.988-4.718 18.627 18.627 0 0 0 5.49-2.098ZM2.644 14.752c1.682.971 3.53 1.688 5.49 2.099a18.64 18.64 0 0 0 1.988 4.718 9.765 9.765 0 0 1-7.478-6.816ZM13.878 2.43a9.755 9.755 0 0 1 6.116 3.986 11.267 11.267 0 0 1-3.746 2.504 18.63 18.63 0 0 0-2.37-6.49ZM12 2.276a17.152 17.152 0 0 1 2.805 7.121c-.897.23-1.837.353-2.805.353-.968 0-1.908-.122-2.805-.353A17.151 17.151 0 0 1 12 2.276ZM10.122 2.43a18.629 18.629 0 0 0-2.37 6.49 11.266 11.266 0 0 1-3.746-2.504 9.754 9.754 0 0 1 6.116-3.985Z"></path></svg>',fe,ye,Ze=s[1].t("Web Search")+"",Ce,Pe,et,Ne,He,Xe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M2 4.25A2.25 2.25 0 0 1 4.25 2h7.5A2.25 2.25 0 0 1 14 4.25v5.5A2.25 2.25 0 0 1 11.75 12h-1.312c.1.128.21.248.328.36a.75.75 0 0 1 .234.545v.345a.75.75 0 0 1-.75.75h-4.5a.75.75 0 0 1-.75-.75v-.345a.75.75 0 0 1 .234-.545c.118-.111.228-.232.328-.36H4.25A2.25 2.25 0 0 1 2 9.75v-5.5Zm2.25-.75a.75.75 0 0 0-.75.75v4.5c0 .414.336.75.75.75h7.5a.75.75 0 0 0 .75-.75v-4.5a.75.75 0 0 0-.75-.75h-7.5Z" clip-rule="evenodd"></path></svg>',de,Se,ve=s[1].t("Interface")+"",oe,Ee,ae,ke,ze,De='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M7.557 2.066A.75.75 0 0 1 8 2.75v10.5a.75.75 0 0 1-1.248.56L3.59 11H2a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h1.59l3.162-2.81a.75.75 0 0 1 .805-.124ZM12.95 3.05a.75.75 0 1 0-1.06 1.06 5.5 5.5 0 0 1 0 7.78.75.75 0 1 0 1.06 1.06 7 7 0 0 0 0-9.9Z"></path><path d="M10.828 5.172a.75.75 0 1 0-1.06 1.06 2.5 2.5 0 0 1 0 3.536.75.75 0 1 0 1.06 1.06 4 4 0 0 0 0-5.656Z"></path></svg>',he,ue,Ue=s[1].t("Audio")+"",We,Fe,Ke,ut,nt,it='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M2 4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4Zm10.5 5.707a.5.5 0 0 0-.146-.353l-1-1a.5.5 0 0 0-.708 0L9.354 9.646a.5.5 0 0 1-.708 0L6.354 7.354a.5.5 0 0 0-.708 0l-2 2a.5.5 0 0 0-.146.353V12a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5V9.707ZM12 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z" clip-rule="evenodd"></path></svg>',Je,Ye,we=s[1].t("Images")+"",ft,xe,Be,ie,X,Z='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-4"><path d="M11.644 1.59a.75.75 0 0 1 .712 0l9.75 5.25a.75.75 0 0 1 0 1.32l-9.75 5.25a.75.75 0 0 1-.712 0l-9.75-5.25a.75.75 0 0 1 0-1.32l9.75-5.25Z"></path><path d="m3.265 10.602 7.668 4.129a2.25 2.25 0 0 0 2.134 0l7.668-4.13 1.37.739a.75.75 0 0 1 0 1.32l-9.75 5.25a.75.75 0 0 1-.71 0l-9.75-5.25a.75.75 0 0 1 0-1.32l1.37-.738Z"></path><path d="m10.933 19.231-7.668-4.13-1.37.739a.75.75 0 0 0 0 1.32l9.75 5.25c.221.12.489.12.71 0l9.75-5.25a.75.75 0 0 0 0-1.32l-1.37-.738-7.668 4.13a2.25 2.25 0 0 1-2.134-.001Z"></path></svg>',se,_e,Ge=s[1].t("Pipelines")+"",gt,Tt,Dt,St,Pt,Rt='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8 7c3.314 0 6-1.343 6-3s-2.686-3-6-3-6 1.343-6 3 2.686 3 6 3Z"></path><path d="M8 8.5c1.84 0 3.579-.37 4.914-1.037A6.33 6.33 0 0 0 14 6.78V8c0 1.657-2.686 3-6 3S2 9.657 2 8V6.78c.346.273.72.5 1.087.683C4.42 8.131 6.16 8.5 8 8.5Z"></path><path d="M8 12.5c1.84 0 3.579-.37 4.914-1.037.366-.183.74-.41 1.086-.684V12c0 1.657-2.686 3-6 3s-6-1.343-6-3v-1.22c.346.273.72.5 1.087.683C4.42 12.131 6.16 12.5 8 12.5Z"></path></svg>',Mt,Le,Ie=s[1].t("Database")+"",It,At,Ht,vt,ht,mt,rt,Nt,Ut;const Wt=[tc,ec,xf,Xf,Jf,Qf,Yf,qf,Ff,zf,Wf],Ot=[];function Lt(Re,Qe){return Re[0]==="general"?0:Re[0]==="users"?1:Re[0]==="connections"?2:Re[0]==="models"?3:Re[0]==="documents"?4:Re[0]==="web"?5:Re[0]==="interface"?6:Re[0]==="audio"?7:Re[0]==="images"?8:Re[0]==="db"?9:Re[0]==="pipelines"?10:-1}return~(ht=Lt(s))&&(mt=Ot[ht]=Wt[ht](s)),{c(){e=d("div"),t=d("div"),l=d("button"),a=d("div"),a.innerHTML=o,i=D(),c=d("div"),v=O(f),g=D(),m=d("button"),p=d("div"),p.innerHTML=y,k=D(),w=d("div"),I=O(E),V=D(),S=d("button"),H=d("div"),H.innerHTML=L,F=D(),x=d("div"),J=O(R),B=D(),G=d("button"),N=d("div"),N.innerHTML=C,W=D(),Y=d("div"),K=O(ee),q=D(),z=d("button"),ce=d("div"),ce.innerHTML=ne,ge=D(),me=d("div"),qe=O(Oe),Te=D(),je=d("button"),be=d("div"),be.innerHTML=Me,fe=D(),ye=d("div"),Ce=O(Ze),et=D(),Ne=d("button"),He=d("div"),He.innerHTML=Xe,de=D(),Se=d("div"),oe=O(ve),ae=D(),ke=d("button"),ze=d("div"),ze.innerHTML=De,he=D(),ue=d("div"),We=O(Ue),Ke=D(),ut=d("button"),nt=d("div"),nt.innerHTML=it,Je=D(),Ye=d("div"),ft=O(we),Be=D(),ie=d("button"),X=d("div"),X.innerHTML=Z,se=D(),_e=d("div"),gt=O(Ge),Dt=D(),St=d("button"),Pt=d("div"),Pt.innerHTML=Rt,Mt=D(),Le=d("div"),It=O(Ie),Ht=D(),vt=d("div"),mt&&mt.c(),this.h()},l(Re){e=h(Re,"DIV",{class:!0});var Qe=_(e);t=h(Qe,"DIV",{id:!0,class:!0});var dt=_(t);l=h(dt,"BUTTON",{class:!0});var Qt=_(l);a=h(Qt,"DIV",{class:!0,"data-svelte-h":!0}),ct(a)!=="svelte-1e9u9pw"&&(a.innerHTML=o),i=A(Qt),c=h(Qt,"DIV",{class:!0});var Bt=_(c);v=P(Bt,f),Bt.forEach(u),Qt.forEach(u),g=A(dt),m=h(dt,"BUTTON",{class:!0});var Jt=_(m);p=h(Jt,"DIV",{class:!0,"data-svelte-h":!0}),ct(p)!=="svelte-28mfsy"&&(p.innerHTML=y),k=A(Jt),w=h(Jt,"DIV",{class:!0});var wl=_(w);I=P(wl,E),wl.forEach(u),Jt.forEach(u),V=A(dt),S=h(dt,"BUTTON",{class:!0});var pl=_(S);H=h(pl,"DIV",{class:!0,"data-svelte-h":!0}),ct(H)!=="svelte-1xixjje"&&(H.innerHTML=L),F=A(pl),x=h(pl,"DIV",{class:!0});var yl=_(x);J=P(yl,R),yl.forEach(u),pl.forEach(u),B=A(dt),G=h(dt,"BUTTON",{class:!0});var Xt=_(G);N=h(Xt,"DIV",{class:!0,"data-svelte-h":!0}),ct(N)!=="svelte-17kkxfv"&&(N.innerHTML=C),W=A(Xt),Y=h(Xt,"DIV",{class:!0});var el=_(Y);K=P(el,ee),el.forEach(u),Xt.forEach(u),q=A(dt),z=h(dt,"BUTTON",{class:!0});var ol=_(z);ce=h(ol,"DIV",{class:!0,"data-svelte-h":!0}),ct(ce)!=="svelte-ofbvgh"&&(ce.innerHTML=ne),ge=A(ol),me=h(ol,"DIV",{class:!0});var Il=_(me);qe=P(Il,Oe),Il.forEach(u),ol.forEach(u),Te=A(dt),je=h(dt,"BUTTON",{class:!0});var gl=_(je);be=h(gl,"DIV",{class:!0,"data-svelte-h":!0}),ct(be)!=="svelte-1t9ru36"&&(be.innerHTML=Me),fe=A(gl),ye=h(gl,"DIV",{class:!0});var ts=_(ye);Ce=P(ts,Ze),ts.forEach(u),gl.forEach(u),et=A(dt),Ne=h(dt,"BUTTON",{class:!0});var Tl=_(Ne);He=h(Tl,"DIV",{class:!0,"data-svelte-h":!0}),ct(He)!=="svelte-1i52rm6"&&(He.innerHTML=Xe),de=A(Tl),Se=h(Tl,"DIV",{class:!0});var tl=_(Se);oe=P(tl,ve),tl.forEach(u),Tl.forEach(u),ae=A(dt),ke=h(dt,"BUTTON",{class:!0});var Cl=_(ke);ze=h(Cl,"DIV",{class:!0,"data-svelte-h":!0}),ct(ze)!=="svelte-sf0iba"&&(ze.innerHTML=De),he=A(Cl),ue=h(Cl,"DIV",{class:!0});var ls=_(ue);We=P(ls,Ue),ls.forEach(u),Cl.forEach(u),Ke=A(dt),ut=h(dt,"BUTTON",{class:!0});var Bl=_(ut);nt=h(Bl,"DIV",{class:!0,"data-svelte-h":!0}),ct(nt)!=="svelte-1gc3odz"&&(nt.innerHTML=it),Je=A(Bl),Ye=h(Bl,"DIV",{class:!0});var ql=_(Ye);ft=P(ql,we),ql.forEach(u),Bl.forEach(u),Be=A(dt),ie=h(dt,"BUTTON",{class:!0});var ml=_(ie);X=h(ml,"DIV",{class:!0,"data-svelte-h":!0}),ct(X)!=="svelte-1q46caf"&&(X.innerHTML=Z),se=A(ml),_e=h(ml,"DIV",{class:!0});var Rl=_(_e);gt=P(Rl,Ge),Rl.forEach(u),ml.forEach(u),Dt=A(dt),St=h(dt,"BUTTON",{class:!0});var Ol=_(St);Pt=h(Ol,"DIV",{class:!0,"data-svelte-h":!0}),ct(Pt)!=="svelte-35c53k"&&(Pt.innerHTML=Rt),Mt=A(Ol),Le=h(Ol,"DIV",{class:!0});var Yl=_(Le);It=P(Yl,Ie),Yl.forEach(u),Ol.forEach(u),dt.forEach(u),Ht=A(Qe),vt=h(Qe,"DIV",{class:!0});var ss=_(vt);mt&&mt.l(ss),ss.forEach(u),Qe.forEach(u),this.h()},h(){n(a,"class","self-center mr-2"),n(c,"class","self-center"),n(l,"class",b="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 lg:flex-none flex text-right transition "+(s[0]==="general"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")),n(p,"class","self-center mr-2"),n(w,"class","self-center"),n(m,"class",T="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[0]==="users"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")),n(H,"class","self-center mr-2"),n(x,"class","self-center"),n(S,"class",j="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[0]==="connections"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")),n(N,"class","self-center mr-2"),n(Y,"class","self-center"),n(G,"class",$="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[0]==="models"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")),n(ce,"class","self-center mr-2"),n(me,"class","self-center"),n(z,"class",Ve="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[0]==="documents"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")),n(be,"class","self-center mr-2"),n(ye,"class","self-center"),n(je,"class",Pe="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[0]==="web"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")),n(He,"class","self-center mr-2"),n(Se,"class","self-center"),n(Ne,"class",Ee="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[0]==="interface"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")),n(ze,"class","self-center mr-2"),n(ue,"class","self-center"),n(ke,"class",Fe="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[0]==="audio"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")),n(nt,"class","self-center mr-2"),n(Ye,"class","self-center"),n(ut,"class",xe="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[0]==="images"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")),n(X,"class","self-center mr-2"),n(_e,"class","self-center"),n(ie,"class",Tt="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[0]==="pipelines"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")),n(Pt,"class","self-center mr-2"),n(Le,"class","self-center"),n(St,"class",At="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[0]==="db"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")),n(t,"id","admin-settings-tabs-container"),n(t,"class","tabs flex flex-row overflow-x-auto space-x-1 max-w-full lg:space-x-0 lg:space-y-1 lg:flex-col lg:flex-none lg:w-44 dark:text-gray-200 text-xs text-left scrollbar-none"),n(vt,"class","flex-1 mt-3 lg:mt-0 overflow-y-scroll"),n(e,"class","flex flex-col lg:flex-row w-full h-full py-2 lg:space-x-4")},m(Re,Qe){M(Re,e,Qe),r(e,t),r(t,l),r(l,a),r(l,i),r(l,c),r(c,v),r(t,g),r(t,m),r(m,p),r(m,k),r(m,w),r(w,I),r(t,V),r(t,S),r(S,H),r(S,F),r(S,x),r(x,J),r(t,B),r(t,G),r(G,N),r(G,W),r(G,Y),r(Y,K),r(t,q),r(t,z),r(z,ce),r(z,ge),r(z,me),r(me,qe),r(t,Te),r(t,je),r(je,be),r(je,fe),r(je,ye),r(ye,Ce),r(t,et),r(t,Ne),r(Ne,He),r(Ne,de),r(Ne,Se),r(Se,oe),r(t,ae),r(t,ke),r(ke,ze),r(ke,he),r(ke,ue),r(ue,We),r(t,Ke),r(t,ut),r(ut,nt),r(ut,Je),r(ut,Ye),r(Ye,ft),r(t,Be),r(t,ie),r(ie,X),r(ie,se),r(ie,_e),r(_e,gt),r(t,Dt),r(t,St),r(St,Pt),r(St,Mt),r(St,Le),r(Le,It),r(e,Ht),r(e,vt),~ht&&Ot[ht].m(vt,null),rt=!0,Nt||(Ut=[le(l,"click",s[3]),le(m,"click",s[4]),le(S,"click",s[5]),le(G,"click",s[6]),le(z,"click",s[7]),le(je,"click",s[8]),le(Ne,"click",s[9]),le(ke,"click",s[10]),le(ut,"click",s[11]),le(ie,"click",s[12]),le(St,"click",s[13])],Nt=!0)},p(Re,[Qe]){(!rt||Qe&2)&&f!==(f=Re[1].t("General")+"")&&U(v,f),(!rt||Qe&1&&b!==(b="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 lg:flex-none flex text-right transition "+(Re[0]==="general"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")))&&n(l,"class",b),(!rt||Qe&2)&&E!==(E=Re[1].t("Users")+"")&&U(I,E),(!rt||Qe&1&&T!==(T="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Re[0]==="users"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")))&&n(m,"class",T),(!rt||Qe&2)&&R!==(R=Re[1].t("Connections")+"")&&U(J,R),(!rt||Qe&1&&j!==(j="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Re[0]==="connections"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")))&&n(S,"class",j),(!rt||Qe&2)&&ee!==(ee=Re[1].t("Models")+"")&&U(K,ee),(!rt||Qe&1&&$!==($="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Re[0]==="models"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")))&&n(G,"class",$),(!rt||Qe&2)&&Oe!==(Oe=Re[1].t("Documents")+"")&&U(qe,Oe),(!rt||Qe&1&&Ve!==(Ve="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Re[0]==="documents"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")))&&n(z,"class",Ve),(!rt||Qe&2)&&Ze!==(Ze=Re[1].t("Web Search")+"")&&U(Ce,Ze),(!rt||Qe&1&&Pe!==(Pe="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Re[0]==="web"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")))&&n(je,"class",Pe),(!rt||Qe&2)&&ve!==(ve=Re[1].t("Interface")+"")&&U(oe,ve),(!rt||Qe&1&&Ee!==(Ee="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Re[0]==="interface"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")))&&n(Ne,"class",Ee),(!rt||Qe&2)&&Ue!==(Ue=Re[1].t("Audio")+"")&&U(We,Ue),(!rt||Qe&1&&Fe!==(Fe="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Re[0]==="audio"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")))&&n(ke,"class",Fe),(!rt||Qe&2)&&we!==(we=Re[1].t("Images")+"")&&U(ft,we),(!rt||Qe&1&&xe!==(xe="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Re[0]==="images"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")))&&n(ut,"class",xe),(!rt||Qe&2)&&Ge!==(Ge=Re[1].t("Pipelines")+"")&&U(gt,Ge),(!rt||Qe&1&&Tt!==(Tt="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Re[0]==="pipelines"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")))&&n(ie,"class",Tt),(!rt||Qe&2)&&Ie!==(Ie=Re[1].t("Database")+"")&&U(It,Ie),(!rt||Qe&1&&At!==(At="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Re[0]==="db"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")))&&n(St,"class",At);let dt=ht;ht=Lt(Re),ht===dt?~ht&&Ot[ht].p(Re,Qe):(mt&&(wt(),re(Ot[dt],1,1,()=>{Ot[dt]=null}),yt()),~ht?(mt=Ot[ht],mt?mt.p(Re,Qe):(mt=Ot[ht]=Wt[ht](Re),mt.c()),te(mt,1),mt.m(vt,null)):mt=null)},i(Re){rt||(te(mt),rt=!0)},o(Re){re(mt),rt=!1},d(Re){Re&&u(e),~ht&&Ot[ht].d(),Nt=!1,Kt(Ut)}}}function sc(s,e,t){let l;const a=bl("i18n");zt(s,a,J=>t(1,l=J));let o="general";return El(()=>{const J=document.getElementById("admin-settings-tabs-container");J&&J.addEventListener("wheel",function(j){j.deltaY!==0&&(J.scrollLeft+=j.deltaY)})}),[o,l,a,()=>{t(0,o="general")},()=>{t(0,o="users")},()=>{t(0,o="connections")},()=>{t(0,o="models")},()=>{t(0,o="documents")},()=>{t(0,o="web")},()=>{t(0,o="interface")},()=>{t(0,o="audio")},()=>{t(0,o="images")},()=>{t(0,o="pipelines")},()=>{t(0,o="db")},async()=>{Ae.success(l.t("Settings saved successfully!")),await Ss(),await Ul.set(await es())},()=>{Ae.success(l.t("Settings saved successfully!"))},()=>{Ae.success(l.t("Settings saved successfully!"))},async()=>{Ae.success(l.t("Settings saved successfully!")),await Ss(),await Ul.set(await es())},async()=>{Ae.success(l.t("Settings saved successfully!")),await Ss(),await Ul.set(await es())},()=>{Ae.success(l.t("Settings saved successfully!"))},()=>{Ae.success(l.t("Settings saved successfully!"))},()=>{Ae.success(l.t("Settings saved successfully!"))},()=>{Ae.success(l.t("Settings saved successfully!"))},()=>{Ae.success(l.t("Settings saved successfully!"))}]}class ac extends _l{constructor(e){super(),vl(this,e,sc,lc,hl,{})}}function rc(s){let e,t;return e=new ac({}),{c(){tt(e.$$.fragment)},l(l){lt(e.$$.fragment,l)},m(l,a){st(e,l,a),t=!0},p:_t,i(l){t||(te(e.$$.fragment,l),t=!0)},o(l){re(e.$$.fragment,l),t=!1},d(l){at(e,l)}}}class Vc extends _l{constructor(e){super(),vl(this,e,null,rc,hl,{})}}export{Vc as component};
//# sourceMappingURL=8.CdYaj8hc.js.map
