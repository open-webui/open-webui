import"./CWj6FrbW.js";import"./69_IOA4Y.js";import{B as Lr,t as u,a as v,p as br,g as Ar,o as rl,f as _,c as a,r as t,k as l,w as i,s,l as We,b as wr,e as O,i as c,m as k,j as e,A as Dr,z as cr,aP as Pa,aQ as m,n as R,u as fr,x as Rl,d as et,y as cl,bg as Ci,V as Ui,aj as Di,b3 as Gi,q as ml,v as Al,aR as ni}from"./0WpKKl27.js";import{i as g}from"./Cmf4RC8y.js";import{e as Za,i as dr}from"./u5Cnd4mY.js";import{s as qr,c as ii,r as J,a as T,d as or,h as li,f as ti}from"./CZ1y6KaE.js";import{b as X,a as si,c as Bi}from"./kb1CvZ3a.js";import{i as Rr}from"./C3k0oZ3o.js";import{a as la,s as Nr}from"./BVrWTcfB.js";import{p as bi}from"./CLoTtgoA.js";import{g as Ai}from"./B5RARo22.js";import{t as Ee}from"./DYdr9DjX.js";import{c as Jr,N as Hi,a as Wr,b as xl,u as Nl,O as ji,M as $l}from"./PCOILo-8.js";import{h as Ki,i as Yi,u as Wi,j as Fi,k as Vi,g as al,l as Zi,m as zi,n as Xi,o as Ji,p as qi,q as Qi,a as pl,r as es,s as ts}from"./B6gyXX6T.js";import{p as il}from"./Bfc47y5P.js";import{p as oa}from"./DpN1w328.js";import{f as vi}from"./CsWaRabF.js";import{S as as,C as rs}from"./hEP_3Uio.js";import{l as ls}from"./DR3TfYWm.js";import{j as is,u as ss}from"./BaVH4moA.js";import{i as vs,e as ds,g as os,s as ns,a as cs,b as us,c as _s,d as fs,f as ps,h as ms,j as gs,k as xs,l as Es}from"./DbVsO-UY.js";import{h as ys}from"./BzXoxdC4.js";import ci from"./B9ZVCkUG.js";import{e as hs,f as bs,h as As,i as ws,j as Is,k as $s}from"./iLDRgysW.js";import{g as Rs}from"./B4L42j3h.js";import{S as sa}from"./B41Ah4PR.js";import{S as ta}from"./NOxjCBoP.js";import{T as lt}from"./Db0gdTVr.js";import{I as Fl,W as ai,e as Ns,b as ui,a as Yl}from"./DLhnqOlE.js";import{c as Ts,T as Kl,z as Ss,o as Ml,m as _i,n as ks}from"./cX8aofVu.js";import{T as Zr}from"./CWXf-F9t.js";import{S as Qr}from"./BO1efK8r.js";import{g as Os,a as Ls,b as Ps,u as Ms}from"./CjABQmgs.js";import{b as Tl}from"./Bo3ZTtFv.js";import{D as Cs}from"./DcAIj4L_.js";import{e as wi,f as Us,u as Ds,c as fi,i as Gs,t as Bs}from"./DnFm3dkE.js";import{X as Sl}from"./CZmZoefv.js";import{S as Ii}from"./C83syoBY.js";import{P as Hs,M as js}from"./BsWq2Zn6.js";import{S as $i}from"./BqWDuYyJ.js";import{C as gl}from"./ByHAJgVC.js";import{M as Ri,C as Vl,A as Wl,a as Ks,b as Ys}from"./G8umJYZj.js";import{M as Zl}from"./CcreKc1w.js";import{C as pi}from"./BTdOvR0T.js";import{C as Ws}from"./BtReZMDb.js";import{D as di}from"./CmPVC7JK.js";import{d as mi,a as gi,p as xi,c as Ei,b as Fs,e as Vs,f as Ni,h as Zs}from"./DyQj18XO.js";import{s as zs}from"./3-JilrU5.js";import{b as Xs,c as Cl}from"./DA2vpIKA.js";import{f as Js}from"./Dbtivbjp.js";import{D as qs}from"./DD5ATWsz.js";import{D as Qs}from"./DLpHo_PE.js";import{P as ev}from"./lU9u-k0A.js";import{P as tv}from"./C-WU2PKw.js";import{L as av}from"./1w6CVy8g.js";import{E as rv}from"./C2rnPICT.js";import{E as lv}from"./BAAu3n3-.js";import{E as iv}from"./BLOpvWpB.js";import{b as sv,d as vv,u as dv}from"./Bp8N0x0r.js";import{P as Ul}from"./BonmQdqt.js";import"./qXw27f4H.js";import{g as Ti,r as ov,u as Si,a as nv,b as cv}from"./B56tcsjd.js";import{i as uv}from"./D93vMDi1.js";import{d as _v}from"./CYBNiUQ7.js";import{h as fv,i as pv}from"./BK8NOjgO.js";import{A as mv}from"./DlVfwdnV.js";const gv=async(wt="")=>{let q=null;const r=await fetch(`${Fl}/config`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",...wt&&{authorization:`Bearer ${wt}`}}}).then(async f=>{if(!f.ok)throw await f.json();return f.json()}).catch(f=>("detail"in f?q=f.detail:q="Server connection failed",null));if(q)throw q;return r},xv=async(wt="",q)=>{let r=null;const f=await fetch(`${Fl}/config/update`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",...wt&&{authorization:`Bearer ${wt}`}},body:JSON.stringify({...q})}).then(async p=>{if(!p.ok)throw await p.json();return p.json()}).catch(p=>("detail"in p?r=p.detail:r="Server connection failed",null));if(r)throw r;return f},ri=async(wt="")=>{let q=null;const r=await fetch(`${Fl}/config/url/verify`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",...wt&&{authorization:`Bearer ${wt}`}}}).then(async f=>{if(!f.ok)throw await f.json();return f.json()}).catch(f=>("detail"in f?q=f.detail:q="Server connection failed",null));if(q)throw q;return r},Ev=async(wt="")=>{let q=null;const r=await fetch(`${Fl}/models`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",...wt&&{authorization:`Bearer ${wt}`}}}).then(async f=>{if(!f.ok)throw await f.json();return f.json()}).catch(f=>("detail"in f?q=f.detail:q="Server connection failed",null));if(q)throw q;return r};var yv=Lr('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M21.731 2.269a2.625 2.625 0 0 0-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 0 0 0-3.712ZM19.513 8.199l-3.712-3.712-12.15 12.15a5.25 5.25 0 0 0-1.32 2.214l-.8 2.685a.75.75 0 0 0 .933.933l2.685-.8a5.25 5.25 0 0 0 2.214-1.32L19.513 8.2Z"></path></svg>');function hv(wt,q){let r=oa(q,"className",8,"w-4 h-4");oa(q,"strokeWidth",8,"1.5");var f=yv();u(()=>qr(f,0,ii(r()))),v(wt,f)}var bv=_('<div class="  flex w-full justify-between"><button class=" flex rounded-md py-1.5 px-3 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition" type="button"><div class=" self-center mr-3"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"></path><path fill-rule="evenodd" d="M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z" clip-rule="evenodd"></path></svg></div> <div class=" self-center text-sm font-medium"> </div></button></div> <button class=" flex rounded-md py-2 px-3 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"><div class=" self-center mr-3"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"></path><path fill-rule="evenodd" d="M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z" clip-rule="evenodd"></path></svg></div> <div class=" self-center text-sm font-medium"> </div></button> <button class=" flex rounded-md py-2 px-3 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"><div class=" self-center mr-3"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"></path><path fill-rule="evenodd" d="M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z" clip-rule="evenodd"></path></svg></div> <div class=" self-center text-sm font-medium"> </div></button>',1),Av=_('<form class="flex flex-col h-full justify-between space-y-3 text-sm"><div class=" space-y-3 overflow-y-scroll scrollbar-hidden h-full"><div><div class=" mb-2 text-sm font-medium"> </div> <input id="config-json-input" hidden="" type="file" accept=".json"/> <button type="button" class=" flex rounded-md py-2 px-3 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"><div class=" self-center mr-3"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"></path><path fill-rule="evenodd" d="M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z" clip-rule="evenodd"></path></svg></div> <div class=" self-center text-sm font-medium"> </div></button> <button type="button" class=" flex rounded-md py-2 px-3 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"><div class=" self-center mr-3"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"></path><path fill-rule="evenodd" d="M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z" clip-rule="evenodd"></path></svg></div> <div class=" self-center text-sm font-medium"> </div></button> <hr class="border-gray-50 dark:border-gray-850/30 my-1"/> <!></div></div></form>');function wv(wt,q){br(q,!1);const r=()=>la(y,"$i18n",p),f=()=>la(Jr,"$config",p),[p,Bt]=Nr(),{saveAs:Be}=vi,y=Ar("i18n");let Ne=oa(q,"saveHandler",8);const o=async()=>{let me=new Blob([JSON.stringify(await ls(localStorage.token))],{type:"application/json"});Be(me,`all-chats-export-${Date.now()}.json`)},d=async()=>{const me=await is(localStorage.token),V=["id","name","email","role"],ue=[V.join(","),...me.users.map(x=>V.map(M=>x[M]===null||x[M]===void 0?"":`"${String(x[M]).replace(/"/g,'""')}"`).join(","))].join(`
`),U=new Blob([ue],{type:"text/csv;charset=utf-8;"});Be(U,"users.csv")};rl(async()=>{}),Rr();var S=Av(),A=a(S),C=a(A),E=a(C),w=a(E,!0);t(E);var H=l(E,2),D=l(H,2),ee=l(a(D),2),Ae=a(ee,!0);t(ee),t(D);var he=l(D,2),Se=l(a(he),2),n=a(Se,!0);t(Se),t(he);var te=l(he,4);{var B=me=>{var V=bv(),ue=O(V),U=a(ue),x=l(a(U),2),M=a(x,!0);t(x),t(U),t(ue);var le=l(ue,2),ne=l(a(le),2),ve=a(ne,!0);t(ne),t(le);var N=l(le,2),ge=l(a(N),2),qe=a(ge,!0);t(ge),t(N),u((fe,$,W)=>{s(M,fe),s(ve,$),s(qe,W)},[()=>(r(),i(()=>r().t("Download Database"))),()=>(r(),i(()=>r().t("Export All Chats (All Users)"))),()=>(r(),i(()=>r().t("Export Users")))]),We("click",U,()=>{as(localStorage.token).catch(fe=>{Ee.error(`${fe}`)})}),We("click",le,()=>{o()}),We("click",N,()=>{d()}),v(me,V)};g(te,me=>{f(),i(()=>{var V;return((V=f())==null?void 0:V.features.enable_admin_export)??!0})&&me(B)})}t(C),t(A),t(S),u((me,V,ue)=>{s(w,me),s(Ae,V),s(n,ue)},[()=>(r(),i(()=>r().t("Database"))),()=>(r(),i(()=>r().t("Import Config from JSON File"))),()=>(r(),i(()=>r().t("Export Config to JSON File")))]),We("change",H,me=>{const V=me.target.files[0],ue=new FileReader;ue.onload=async U=>{await vs(localStorage.token,JSON.parse(U.target.result)).catch(M=>{Ee.error(`${M}`)})&&Ee.success(r().t("Config imported successfully")),U.target.value=null},ue.readAsText(V)}),We("click",D,async()=>{document.getElementById("config-json-input").click()}),We("click",he,async()=>{const me=await ds(localStorage.token),V=new Blob([JSON.stringify(me)],{type:"application/json"});Be(V,`config-${Date.now()}.json`)}),We("submit",S,il(async()=>{Ne()()})),v(wt,S),wr(),Bt()}var Iv=_('<a target="_blank"> </a>'),$v=_('<button class=" text-xs px-3 py-1.5 bg-gray-50 hover:bg-gray-100 dark:bg-gray-850 dark:hover:bg-gray-800 transition rounded-lg font-medium" type="button"> </button>'),Rv=_('<div class="mt-0.5"><!></div>'),Nv=_('<a href="https://docs.openwebui.com/enterprise" target="_blank" class="text-gray-500 mt-0.5"><span class=" capitalize text-black dark:text-white"> </span> registered to <span class=" capitalize text-black dark:text-white"> </span> for <span class=" font-medium text-black dark:text-white"> </span></a> <!>',1),Tv=_('<a class=" text-xs hover:underline" href="https://docs.openwebui.com/enterprise" target="_blank"><span class="text-gray-500"> </span></a>'),Sv=_("<option> </option>"),kv=_('<div class="mb-2.5 w-full justify-between"><div class="flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div></div> <div class="flex mt-2 space-x-2"><input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden" type="email"/></div></div>'),Ov=_('<div class=" flex w-full flex-col pr-2 mb-2.5"><div class=" text-xs font-medium"> </div> <input class="w-full mt-1 text-sm dark:text-gray-300 bg-transparent outline-hidden" type="text"/> <div class="mt-2 text-xs text-gray-400 dark:text-gray-500"><a href="https://docs.openwebui.com/getting-started/api-endpoints" target="_blank" class=" text-gray-300 font-medium underline"> </a></div></div>'),Lv=_('<div class="mb-2.5 flex w-full justify-between pr-2"><div class=" self-center text-xs font-medium"> </div> <!></div> <!>',1),Pv=_('<div class="mt-2 text-xs"><div class=" bg-yellow-500/20 text-yellow-700 dark:text-yellow-200 rounded-lg px-3 py-2"><div><span class=" font-medium"> </span> <span><a href="https://docs.openwebui.com/getting-started/env-configuration#jwt_expires_in" target="_blank" class=" underline"> </a></span></div></div></div>'),Mv=_('<input class="w-full bg-transparent outline-hidden py-0.5" type="number"/>'),Cv=_('<input class="w-full bg-transparent outline-hidden py-0.5" required/>'),Uv=_('<input class="w-full bg-transparent outline-hidden py-0.5" required/>'),Dv=_('<input class="w-full bg-transparent outline-hidden py-0.5" required/>'),Gv=_('<input class="w-full bg-transparent outline-hidden py-0.5" required/>'),Bv=_('<input class="w-full bg-transparent outline-hidden py-0.5"/>'),Hv=_('<div class="flex w-full gap-2"><div class="w-full"><div class=" self-center text-xs font-medium min-w-fit mb-1 mt-1"> </div> <input class="w-full bg-transparent outline-hidden py-0.5"/></div></div> <div class="flex justify-between items-center text-xs"><div class=" font-medium"> </div> <div class="mt-1"><!></div></div> <div class="flex w-full gap-2"><div class="w-full"><div class=" self-center text-xs font-medium min-w-fit mb-1"> </div> <!></div> <div class="w-full"></div></div>',1),jv=_('<div class="flex flex-col gap-1"><div class="flex w-full gap-2"><div class="w-full"><div class=" self-center text-xs font-medium min-w-fit mb-1"> </div> <input class="w-full bg-transparent outline-hidden py-0.5" required/></div> <div class="w-full"></div></div> <div class="flex w-full gap-2"><div class="w-full"><div class=" self-center text-xs font-medium min-w-fit mb-1"> </div> <input class="w-full bg-transparent outline-hidden py-0.5" required/></div> <div class="w-full"><div class=" self-center text-xs font-medium min-w-fit mb-1"> </div> <!></div></div> <div class="flex w-full gap-2"><div class="w-full"><div class=" self-center text-xs font-medium min-w-fit mb-1"> </div> <!></div> <div class="w-full"><div class=" self-center text-xs font-medium min-w-fit mb-1"> </div> <!></div></div> <div class="flex w-full gap-2"><div class="w-full"><div class=" self-center text-xs font-medium min-w-fit mb-1"> </div> <!></div></div> <div class="flex w-full gap-2"><div class="w-full"><div class=" self-center text-xs font-medium min-w-fit mb-1"> </div> <!></div></div> <div class="flex w-full gap-2"><div class="w-full"><div class=" self-center text-xs font-medium min-w-fit mb-1"> </div> <!></div></div> <div class="flex w-full gap-2"><div class="w-full"><div class=" self-center text-xs font-medium min-w-fit mb-1"> </div> <input class="w-full bg-transparent outline-hidden py-0.5"/></div></div> <div class="text-xs text-gray-400 dark:text-gray-500"><a class=" text-gray-300 font-medium underline" href="https://ldap.com/ldap-filters/" target="_blank"> </a></div> <div><div class="flex justify-between items-center text-sm"><div class="  font-medium"> </div> <div class="mt-1"><!></div></div> <!></div></div>'),Kv=_('<div class="mb-2.5 w-full justify-between"><div class="flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div></div> <div class="flex mt-2 space-x-2"><input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden" type="number" min="0"/></div> <div class="mt-2 text-xs text-gray-400 dark:text-gray-500"> </div></div>'),Yv=_('<div><div class="mb-3.5"><div class=" mt-0.5 mb-2.5 text-base font-medium"> </div> <hr class=" border-gray-100/30 dark:border-gray-850/30 my-2"/> <div class="mb-2.5"><div class=" mb-1 text-xs font-medium flex space-x-2 items-center"><div> </div></div> <div class="flex w-full justify-between items-center"><div class="flex flex-col text-xs text-gray-700 dark:text-gray-200"><div class="flex gap-1"><!> <!></div> <button class=" underline flex items-center space-x-1 text-xs text-gray-500 dark:text-gray-500" type="button"><div> </div></button></div> <!></div></div> <div class="mb-2.5"><div class="flex w-full justify-between items-center"><div class="text-xs pr-2"><div> </div> <div class=" text-xs text-gray-500"> </div></div> <a class="flex-shrink-0 text-xs font-medium underline" href="https://docs.openwebui.com/" target="_blank"> </a></div> <div class="mt-1"><div class="flex space-x-1"><a href="https://discord.gg/5rJgQTnV4s" target="_blank"><img alt="Discord" src="https://img.shields.io/badge/Discord-Open_WebUI-blue?logo=discord&amp;logoColor=white"/></a> <a href="https://twitter.com/OpenWebUI" target="_blank"><img alt="X (formerly Twitter) Follow" src="https://img.shields.io/twitter/follow/OpenWebUI"/></a> <a href="https://github.com/open-webui/open-webui" target="_blank"><img alt="Github Repo" src="https://img.shields.io/github/stars/open-webui/open-webui?style=social&amp;label=Star us on Github"/></a></div></div></div> <div class="mb-2.5"><div class="flex w-full justify-between items-center"><div class="text-xs pr-2"><div> </div> <!></div></div></div></div> <div class="mb-3"><div class=" mt-0.5 mb-2.5 text-base font-medium"> </div> <hr class=" border-gray-100/30 dark:border-gray-850/30 my-2"/> <div class="  mb-2.5 flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div> <div class="flex items-center relative"><select class="dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 text-xs bg-transparent outline-hidden text-right"><option> </option><option> </option><option> </option></select></div></div> <div class="  mb-2.5 flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div> <div class="flex items-center relative"><select class="dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 text-xs bg-transparent outline-hidden text-right"><option>None</option><!></select></div></div> <div class=" mb-2.5 flex w-full justify-between pr-2"><div class=" self-center text-xs font-medium"> </div> <!></div> <div class="mb-2.5 flex w-full items-center justify-between pr-2"><div class=" self-center text-xs font-medium"> </div> <!></div> <!> <div class="mb-2.5"><div class=" self-center text-xs font-medium mb-2"> </div> <!></div> <div class="mb-2.5"><div class=" self-center text-xs font-medium mb-2"> </div> <!></div> <div class="mb-2.5 flex w-full justify-between pr-2"><div class=" self-center text-xs font-medium"> </div> <!></div> <!> <div class=" mb-2.5 w-full justify-between"><div class="flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div></div> <div class="flex mt-2 space-x-2"><input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden" type="text"/></div> <div class="mt-2 text-xs text-gray-400 dark:text-gray-500"> <span class=" text-gray-300 font-medium"> </span></div> <!></div> <div class=" space-y-3"><div class="mt-2 space-y-2 pr-1.5"><div class="flex justify-between items-center text-sm"><div class="  font-medium"> </div> <div class="mt-1"><!></div></div> <!></div></div></div> <div class="mb-3"><div class=" mt-0.5 mb-2.5 text-base font-medium"> </div> <hr class=" border-gray-100/30 dark:border-gray-850/30 my-2"/> <div class="mb-2.5 flex w-full items-center justify-between pr-2"><div class=" self-center text-xs font-medium"> </div> <!></div> <div class="mb-2.5 flex w-full items-center justify-between pr-2"><div class=" self-center text-xs font-medium"> </div> <!></div> <div class="mb-2.5 flex w-full items-center justify-between pr-2"><div class=" self-center text-xs font-medium"> </div> <!></div> <!> <div class="mb-2.5 flex w-full items-center justify-between pr-2"><div class=" self-center text-xs font-medium"> </div> <!></div> <div class="mb-2.5 flex w-full items-center justify-between pr-2"><div class=" self-center text-xs font-medium"> </div> <!></div> <div class="mb-2.5 flex w-full items-center justify-between pr-2"><div class=" self-center text-xs font-medium"> </div> <!></div> <div class="mb-2.5 flex w-full items-center justify-between pr-2"><div class=" self-center text-xs font-medium"> </div> <!></div> <div class="mb-2.5 flex w-full items-center justify-between pr-2"><div class=" self-center text-xs font-medium"> </div> <!></div> <div class="mb-2.5"><div class=" self-center text-xs font-medium mb-2"> </div> <!></div> <div class="mb-2.5 w-full justify-between"><div class="flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div></div> <div class="flex mt-2 space-x-2"><input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden" type="text"/></div> <div class="mt-2 text-xs text-gray-400 dark:text-gray-500"> </div></div> <div class=" w-full justify-between"><div class="flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div></div> <div class="flex mt-2 space-x-2"><input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden" type="text"/></div></div></div></div>'),Wv=_('<form class="flex flex-col h-full justify-between space-y-3 text-sm"><div class="space-y-3 overflow-y-scroll scrollbar-hidden h-full"><!></div> <div class="flex justify-end pt-3 text-sm font-medium"><button class="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full" type="submit"> </button></div></form>');function Fv(wt,q){br(q,!1);const r=()=>la(Be,"$i18n",p),f=()=>la(Jr,"$config",p),[p,Bt]=Nr(),Be=Ar("i18n");let y=oa(q,"saveHandler",8),Ne=k(null),o=k({current:"",latest:""}),d=k(null),S=k(""),A=k([]),C=k(!1),E=k({label:"",host:"",port:"",attribute_for_mail:"mail",attribute_for_username:"uid",app_dn:"",app_dn_password:"",search_base:"",search_filters:"",use_tls:!1,certificate_path:"",ciphers:""});const w=async()=>{c(Ne,null),c(o,await Yi(localStorage.token).catch(me=>({current:ai,latest:ai}))),console.info(e(o)),c(Ne,Ts(e(o).latest,e(o).current)),console.info(e(Ne))},H=async()=>{if(!e(C))return;await $s(localStorage.token,e(E)).catch(V=>(Ee.error(`${V}`),null))&&Ee.success(r().t("LDAP server updated"))},D=async()=>{c(S,await Wi(localStorage.token,e(S)));const me=await ws(localStorage.token,e(d));await Is(localStorage.token,e(C)),await H(),me?y()():Ee.error(r().t("Failed to update settings"))};rl(async()=>{var V,ue;(ue=(V=f())==null?void 0:V.features)!=null&&ue.enable_version_update_check&&w(),await Promise.all([(async()=>{c(d,await hs(localStorage.token))})(),(async()=>{c(S,await Ki(localStorage.token))})(),(async()=>{c(E,await bs(localStorage.token))})(),(async()=>{c(A,await Rs(localStorage.token))})()]);const me=await As(localStorage.token);c(C,me.ENABLE_LDAP)}),Rr();var ee=Wv(),Ae=a(ee),he=a(Ae);{var Se=me=>{var V=Yv(),ue=a(V),U=a(ue),x=a(U,!0);t(U);var M=l(U,4),le=a(M),ne=a(le),ve=a(ne,!0);t(ne),t(le);var N=l(le,2),ge=a(N),qe=a(ge),fe=a(qe);lt(fe,{get content(){return Ns},children:(Ge,pt)=>{Dr();var Ft=cr();u(()=>s(Ft,`v${ai}`)),v(Ge,Ft)},$$slots:{default:!0}});var $=l(fe,2);{var W=Ge=>{var pt=Iv(),Ft=a(pt,!0);t(pt),u(wa=>{T(pt,"href",`https://github.com/open-webui/open-webui/releases/tag/v${e(o),i(()=>e(o).latest)??""}`),s(Ft,wa)},[()=>(e(Ne),r(),e(o),i(()=>e(Ne)===null?r().t("Checking for updates..."):e(Ne)?`(v${e(o).latest} ${r().t("available!")})`:r().t("(latest)")))]),v(Ge,pt)};g($,Ge=>{f(),i(()=>{var pt,Ft;return(Ft=(pt=f())==null?void 0:pt.features)==null?void 0:Ft.enable_version_update_check})&&Ge(W)})}t(qe);var Fe=l(qe,2),gt=a(Fe),Tt=a(gt,!0);t(gt),t(Fe),t(ge);var St=l(ge,2);{var _a=Ge=>{var pt=$v(),Ft=a(pt,!0);t(pt),u(wa=>s(Ft,wa),[()=>(r(),i(()=>r().t("Check for updates")))]),We("click",pt,()=>{w()}),v(Ge,pt)};g(St,Ge=>{f(),i(()=>{var pt,Ft;return(Ft=(pt=f())==null?void 0:pt.features)==null?void 0:Ft.enable_version_update_check})&&Ge(_a)})}t(N),t(M);var Vt=l(M,2),ca=a(Vt),ma=a(ca),qt=a(ma),Qt=a(qt,!0);t(qt);var we=l(qt,2),Ke=a(we,!0);t(we),t(ma);var vt=l(ma,2),_t=a(vt,!0);t(vt),t(ca),Dr(2),t(Vt);var De=l(Vt,2),Ve=a(De),tt=a(Ve),ft=a(tt),Qe=a(ft,!0);t(ft);var Dt=l(ft,2);{var Rt=Ge=>{var pt=Nv(),Ft=O(pt),wa=a(Ft),Oa=a(wa);t(wa);var er=l(wa,2),Ma=a(er,!0);t(er);var Ba=l(er,2),Ta=a(Ba);t(Ba),t(Ft);var Ha=l(Ft,2);{var Nt=Ut=>{var $t=Rv(),ia=a($t);ys(ia,()=>(fr(ci),f(),i(()=>{var zt,Ra;return ci.sanitize((Ra=(zt=f())==null?void 0:zt.license_metadata)==null?void 0:Ra.html)}))),t($t),v(Ut,$t)};g(Ha,Ut=>{f(),i(()=>{var $t,ia;return(ia=($t=f())==null?void 0:$t.license_metadata)==null?void 0:ia.html})&&Ut(Nt)})}u(()=>{s(Oa,`${f(),i(()=>{var Ut,$t;return($t=(Ut=f())==null?void 0:Ut.license_metadata)==null?void 0:$t.type})??""}
											license`),s(Ma,(f(),i(()=>{var Ut,$t;return($t=(Ut=f())==null?void 0:Ut.license_metadata)==null?void 0:$t.organization_name}))),s(Ta,`${f(),i(()=>{var Ut,$t;return(($t=(Ut=f())==null?void 0:Ut.license_metadata)==null?void 0:$t.seats)??"Unlimited"})??""} users.`)}),v(Ge,pt)},Xt=Ge=>{var pt=Tv(),Ft=a(pt),wa=a(Ft,!0);t(Ft),t(pt),u(Oa=>s(wa,Oa),[()=>(r(),i(()=>r().t("Upgrade to a licensed plan for enhanced capabilities, including custom theming and branding, and dedicated support.")))]),v(Ge,pt)};g(Dt,Ge=>{f(),i(()=>{var pt;return(pt=f())==null?void 0:pt.license_metadata})?Ge(Rt):Ge(Xt,!1)})}t(tt),t(Ve),t(De),t(ue);var ct=l(ue,2),aa=a(ct),ha=a(aa,!0);t(aa);var Ya=l(aa,4),na=a(Ya),Kt=a(na,!0);t(na);var kt=l(na,2),va=a(kt);u(()=>{e(d),Pa(()=>{r()})});var Et=a(va),Ue=a(Et,!0);t(Et),Et.value=Et.__value="pending";var Mt=l(Et),Gt=a(Mt,!0);t(Mt),Mt.value=Mt.__value="user";var da=l(Mt),ka=a(da,!0);t(da),da.value=da.__value="admin",t(va),t(kt),t(Ya);var ba=l(Ya,2),Yt=a(ba),Wt=a(Yt,!0);t(Yt);var yt=l(Yt,2),Zt=a(yt);u(()=>{e(d),Pa(()=>{r(),e(A)})});var Ht=a(Zt);Ht.value=Ht.__value="";var Ze=l(Ht);Za(Ze,1,()=>e(A),dr,(Ge,pt)=>{var Ft=Sv(),wa=a(Ft,!0);t(Ft);var Oa={};u(()=>{s(wa,(e(pt),i(()=>e(pt).name))),Oa!==(Oa=(e(pt),i(()=>e(pt).id)))&&(Ft.value=(Ft.__value=(e(pt),i(()=>e(pt).id)))??"")}),v(Ge,Ft)}),t(Zt),t(yt),t(ba);var Q=l(ba,2),at=a(Q),ut=a(at,!0);t(at);var xt=l(at,2);ta(xt,{get state(){return e(d).ENABLE_SIGNUP},set state(Ge){m(d,e(d).ENABLE_SIGNUP=Ge)},$$legacy:!0}),t(Q);var ie=l(Q,2),ce=a(ie),Ce=a(ce,!0);t(ce);var Le=l(ce,2);ta(Le,{get state(){return e(d).SHOW_ADMIN_DETAILS},set state(Ge){m(d,e(d).SHOW_ADMIN_DETAILS=Ge)},$$legacy:!0}),t(ie);var Pe=l(ie,2);{var Me=Ge=>{var pt=kv(),Ft=a(pt),wa=a(Ft),Oa=a(wa,!0);t(wa),t(Ft);var er=l(Ft,2),Ma=a(er);J(Ma),t(er),t(pt),u((Ba,Ta)=>{s(Oa,Ba),T(Ma,"placeholder",Ta)},[()=>(r(),i(()=>r().t("Admin Contact Email"))),()=>(r(),i(()=>r().t("Leave empty to use first admin user")))]),X(Ma,()=>e(d).ADMIN_EMAIL,Ba=>m(d,e(d).ADMIN_EMAIL=Ba)),v(Ge,pt)};g(Pe,Ge=>{e(d),i(()=>e(d).SHOW_ADMIN_DETAILS)&&Ge(Me)})}var Te=l(Pe,2),He=a(Te),P=a(He,!0);t(He);var j=l(He,2);{let Ge=R(()=>(r(),i(()=>r().t("Enter a title for the pending user info overlay. Leave empty for default."))));Zr(j,{get placeholder(){return e(Ge)},get value(){return e(d).PENDING_USER_OVERLAY_TITLE},set value(pt){m(d,e(d).PENDING_USER_OVERLAY_TITLE=pt)},$$legacy:!0})}t(Te);var de=l(Te,2),je=a(de),ke=a(je,!0);t(je);var Oe=l(je,2);{let Ge=R(()=>(r(),i(()=>r().t("Enter content for the pending user info overlay. Leave empty for default."))));Zr(Oe,{get placeholder(){return e(Ge)},get value(){return e(d).PENDING_USER_OVERLAY_CONTENT},set value(pt){m(d,e(d).PENDING_USER_OVERLAY_CONTENT=pt)},$$legacy:!0})}t(de);var G=l(de,2),Z=a(G),pe=a(Z,!0);t(Z);var oe=l(Z,2);ta(oe,{get state(){return e(d).ENABLE_API_KEYS},set state(Ge){m(d,e(d).ENABLE_API_KEYS=Ge)},$$legacy:!0}),t(G);var ae=l(G,2);{var b=Ge=>{var pt=Lv(),Ft=O(pt),wa=a(Ft),Oa=a(wa,!0);t(wa);var er=l(wa,2);ta(er,{get state(){return e(d).ENABLE_API_KEYS_ENDPOINT_RESTRICTIONS},set state(Ta){m(d,e(d).ENABLE_API_KEYS_ENDPOINT_RESTRICTIONS=Ta)},$$legacy:!0}),t(Ft);var Ma=l(Ft,2);{var Ba=Ta=>{var Ha=Ov(),Nt=a(Ha),Ut=a(Nt,!0);t(Nt);var $t=l(Nt,2);J($t),T($t,"placeholder","e.g.) /api/v1/messages, /api/v1/channels");var ia=l($t,2),zt=a(ia),Ra=a(zt,!0);t(zt),t(ia),t(Ha),u((Pt,Ia)=>{s(Ut,Pt),s(Ra,Ia)},[()=>(r(),i(()=>r().t("Allowed Endpoints"))),()=>(r(),i(()=>r().t("To learn more about available endpoints, visit our documentation.")))]),X($t,()=>e(d).API_KEYS_ALLOWED_ENDPOINTS,Pt=>m(d,e(d).API_KEYS_ALLOWED_ENDPOINTS=Pt)),v(Ta,Ha)};g(Ma,Ta=>{e(d),i(()=>{var Ha;return(Ha=e(d))==null?void 0:Ha.ENABLE_API_KEYS_ENDPOINT_RESTRICTIONS})&&Ta(Ba)})}u(Ta=>s(Oa,Ta),[()=>(r(),i(()=>r().t("API Key Endpoint Restrictions")))]),v(Ge,pt)};g(ae,Ge=>{e(d),i(()=>{var pt;return(pt=e(d))==null?void 0:pt.ENABLE_API_KEYS})&&Ge(b)})}var K=l(ae,2),L=a(K),_e=a(L),Ie=a(_e,!0);t(_e),t(L);var re=l(L,2),h=a(re);J(h),T(h,"placeholder",'e.g.) "30m","1h", "10d". '),t(re);var I=l(re,2),F=a(I),$e=l(F),se=a($e,!0);t($e),t(I);var Y=l(I,2);{var st=Ge=>{var pt=Pv(),Ft=a(pt),wa=a(Ft),Oa=a(wa),er=a(Oa);t(Oa);var Ma=l(Oa,2),Ba=a(Ma),Ta=a(Ba,!0);t(Ba),t(Ma),t(wa),t(Ft),t(pt),u((Ha,Nt)=>{s(er,`${Ha??""}:`),s(Ta,Nt)},[()=>(r(),i(()=>r().t("Warning"))),()=>(r(),i(()=>r().t("No expiration can pose security risks.")))]),v(Ge,pt)};g(Y,Ge=>{e(d),i(()=>e(d).JWT_EXPIRES_IN==="-1")&&Ge(st)})}t(K);var Ye=l(K,2),Re=a(Ye),xe=a(Re),rt=a(xe),Lt=a(rt,!0);t(rt);var ht=l(rt,2),bt=a(ht);ta(bt,{get state(){return e(C)},set state(Ge){c(C,Ge)},$$legacy:!0}),t(ht),t(xe);var be=l(xe,2);{var z=Ge=>{var pt=jv(),Ft=a(pt),wa=a(Ft),Oa=a(wa),er=a(Oa,!0);t(Oa);var Ma=l(Oa,2);J(Ma),t(wa),Dr(2),t(Ft);var Ba=l(Ft,2),Ta=a(Ba),Ha=a(Ta),Nt=a(Ha,!0);t(Ha);var Ut=l(Ha,2);J(Ut),t(Ta);var $t=l(Ta,2),ia=a($t),zt=a(ia,!0);t(ia);var Ra=l(ia,2);{let Ca=R(()=>(r(),i(()=>r().t("Default to 389 or 636 if TLS is enabled"))));lt(Ra,{placement:"top-start",get content(){return e(Ca)},className:"w-full",children:(Pr,Xr)=>{var ar=Mv();J(ar),u(vr=>T(ar,"placeholder",vr),[()=>(r(),i(()=>r().t("Enter server port")))]),X(ar,()=>e(E).port,vr=>m(E,e(E).port=vr)),v(Pr,ar)},$$slots:{default:!0}})}t($t),t(Ba);var Pt=l(Ba,2),Ia=a(Pt),tr=a(Ia),ja=a(tr,!0);t(tr);var At=l(tr,2);{let Ca=R(()=>(r(),i(()=>r().t("The Application Account DN you bind with for search"))));lt(At,{get content(){return e(Ca)},placement:"top-start",children:(Pr,Xr)=>{var ar=Cv();J(ar),u(vr=>T(ar,"placeholder",vr),[()=>(r(),i(()=>r().t("Enter Application DN")))]),X(ar,()=>e(E).app_dn,vr=>m(E,e(E).app_dn=vr)),v(Pr,ar)},$$slots:{default:!0}})}t(Ia);var pa=l(Ia,2),La=a(pa),ra=a(La,!0);t(La);var Sa=l(La,2);{let Ca=R(()=>(r(),i(()=>r().t("Enter Application DN Password"))));sa(Sa,{get placeholder(){return e(Ca)},get value(){return e(E).app_dn_password},set value(Pr){m(E,e(E).app_dn_password=Pr)},$$legacy:!0})}t(pa),t(Pt);var $r=l(Pt,2),jr=a($r),Fr=a(jr),_l=a(Fr,!0);t(Fr);var ol=l(Fr,2);{let Ca=R(()=>(r(),i(()=>r().t("The LDAP attribute that maps to the mail that users use to sign in."))));lt(ol,{get content(){return e(Ca)},placement:"top-start",children:(Pr,Xr)=>{var ar=Uv();J(ar),u(vr=>T(ar,"placeholder",vr),[()=>(r(),i(()=>r().t("Example: mail")))]),X(ar,()=>e(E).attribute_for_mail,vr=>m(E,e(E).attribute_for_mail=vr)),v(Pr,ar)},$$slots:{default:!0}})}t(jr),t($r);var xr=l($r,2),Er=a(xr),kr=a(Er),el=a(kr,!0);t(kr);var sl=l(kr,2);{let Ca=R(()=>(r(),i(()=>r().t("The LDAP attribute that maps to the username that users use to sign in."))));lt(sl,{get content(){return e(Ca)},placement:"top-start",children:(Pr,Xr)=>{var ar=Dv();J(ar),u(vr=>T(ar,"placeholder",vr),[()=>(r(),i(()=>r().t("Example: sAMAccountName or uid or userPrincipalName")))]),X(ar,()=>e(E).attribute_for_username,vr=>m(E,e(E).attribute_for_username=vr)),v(Pr,ar)},$$slots:{default:!0}})}t(Er),t(xr);var Cr=l(xr,2),Or=a(Cr),Kr=a(Or),Vr=a(Kr,!0);t(Kr);var Yr=l(Kr,2);{let Ca=R(()=>(r(),i(()=>r().t("The base to search for users"))));lt(Yr,{get content(){return e(Ca)},placement:"top-start",children:(Pr,Xr)=>{var ar=Gv();J(ar),u(vr=>T(ar,"placeholder",vr),[()=>(r(),i(()=>r().t("Example: ou=users,dc=foo,dc=example")))]),X(ar,()=>e(E).search_base,vr=>m(E,e(E).search_base=vr)),v(Pr,ar)},$$slots:{default:!0}})}t(Or),t(Cr);var vl=l(Cr,2),tl=a(vl),ll=a(tl),nl=a(ll,!0);t(ll);var fl=l(ll,2);J(fl),t(tl),t(vl);var Ur=l(vl,2),zr=a(Ur),dl=a(zr,!0);t(zr),t(Ur);var ul=l(Ur,2),wl=a(ul),El=a(wl),zl=a(El,!0);t(El);var kl=l(El,2),Dl=a(kl);ta(Dl,{get state(){return e(E).use_tls},set state(Ca){m(E,e(E).use_tls=Ca)},$$legacy:!0}),t(kl),t(wl);var Gl=l(wl,2);{var Ol=Ca=>{var Pr=Hv(),Xr=O(Pr),ar=a(Xr),vr=a(ar),yl=a(vr,!0);t(vr);var hl=l(vr,2);J(hl),t(ar),t(Xr);var Ll=l(Xr,2),Pl=a(Ll),Xl=a(Pl,!0);t(Pl);var Bl=l(Pl,2),Jl=a(Bl);ta(Jl,{get state(){return e(E).validate_cert},set state(bl){m(E,e(E).validate_cert=bl)},$$legacy:!0}),t(Bl),t(Ll);var Hl=l(Ll,2),jl=a(Hl),ql=a(jl),Pi=a(ql,!0);t(ql);var Mi=l(ql,2);{let bl=R(()=>(r(),i(()=>r().t("Default to ALL"))));lt(Mi,{get content(){return e(bl)},placement:"top-start",children:(Ql,oi)=>{var Il=Bv();J(Il),u(ei=>T(Il,"placeholder",ei),[()=>(r(),i(()=>r().t("Example: ALL")))]),X(Il,()=>e(E).ciphers,ei=>m(E,e(E).ciphers=ei)),v(Ql,Il)},$$slots:{default:!0}})}t(jl),Dr(2),t(Hl),u((bl,Ql,oi,Il)=>{s(yl,bl),T(hl,"placeholder",Ql),s(Xl,oi),s(Pi,Il)},[()=>(r(),i(()=>r().t("Certificate Path"))),()=>(r(),i(()=>r().t("Enter certificate path"))),()=>(r(),i(()=>r().t("Validate certificate"))),()=>(r(),i(()=>r().t("Ciphers")))]),X(hl,()=>e(E).certificate_path,bl=>m(E,e(E).certificate_path=bl)),v(Ca,Pr)};g(Gl,Ca=>{e(E),i(()=>e(E).use_tls)&&Ca(Ol)})}t(ul),t(pt),u((Ca,Pr,Xr,ar,vr,yl,hl,Ll,Pl,Xl,Bl,Jl,Hl,jl)=>{s(er,Ca),T(Ma,"placeholder",Pr),s(Nt,Xr),T(Ut,"placeholder",ar),s(zt,vr),s(ja,yl),s(ra,hl),s(_l,Ll),s(el,Pl),s(Vr,Xl),s(nl,Bl),T(fl,"placeholder",Jl),s(dl,Hl),s(zl,jl)},[()=>(r(),i(()=>r().t("Label"))),()=>(r(),i(()=>r().t("Enter server label"))),()=>(r(),i(()=>r().t("Host"))),()=>(r(),i(()=>r().t("Enter server host"))),()=>(r(),i(()=>r().t("Port"))),()=>(r(),i(()=>r().t("Application DN"))),()=>(r(),i(()=>r().t("Application DN Password"))),()=>(r(),i(()=>r().t("Attribute for Mail"))),()=>(r(),i(()=>r().t("Attribute for Username"))),()=>(r(),i(()=>r().t("Search Base"))),()=>(r(),i(()=>r().t("Search Filters"))),()=>(r(),i(()=>r().t("Example: (&(objectClass=inetOrgPerson)(uid=%s))"))),()=>(r(),i(()=>r().t("Click here for filter guides."))),()=>(r(),i(()=>r().t("TLS")))]),X(Ma,()=>e(E).label,Ca=>m(E,e(E).label=Ca)),X(Ut,()=>e(E).host,Ca=>m(E,e(E).host=Ca)),X(fl,()=>e(E).search_filters,Ca=>m(E,e(E).search_filters=Ca)),v(Ge,pt)};g(be,Ge=>{e(C)&&Ge(z)})}t(Re),t(Ye),t(ct);var ye=l(ct,2),dt=a(ye),it=a(dt,!0);t(dt);var ze=l(dt,4),Xe=a(ze),mt=a(Xe,!0);t(Xe);var jt=l(Xe,2);ta(jt,{get state(){return e(d).ENABLE_COMMUNITY_SHARING},set state(Ge){m(d,e(d).ENABLE_COMMUNITY_SHARING=Ge)},$$legacy:!0}),t(ze);var Ot=l(ze,2),ua=a(Ot),ea=a(ua,!0);t(ua);var ga=l(ua,2);ta(ga,{get state(){return e(d).ENABLE_MESSAGE_RATING},set state(Ge){m(d,e(d).ENABLE_MESSAGE_RATING=Ge)},$$legacy:!0}),t(Ot);var $a=l(Ot,2),Je=a($a),ot=a(Je,!0);t(Je);var Ct=l(Je,2);ta(Ct,{get state(){return e(d).ENABLE_FOLDERS},set state(Ge){m(d,e(d).ENABLE_FOLDERS=Ge)},$$legacy:!0}),t($a);var nt=l($a,2);{var It=Ge=>{var pt=Kv(),Ft=a(pt),wa=a(Ft),Oa=a(wa,!0);t(wa),t(Ft);var er=l(Ft,2),Ma=a(er);J(Ma),t(er);var Ba=l(er,2),Ta=a(Ba,!0);t(Ba),t(pt),u((Ha,Nt,Ut)=>{s(Oa,Ha),T(Ma,"placeholder",Nt),s(Ta,Ut)},[()=>(r(),i(()=>r().t("Folder Max File Count"))),()=>(r(),i(()=>r().t("Leave empty for unlimited"))),()=>(r(),i(()=>r().t("Maximum number of files allowed per folder.")))]),X(Ma,()=>e(d).FOLDER_MAX_FILE_COUNT,Ha=>m(d,e(d).FOLDER_MAX_FILE_COUNT=Ha)),v(Ge,pt)};g(nt,Ge=>{e(d),i(()=>e(d).ENABLE_FOLDERS)&&Ge(It)})}var Jt=l(nt,2),ya=a(Jt),Na=a(ya);t(ya);var ur=l(ya,2);ta(ur,{get state(){return e(d).ENABLE_NOTES},set state(Ge){m(d,e(d).ENABLE_NOTES=Ge)},$$legacy:!0}),t(Jt);var qa=l(Jt,2),Ua=a(qa),fa=a(Ua);t(Ua);var za=l(Ua,2);ta(za,{get state(){return e(d).ENABLE_CHANNELS},set state(Ge){m(d,e(d).ENABLE_CHANNELS=Ge)},$$legacy:!0}),t(qa);var nr=l(qa,2),yr=a(nr),rr=a(yr);t(yr);var Da=l(yr,2);ta(Da,{get state(){return e(d).ENABLE_MEMORIES},set state(Ge){m(d,e(d).ENABLE_MEMORIES=Ge)},$$legacy:!0}),t(nr);var Ka=l(nr,2),Ir=a(Ka),Hr=a(Ir,!0);t(Ir);var Tr=l(Ir,2);ta(Tr,{get state(){return e(d).ENABLE_USER_WEBHOOKS},set state(Ge){m(d,e(d).ENABLE_USER_WEBHOOKS=Ge)},$$legacy:!0}),t(Ka);var hr=l(Ka,2),ir=a(hr),pr=a(ir,!0);t(ir);var Gr=l(ir,2);ta(Gr,{get state(){return e(d).ENABLE_USER_STATUS},set state(Ge){m(d,e(d).ENABLE_USER_STATUS=Ge)},$$legacy:!0}),t(hr);var Xa=l(hr,2),Qa=a(Xa),Wa=a(Qa,!0);t(Qa);var _r=l(Qa,2);{let Ge=R(()=>(r(),i(()=>r().t("Enter a watermark for the response. Leave empty for none."))));Zr(_r,{get placeholder(){return e(Ge)},get value(){return e(d).RESPONSE_WATERMARK},set value(pt){m(d,e(d).RESPONSE_WATERMARK=pt)},$$legacy:!0})}t(Xa);var Sr=l(Xa,2),xa=a(Sr),Ea=a(xa),Aa=a(Ea,!0);t(Ea),t(xa);var Fa=l(xa,2),Ga=a(Fa);J(Ga),T(Ga,"placeholder",'e.g.) "http://localhost:3000"'),t(Fa);var sr=l(Fa,2),lr=a(sr,!0);t(sr),t(Sr);var Ja=l(Sr,2),Va=a(Ja),Br=a(Va),Mr=a(Br,!0);t(Br),t(Va);var mr=l(Va,2),gr=a(mr);J(gr),T(gr,"placeholder","https://example.com/webhook"),t(mr),t(Ja),t(ye),t(V),u((Ge,pt,Ft,wa,Oa,er,Ma,Ba,Ta,Ha,Nt,Ut,$t,ia,zt,Ra,Pt,Ia,tr,ja,At,pa,La,ra,Sa,$r,jr,Fr,_l,ol,xr,Er,kr,el,sl,Cr,Or,Kr,Vr,Yr)=>{s(x,Ge),s(ve,pt),s(Tt,Ft),s(Qt,wa),s(Ke,Oa),s(_t,er),s(Qe,Ma),s(ha,Ba),s(Kt,Ta),T(va,"placeholder",Ha),s(Ue,Nt),s(Gt,Ut),s(ka,$t),s(Wt,ia),T(Zt,"placeholder",zt),s(ut,Ra),s(Ce,Pt),s(P,Ia),s(ke,tr),s(pe,ja),s(Ie,At),s(F,`${pa??""} `),s(se,La),s(Lt,ra),s(it,Sa),s(mt,$r),s(ea,jr),s(ot,Fr),s(Na,`${_l??""} (${ol??""})`),s(fa,`${xr??""} (${Er??""})`),s(rr,`${kr??""} (${el??""})`),s(Hr,sl),s(pr,Cr),s(Wa,Or),s(Aa,Kr),s(lr,Vr),s(Mr,Yr)},[()=>(r(),i(()=>r().t("General"))),()=>(r(),i(()=>r().t("Version"))),()=>(r(),i(()=>r().t("See what's new"))),()=>(r(),i(()=>r().t("Help"))),()=>(r(),i(()=>r().t("Discover how to use Open WebUI and seek support from the community."))),()=>(r(),i(()=>r().t("Documentation"))),()=>(r(),i(()=>r().t("License"))),()=>(r(),i(()=>r().t("Authentication"))),()=>(r(),i(()=>r().t("Default User Role"))),()=>(r(),i(()=>r().t("Select a role"))),()=>(r(),i(()=>r().t("pending"))),()=>(r(),i(()=>r().t("user"))),()=>(r(),i(()=>r().t("admin"))),()=>(r(),i(()=>r().t("Default Group"))),()=>(r(),i(()=>r().t("Select a group"))),()=>(r(),i(()=>r().t("Enable New Sign Ups"))),()=>(r(),i(()=>r().t("Show Admin Details in Account Pending Overlay"))),()=>(r(),i(()=>r().t("Pending User Overlay Title"))),()=>(r(),i(()=>r().t("Pending User Overlay Content"))),()=>(r(),i(()=>r().t("Enable API Keys"))),()=>(r(),i(()=>r().t("JWT Expiration"))),()=>(r(),i(()=>r().t("Valid time units:"))),()=>(r(),i(()=>r().t("'s', 'm', 'h', 'd', 'w' or '-1' for no expiration."))),()=>(r(),i(()=>r().t("LDAP"))),()=>(r(),i(()=>r().t("Features"))),()=>(r(),i(()=>r().t("Enable Community Sharing"))),()=>(r(),i(()=>r().t("Enable Message Rating"))),()=>(r(),i(()=>r().t("Folders"))),()=>(r(),i(()=>r().t("Notes"))),()=>(r(),i(()=>r().t("Beta"))),()=>(r(),i(()=>r().t("Channels"))),()=>(r(),i(()=>r().t("Beta"))),()=>(r(),i(()=>r().t("Memories"))),()=>(r(),i(()=>r().t("Beta"))),()=>(r(),i(()=>r().t("User Webhooks"))),()=>(r(),i(()=>r().t("User Status"))),()=>(r(),i(()=>r().t("Response Watermark"))),()=>(r(),i(()=>r().t("WebUI URL"))),()=>(r(),i(()=>r().t("Enter the public URL of your WebUI. This URL will be used to generate links in the notifications."))),()=>(r(),i(()=>r().t("Webhook URL")))]),We("click",Fe,()=>{Hi.set(!0)}),or(va,()=>e(d).DEFAULT_USER_ROLE,Ge=>m(d,e(d).DEFAULT_USER_ROLE=Ge)),or(Zt,()=>e(d).DEFAULT_GROUP_ID,Ge=>m(d,e(d).DEFAULT_GROUP_ID=Ge)),X(h,()=>e(d).JWT_EXPIRES_IN,Ge=>m(d,e(d).JWT_EXPIRES_IN=Ge)),X(Ga,()=>e(d).WEBUI_URL,Ge=>m(d,e(d).WEBUI_URL=Ge)),X(gr,()=>e(S),Ge=>c(S,Ge)),v(me,V)};g(he,me=>{e(d)!==null&&me(Se)})}t(Ae);var n=l(Ae,2),te=a(n),B=a(te,!0);t(te),t(n),t(ee),u(me=>s(B,me),[()=>(r(),i(()=>r().t("Save")))]),We("submit",ee,il(async()=>{D()})),v(wt,ee),wr(),Bt()}var Vv=_('<option class="bg-gray-100 dark:bg-gray-700"> </option>'),Zv=_(`<div class="self-center"><svg class=" w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}

											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg></div>`),zv=Lr('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="size-4"><path d="M7.25 10.25a.75.75 0 0 0 1.5 0V4.56l2.22 2.22a.75.75 0 1 0 1.06-1.06l-3.5-3.5a.75.75 0 0 0-1.06 0l-3.5 3.5a.75.75 0 0 0 1.06 1.06l2.22-2.22v5.69Z"></path><path d="M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"></path></svg>'),Xv=_(`<div class="self-center"><svg class=" w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}

											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg></div>`),Jv=Lr('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"></path><path d="M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"></path></svg>'),qv=_('<option class="bg-gray-100 dark:bg-gray-700"> </option>'),Qv=_('<div class="flex gap-2"><div class="flex-1"><select class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"></select></div> <button class="px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition" type="button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M5 3.25V4H2.75a.75.75 0 0 0 0 1.5h.3l.815 8.15A1.5 1.5 0 0 0 5.357 15h5.285a1.5 1.5 0 0 0 1.493-1.35l.815-8.15h.3a.75.75 0 0 0 0-1.5H11v-.75A2.25 2.25 0 0 0 8.75 1h-1.5A2.25 2.25 0 0 0 5 3.25Zm2.25-.75a.75.75 0 0 0-.75.75V4h3v-.75a.75.75 0 0 0-.75-.75h-1.5ZM6.05 6a.75.75 0 0 1 .787.713l.275 5.5a.75.75 0 0 1-1.498.075l-.275-5.5A.75.75 0 0 1 6.05 6Zm3.9 0a.75.75 0 0 1 .712.787l-.275 5.5a.75.75 0 0 1-1.498-.075l.275-5.5a.75.75 0 0 1 .786-.711Z" clip-rule="evenodd"></path></svg></button></div>'),ed=_('<span class="ml-2 self-center"> </span>'),td=_('<span class="ml-2 self-center"> </span>'),ad=_("<option> </option>"),rd=_('<select class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"></select>'),ld=_('<div class="flex justify-between items-center"><div class="text-xs text-gray-500"> </div> <div class=" pr-2"><!></div></div>'),id=_('<input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden" type="text" autocomplete="off" required/>'),sd=_('<div class="flex mt-0.5 mb-1.5 space-x-2"><div class=" flex-1"><!></div></div>'),vd=_('<div class=" py-0.5 w-full justify-between"><div class="flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div> <button class="p-1 px-3 text-xs flex rounded-sm transition" type="button"><!></button></div> <!></div>'),dd=_("<div> </div>"),od=_('<div class="flex w-full justify-between mb-2"><div class=" self-center text-sm font-medium"> </div></div> <div class="space-y-1"><!> <div class="space-y-1"><!></div></div>',1),nd=_("<div> </div>"),cd=_('<div class="flex justify-center"><div class="my-auto"><!></div></div>'),ud=_('<div class="space-y-1"><div class="flex gap-2"><div class="flex-1"><select class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"><option selected disabled class="bg-gray-100 dark:bg-gray-700"> </option><!></select></div></div></div> <div class=" my-2"><div class=" mb-2 text-sm font-medium"> </div> <div class="flex w-full"><div class="flex-1 mr-2"><input id="pipelines-upload-input" type="file" accept=".py" hidden=""/> <button class="w-full text-sm font-medium py-2 bg-transparent hover:bg-gray-100 border border-dashed dark:border-gray-850 dark:hover:bg-gray-850 text-center rounded-xl" type="button"><!></button></div> <button class="px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition" type="button"><!></button></div></div> <div class=" my-2"><div class=" mb-2 text-sm font-medium"> </div> <div class="flex w-full"><div class="flex-1 mr-2"><input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"/></div> <button class="px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition" type="button"><!></button></div> <div class="mt-2 text-xs text-gray-500"><span class=" font-medium dark:text-gray-200"> </span> <span class=" font-medium dark:text-gray-400"> </span></div></div> <hr class="border-gray-100/30 dark:border-gray-850/30 my-3 w-full"/> <!>',1),_d=_("<div> </div>"),fd=_('<div class="flex w-full justify-between mb-2"><div class=" self-center text-sm font-medium"> </div></div> <!>',1),pd=_('<div class="flex justify-center h-full"><div class="my-auto"><!></div></div>'),md=_('<div class="flex justify-end pt-3 text-sm font-medium"><button class="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full" type="submit"> </button></div>'),gd=_('<form class="flex flex-col h-full justify-between space-y-3 text-sm"><div class="overflow-y-scroll scrollbar-hidden h-full"><!></div> <!></form>');function xd(wt,q){br(q,!1);const r=()=>la(y,"$i18n",Bt),f=()=>la(Jr,"$config",Bt),p=()=>la(xl,"$settings",Bt),[Bt,Be]=Nr(),y=Ar("i18n");let Ne=oa(q,"saveHandler",8),o=k(!1),d=k(!1),S=k(),A=k(null),C=k(""),E=k(null),w=k(null),H=k(null),D=k(null),ee=k("");const Ae=async()=>{var ve,N,ge,qe;const ne=e(E)[e(D)];if(ne&&((ne==null?void 0:ne.valves)??!1)){for(const $ in e(H).properties)((ve=e(H).properties[$])==null?void 0:ve.type)==="array"&&m(w,e(w)[$]=(e(w)[$]??"").split(",").map(W=>W.trim()));await Vi(localStorage.token,ne.id,e(w),e(C)).catch($=>{Ee.error(`${$}`)})&&(Ee.success(r().t("Valves updated successfully")),Se(),Wr.set(await al(localStorage.token,((ge=(N=f())==null?void 0:N.features)==null?void 0:ge.enable_direct_connections)&&(((qe=p())==null?void 0:qe.directConnections)??null))),Ne()())}else Ee.error(r().t("No valves to update"))},he=async ne=>{var ve;c(w,null),c(H,null),c(H,await zi(localStorage.token,e(E)[ne].id,e(C))),c(w,await Xi(localStorage.token,e(E)[ne].id,e(C)));for(const N in e(H).properties)((ve=e(H).properties[N])==null?void 0:ve.type)==="array"&&m(w,e(w)[N]=e(w)[N].join(","))},Se=async()=>{c(E,null),c(w,null),c(H,null),e(A).length>0?(e(C),c(E,await Zi(localStorage.token,e(C))),e(E).length>0&&(c(D,0),await he(e(D)))):c(E,[])},n=async()=>{var ve,N,ge;c(o,!0),await qi(localStorage.token,e(ee),e(C)).catch(qe=>(Ee.error(`${qe}`),null))&&(Ee.success(r().t("Pipeline downloaded successfully")),Se(),Wr.set(await al(localStorage.token,((N=(ve=f())==null?void 0:ve.features)==null?void 0:N.enable_direct_connections)&&(((ge=p())==null?void 0:ge.directConnections)??null)))),c(o,!1)},te=async()=>{var ve,N,ge;if(c(d,!0),e(S)&&e(S).length!==0){const qe=e(S)[0];await Ji(localStorage.token,qe,e(C)).catch($=>(Ee.error(r().t("Something went wrong :/")),null))&&(Ee.success(r().t("Pipeline downloaded successfully")),Se(),Wr.set(await al(localStorage.token,((N=(ve=f())==null?void 0:ve.features)==null?void 0:N.enable_direct_connections)&&(((ge=p())==null?void 0:ge.directConnections)??null))))}else Ee.error(r().t("No file selected"));c(S,null);const ne=document.getElementById("pipelines-upload-input");ne&&(ne.value=null),c(d,!1)},B=async()=>{var ve,N,ge;await Qi(localStorage.token,e(E)[e(D)].id,e(C)).catch(qe=>(Ee.error(`${qe}`),null))&&(Ee.success(r().t("Pipeline deleted successfully")),Se(),Wr.set(await al(localStorage.token,((N=(ve=f())==null?void 0:ve.features)==null?void 0:N.enable_direct_connections)&&(((ge=p())==null?void 0:ge.directConnections)??null))))};rl(async()=>{c(A,await Fi(localStorage.token)),e(A),e(A).length>0&&c(C,e(A)[0].idx.toString()),await Se()}),Rr();var me=gd(),V=a(me),ue=a(V);{var U=ne=>{var ve=fd(),N=O(ve),ge=a(N),qe=a(ge,!0);t(ge),t(N);var fe=l(N,2);{var $=Fe=>{var gt=ud(),Tt=O(gt),St=a(Tt),_a=a(St),Vt=a(_a);u(()=>{e(C),Pa(()=>{r(),e(A)})});var ca=a(Vt),ma=a(ca,!0);t(ca),ca.value=ca.__value="";var qt=l(ca);Za(qt,1,()=>e(A),dr,(Ze,Q,at,ut)=>{var xt=Vv(),ie=a(xt,!0);t(xt);var ce={};u(Ce=>{s(ie,(e(Q),i(()=>e(Q).url))),ce!==(ce=Ce)&&(xt.value=(xt.__value=Ce)??"")},[()=>(e(Q),i(()=>e(Q).idx.toString()))]),v(Ze,xt)}),t(Vt),t(_a),t(St),t(Tt);var Qt=l(Tt,2),we=a(Qt),Ke=a(we,!0);t(we);var vt=l(we,2),_t=a(vt),De=a(_t),Ve=l(De,2),tt=a(Ve);{var ft=Ze=>{var Q=cr();u(()=>s(Q,`${e(S),i(()=>e(S).length>0?`${e(S).length}`:"")??""} pipeline(s) selected.`)),v(Ze,Q)},Qe=Ze=>{var Q=cr();u(at=>s(Q,at),[()=>(r(),i(()=>r().t("Click here to select a py file.")))]),v(Ze,Q)};g(tt,Ze=>{e(S)?Ze(ft):Ze(Qe,!1)})}t(Ve),t(_t);var Dt=l(_t,2),Rt=a(Dt);{var Xt=Ze=>{var Q=Zv();v(Ze,Q)},ct=Ze=>{var Q=zv();v(Ze,Q)};g(Rt,Ze=>{e(d)?Ze(Xt):Ze(ct,!1)})}t(Dt),t(vt),t(Qt);var aa=l(Qt,2),ha=a(aa),Ya=a(ha,!0);t(ha);var na=l(ha,2),Kt=a(na),kt=a(Kt);J(kt),t(Kt);var va=l(Kt,2),Et=a(va);{var Ue=Ze=>{var Q=Xv();v(Ze,Q)},Mt=Ze=>{var Q=Jv();v(Ze,Q)};g(Et,Ze=>{e(o)?Ze(Ue):Ze(Mt,!1)})}t(va),t(na);var Gt=l(na,2),da=a(Gt),ka=a(da,!0);t(da);var ba=l(da),Yt=l(ba),Wt=a(Yt,!0);t(Yt),t(Gt),t(aa);var yt=l(aa,4);{var Zt=Ze=>{var Q=et(),at=O(Q);{var ut=ie=>{var ce=od(),Ce=O(ce),Le=a(Ce),Pe=a(Le,!0);t(Le),t(Ce);var Me=l(Ce,2),Te=a(Me);{var He=ke=>{var Oe=Qv(),G=a(Oe),Z=a(G);u(()=>{e(D),Pa(()=>{r(),e(E)})}),Za(Z,5,()=>e(E),dr,(oe,ae,b)=>{var K=qv(),L=a(K);t(K),K.value=K.__value=b,u(()=>s(L,`${e(ae),i(()=>e(ae).name)??""} (${e(ae),i(()=>e(ae).type??"pipe")??""})`)),v(oe,K)}),t(Z),t(G);var pe=l(G,2);t(Oe),u(oe=>T(Z,"placeholder",oe),[()=>(r(),i(()=>r().t("Select a pipeline")))]),or(Z,()=>e(D),oe=>c(D,oe)),We("change",Z,async()=>{await Rl(),await he(e(D))}),We("click",pe,()=>{B()}),v(ke,Oe)};g(Te,ke=>{e(E),i(()=>e(E).length>0)&&ke(He)})}var P=l(Te,2),j=a(P);{var de=ke=>{var Oe=et(),G=O(Oe);{var Z=oe=>{var ae=et(),b=O(ae);Za(b,1,()=>(e(H),i(()=>Object.keys(e(H).properties))),dr,(K,L)=>{var _e=vd(),Ie=a(_e),re=a(Ie),h=a(re,!0);t(re);var I=l(re,2),F=a(I);{var $e=Ye=>{var Re=ed(),xe=a(Re,!0);t(Re),u(rt=>s(xe,rt),[()=>(r(),i(()=>r().t("None")))]),v(Ye,Re)},se=Ye=>{var Re=td(),xe=a(Re,!0);t(Re),u(rt=>s(xe,rt),[()=>(r(),i(()=>r().t("Custom")))]),v(Ye,Re)};g(F,Ye=>{e(w),e(L),i(()=>(e(w)[e(L)]??null)===null)?Ye($e):Ye(se,!1)})}t(I),t(Ie);var Y=l(Ie,2);{var st=Ye=>{var Re=sd(),xe=a(Re),rt=a(xe);{var Lt=bt=>{var be=rd();u(()=>{e(w),Pa(()=>{e(L),e(H)})}),Za(be,5,()=>(e(H),e(L),i(()=>e(H).properties[e(L)].enum)),dr,(z,ye)=>{var dt=ad(),it=a(dt,!0);t(dt);var ze={};u(()=>{li(dt,(e(ye),e(w),e(L),i(()=>e(ye)===e(w)[e(L)]))),s(it,e(ye)),ze!==(ze=e(ye))&&(dt.value=(dt.__value=e(ye))??"")}),v(z,dt)}),t(be),or(be,()=>e(w)[e(L)],z=>m(w,e(w)[e(L)]=z)),v(bt,be)},ht=bt=>{var be=et(),z=O(be);{var ye=it=>{var ze=ld(),Xe=a(ze),mt=a(Xe,!0);t(Xe);var jt=l(Xe,2),Ot=a(jt);ta(Ot,{get state(){return e(w)[e(L)]},set state(ua){m(w,e(w)[e(L)]=ua)},$$legacy:!0}),t(jt),t(ze),u(ua=>s(mt,ua),[()=>(e(w),e(L),r(),i(()=>e(w)[e(L)]?r().t("Enabled"):r().t("Disabled")))]),v(it,ze)},dt=it=>{var ze=id();J(ze),u(()=>T(ze,"placeholder",(e(H),e(L),i(()=>e(H).properties[e(L)].title)))),X(ze,()=>e(w)[e(L)],Xe=>m(w,e(w)[e(L)]=Xe)),v(it,ze)};g(z,it=>{e(H),e(L),i(()=>{var ze;return(((ze=e(H).properties[e(L)])==null?void 0:ze.type)??null)==="boolean"})?it(ye):it(dt,!1)},!0)}v(bt,be)};g(rt,bt=>{e(H),e(L),i(()=>{var be;return((be=e(H).properties[e(L)])==null?void 0:be.enum)??null})?bt(Lt):bt(ht,!1)})}t(xe),t(Re),v(Ye,Re)};g(Y,Ye=>{e(w),e(L),i(()=>(e(w)[e(L)]??null)!==null)&&Ye(st)})}t(_e),u(()=>s(h,(e(H),e(L),i(()=>e(H).properties[e(L)].title)))),We("click",I,()=>{m(w,e(w)[e(L)]=(e(w)[e(L)]??null)===null?"":null)}),v(K,_e)}),v(oe,ae)},pe=oe=>{Qr(oe,{className:"size-5"})};g(G,oe=>{e(w)?oe(Z):oe(pe,!1)})}v(ke,Oe)},je=ke=>{var Oe=dd(),G=a(Oe,!0);t(Oe),u(Z=>s(G,Z),[()=>(r(),i(()=>r().t("No valves")))]),v(ke,Oe)};g(j,ke=>{e(E),e(D),i(()=>e(E)[e(D)].valves)?ke(de):ke(je,!1)})}t(P),t(Me),u(ke=>s(Pe,ke),[()=>(r(),i(()=>r().t("Pipelines Valves")))]),v(ie,ce)},xt=ie=>{var ce=et(),Ce=O(ce);{var Le=Pe=>{var Me=nd(),Te=a(Me,!0);t(Me),u(He=>s(Te,He),[()=>(r(),i(()=>r().t("Pipelines Not Detected")))]),v(Pe,Me)};g(Ce,Pe=>{e(E),i(()=>e(E).length===0)&&Pe(Le)},!0)}v(ie,ce)};g(at,ie=>{e(E),i(()=>e(E).length>0)?ie(ut):ie(xt,!1)})}v(Ze,Q)},Ht=Ze=>{var Q=cd(),at=a(Q),ut=a(at);Qr(ut,{className:"size-4"}),t(at),t(Q),v(Ze,Q)};g(yt,Ze=>{e(E)!==null?Ze(Zt):Ze(Ht,!1)})}u((Ze,Q,at,ut,xt,ie,ce,Ce)=>{T(Vt,"placeholder",Ze),s(ma,Q),s(Ke,at),Dt.disabled=e(d),s(Ya,ut),T(kt,"placeholder",xt),va.disabled=e(o),s(ka,ie),s(ba,` ${ce??""} `),s(Wt,Ce)},[()=>(r(),i(()=>r().t("Select a pipeline url"))),()=>(r(),i(()=>r().t("Select a pipeline url"))),()=>(r(),i(()=>r().t("Upload Pipeline"))),()=>(r(),i(()=>r().t("Install from Github URL"))),()=>(r(),i(()=>r().t("Enter Github Raw URL"))),()=>(r(),i(()=>r().t("Warning:"))),()=>(r(),i(()=>r().t("Pipelines are a plugin system with arbitrary code execution "))),()=>(r(),i(()=>r().t("don't fetch random pipelines from sources you don't trust.")))]),or(Vt,()=>e(C),Ze=>c(C,Ze)),We("change",Vt,async()=>{await Rl(),await Se()}),si(De,()=>e(S),Ze=>c(S,Ze)),We("click",Ve,()=>{var Ze;(Ze=document.getElementById("pipelines-upload-input"))==null||Ze.click()}),We("click",Dt,()=>{te()}),X(kt,()=>e(ee),Ze=>c(ee,Ze)),We("click",va,()=>{n()}),v(Fe,gt)},W=Fe=>{var gt=_d(),Tt=a(gt,!0);t(gt),u(St=>s(Tt,St),[()=>(r(),i(()=>r().t("Pipelines Not Detected")))]),v(Fe,gt)};g(fe,Fe=>{e(A),i(()=>e(A).length>0)?Fe($):Fe(W,!1)})}u(Fe=>s(qe,Fe),[()=>(r(),i(()=>r().t("Manage Pipelines")))]),v(ne,ve)},x=ne=>{var ve=pd(),N=a(ve),ge=a(N);Qr(ge,{className:"size-6"}),t(N),t(ve),v(ne,ve)};g(ue,ne=>{e(A)!==null?ne(U):ne(x,!1)})}t(V);var M=l(V,2);{var le=ne=>{var ve=md(),N=a(ve),ge=a(N,!0);t(N),t(ve),u(qe=>s(ge,qe),[()=>(r(),i(()=>r().t("Save")))]),v(ne,ve)};g(M,ne=>{e(A),i(()=>e(A)!==null&&e(A).length>0)&&ne(le)})}t(me),We("submit",me,il(async()=>{Ae()})),v(wt,me),wr(),Be()}var Ed=_('<div class="mb-2"><div class=" mb-1.5 text-xs font-medium"> </div> <div class="flex w-full"><div class="flex-1"><input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"/></div></div></div>'),yd=_('<div><div class="mt-1 flex gap-2 mb-1"><input class="flex-1 w-full bg-transparent outline-hidden" required/> <!></div></div> <hr class="border-gray-100/30 dark:border-gray-850/30 my-2"/> <div><div class=" mb-1.5 text-xs font-medium"> </div> <div class="flex w-full"><div class="flex-1"><input list="model-list" class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"/> <datalist id="model-list"><option></option></datalist></div></div></div>',1),hd=_('<div><div class="mt-1 flex gap-2 mb-1"><!></div></div> <hr class="border-gray-100/30 dark:border-gray-850/30 my-2"/> <div><div class=" mb-1.5 text-xs font-medium"> </div> <div class="flex w-full"><div class="flex-1"><input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"/></div></div> <div class="mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500"> <a class=" hover:underline dark:text-gray-200 text-gray-800" href="https://developers.deepgram.com/docs/models" target="_blank"> </a></div></div>',1),bd=_('<div><div class="mt-1 flex gap-2 mb-1"><!></div> <hr class="border-gray-100/30 dark:border-gray-850/30 my-2"/> <div><div class=" mb-1.5 text-xs font-medium"> </div> <div class="flex w-full"><div class="flex-1"><input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"/></div></div></div> <div><div class=" mb-1.5 text-xs font-medium"> </div> <div class="flex w-full"><div class="flex-1"><input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"/></div></div></div> <div><div class=" mb-1.5 text-xs font-medium"> </div> <div class="flex w-full"><div class="flex-1"><input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"/></div></div></div> <div><div class=" mb-1.5 text-xs font-medium"> </div> <div class="flex w-full"><div class="flex-1"><input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"/></div></div></div></div>'),Ad=_(`<div><div class="mt-1 flex gap-2 mb-1"><input class="flex-1 w-full bg-transparent outline-hidden" required/> <!></div></div> <hr class="border-gray-100/30 dark:border-gray-850/30 my-2"/> <div><div class=" mb-1.5 text-xs font-medium"> </div> <div class="flex w-full"><div class="flex-1"><input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden" placeholder="voxtral-mini-latest"/></div></div> <div class="mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500"> <a class=" hover:underline dark:text-gray-200 text-gray-800" href="https://docs.mistral.ai/capabilities/audio_transcription" target="_blank"> </a></div></div> <hr class="border-gray-100/30 dark:border-gray-850/30 my-2"/> <div><div class="flex items-center justify-between mb-2"><div class="text-xs font-medium"> </div> <label class="relative inline-flex items-center cursor-pointer"><input type="checkbox" class="sr-only peer"/> <div class="w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"></div></label></div> <div class="text-xs text-gray-400 dark:text-gray-500"> </div></div>`,1),wd=_('<div class="self-center"><!></div>'),Id=Lr('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"></path><path d="M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"></path></svg>'),$d=_('<div><div class=" mb-1.5 text-xs font-medium"> </div> <div class="flex w-full"><div class="flex-1 mr-2"><input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"/></div> <button class="px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"><!></button></div> <div class="mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500"> <a class=" hover:underline dark:text-gray-200 text-gray-800" href="https://github.com/SYSTRAN/faster-whisper" target="_blank"> </a></div></div>'),Rd=_('<div><div class="mt-1 flex gap-2 mb-1"><input class="flex-1 w-full bg-transparent outline-hidden" required/> <!></div></div>'),Nd=_('<div><div class="mt-1 flex gap-2 mb-1"><!></div></div>'),Td=_('<div><div class="mt-1 flex gap-2 mb-1"><!></div> <hr class="border-gray-100/30 dark:border-gray-850/30 my-2"/> <div><div class=" mb-1.5 text-xs font-medium"> </div> <div class="flex w-full"><div class="flex-1"><input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"/></div></div></div> <div><div class=" mb-1.5 text-xs font-medium"> </div> <div class="flex w-full"><div class="flex-1"><input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"/></div></div></div></div>'),Sd=_('<option class="bg-gray-100 dark:bg-gray-700"> </option>'),kd=_('<div><div class=" mb-1.5 text-xs font-medium"> </div> <div class="flex w-full"><div class="flex-1"><select class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"><option> </option><!></select></div></div></div>'),Od=_('<div><div class=" mb-1.5 text-xs font-medium"> </div> <div class="flex w-full"><div class="flex-1"><input list="model-list" class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"/> <datalist id="model-list"><option></option></datalist></div></div> <div class="mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500"> <a class=" hover:underline dark:text-gray-200 text-gray-800" href="https://github.com/microsoft/SpeechT5" target="_blank"> </a> To see the available CMU Arctic speaker embeddings, <a class=" hover:underline dark:text-gray-200 text-gray-800" href="https://huggingface.co/datasets/Matthijs/cmu-arctic-xvectors" target="_blank"> </a></div></div>'),Ld=_("<option> </option>"),Pd=_('<option class="bg-gray-50 dark:bg-gray-700"></option>'),Md=_('<div class=" flex gap-2"><div class="w-full"><div class=" mb-1.5 text-xs font-medium"> </div> <div class="flex w-full"><div class="flex-1"><input list="voice-list" class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"/> <datalist id="voice-list"></datalist></div></div></div> <div class="w-full"><div class=" mb-1.5 text-xs font-medium"> </div> <div class="flex w-full"><div class="flex-1"><input list="tts-model-list" class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"/> <datalist id="tts-model-list"></datalist></div></div></div></div> <div class="mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500"><div class="w-full"><div class=" mb-1.5 text-xs font-medium"> </div> <div class="flex w-full"><div class="flex-1"><!></div></div></div></div>',1),Cd=_("<option> </option>"),Ud=_('<option class="bg-gray-50 dark:bg-gray-700"></option>'),Dd=_('<div class=" flex gap-2"><div class="w-full"><div class=" mb-1.5 text-xs font-medium"> </div> <div class="flex w-full"><div class="flex-1"><input list="voice-list" class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"/> <datalist id="voice-list"></datalist></div></div></div> <div class="w-full"><div class=" mb-1.5 text-xs font-medium"> </div> <div class="flex w-full"><div class="flex-1"><input list="tts-model-list" class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"/> <datalist id="tts-model-list"></datalist></div></div></div></div>'),Gd=_("<option> </option>"),Bd=_('<div class=" flex gap-2"><div class="w-full"><div class=" mb-1.5 text-xs font-medium"> </div> <div class="flex w-full"><div class="flex-1"><input list="voice-list" class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"/> <datalist id="voice-list"></datalist></div></div></div> <div class="w-full"><div class=" mb-1.5 text-xs font-medium"> <a href="https://learn.microsoft.com/en-us/azure/ai-services/speech-service/rest-text-to-speech?tabs=streaming#audio-outputs" target="_blank"><small> </small></a></div> <div class="flex w-full"><div class="flex-1"><input list="tts-model-list" class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"/></div></div></div></div>'),Hd=_("<option> </option>"),jd=_('<form class="flex flex-col h-full justify-between space-y-3 text-sm"><div class=" space-y-3 overflow-y-scroll scrollbar-hidden h-full"><div class="flex flex-col gap-3"><div><div class=" mt-0.5 mb-2.5 text-base font-medium"> </div> <hr class=" border-gray-100/30 dark:border-gray-850/30 my-2"/> <!> <div class="mb-2 py-0.5 flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div> <div class="flex items-center relative"><select class="dark:bg-gray-900 cursor-pointer w-fit pr-8 rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right"><option> </option><option> </option><option> </option><option> </option><option> </option><option> </option></select></div></div> <!></div> <div><div class=" mt-0.5 mb-2.5 text-base font-medium"> </div> <hr class=" border-gray-100/30 dark:border-gray-850/30 my-2"/> <div class="mb-2 py-0.5 flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div> <div class="flex items-center relative"><select class=" dark:bg-gray-900 w-fit pr-8 cursor-pointer rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right"><option> </option><option> </option><option> </option><option> </option><option> </option></select></div></div> <!> <div class="mb-2"><!></div> <div class="pt-0.5 flex w-full justify-between"><div class="self-center text-xs font-medium"> </div> <div class="flex items-center relative"><select class="dark:bg-gray-900 w-fit pr-8 cursor-pointer rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right"></select></div></div> <div class="mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500"> </div></div></div></div> <div class="flex justify-end text-sm font-medium"><button class="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full" type="submit"> </button></div></form>');function Kd(wt,q){br(q,!1);const r=()=>la(Jr,"$config",Bt),f=()=>la(xl,"$settings",Bt),p=()=>la(Ne,"$i18n",Bt),[Bt,Be]=Nr(),y=cl(),Ne=Ar("i18n");let o=oa(q,"saveHandler",8),d=k(""),S=k(""),A=k(""),C=k(""),E=k(""),w=k(""),H=k(""),D=k(Kl.PUNCTUATION),ee=k(""),Ae=k(""),he=k(""),Se=k(""),n=k(""),te=k(""),B=k(""),me=k(""),V=k(""),ue=k(""),U=k(""),x=k(""),M=k(""),le=k(""),ne=k(""),ve=k(""),N=k(""),ge=k(!1),qe=k(!1),fe=k([]),$=k([]);const W=async()=>{var b,K,L;if(e(C)==="")c($,[]);else{const _e=await Ls(localStorage.token,((K=(b=r())==null?void 0:b.features)==null?void 0:K.enable_direct_connections)&&(((L=f())==null?void 0:L.directConnections)??null)).catch(Ie=>{Ee.error(`${Ie}`)});_e&&c($,_e.models)}},Fe=async()=>{if(e(C)===""){const b=setInterval(()=>{c(fe,speechSynthesis.getVoices()),e(fe).length>0&&(clearInterval(b),e(fe).sort((K,L)=>K.name.localeCompare(L.name,p().resolvedLanguage)))},100)}else{const b=await Ps(localStorage.token).catch(K=>{Ee.error(`${K}`)});b&&(c(fe,b.voices),e(fe).sort((K,L)=>K.name.localeCompare(L.name,p().resolvedLanguage)))}},gt=async()=>{let b={};try{b=e(H)?JSON.parse(e(H)):{},c(H,JSON.stringify(b,null,2))}catch{Ee.error(p().t("Invalid JSON format for Parameters"));return}await Ms(localStorage.token,{tts:{OPENAI_API_BASE_URL:e(d),OPENAI_API_KEY:e(S),OPENAI_PARAMS:b,API_KEY:e(A),ENGINE:e(C),MODEL:e(E),VOICE:e(w),AZURE_SPEECH_REGION:e(ee),AZURE_SPEECH_BASE_URL:e(Ae),AZURE_SPEECH_OUTPUT_FORMAT:e(he),SPLIT_ON:e(D)},stt:{OPENAI_API_BASE_URL:e(Se),OPENAI_API_KEY:e(n),ENGINE:e(te),MODEL:e(B),SUPPORTED_CONTENT_TYPES:e(me).split(","),WHISPER_MODEL:e(V),DEEPGRAM_API_KEY:e(ne),AZURE_API_KEY:e(ue),AZURE_REGION:e(U),AZURE_LOCALES:e(x),AZURE_BASE_URL:e(M),AZURE_MAX_SPEAKERS:e(le),MISTRAL_API_KEY:e(ve),MISTRAL_API_BASE_URL:e(N),MISTRAL_USE_CHAT_COMPLETIONS:e(ge)}})&&(o()(),Jr.set(await pl()))},Tt=async()=>{c(qe,!0),await gt(),c(qe,!1)};rl(async()=>{var K,L;const b=await Os(localStorage.token);b&&(c(d,b.tts.OPENAI_API_BASE_URL),c(S,b.tts.OPENAI_API_KEY),c(H,JSON.stringify(((K=b==null?void 0:b.tts)==null?void 0:K.OPENAI_PARAMS)??"",null,2)),c(A,b.tts.API_KEY),c(C,b.tts.ENGINE),c(E,b.tts.MODEL),c(w,b.tts.VOICE),c(D,b.tts.SPLIT_ON||Kl.PUNCTUATION),c(ee,b.tts.AZURE_SPEECH_REGION),c(Ae,b.tts.AZURE_SPEECH_BASE_URL),c(he,b.tts.AZURE_SPEECH_OUTPUT_FORMAT),c(Se,b.stt.OPENAI_API_BASE_URL),c(n,b.stt.OPENAI_API_KEY),c(te,b.stt.ENGINE),c(B,b.stt.MODEL),c(me,(((L=b==null?void 0:b.stt)==null?void 0:L.SUPPORTED_CONTENT_TYPES)??[]).join(",")),c(V,b.stt.WHISPER_MODEL),c(ue,b.stt.AZURE_API_KEY),c(U,b.stt.AZURE_REGION),c(x,b.stt.AZURE_LOCALES),c(M,b.stt.AZURE_BASE_URL),c(le,b.stt.AZURE_MAX_SPEAKERS),c(ne,b.stt.DEEPGRAM_API_KEY),c(ve,b.stt.MISTRAL_API_KEY),c(N,b.stt.MISTRAL_API_BASE_URL),c(ge,b.stt.MISTRAL_USE_CHAT_COMPLETIONS)),await Fe(),await W()}),Rr();var St=jd(),_a=a(St),Vt=a(_a),ca=a(Vt),ma=a(ca),qt=a(ma,!0);t(ma);var Qt=l(ma,4);{var we=b=>{var K=Ed(),L=a(K),_e=a(L,!0);t(L);var Ie=l(L,2),re=a(Ie),h=a(re);J(h),t(re),t(Ie),t(K),u((I,F)=>{s(_e,I),T(h,"placeholder",F)},[()=>(p(),i(()=>p().t("Supported MIME Types"))),()=>(p(),i(()=>p().t("e.g., audio/wav,audio/mpeg,video/* (leave blank for defaults)")))]),X(h,()=>e(me),I=>c(me,I)),v(b,K)};g(Qt,b=>{e(te)!=="web"&&b(we)})}var Ke=l(Qt,2),vt=a(Ke),_t=a(vt,!0);t(vt);var De=l(vt,2),Ve=a(De);u(()=>{e(te),Pa(()=>{p()})});var tt=a(Ve),ft=a(tt,!0);t(tt),tt.value=tt.__value="";var Qe=l(tt),Dt=a(Qe,!0);t(Qe),Qe.value=Qe.__value="openai";var Rt=l(Qe),Xt=a(Rt,!0);t(Rt),Rt.value=Rt.__value="web";var ct=l(Rt),aa=a(ct,!0);t(ct),ct.value=ct.__value="deepgram";var ha=l(ct),Ya=a(ha,!0);t(ha),ha.value=ha.__value="azure";var na=l(ha),Kt=a(na,!0);t(na),na.value=na.__value="mistral",t(Ve),t(De),t(Ke);var kt=l(Ke,2);{var va=b=>{var K=yd(),L=O(K),_e=a(L),Ie=a(_e);J(Ie);var re=l(Ie,2);{let Re=R(()=>(p(),i(()=>p().t("API Key"))));sa(re,{get placeholder(){return e(Re)},get value(){return e(n)},set value(xe){c(n,xe)},$$legacy:!0})}t(_e),t(L);var h=l(L,4),I=a(h),F=a(I,!0);t(I);var $e=l(I,2),se=a($e),Y=a(se);J(Y);var st=l(Y,2),Ye=a(st);Ye.value=Ye.__value="whisper-1",t(st),t(se),t($e),t(h),u((Re,xe,rt)=>{T(Ie,"placeholder",Re),s(F,xe),T(Y,"placeholder",rt)},[()=>(p(),i(()=>p().t("API Base URL"))),()=>(p(),i(()=>p().t("STT Model"))),()=>(p(),i(()=>p().t("Select a model")))]),X(Ie,()=>e(Se),Re=>c(Se,Re)),X(Y,()=>e(B),Re=>c(B,Re)),v(b,K)},Et=b=>{var K=et(),L=O(K);{var _e=re=>{var h=hd(),I=O(h),F=a(I),$e=a(F);{let be=R(()=>(p(),i(()=>p().t("API Key"))));sa($e,{get placeholder(){return e(be)},get value(){return e(ne)},set value(z){c(ne,z)},$$legacy:!0})}t(F),t(I);var se=l(I,4),Y=a(se),st=a(Y,!0);t(Y);var Ye=l(Y,2),Re=a(Ye),xe=a(Re);J(xe),t(Re),t(Ye);var rt=l(Ye,2),Lt=a(rt),ht=l(Lt),bt=a(ht,!0);t(ht),t(rt),t(se),u((be,z,ye,dt)=>{s(st,be),T(xe,"placeholder",z),s(Lt,`${ye??""} `),s(bt,dt)},[()=>(p(),i(()=>p().t("STT Model"))),()=>(p(),i(()=>p().t("Select a model (optional)"))),()=>(p(),i(()=>p().t("Leave model field empty to use the default model."))),()=>(p(),i(()=>p().t("Click here to see available models.")))]),X(xe,()=>e(B),be=>c(B,be)),v(re,h)},Ie=re=>{var h=et(),I=O(h);{var F=se=>{var Y=bd(),st=a(Y),Ye=a(st);{let It=R(()=>(p(),i(()=>p().t("API Key"))));sa(Ye,{get placeholder(){return e(It)},required:!0,get value(){return e(ue)},set value(Jt){c(ue,Jt)},$$legacy:!0})}t(st);var Re=l(st,4),xe=a(Re),rt=a(xe,!0);t(xe);var Lt=l(xe,2),ht=a(Lt),bt=a(ht);J(bt),t(ht),t(Lt),t(Re);var be=l(Re,2),z=a(be),ye=a(z,!0);t(z);var dt=l(z,2),it=a(dt),ze=a(it);J(ze),t(it),t(dt),t(be);var Xe=l(be,2),mt=a(Xe),jt=a(mt,!0);t(mt);var Ot=l(mt,2),ua=a(Ot),ea=a(ua);J(ea),t(ua),t(Ot),t(Xe);var ga=l(Xe,2),$a=a(ga),Je=a($a,!0);t($a);var ot=l($a,2),Ct=a(ot),nt=a(Ct);J(nt),t(Ct),t(ot),t(ga),t(Y),u((It,Jt,ya,Na,ur,qa,Ua,fa)=>{s(rt,It),T(bt,"placeholder",Jt),s(ye,ya),T(ze,"placeholder",Na),s(jt,ur),T(ea,"placeholder",qa),s(Je,Ua),T(nt,"placeholder",fa)},[()=>(p(),i(()=>p().t("Azure Region"))),()=>(p(),i(()=>p().t("e.g., westus (leave blank for eastus)"))),()=>(p(),i(()=>p().t("Language Locales"))),()=>(p(),i(()=>p().t("e.g., en-US,ja-JP (leave blank for auto-detect)"))),()=>(p(),i(()=>p().t("Endpoint URL"))),()=>(p(),i(()=>p().t("(leave blank for to use commercial endpoint)"))),()=>(p(),i(()=>p().t("Max Speakers"))),()=>(p(),i(()=>p().t("e.g., 3, 4, 5 (leave blank for default)")))]),X(bt,()=>e(U),It=>c(U,It)),X(ze,()=>e(x),It=>c(x,It)),X(ea,()=>e(M),It=>c(M,It)),X(nt,()=>e(le),It=>c(le,It)),v(se,Y)},$e=se=>{var Y=et(),st=O(Y);{var Ye=xe=>{var rt=Ad(),Lt=O(rt),ht=a(Lt),bt=a(ht);J(bt);var be=l(bt,2);{let Jt=R(()=>(p(),i(()=>p().t("API Key"))));sa(be,{get placeholder(){return e(Jt)},get value(){return e(ve)},set value(ya){c(ve,ya)},$$legacy:!0})}t(ht),t(Lt);var z=l(Lt,4),ye=a(z),dt=a(ye,!0);t(ye);var it=l(ye,2),ze=a(it),Xe=a(ze);J(Xe),t(ze),t(it);var mt=l(it,2),jt=a(mt),Ot=l(jt),ua=a(Ot,!0);t(Ot),t(mt),t(z);var ea=l(z,4),ga=a(ea),$a=a(ga),Je=a($a,!0);t($a);var ot=l($a,2),Ct=a(ot);J(Ct),Dr(2),t(ot),t(ga);var nt=l(ga,2),It=a(nt,!0);t(nt),t(ea),u((Jt,ya,Na,ur,qa,Ua)=>{T(bt,"placeholder",Jt),s(dt,ya),s(jt,`${Na??""} `),s(ua,ur),s(Je,qa),s(It,Ua)},[()=>(p(),i(()=>p().t("API Base URL"))),()=>(p(),i(()=>p().t("STT Model"))),()=>(p(),i(()=>p().t("Leave empty to use the default model (voxtral-mini-latest)."))),()=>(p(),i(()=>p().t("Learn more about Voxtral transcription."))),()=>(p(),i(()=>p().t("Use Chat Completions API"))),()=>(p(),i(()=>p().t("Use /v1/chat/completions endpoint instead of /v1/audio/transcriptions for potentially better accuracy.")))]),X(bt,()=>e(N),Jt=>c(N,Jt)),X(Xe,()=>e(B),Jt=>c(B,Jt)),Bi(Ct,()=>e(ge),Jt=>c(ge,Jt)),v(xe,rt)},Re=xe=>{var rt=et(),Lt=O(rt);{var ht=bt=>{var be=$d(),z=a(be),ye=a(z,!0);t(z);var dt=l(z,2),it=a(dt),ze=a(it);J(ze),t(it);var Xe=l(it,2),mt=a(Xe);{var jt=Je=>{var ot=wd(),Ct=a(ot);Qr(Ct,{}),t(ot),v(Je,ot)},Ot=Je=>{var ot=Id();v(Je,ot)};g(mt,Je=>{e(qe)?Je(jt):Je(Ot,!1)})}t(Xe),t(dt);var ua=l(dt,2),ea=a(ua),ga=l(ea),$a=a(ga,!0);t(ga),t(ua),t(be),u((Je,ot,Ct,nt)=>{s(ye,Je),T(ze,"placeholder",ot),Xe.disabled=e(qe),s(ea,`${Ct??""} `),s($a,nt)},[()=>(p(),i(()=>p().t("STT Model"))),()=>(p(),i(()=>p().t("Set whisper model"))),()=>(p(),i(()=>p().t("Open WebUI uses faster-whisper internally."))),()=>(p(),i(()=>p().t("Click here to learn more about faster-whisper and see the available models.")))]),X(ze,()=>e(V),Je=>c(V,Je)),We("click",Xe,()=>{Tt()}),v(bt,be)};g(Lt,bt=>{e(te)===""&&bt(ht)},!0)}v(xe,rt)};g(st,xe=>{e(te)==="mistral"?xe(Ye):xe(Re,!1)},!0)}v(se,Y)};g(I,se=>{e(te)==="azure"?se(F):se($e,!1)},!0)}v(re,h)};g(L,re=>{e(te)==="deepgram"?re(_e):re(Ie,!1)},!0)}v(b,K)};g(kt,b=>{e(te)==="openai"?b(va):b(Et,!1)})}t(ca);var Ue=l(ca,2),Mt=a(Ue),Gt=a(Mt,!0);t(Mt);var da=l(Mt,4),ka=a(da),ba=a(ka,!0);t(ka);var Yt=l(ka,2),Wt=a(Yt);u(()=>{e(C),Pa(()=>{p(),e(w),e(E)})});var yt=a(Wt),Zt=a(yt,!0);t(yt),yt.value=yt.__value="";var Ht=l(yt),Ze=a(Ht);t(Ht),Ht.value=Ht.__value="transformers";var Q=l(Ht),at=a(Q,!0);t(Q),Q.value=Q.__value="openai";var ut=l(Q),xt=a(ut,!0);t(ut),ut.value=ut.__value="elevenlabs";var ie=l(ut),ce=a(ie,!0);t(ie),ie.value=ie.__value="azure",t(Wt),t(Yt),t(da);var Ce=l(da,2);{var Le=b=>{var K=Rd(),L=a(K),_e=a(L);J(_e);var Ie=l(_e,2);{let re=R(()=>(p(),i(()=>p().t("API Key"))));sa(Ie,{get placeholder(){return e(re)},get value(){return e(S)},set value(h){c(S,h)},$$legacy:!0})}t(L),t(K),u(re=>T(_e,"placeholder",re),[()=>(p(),i(()=>p().t("API Base URL")))]),X(_e,()=>e(d),re=>c(d,re)),v(b,K)},Pe=b=>{var K=et(),L=O(K);{var _e=re=>{var h=Nd(),I=a(h),F=a(I);{let $e=R(()=>(p(),i(()=>p().t("API Key"))));sa(F,{get placeholder(){return e($e)},required:!0,get value(){return e(A)},set value(se){c(A,se)},$$legacy:!0})}t(I),t(h),v(re,h)},Ie=re=>{var h=et(),I=O(h);{var F=$e=>{var se=Td(),Y=a(se),st=a(Y);{let ze=R(()=>(p(),i(()=>p().t("API Key"))));sa(st,{get placeholder(){return e(ze)},required:!0,get value(){return e(A)},set value(Xe){c(A,Xe)},$$legacy:!0})}t(Y);var Ye=l(Y,4),Re=a(Ye),xe=a(Re,!0);t(Re);var rt=l(Re,2),Lt=a(rt),ht=a(Lt);J(ht),t(Lt),t(rt),t(Ye);var bt=l(Ye,2),be=a(bt),z=a(be,!0);t(be);var ye=l(be,2),dt=a(ye),it=a(dt);J(it),t(dt),t(ye),t(bt),t(se),u((ze,Xe,mt,jt)=>{s(xe,ze),T(ht,"placeholder",Xe),s(z,mt),T(it,"placeholder",jt)},[()=>(p(),i(()=>p().t("Azure Region"))),()=>(p(),i(()=>p().t("e.g., westus (leave blank for eastus)"))),()=>(p(),i(()=>p().t("Endpoint URL"))),()=>(p(),i(()=>p().t("(leave blank for to use commercial endpoint)")))]),X(ht,()=>e(ee),ze=>c(ee,ze)),X(it,()=>e(Ae),ze=>c(Ae,ze)),v($e,se)};g(I,$e=>{e(C)==="azure"&&$e(F)},!0)}v(re,h)};g(L,re=>{e(C)==="elevenlabs"?re(_e):re(Ie,!1)},!0)}v(b,K)};g(Ce,b=>{e(C)==="openai"?b(Le):b(Pe,!1)})}var Me=l(Ce,2),Te=a(Me);{var He=b=>{var K=kd(),L=a(K),_e=a(L,!0);t(L);var Ie=l(L,2),re=a(Ie),h=a(re);u(()=>{e(w),Pa(()=>{p(),e(fe)})});var I=a(h),F=a(I,!0);t(I),I.value=I.__value="";var $e=l(I);Za($e,1,()=>e(fe),dr,(se,Y)=>{var st=Sd(),Ye=a(st,!0);t(st);var Re={};u(()=>{li(st,(e(w),e(Y),i(()=>e(w)===e(Y).voiceURI))),s(Ye,(e(Y),i(()=>e(Y).name))),Re!==(Re=(e(Y),i(()=>e(Y).voiceURI)))&&(st.value=(st.__value=(e(Y),i(()=>e(Y).voiceURI)))??"")}),v(se,st)}),t(h),t(re),t(Ie),t(K),u((se,Y)=>{s(_e,se),li(I,e(w)!==""),s(F,Y)},[()=>(p(),i(()=>p().t("TTS Voice"))),()=>(p(),i(()=>p().t("Default")))]),or(h,()=>e(w),se=>c(w,se)),v(b,K)},P=b=>{var K=et(),L=O(K);{var _e=re=>{var h=Od(),I=a(h),F=a(I,!0);t(I);var $e=l(I,2),se=a($e),Y=a(se);J(Y);var st=l(Y,2),Ye=a(st);Ye.value=Ye.__value="tts-1",t(st),t(se),t($e);var Re=l($e,2),xe=a(Re),rt=l(xe),Lt=a(rt);t(rt);var ht=l(rt,2),bt=a(ht);t(ht),t(Re),t(h),u((be,z,ye,dt,it)=>{s(F,be),T(Y,"placeholder",z),s(xe,`${ye??""}

								To learn more about SpeechT5, `),s(Lt,`${dt??""}.`),s(bt,`${it??""}.`)},[()=>(p(),i(()=>p().t("TTS Model"))),()=>(p(),i(()=>p().t("CMU ARCTIC speaker embedding name"))),()=>(p(),i(()=>p().t("Open WebUI uses SpeechT5 and CMU Arctic speaker embeddings."))),()=>(p(),i(()=>p().t("click here",{name:"SpeechT5"}))),()=>(p(),i(()=>p().t("click here")))]),X(Y,()=>e(E),be=>c(E,be)),v(re,h)},Ie=re=>{var h=et(),I=O(h);{var F=se=>{var Y=Md(),st=O(Y),Ye=a(st),Re=a(Ye),xe=a(Re,!0);t(Re);var rt=l(Re,2),Lt=a(rt),ht=a(Lt);J(ht);var bt=l(ht,2);Za(bt,5,()=>e(fe),dr,(Je,ot)=>{var Ct=Ld(),nt=a(Ct,!0);t(Ct);var It={};u(()=>{s(nt,(e(ot),i(()=>e(ot).name))),It!==(It=(e(ot),i(()=>e(ot).id)))&&(Ct.value=(Ct.__value=(e(ot),i(()=>e(ot).id)))??"")}),v(Je,Ct)}),t(bt),t(Lt),t(rt),t(Ye);var be=l(Ye,2),z=a(be),ye=a(z,!0);t(z);var dt=l(z,2),it=a(dt),ze=a(it);J(ze);var Xe=l(ze,2);Za(Xe,5,()=>e($),dr,(Je,ot)=>{var Ct=Pd(),nt={};u(()=>{nt!==(nt=(e(ot),i(()=>e(ot).id)))&&(Ct.value=(Ct.__value=(e(ot),i(()=>e(ot).id)))??"")}),v(Je,Ct)}),t(Xe),t(it),t(dt),t(be),t(st);var mt=l(st,2),jt=a(mt),Ot=a(jt),ua=a(Ot,!0);t(Ot);var ea=l(Ot,2),ga=a(ea),$a=a(ga);{let Je=R(()=>(p(),i(()=>p().t("Enter additional parameters in JSON format"))));Zr($a,{className:"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden",get placeholder(){return e(Je)},minSize:100,get value(){return e(H)},set value(ot){c(H,ot)},$$legacy:!0})}t(ga),t(ea),t(jt),t(mt),u((Je,ot,Ct,nt,It)=>{s(xe,Je),T(ht,"placeholder",ot),s(ye,Ct),T(ze,"placeholder",nt),s(ua,It)},[()=>(p(),i(()=>p().t("TTS Voice"))),()=>(p(),i(()=>p().t("Select a voice"))),()=>(p(),i(()=>p().t("TTS Model"))),()=>(p(),i(()=>p().t("Select a model"))),()=>(p(),i(()=>p().t("Additional Parameters")))]),X(ht,()=>e(w),Je=>c(w,Je)),X(ze,()=>e(E),Je=>c(E,Je)),v(se,Y)},$e=se=>{var Y=et(),st=O(Y);{var Ye=xe=>{var rt=Dd(),Lt=a(rt),ht=a(Lt),bt=a(ht,!0);t(ht);var be=l(ht,2),z=a(be),ye=a(z);J(ye);var dt=l(ye,2);Za(dt,5,()=>e(fe),dr,(ea,ga)=>{var $a=Cd(),Je=a($a,!0);t($a);var ot={};u(()=>{s(Je,(e(ga),i(()=>e(ga).name))),ot!==(ot=(e(ga),i(()=>e(ga).id)))&&($a.value=($a.__value=(e(ga),i(()=>e(ga).id)))??"")}),v(ea,$a)}),t(dt),t(z),t(be),t(Lt);var it=l(Lt,2),ze=a(it),Xe=a(ze,!0);t(ze);var mt=l(ze,2),jt=a(mt),Ot=a(jt);J(Ot);var ua=l(Ot,2);Za(ua,5,()=>e($),dr,(ea,ga)=>{var $a=Ud(),Je={};u(()=>{Je!==(Je=(e(ga),i(()=>e(ga).id)))&&($a.value=($a.__value=(e(ga),i(()=>e(ga).id)))??"")}),v(ea,$a)}),t(ua),t(jt),t(mt),t(it),t(rt),u((ea,ga,$a,Je)=>{s(bt,ea),T(ye,"placeholder",ga),s(Xe,$a),T(Ot,"placeholder",Je)},[()=>(p(),i(()=>p().t("TTS Voice"))),()=>(p(),i(()=>p().t("Select a voice"))),()=>(p(),i(()=>p().t("TTS Model"))),()=>(p(),i(()=>p().t("Select a model")))]),X(ye,()=>e(w),ea=>c(w,ea)),X(Ot,()=>e(E),ea=>c(E,ea)),v(xe,rt)},Re=xe=>{var rt=et(),Lt=O(rt);{var ht=bt=>{var be=Bd(),z=a(be),ye=a(z),dt=a(ye,!0);t(ye);var it=l(ye,2),ze=a(it),Xe=a(ze);J(Xe);var mt=l(Xe,2);Za(mt,5,()=>e(fe),dr,(nt,It)=>{var Jt=Gd(),ya=a(Jt,!0);t(Jt);var Na={};u(()=>{s(ya,(e(It),i(()=>e(It).name))),Na!==(Na=(e(It),i(()=>e(It).id)))&&(Jt.value=(Jt.__value=(e(It),i(()=>e(It).id)))??"")}),v(nt,Jt)}),t(mt),t(ze),t(it),t(z);var jt=l(z,2),Ot=a(jt),ua=a(Ot),ea=l(ua),ga=a(ea),$a=a(ga,!0);t(ga),t(ea),t(Ot);var Je=l(Ot,2),ot=a(Je),Ct=a(ot);J(Ct),t(ot),t(Je),t(jt),t(be),u((nt,It,Jt,ya,Na)=>{s(dt,nt),T(Xe,"placeholder",It),s(ua,`${Jt??""} `),s($a,ya),T(Ct,"placeholder",Na)},[()=>(p(),i(()=>p().t("TTS Voice"))),()=>(p(),i(()=>p().t("Select a voice"))),()=>(p(),i(()=>p().t("Output format"))),()=>(p(),i(()=>p().t("Available list"))),()=>(p(),i(()=>p().t("Select an output format")))]),X(Xe,()=>e(w),nt=>c(w,nt)),X(Ct,()=>e(he),nt=>c(he,nt)),v(bt,be)};g(Lt,bt=>{e(C)==="azure"&&bt(ht)},!0)}v(xe,rt)};g(st,xe=>{e(C)==="elevenlabs"?xe(Ye):xe(Re,!1)},!0)}v(se,Y)};g(I,se=>{e(C)==="openai"?se(F):se($e,!1)},!0)}v(re,h)};g(L,re=>{e(C)==="transformers"?re(_e):re(Ie,!1)},!0)}v(b,K)};g(Te,b=>{e(C)===""?b(He):b(P,!1)})}t(Me);var j=l(Me,2),de=a(j),je=a(de,!0);t(de);var ke=l(de,2),Oe=a(ke);u(()=>{e(D),Pa(()=>{p()})}),Za(Oe,5,()=>(fr(Kl),i(()=>Object.values(Kl))),dr,(b,K)=>{var L=Hd(),_e=a(L,!0);t(L);var Ie={};u(re=>{s(_e,re),Ie!==(Ie=e(K))&&(L.value=(L.__value=e(K))??"")},[()=>(p(),e(K),i(()=>p().t(e(K).charAt(0).toUpperCase()+e(K).slice(1))))]),v(b,L)}),t(Oe),t(ke),t(j);var G=l(j,2),Z=a(G,!0);t(G),t(Ue),t(Vt),t(_a);var pe=l(_a,2),oe=a(pe),ae=a(oe,!0);t(oe),t(pe),t(St),u((b,K,L,_e,Ie,re,h,I,F,$e,se,Y,st,Ye,Re,xe,rt,Lt,ht,bt,be,z)=>{s(qt,b),s(_t,K),T(Ve,"placeholder",L),s(ft,_e),s(Dt,Ie),s(Xt,re),s(aa,h),s(Ya,I),s(Kt,F),s(Gt,$e),s(ba,se),T(Wt,"placeholder",Y),s(Zt,st),s(Ze,`${Ye??""} (${Re??""})`),s(at,xe),s(xt,rt),s(ce,Lt),s(je,ht),T(Oe,"aria-label",bt),s(Z,be),s(ae,z)},[()=>(p(),i(()=>p().t("Speech-to-Text"))),()=>(p(),i(()=>p().t("Speech-to-Text Engine"))),()=>(p(),i(()=>p().t("Select an engine"))),()=>(p(),i(()=>p().t("Whisper (Local)"))),()=>(p(),i(()=>p().t("OpenAI"))),()=>(p(),i(()=>p().t("Web API"))),()=>(p(),i(()=>p().t("Deepgram"))),()=>(p(),i(()=>p().t("Azure AI Speech"))),()=>(p(),i(()=>p().t("MistralAI"))),()=>(p(),i(()=>p().t("Text-to-Speech"))),()=>(p(),i(()=>p().t("Text-to-Speech Engine"))),()=>(p(),i(()=>p().t("Select a mode"))),()=>(p(),i(()=>p().t("Web API"))),()=>(p(),i(()=>p().t("Transformers"))),()=>(p(),i(()=>p().t("Local"))),()=>(p(),i(()=>p().t("OpenAI"))),()=>(p(),i(()=>p().t("ElevenLabs"))),()=>(p(),i(()=>p().t("Azure AI Speech"))),()=>(p(),i(()=>p().t("Response splitting"))),()=>(p(),i(()=>p().t("Select how to split message text for TTS requests"))),()=>(p(),i(()=>p().t("Control how message text is split for TTS requests. 'Punctuation' splits into sentences, 'paragraphs' splits into paragraphs, and 'none' keeps the message as a single string."))),()=>(p(),i(()=>p().t("Save")))]),or(Ve,()=>e(te),b=>c(te,b)),or(Wt,()=>e(C),b=>c(C,b)),We("change",Wt,async b=>{var K;await gt(),await Fe(),await W(),((K=b.target)==null?void 0:K.value)==="openai"?(c(w,"alloy"),c(E,"tts-1")):(c(w,""),c(E,""))}),or(Oe,()=>e(D),b=>c(D,b)),We("submit",St,il(async()=>{await gt(),y("save")})),v(wt,St),wr(),Be()}var Yd=_('<div class="flex h-full flex-col"><div class=" sticky top-0 z-30 flex justify-between bg-white px-4.5 pt-3 pb-3 dark:bg-gray-900 dark:text-gray-100"><div class=" font-primary self-center text-lg font-medium"> </div> <button class="self-center" aria-label="Close"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="h-5 w-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg></button></div> <div class="flex h-full w-full flex-1 flex-col md:flex-row md:space-x-4 dark:text-gray-200 overflow-y-auto"><div class=" flex h-full w-full flex-col sm:flex-row sm:justify-center sm:space-x-6"><!></div></div></div>');function yi(wt,q){br(q,!0);const r=()=>la(Bt,"$i18n",f),[f,p]=Nr(),Bt=Ar("i18n");let Be=oa(q,"show",15),y=oa(q,"value",15),Ne=oa(q,"lang",3,"python"),o=oa(q,"onChange",3,()=>{}),d=oa(q,"onSave",3,()=>{}),S="",A=Gi(null),C=Ui(y());Di(()=>{C&&y(C)}),Cs(wt,{get show(){return Be()},set show(E){Be(E)},children:(E,w)=>{var H=Yd(),D=a(H),ee=a(D),Ae=a(ee,!0);t(ee);var he=l(ee,2);he.__click=()=>{Be(!1)},t(D);var Se=l(D,2),n=a(Se),te=a(n);Tl(rs(te,{get value(){return y()},boilerplate:S,get lang(){return Ne()},get onChange(){return o()},get onSave(){return d()}}),B=>c(A,B,!0),()=>e(A)),t(n),t(Se),t(H),u(B=>s(Ae,B),[()=>r().t("Code Editor")]),v(E,H)},$$slots:{default:!0}}),wr(),p()}Ci(["click"]);var Wd=_("<option> </option>"),Fd=_('<input list="model-list" class=" text-right text-sm bg-transparent outline-hidden max-w-full w-52" required/> <datalist id="model-list"></datalist>',1),Vd=_('<input class="  text-right text-sm bg-transparent outline-hidden max-w-full w-52"/>'),Zd=_('<input class=" text-right text-sm bg-transparent outline-hidden" required/>'),zd=_('<div class="mb-2.5"><div class="flex w-full justify-between items-center"><div class="text-xs pr-2"><div> </div></div> <!></div></div>'),Xd=_('<div class="mb-2.5"><div class="flex w-full justify-between items-center"><div class="text-xs pr-2"><div class="shrink-0"> </div></div> <!></div></div> <div class="mb-2.5"><div class="flex w-full justify-between items-center"><div class="text-xs pr-2"><div class="shrink-0"> </div></div> <!></div></div> <!> <div class="mb-2.5"><div class="flex w-full justify-between items-center"><div class="text-xs pr-2"><div> </div></div> <!></div></div>',1),Jd=_('<div class="mb-2.5"><div class="flex w-full justify-between items-center"><div class="text-xs pr-2 shrink-0"><div> </div></div> <div class="flex w-full"><div class="flex-1"><input class="w-full text-sm bg-transparent outline-hidden text-right"/></div></div></div></div> <div class="mb-2.5"><div class="flex w-full justify-between items-center"><div class="text-xs pr-2 shrink-0"><div> </div></div> <div class="flex w-full"><div class="flex-1"><!></div></div></div></div> <div class="mb-2.5"><div class="flex w-full justify-between items-center"><div class="text-xs pr-2 shrink-0"><div> </div></div> <div class="flex w-full"><div class="flex-1"><input class="w-full text-sm bg-transparent outline-hidden text-right"/></div></div></div></div> <div class="mb-2.5"><div class="flex w-full justify-between items-center"><div class="text-xs pr-2 shrink-0"><div> </div></div></div> <div class="mt-1.5 flex w-full"><div class="flex-1 mr-2"><!></div></div></div>',1),qd=_('<div class="mb-2.5"><div class="flex w-full justify-between items-center"><div class="text-xs pr-2 shrink-0"><div> </div></div> <div class="flex w-full"><div class="flex-1 mr-2"><input class="w-full text-sm bg-transparent outline-hidden text-right"/></div> <button class="  transition" type="button" aria-label="verify connection"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z" clip-rule="evenodd"></path></svg></button></div></div> <div class="mt-1 text-xs text-gray-400 dark:text-gray-500"> <a class=" text-gray-300 font-medium" href="https://github.com/AUTOMATIC1111/stable-diffusion-webui/discussions/3734" target="_blank"> </a></div></div> <div class="mb-2.5"><div class="flex w-full justify-between items-center"><div class="text-xs pr-2 shrink-0"><div> </div></div> <div class="flex w-full"><div class="flex-1"><!></div></div></div> <div class="mt-1 text-xs text-gray-400 dark:text-gray-500"> <a class=" text-gray-300 font-medium" href="https://github.com/AUTOMATIC1111/stable-diffusion-webui/discussions/13993" target="_blank"> </a></div></div> <div class="mb-2.5"><div class="flex w-full justify-between items-center"><div class="text-xs pr-2 shrink-0"><div> </div></div></div> <div class="mt-1.5 flex w-full"><div class="flex-1 mr-2"><!></div></div></div>',1),Qd=_('<button class="text-xs text-gray-700 dark:text-gray-400 underline" type="button"> </button>'),eo=_('<button class="text-xs text-gray-700 dark:text-gray-400 underline" type="button"> </button>'),to=_('<input class="py-1 w-24 text-xs bg-transparent outline-hidden" required/>'),ao=_('<input class="w-full py-1 text-xs bg-transparent outline-hidden"/>'),ro=_('<div class="flex w-full flex-col"><div class="shrink-0"><div class=" capitalize line-clamp-1 w-20 text-gray-400 dark:text-gray-500"> </div></div> <div class="flex mt-0.5 items-center"><div><!></div> <div class="px-2 text-gray-400 dark:text-gray-500">:</div> <div class="w-full"><!></div></div></div>'),lo=_('<div class="mb-2.5"><div class="flex w-full justify-between items-center"><div class="text-xs pr-2 shrink-0"><div> </div></div></div> <div class="mt-1 text-xs flex flex-col gap-1.5"></div> <div class="mt-1 text-xs text-gray-400 dark:text-gray-500"> </div></div>'),io=_('<div class="mb-2.5"><div class="flex w-full justify-between items-center"><div class="text-xs pr-2 shrink-0"><div> </div></div> <div class="flex w-full"><div class="flex-1 mr-2"><input class="w-full text-sm bg-transparent outline-hidden text-right"/></div> <button class="  rounded-lg transition" type="button" aria-label="verify connection"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z" clip-rule="evenodd"></path></svg></button></div></div></div> <div class="mb-2.5"><div class="flex w-full justify-between items-center"><div class="text-xs pr-2 shrink-0"><div> </div></div> <div class="flex w-full"><div class="flex-1"><!></div></div></div></div> <div class="mb-2.5"><input id="upload-comfyui-workflow-input" hidden="" type="file" accept=".json"/> <div class="flex w-full justify-between items-center"><div class="text-xs pr-2 shrink-0"><div> </div></div> <div class="flex w-full"><div class="flex-1 mr-2 justify-end flex gap-1"><!> <!></div></div></div> <div class="mt-1 text-xs text-gray-400 dark:text-gray-500"><!> </div></div> <!>',1),so=_('<div class="mb-2.5"><div class="flex w-full justify-between items-center"><div class="text-xs pr-2 shrink-0"><div> </div></div> <div class="flex w-full"><div class="flex-1"><input class="w-full text-sm bg-transparent outline-hidden text-right"/></div></div></div></div> <div class="mb-2.5"><div class="flex w-full justify-between items-center"><div class="text-xs pr-2 shrink-0"><div> </div></div> <div class="flex w-full"><div class="flex-1"><!></div></div></div></div> <div class="mb-2.5"><div class="flex w-full justify-between items-center"><div class="text-xs pr-2"><div> </div></div> <select class=" dark:bg-gray-900 w-fit pr-8 cursor-pointer rounded-sm px-2 text-xs bg-transparent outline-hidden text-right"><option>predict</option><option>generateContent</option></select></div></div>',1),vo=_("<option> </option>"),oo=_('<input list="model-list" class="text-right text-sm bg-transparent outline-hidden max-w-full w-52"/> <datalist id="model-list"></datalist>',1),no=_('<input class="text-right text-sm bg-transparent outline-hidden max-w-full w-52"/>'),co=_('<div class="mb-2.5"><div class="flex w-full justify-between items-center"><div class="text-xs pr-2"><div class="shrink-0"> </div></div> <!></div></div> <div class="mb-2.5"><div class="flex w-full justify-between items-center"><div class="text-xs pr-2"><div class="shrink-0"> </div></div> <!></div></div>',1),uo=_('<div class="mb-2.5"><div class="flex w-full justify-between items-center"><div class="text-xs pr-2 shrink-0"><div> </div></div> <div class="flex w-full"><div class="flex-1"><input class="w-full text-sm bg-transparent outline-hidden text-right"/></div></div></div></div> <div class="mb-2.5"><div class="flex w-full justify-between items-center"><div class="text-xs pr-2 shrink-0"><div> </div></div> <div class="flex w-full"><div class="flex-1"><!></div></div></div></div> <div class="mb-2.5"><div class="flex w-full justify-between items-center"><div class="text-xs pr-2 shrink-0"><div> </div></div> <div class="flex w-full"><div class="flex-1"><input class="w-full text-sm bg-transparent outline-hidden text-right"/></div></div></div></div>',1),_o=_('<button class="text-xs text-gray-700 dark:text-gray-400 underline" type="button"> </button>'),fo=_('<button class="text-xs text-gray-700 dark:text-gray-400 underline" type="button"> </button>'),po=_('<input class="py-1 w-24 text-xs bg-transparent outline-hidden" required/>'),mo=_('<input class="w-full py-1 text-xs bg-transparent outline-hidden"/>'),go=_('<div class="flex w-full flex-col"><div class="shrink-0"><div class=" capitalize line-clamp-1 w-20 text-gray-400 dark:text-gray-500"> </div></div> <div class="flex mt-0.5 items-center"><div><!></div> <div class="px-2 text-gray-400 dark:text-gray-500">:</div> <div class="w-full"><!></div></div></div>'),xo=_('<div class="mb-2.5"><div class="flex w-full justify-between items-center"><div class="text-xs pr-2 shrink-0"><div> </div></div></div> <div class="mt-1 text-xs flex flex-col gap-1.5"></div> <div class="mt-1 text-xs text-gray-400 dark:text-gray-500"> </div></div>'),Eo=_('<div class="mb-2.5"><div class="flex w-full justify-between items-center"><div class="text-xs pr-2 shrink-0"><div> </div></div> <div class="flex w-full"><div class="flex-1 mr-2"><input class="w-full text-sm bg-transparent outline-hidden text-right"/></div> <button class="  transition" type="button" aria-label="verify connection"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z" clip-rule="evenodd"></path></svg></button></div></div></div> <div class="mb-2.5"><div class="flex w-full justify-between items-center"><div class="text-xs pr-2 shrink-0"><div> </div></div> <div class="flex w-full"><div class="flex-1"><!></div></div></div></div> <div class="mb-2.5"><input id="upload-comfyui-edit-workflow-input" hidden="" type="file" accept=".json"/> <div class="flex w-full justify-between items-center"><div class="text-xs pr-2 shrink-0"><div> </div></div> <div class="flex w-full"><div class="flex-1 mr-2 justify-end flex gap-1"><!> <!></div></div></div> <div class="mt-1 text-xs text-gray-400 dark:text-gray-500"><!> </div></div> <!>',1),yo=_('<div class="mb-2.5"><div class="flex w-full justify-between items-center"><div class="text-xs pr-2 shrink-0"><div> </div></div> <div class="flex w-full"><div class="flex-1"><input class="w-full text-sm bg-transparent outline-hidden text-right"/></div></div></div></div> <div class="mb-2.5"><div class="flex w-full justify-between items-center"><div class="text-xs pr-2 shrink-0"><div> </div></div> <div class="flex w-full"><div class="flex-1"><!></div></div></div></div>',1),ho=_('<div><div class="mb-3"><div class=" mt-0.5 mb-2.5 text-base font-medium"> </div> <hr class=" border-gray-100/30 dark:border-gray-850/30 my-2"/> <div class="mb-2.5"><div class="flex w-full justify-between items-center"><div class="text-xs pr-2"><div> </div></div> <!></div></div></div> <div class="mb-3"><div class=" mt-0.5 mb-2.5 text-base font-medium"> </div> <hr class=" border-gray-100/30 dark:border-gray-850/30 my-2"/> <!> <div class="mb-2.5"><div class="flex w-full justify-between items-center"><div class="text-xs pr-2"><div> </div></div> <select class=" dark:bg-gray-900 w-fit pr-8 cursor-pointer rounded-sm px-2 text-xs bg-transparent outline-hidden text-right"><option> </option><option> </option><option> </option><option> </option></select></div></div> <!></div> <div class="mb-3"><div class=" mt-0.5 mb-2.5 text-base font-medium"> </div> <hr class=" border-gray-100/30 dark:border-gray-850/30 my-2"/> <div class="mb-2.5"><div class="flex w-full justify-between items-center"><div class="text-xs pr-2"><div> </div></div> <!></div></div> <!> <div class="mb-2.5"><div class="flex w-full justify-between items-center"><div class="text-xs pr-2"><div> </div></div> <select class=" dark:bg-gray-900 w-fit pr-8 cursor-pointer rounded-sm px-2 text-xs bg-transparent outline-hidden text-right"><option> </option><option> </option><option> </option></select></div></div> <!></div></div>'),bo=_('<div class="ml-2 self-center"><!></div>'),Ao=_('<form class="flex flex-col h-full justify-between space-y-3 text-sm"><div class=" space-y-3 overflow-y-scroll scrollbar-hidden pr-2"><!></div> <div class="flex justify-end pt-3 text-sm font-medium"><button type="submit"> <!></button></div></form>');function wo(wt,q){br(q,!1);const r=()=>la(y,"$i18n",p),f=()=>la(Nl,"$user",p),[p,Bt]=Nr(),Be=cl(),y=Ar("i18n");let Ne=k(!1),o=k(null),d=k(null),S=k(!1),A=k([{type:"prompt",key:"text",node_ids:""},{type:"model",key:"ckpt_name",node_ids:""},{type:"width",key:"width",node_ids:""},{type:"height",key:"height",node_ids:""},{type:"steps",key:"steps",node_ids:""},{type:"seed",key:"seed",node_ids:""}]),C=k(!1),E=k([{type:"image",key:"image",node_ids:""},{type:"prompt",key:"prompt",node_ids:""},{type:"model",key:"unet_name",node_ids:""},{type:"width",key:"width",node_ids:""},{type:"height",key:"height",node_ids:""}]);const w=async()=>{c(o,await Ev(localStorage.token).catch(U=>(Ee.error(`${U}`),null)))},H=async()=>{if(e(d).IMAGE_GENERATION_ENGINE==="automatic1111"&&e(d).AUTOMATIC1111_BASE_URL==="")return Ee.error(r().t("AUTOMATIC1111 Base URL is required.")),m(d,e(d).ENABLE_IMAGE_GENERATION=!1),null;if(e(d).IMAGE_GENERATION_ENGINE==="comfyui"&&e(d).COMFYUI_BASE_URL==="")return Ee.error(r().t("ComfyUI Base URL is required.")),m(d,e(d).ENABLE_IMAGE_GENERATION=!1),null;if(e(d).IMAGE_GENERATION_ENGINE==="openai"&&e(d).IMAGES_OPENAI_API_KEY==="")return Ee.error(r().t("OpenAI API Key is required.")),m(d,e(d).ENABLE_IMAGE_GENERATION=!1),null;if(e(d).IMAGE_GENERATION_ENGINE==="gemini"&&e(d).IMAGES_GEMINI_API_KEY==="")return Ee.error(r().t("Gemini API Key is required.")),m(d,e(d).ENABLE_IMAGE_GENERATION=!1),null;const U=await xv(localStorage.token,{...e(d),AUTOMATIC1111_PARAMS:typeof e(d).AUTOMATIC1111_PARAMS=="string"&&e(d).AUTOMATIC1111_PARAMS.trim()!==""?JSON.parse(e(d).AUTOMATIC1111_PARAMS):{},IMAGES_OPENAI_API_PARAMS:typeof e(d).IMAGES_OPENAI_API_PARAMS=="string"&&e(d).IMAGES_OPENAI_API_PARAMS.trim()!==""?JSON.parse(e(d).IMAGES_OPENAI_API_PARAMS):{}}).catch(x=>(Ee.error(`${x}`),null));return U?(U.ENABLE_IMAGE_GENERATION&&(Jr.set(await pl()),w()),U):null},D=U=>{try{const x=JSON.parse(U);if(x&&typeof x=="object")return!0}catch{}return!1},ee=async()=>{var x,M,le,ne;if(c(Ne,!0),(x=e(d))!=null&&x.COMFYUI_WORKFLOW){if(!D((M=e(d))==null?void 0:M.COMFYUI_WORKFLOW)){Ee.error(r().t("Invalid JSON format for ComfyUI Workflow.")),c(Ne,!1);return}m(d,e(d).COMFYUI_WORKFLOW_NODES=e(A).map(ve=>({type:ve.type,key:ve.key,node_ids:ve.node_ids.trim()===""?[]:ve.node_ids.split(",").map(N=>N.trim())})))}if((le=e(d))!=null&&le.IMAGES_EDIT_COMFYUI_WORKFLOW){if(!D((ne=e(d))==null?void 0:ne.IMAGES_EDIT_COMFYUI_WORKFLOW)){Ee.error(r().t("Invalid JSON format for ComfyUI Edit Workflow.")),c(Ne,!1);return}m(d,e(d).IMAGES_EDIT_COMFYUI_WORKFLOW_NODES=e(E).map(ve=>({type:ve.type,key:ve.key,node_ids:ve.node_ids.trim()===""?[]:ve.node_ids.split(",").map(N=>N.trim())})))}await H()&&Be("save"),c(Ne,!1)};rl(async()=>{var U;if(((U=f())==null?void 0:U.role)==="admin"){const x=await gv(localStorage.token).catch(M=>(Ee.error(`${M}`),null));if(x&&c(d,x),e(d).ENABLE_IMAGE_GENERATION&&w(),e(d).COMFYUI_WORKFLOW)try{m(d,e(d).COMFYUI_WORKFLOW=JSON.stringify(JSON.parse(e(d).COMFYUI_WORKFLOW),null,2))}catch(M){}if(c(A,e(A).map(M=>{const le=e(d).COMFYUI_WORKFLOW_NODES.find(ne=>ne.type===M.type)??M;return{type:le.type,key:le.key,node_ids:typeof le.node_ids=="string"?le.node_ids:le.node_ids.join(",")}})),e(d).IMAGES_EDIT_COMFYUI_WORKFLOW)try{m(d,e(d).IMAGES_EDIT_COMFYUI_WORKFLOW=JSON.stringify(JSON.parse(e(d).IMAGES_EDIT_COMFYUI_WORKFLOW),null,2))}catch(M){}m(d,e(d).IMAGES_OPENAI_API_PARAMS=typeof e(d).IMAGES_OPENAI_API_PARAMS=="object"?JSON.stringify(e(d).IMAGES_OPENAI_API_PARAMS??{},null,2):e(d).IMAGES_OPENAI_API_PARAMS),m(d,e(d).AUTOMATIC1111_PARAMS=typeof e(d).AUTOMATIC1111_PARAMS=="object"?JSON.stringify(e(d).AUTOMATIC1111_PARAMS??{},null,2):e(d).AUTOMATIC1111_PARAMS),c(E,e(E).map(M=>{const le=e(d).IMAGES_EDIT_COMFYUI_WORKFLOW_NODES.find(ne=>ne.type===M.type)??M;return{type:le.type,key:le.key,node_ids:typeof le.node_ids=="string"?le.node_ids:le.node_ids.join(",")}}))}}),Rr();var Ae=Ao(),he=a(Ae),Se=a(he);{var n=U=>{var x=ho(),M=a(x),le=a(M),ne=a(le,!0);t(le);var ve=l(le,4),N=a(ve),ge=a(N),qe=a(ge),fe=a(qe,!0);t(qe),t(ge);var $=l(ge,2);ta($,{get state(){return e(d).ENABLE_IMAGE_GENERATION},set state(ie){m(d,e(d).ENABLE_IMAGE_GENERATION=ie)},$$legacy:!0}),t(N),t(ve),t(M);var W=l(M,2),Fe=a(W),gt=a(Fe,!0);t(Fe);var Tt=l(Fe,4);{var St=ie=>{var ce=Xd(),Ce=O(ce),Le=a(Ce),Pe=a(Le),Me=a(Pe),Te=a(Me,!0);t(Me),t(Pe);var He=l(Pe,2);{let _e=R(()=>r().t("Enter Model ID"));lt(He,{get content(){return e(_e)},placement:"top-start",children:(Ie,re)=>{var h=Fd(),I=O(h);J(I);var F=l(I,2);Za(F,5,()=>e(o)??[],dr,($e,se)=>{var Y=Wd(),st=a(Y,!0);t(Y);var Ye={};u(()=>{s(st,e(se).name),Ye!==(Ye=e(se).id)&&(Y.value=(Y.__value=e(se).id)??"")}),v($e,Y)}),t(F),u($e=>T(I,"placeholder",$e),[()=>r().t("Select a model")]),X(I,()=>e(d).IMAGE_GENERATION_MODEL,$e=>m(d,e(d).IMAGE_GENERATION_MODEL=$e)),v(Ie,h)},$$slots:{default:!0}})}t(Le),t(Ce);var P=l(Ce,2),j=a(P),de=a(j),je=a(de),ke=a(je,!0);t(je),t(de);var Oe=l(de,2);{let _e=R(()=>r().t("Enter Image Size (e.g. 512x512)"));lt(Oe,{get content(){return e(_e)},placement:"top-start",children:(Ie,re)=>{var h=Vd();J(h),u(I=>T(h,"placeholder",I),[()=>r().t("Enter Image Size (e.g. 512x512)")]),X(h,()=>e(d).IMAGE_SIZE,I=>m(d,e(d).IMAGE_SIZE=I)),v(Ie,h)},$$slots:{default:!0}})}t(j),t(P);var G=l(P,2);{var Z=_e=>{var Ie=zd(),re=a(Ie),h=a(re),I=a(h),F=a(I,!0);t(I),t(h);var $e=l(h,2);{let se=R(()=>r().t("Enter Number of Steps (e.g. 50)"));lt($e,{get content(){return e(se)},placement:"top-start",children:(Y,st)=>{var Ye=Zd();J(Ye),u(Re=>T(Ye,"placeholder",Re),[()=>r().t("Enter Number of Steps (e.g. 50)")]),X(Ye,()=>e(d).IMAGE_STEPS,Re=>m(d,e(d).IMAGE_STEPS=Re)),v(Y,Ye)},$$slots:{default:!0}})}t(re),t(Ie),u(se=>s(F,se),[()=>r().t("Steps")]),v(_e,Ie)};g(G,_e=>{var Ie;["comfyui","automatic1111",""].includes((Ie=e(d))==null?void 0:Ie.IMAGE_GENERATION_ENGINE)&&_e(Z)})}var pe=l(G,2),oe=a(pe),ae=a(oe),b=a(ae),K=a(b,!0);t(b),t(ae);var L=l(ae,2);ta(L,{get state(){return e(d).ENABLE_IMAGE_PROMPT_GENERATION},set state(_e){m(d,e(d).ENABLE_IMAGE_PROMPT_GENERATION=_e)},$$legacy:!0}),t(oe),t(pe),u((_e,Ie,re)=>{s(Te,_e),s(ke,Ie),s(K,re)},[()=>r().t("Model"),()=>r().t("Image Size"),()=>r().t("Image Prompt Generation")]),v(ie,ce)};g(Tt,ie=>{e(d).ENABLE_IMAGE_GENERATION&&ie(St)})}var _a=l(Tt,2),Vt=a(_a),ca=a(Vt),ma=a(ca),qt=a(ma,!0);t(ma),t(ca);var Qt=l(ca,2);u(()=>{e(d),Pa(()=>{r()})});var we=a(Qt),Ke=a(we,!0);t(we),we.value=we.__value="openai";var vt=l(we),_t=a(vt,!0);t(vt),vt.value=vt.__value="comfyui";var De=l(vt),Ve=a(De,!0);t(De),De.value=De.__value="automatic1111";var tt=l(De),ft=a(tt,!0);t(tt),tt.value=tt.__value="gemini",t(Qt),t(Vt),t(_a);var Qe=l(_a,2);{var Dt=ie=>{var ce=Jd(),Ce=O(ce),Le=a(Ce),Pe=a(Le),Me=a(Pe),Te=a(Me,!0);t(Me),t(Pe);var He=l(Pe,2),P=a(He),j=a(P);J(j),t(P),t(He),t(Le),t(Ce);var de=l(Ce,2),je=a(de),ke=a(je),Oe=a(ke),G=a(Oe,!0);t(Oe),t(ke);var Z=l(ke,2),pe=a(Z),oe=a(pe);{let xe=R(()=>r().t("API Key"));sa(oe,{inputClassName:"text-right w-full",get placeholder(){return e(xe)},required:!1,get value(){return e(d).IMAGES_OPENAI_API_KEY},set value(rt){m(d,e(d).IMAGES_OPENAI_API_KEY=rt)},$$legacy:!0})}t(pe),t(Z),t(je),t(de);var ae=l(de,2),b=a(ae),K=a(b),L=a(K),_e=a(L,!0);t(L),t(K);var Ie=l(K,2),re=a(Ie),h=a(re);J(h),t(re),t(Ie),t(b),t(ae);var I=l(ae,2),F=a(I),$e=a(F),se=a($e),Y=a(se,!0);t(se),t($e),t(F);var st=l(F,2),Ye=a(st),Re=a(Ye);{let xe=R(()=>r().t("Enter additional parameters in JSON format"));Zr(Re,{className:"rounded-lg w-full py-2 px-3 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden",get placeholder(){return e(xe)},minSize:100,get value(){return e(d).IMAGES_OPENAI_API_PARAMS},set value(rt){m(d,e(d).IMAGES_OPENAI_API_PARAMS=rt)},$$legacy:!0})}t(Ye),t(st),t(I),u((xe,rt,Lt,ht,bt,be)=>{s(Te,xe),T(j,"placeholder",rt),s(G,Lt),s(_e,ht),T(h,"placeholder",bt),s(Y,be)},[()=>r().t("OpenAI API Base URL"),()=>r().t("API Base URL"),()=>r().t("OpenAI API Key"),()=>r().t("OpenAI API Version"),()=>r().t("API Version"),()=>r().t("Additional Parameters")]),X(j,()=>e(d).IMAGES_OPENAI_API_BASE_URL,xe=>m(d,e(d).IMAGES_OPENAI_API_BASE_URL=xe)),X(h,()=>e(d).IMAGES_OPENAI_API_VERSION,xe=>m(d,e(d).IMAGES_OPENAI_API_VERSION=xe)),v(ie,ce)},Rt=ie=>{var ce=et(),Ce=O(ce);{var Le=Me=>{var Te=qd(),He=O(Te),P=a(He),j=a(P),de=a(j),je=a(de,!0);t(de),t(j);var ke=l(j,2),Oe=a(ke),G=a(Oe);J(G),t(Oe);var Z=l(Oe,2);t(ke),t(P);var pe=l(P,2),oe=a(pe),ae=l(oe),b=a(ae,!0);t(ae),t(pe),t(He);var K=l(He,2),L=a(K),_e=a(L),Ie=a(_e),re=a(Ie,!0);t(Ie),t(_e);var h=l(_e,2),I=a(h),F=a(I);{let z=R(()=>r().t("Enter api auth string (e.g. username:password)"));sa(F,{inputClassName:"text-right w-full",get placeholder(){return e(z)},required:!1,get value(){return e(d).AUTOMATIC1111_API_AUTH},set value(ye){m(d,e(d).AUTOMATIC1111_API_AUTH=ye)},$$legacy:!0})}t(I),t(h),t(L);var $e=l(L,2),se=a($e),Y=l(se),st=a(Y,!0);t(Y),t($e),t(K);var Ye=l(K,2),Re=a(Ye),xe=a(Re),rt=a(xe),Lt=a(rt,!0);t(rt),t(xe),t(Re);var ht=l(Re,2),bt=a(ht),be=a(bt);{let z=R(()=>r().t("Enter additional parameters in JSON format"));Zr(be,{className:"rounded-lg w-full py-2 px-3 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden",get placeholder(){return e(z)},minSize:100,get value(){return e(d).AUTOMATIC1111_PARAMS},set value(ye){m(d,e(d).AUTOMATIC1111_PARAMS=ye)},$$legacy:!0})}t(bt),t(ht),t(Ye),u((z,ye,dt,it,ze,Xe,mt,jt)=>{s(je,z),T(G,"placeholder",ye),s(oe,`${dt??""} `),s(b,it),s(re,ze),s(se,`${Xe??""} `),s(st,mt),s(Lt,jt)},[()=>r().t("AUTOMATIC1111 Base URL"),()=>r().t("Enter URL (e.g. http://127.0.0.1:7860/)"),()=>r().t("Include `--api` flag when running stable-diffusion-webui"),()=>r().t("(e.g. `sh webui.sh --api`)"),()=>r().t("AUTOMATIC1111 Api Auth String"),()=>r().t("Include `--api-auth` flag when running stable-diffusion-webui"),()=>r().t("(e.g. `sh webui.sh --api --api-auth username_password`)").replace("_",":"),()=>r().t("Additional Parameters")]),X(G,()=>e(d).AUTOMATIC1111_BASE_URL,z=>m(d,e(d).AUTOMATIC1111_BASE_URL=z)),We("click",Z,async()=>{await H(),await ri(localStorage.token).catch(ye=>(Ee.error(`${ye}`),null))&&Ee.success(r().t("Server connection verified"))}),v(Me,Te)},Pe=Me=>{var Te=et(),He=O(Te);{var P=de=>{var je=io(),ke=O(je),Oe=a(ke),G=a(Oe),Z=a(G),pe=a(Z,!0);t(Z),t(G);var oe=l(G,2),ae=a(oe),b=a(ae);J(b),t(ae);var K=l(ae,2);t(oe),t(Oe),t(ke);var L=l(ke,2),_e=a(L),Ie=a(_e),re=a(Ie),h=a(re,!0);t(re),t(Ie);var I=l(Ie,2),F=a(I),$e=a(F);{let Xe=R(()=>r().t("sk-1234"));sa($e,{inputClassName:"text-right w-full",get placeholder(){return e(Xe)},required:!1,get value(){return e(d).COMFYUI_API_KEY},set value(mt){m(d,e(d).COMFYUI_API_KEY=mt)},$$legacy:!0})}t(F),t(I),t(_e),t(L);var se=l(L,2),Y=a(se),st=l(Y,2),Ye=a(st),Re=a(Ye),xe=a(Re,!0);t(Re),t(Ye);var rt=l(Ye,2),Lt=a(rt),ht=a(Lt);{var bt=Xe=>{var mt=Qd(),jt=a(mt,!0);t(mt),u((Ot,ua)=>{T(mt,"aria-label",Ot),s(jt,ua)},[()=>r().t("Edit workflow.json content"),()=>r().t("Edit")]),We("click",mt,()=>{c(S,!0)}),v(Xe,mt)};g(ht,Xe=>{e(d).COMFYUI_WORKFLOW&&Xe(bt)})}var be=l(ht,2);{let Xe=R(()=>r().t("Click here to upload a workflow.json file."));lt(be,{get content(){return e(Xe)},children:(mt,jt)=>{var Ot=eo(),ua=a(Ot,!0);t(Ot),u((ea,ga)=>{T(Ot,"aria-label",ea),s(ua,ga)},[()=>r().t("Click here to upload a workflow.json file."),()=>r().t("Upload")]),We("click",Ot,()=>{var ea;(ea=document.getElementById("upload-comfyui-workflow-input"))==null||ea.click()}),v(mt,Ot)},$$slots:{default:!0}})}t(Lt),t(rt),t(st);var z=l(st,2),ye=a(z);yi(ye,{get value(){return e(d).COMFYUI_WORKFLOW},lang:"json",onChange:Xe=>{m(d,e(d).COMFYUI_WORKFLOW=Xe)},onSave:()=>{},get show(){return e(S)},set show(Xe){c(S,Xe)},$$legacy:!0});var dt=l(ye);t(z),t(se);var it=l(se,2);{var ze=Xe=>{var mt=lo(),jt=a(mt),Ot=a(jt),ua=a(Ot),ea=a(ua,!0);t(ua),t(Ot),t(jt);var ga=l(jt,2);Za(ga,5,()=>e(A),dr,(ot,Ct,nt)=>{var It=ro(),Jt=a(It),ya=a(Jt),Na=a(ya);t(ya),t(Jt);var ur=l(Jt,2),qa=a(ur),Ua=a(qa);{let nr=R(()=>r().t("Input Key (e.g. text, unet_name, steps)"));lt(Ua,{get content(){return e(nr)},children:(yr,rr)=>{var Da=to();J(Da),u(Ka=>T(Da,"placeholder",Ka),[()=>r().t("Key")]),X(Da,()=>e(Ct).key,Ka=>(e(Ct).key=Ka,Pa(()=>e(A)))),v(yr,Da)},$$slots:{default:!0}})}t(qa);var fa=l(qa,4),za=a(fa);{let nr=R(()=>r().t("Comma separated Node Ids (e.g. 1 or 1,2)"));lt(za,{get content(){return e(nr)},placement:"top-start",children:(yr,rr)=>{var Da=ao();J(Da),u(Ka=>T(Da,"placeholder",Ka),[()=>r().t("Node Ids")]),X(Da,()=>e(Ct).node_ids,Ka=>(e(Ct).node_ids=Ka,Pa(()=>e(A)))),v(yr,Da)},$$slots:{default:!0}})}t(fa),t(ur),t(It),u(()=>s(Na,`${e(Ct).type??""}${e(Ct).type==="prompt"?"*":""}`)),v(ot,It)}),t(ga);var $a=l(ga,2),Je=a($a,!0);t($a),t(mt),u((ot,Ct)=>{s(ea,ot),s(Je,Ct)},[()=>r().t("ComfyUI Workflow Nodes"),()=>r().t("*Prompt node ID(s) are required for image generation")]),v(Xe,mt)};g(it,Xe=>{e(d).COMFYUI_WORKFLOW&&Xe(ze)})}u((Xe,mt,jt,Ot,ua)=>{s(pe,Xe),T(b,"placeholder",mt),s(h,jt),s(xe,Ot),s(dt,` ${ua??""}`)},[()=>r().t("ComfyUI Base URL"),()=>r().t("Enter URL (e.g. http://127.0.0.1:7860/)"),()=>r().t("ComfyUI API Key"),()=>r().t("ComfyUI Workflow"),()=>r().t("Make sure to export a workflow.json file as API format from ComfyUI.")]),X(b,()=>e(d).COMFYUI_BASE_URL,Xe=>m(d,e(d).COMFYUI_BASE_URL=Xe)),We("click",K,async()=>{await H(),await ri(localStorage.token).catch(mt=>(Ee.error(`${mt}`),null))&&Ee.success(r().t("Server connection verified"))}),We("change",Y,Xe=>{const mt=Xe.target.files[0],jt=new FileReader;jt.onload=Ot=>{m(d,e(d).COMFYUI_WORKFLOW=Ot.target.result),Ot.target.value=null},jt.readAsText(mt)}),v(de,je)},j=de=>{var je=et(),ke=O(je);{var Oe=G=>{var Z=so(),pe=O(Z),oe=a(pe),ae=a(oe),b=a(ae),K=a(b,!0);t(b),t(ae);var L=l(ae,2),_e=a(L),Ie=a(_e);J(Ie),t(_e),t(L),t(oe),t(pe);var re=l(pe,2),h=a(re),I=a(h),F=a(I),$e=a(F,!0);t(F),t(I);var se=l(I,2),Y=a(se),st=a(Y);{let z=R(()=>r().t("API Key"));sa(st,{inputClassName:"text-right w-full",get placeholder(){return e(z)},required:!0,get value(){return e(d).IMAGES_GEMINI_API_KEY},set value(ye){m(d,e(d).IMAGES_GEMINI_API_KEY=ye)},$$legacy:!0})}t(Y),t(se),t(h),t(re);var Ye=l(re,2),Re=a(Ye),xe=a(Re),rt=a(xe),Lt=a(rt,!0);t(rt),t(xe);var ht=l(xe,2);u(()=>{e(d),Pa(()=>{r()})});var bt=a(ht);bt.value=bt.__value="predict";var be=l(bt);be.value=be.__value="generateContent",t(ht),t(Re),t(Ye),u((z,ye,dt,it,ze)=>{s(K,z),T(Ie,"placeholder",ye),s($e,dt),s(Lt,it),T(ht,"placeholder",ze)},[()=>r().t("Gemini Base URL"),()=>r().t("API Base URL"),()=>r().t("Gemini API Key"),()=>r().t("Gemini Endpoint Method"),()=>r().t("Select Method")]),X(Ie,()=>e(d).IMAGES_GEMINI_API_BASE_URL,z=>m(d,e(d).IMAGES_GEMINI_API_BASE_URL=z)),or(ht,()=>e(d).IMAGES_GEMINI_ENDPOINT_METHOD,z=>m(d,e(d).IMAGES_GEMINI_ENDPOINT_METHOD=z)),v(G,Z)};g(ke,G=>{var Z;((Z=e(d))==null?void 0:Z.IMAGE_GENERATION_ENGINE)==="gemini"&&G(Oe)},!0)}v(de,je)};g(He,de=>{var je;((je=e(d))==null?void 0:je.IMAGE_GENERATION_ENGINE)==="comfyui"?de(P):de(j,!1)},!0)}v(Me,Te)};g(Ce,Me=>{var Te;(((Te=e(d))==null?void 0:Te.IMAGE_GENERATION_ENGINE)??"automatic1111")==="automatic1111"?Me(Le):Me(Pe,!1)},!0)}v(ie,ce)};g(Qe,ie=>{var ce;((ce=e(d))==null?void 0:ce.IMAGE_GENERATION_ENGINE)==="openai"?ie(Dt):ie(Rt,!1)})}t(W);var Xt=l(W,2),ct=a(Xt),aa=a(ct,!0);t(ct);var ha=l(ct,4),Ya=a(ha),na=a(Ya),Kt=a(na),kt=a(Kt,!0);t(Kt),t(na);var va=l(na,2);ta(va,{get state(){return e(d).ENABLE_IMAGE_EDIT},set state(ie){m(d,e(d).ENABLE_IMAGE_EDIT=ie)},$$legacy:!0}),t(Ya),t(ha);var Et=l(ha,2);{var Ue=ie=>{var ce=co(),Ce=O(ce),Le=a(Ce),Pe=a(Le),Me=a(Pe),Te=a(Me,!0);t(Me),t(Pe);var He=l(Pe,2);{let G=R(()=>r().t("Enter Model ID"));lt(He,{get content(){return e(G)},placement:"top-start",children:(Z,pe)=>{var oe=oo(),ae=O(oe);J(ae);var b=l(ae,2);Za(b,5,()=>e(o)??[],dr,(K,L)=>{var _e=vo(),Ie=a(_e,!0);t(_e);var re={};u(()=>{s(Ie,e(L).name),re!==(re=e(L).id)&&(_e.value=(_e.__value=e(L).id)??"")}),v(K,_e)}),t(b),u(K=>T(ae,"placeholder",K),[()=>r().t("Select a model")]),X(ae,()=>e(d).IMAGE_EDIT_MODEL,K=>m(d,e(d).IMAGE_EDIT_MODEL=K)),v(Z,oe)},$$slots:{default:!0}})}t(Le),t(Ce);var P=l(Ce,2),j=a(P),de=a(j),je=a(de),ke=a(je,!0);t(je),t(de);var Oe=l(de,2);{let G=R(()=>r().t("Enter Image Size (e.g. 512x512)"));lt(Oe,{get content(){return e(G)},placement:"top-start",children:(Z,pe)=>{var oe=no();J(oe),u(ae=>T(oe,"placeholder",ae),[()=>r().t("Enter Image Size (e.g. 512x512)")]),X(oe,()=>e(d).IMAGE_EDIT_SIZE,ae=>m(d,e(d).IMAGE_EDIT_SIZE=ae)),v(Z,oe)},$$slots:{default:!0}})}t(j),t(P),u((G,Z)=>{s(Te,G),s(ke,Z)},[()=>r().t("Model"),()=>r().t("Image Size")]),v(ie,ce)};g(Et,ie=>{var ce,Ce;(ce=e(d))!=null&&ce.ENABLE_IMAGE_GENERATION&&((Ce=e(d))!=null&&Ce.ENABLE_IMAGE_EDIT)&&ie(Ue)})}var Mt=l(Et,2),Gt=a(Mt),da=a(Gt),ka=a(da),ba=a(ka,!0);t(ka),t(da);var Yt=l(da,2);u(()=>{e(d),Pa(()=>{r()})});var Wt=a(Yt),yt=a(Wt,!0);t(Wt),Wt.value=Wt.__value="openai";var Zt=l(Wt),Ht=a(Zt,!0);t(Zt),Zt.value=Zt.__value="comfyui";var Ze=l(Zt),Q=a(Ze,!0);t(Ze),Ze.value=Ze.__value="gemini",t(Yt),t(Gt),t(Mt);var at=l(Mt,2);{var ut=ie=>{var ce=uo(),Ce=O(ce),Le=a(Ce),Pe=a(Le),Me=a(Pe),Te=a(Me,!0);t(Me),t(Pe);var He=l(Pe,2),P=a(He),j=a(P);J(j),t(P),t(He),t(Le),t(Ce);var de=l(Ce,2),je=a(de),ke=a(je),Oe=a(ke),G=a(Oe,!0);t(Oe),t(ke);var Z=l(ke,2),pe=a(Z),oe=a(pe);{let I=R(()=>r().t("API Key"));sa(oe,{inputClassName:"text-right w-full",get placeholder(){return e(I)},required:!1,get value(){return e(d).IMAGES_EDIT_OPENAI_API_KEY},set value(F){m(d,e(d).IMAGES_EDIT_OPENAI_API_KEY=F)},$$legacy:!0})}t(pe),t(Z),t(je),t(de);var ae=l(de,2),b=a(ae),K=a(b),L=a(K),_e=a(L,!0);t(L),t(K);var Ie=l(K,2),re=a(Ie),h=a(re);J(h),t(re),t(Ie),t(b),t(ae),u((I,F,$e,se,Y)=>{s(Te,I),T(j,"placeholder",F),s(G,$e),s(_e,se),T(h,"placeholder",Y)},[()=>r().t("OpenAI API Base URL"),()=>r().t("API Base URL"),()=>r().t("OpenAI API Key"),()=>r().t("OpenAI API Version"),()=>r().t("API Version")]),X(j,()=>e(d).IMAGES_EDIT_OPENAI_API_BASE_URL,I=>m(d,e(d).IMAGES_EDIT_OPENAI_API_BASE_URL=I)),X(h,()=>e(d).IMAGES_EDIT_OPENAI_API_VERSION,I=>m(d,e(d).IMAGES_EDIT_OPENAI_API_VERSION=I)),v(ie,ce)},xt=ie=>{var ce=et(),Ce=O(ce);{var Le=Me=>{var Te=Eo(),He=O(Te),P=a(He),j=a(P),de=a(j),je=a(de,!0);t(de),t(j);var ke=l(j,2),Oe=a(ke),G=a(Oe);J(G),t(Oe);var Z=l(Oe,2);t(ke),t(P),t(He);var pe=l(He,2),oe=a(pe),ae=a(oe),b=a(ae),K=a(b,!0);t(b),t(ae);var L=l(ae,2),_e=a(L),Ie=a(_e);{let z=R(()=>r().t("sk-1234"));sa(Ie,{inputClassName:"text-right w-full",get placeholder(){return e(z)},required:!1,get value(){return e(d).IMAGES_EDIT_COMFYUI_API_KEY},set value(ye){m(d,e(d).IMAGES_EDIT_COMFYUI_API_KEY=ye)},$$legacy:!0})}t(_e),t(L),t(oe),t(pe);var re=l(pe,2),h=a(re),I=l(h,2),F=a(I),$e=a(F),se=a($e,!0);t($e),t(F);var Y=l(F,2),st=a(Y),Ye=a(st);{var Re=z=>{var ye=_o(),dt=a(ye,!0);t(ye),u((it,ze)=>{T(ye,"aria-label",it),s(dt,ze)},[()=>r().t("Edit workflow.json content"),()=>r().t("Edit")]),We("click",ye,()=>{c(C,!0)}),v(z,ye)};g(Ye,z=>{e(d).IMAGES_EDIT_COMFYUI_WORKFLOW&&z(Re)})}var xe=l(Ye,2);{let z=R(()=>r().t("Click here to upload a workflow.json file."));lt(xe,{get content(){return e(z)},children:(ye,dt)=>{var it=fo(),ze=a(it,!0);t(it),u((Xe,mt)=>{T(it,"aria-label",Xe),s(ze,mt)},[()=>r().t("Click here to upload a workflow.json file."),()=>r().t("Upload")]),We("click",it,()=>{var Xe;(Xe=document.getElementById("upload-comfyui-edit-workflow-input"))==null||Xe.click()}),v(ye,it)},$$slots:{default:!0}})}t(st),t(Y),t(I);var rt=l(I,2),Lt=a(rt);yi(Lt,{get value(){return e(d).IMAGES_EDIT_COMFYUI_WORKFLOW},lang:"json",onChange:z=>{m(d,e(d).IMAGES_EDIT_COMFYUI_WORKFLOW=z)},onSave:()=>{},get show(){return e(C)},set show(z){c(C,z)},$$legacy:!0});var ht=l(Lt);t(rt),t(re);var bt=l(re,2);{var be=z=>{var ye=xo(),dt=a(ye),it=a(dt),ze=a(it),Xe=a(ze,!0);t(ze),t(it),t(dt);var mt=l(dt,2);Za(mt,5,()=>e(E),dr,(ua,ea,ga)=>{var $a=go(),Je=a($a),ot=a(Je),Ct=a(ot);t(ot),t(Je);var nt=l(Je,2),It=a(nt),Jt=a(It);{let ur=R(()=>r().t("Input Key (e.g. text, unet_name, steps)"));lt(Jt,{get content(){return e(ur)},children:(qa,Ua)=>{var fa=po();J(fa),u(za=>T(fa,"placeholder",za),[()=>r().t("Key")]),X(fa,()=>e(ea).key,za=>(e(ea).key=za,Pa(()=>e(E)))),v(qa,fa)},$$slots:{default:!0}})}t(It);var ya=l(It,4),Na=a(ya);{let ur=R(()=>r().t("Comma separated Node Ids (e.g. 1 or 1,2)"));lt(Na,{get content(){return e(ur)},placement:"top-start",children:(qa,Ua)=>{var fa=mo();J(fa),u(za=>T(fa,"placeholder",za),[()=>r().t("Node Ids")]),X(fa,()=>e(ea).node_ids,za=>(e(ea).node_ids=za,Pa(()=>e(E)))),v(qa,fa)},$$slots:{default:!0}})}t(ya),t(nt),t($a),u(ur=>s(Ct,`${e(ea).type??""}${ur??""}`),[()=>["prompt","image"].includes(e(ea).type)?"*":""]),v(ua,$a)}),t(mt);var jt=l(mt,2),Ot=a(jt,!0);t(jt),t(ye),u((ua,ea)=>{s(Xe,ua),s(Ot,ea)},[()=>r().t("ComfyUI Workflow Nodes"),()=>r().t("*Prompt node ID(s) are required for image generation")]),v(z,ye)};g(bt,z=>{e(d).IMAGES_EDIT_COMFYUI_WORKFLOW&&z(be)})}u((z,ye,dt,it,ze)=>{s(je,z),T(G,"placeholder",ye),s(K,dt),s(se,it),s(ht,` ${ze??""}`)},[()=>r().t("ComfyUI Base URL"),()=>r().t("Enter URL (e.g. http://127.0.0.1:7860/)"),()=>r().t("ComfyUI API Key"),()=>r().t("ComfyUI Workflow"),()=>r().t("Make sure to export a workflow.json file as API format from ComfyUI.")]),X(G,()=>e(d).IMAGES_EDIT_COMFYUI_BASE_URL,z=>m(d,e(d).IMAGES_EDIT_COMFYUI_BASE_URL=z)),We("click",Z,async()=>{await H(),await ri(localStorage.token).catch(ye=>(Ee.error(`${ye}`),null))&&Ee.success(r().t("Server connection verified"))}),We("change",h,z=>{const ye=z.target.files[0],dt=new FileReader;dt.onload=it=>{m(d,e(d).IMAGES_EDIT_COMFYUI_WORKFLOW=it.target.result),it.target.value=null},dt.readAsText(ye)}),v(Me,Te)},Pe=Me=>{var Te=et(),He=O(Te);{var P=j=>{var de=yo(),je=O(de),ke=a(je),Oe=a(ke),G=a(Oe),Z=a(G,!0);t(G),t(Oe);var pe=l(Oe,2),oe=a(pe),ae=a(oe);J(ae),t(oe),t(pe),t(ke),t(je);var b=l(je,2),K=a(b),L=a(K),_e=a(L),Ie=a(_e,!0);t(_e),t(L);var re=l(L,2),h=a(re),I=a(h);{let F=R(()=>r().t("API Key"));sa(I,{inputClassName:"text-right w-full",get placeholder(){return e(F)},required:!0,get value(){return e(d).IMAGES_EDIT_GEMINI_API_KEY},set value($e){m(d,e(d).IMAGES_EDIT_GEMINI_API_KEY=$e)},$$legacy:!0})}t(h),t(re),t(K),t(b),u((F,$e,se)=>{s(Z,F),T(ae,"placeholder",$e),s(Ie,se)},[()=>r().t("Gemini Base URL"),()=>r().t("API Base URL"),()=>r().t("Gemini API Key")]),X(ae,()=>e(d).IMAGES_EDIT_GEMINI_API_BASE_URL,F=>m(d,e(d).IMAGES_EDIT_GEMINI_API_BASE_URL=F)),v(j,de)};g(He,j=>{var de;((de=e(d))==null?void 0:de.IMAGE_EDIT_ENGINE)==="gemini"&&j(P)},!0)}v(Me,Te)};g(Ce,Me=>{var Te;((Te=e(d))==null?void 0:Te.IMAGE_EDIT_ENGINE)==="comfyui"?Me(Le):Me(Pe,!1)},!0)}v(ie,ce)};g(at,ie=>{var ce;((ce=e(d))==null?void 0:ce.IMAGE_EDIT_ENGINE)==="openai"?ie(ut):ie(xt,!1)})}t(Xt),t(x),u((ie,ce,Ce,Le,Pe,Me,Te,He,P,j,de,je,ke,Oe,G,Z)=>{s(ne,ie),s(fe,ce),s(gt,Ce),s(qt,Le),T(Qt,"placeholder",Pe),s(Ke,Me),s(_t,Te),s(Ve,He),s(ft,P),s(aa,j),s(kt,de),s(ba,je),T(Yt,"placeholder",ke),s(yt,Oe),s(Ht,G),s(Q,Z)},[()=>r().t("General"),()=>r().t("Image Generation"),()=>r().t("Create Image"),()=>r().t("Image Generation Engine"),()=>r().t("Select Engine"),()=>r().t("Default (Open AI)"),()=>r().t("ComfyUI"),()=>r().t("Automatic1111"),()=>r().t("Gemini"),()=>r().t("Edit Image"),()=>r().t("Image Edit"),()=>r().t("Image Edit Engine"),()=>r().t("Select Engine"),()=>r().t("Default (Open AI)"),()=>r().t("ComfyUI"),()=>r().t("Gemini")]),or(Qt,()=>e(d).IMAGE_GENERATION_ENGINE,ie=>m(d,e(d).IMAGE_GENERATION_ENGINE=ie)),or(Yt,()=>e(d).IMAGE_EDIT_ENGINE,ie=>m(d,e(d).IMAGE_EDIT_ENGINE=ie)),v(U,x)};g(Se,U=>{e(d)&&U(n)})}t(he);var te=l(he,2),B=a(te),me=a(B),V=l(me);{var ue=U=>{var x=bo(),M=a(x);Qr(M,{}),t(x),v(U,x)};g(V,U=>{e(Ne)&&U(ue)})}t(B),t(te),t(Ae),u(U=>{qr(B,1,`px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center ${e(Ne)?" cursor-not-allowed":""}`),B.disabled=e(Ne),s(me,`${U??""} `)},[()=>r().t("Save")]),We("submit",Ae,il(async()=>{ee()})),v(wt,Ae),wr(),Bt()}var Io=Lr('<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 6.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 12.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 18.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5Z"></path></svg>');function ki(wt,q){let r=oa(q,"className",8,"w-4 h-4"),f=oa(q,"strokeWidth",8,"1.5");var p=Io();u(()=>{T(p,"stroke-width",f()),qr(p,0,ii(r()))}),v(wt,p)}var $o=_('<option selected disabled class="text-gray-900"> </option>'),Ro=_('<div class=" flex justify-between items-start -ml-1"><!> <div class="flex flex-row flex-1 gap-2 items-start"><select class="w-fit capitalize rounded-xl text-xs bg-transparent outline-hidden pl-1 pr-5" required><!><option class="text-gray-900"> </option><option class="text-gray-900"> </option><option class="text-gray-900"> </option><option class="text-gray-900"> </option></select> <!> <div class="relative -left-2"><!></div></div> <button class="pr-3" type="button"><!></button></div>'),No=_("<div></div>");function To(wt,q){br(q,!1);const r=()=>la(Bt,"$i18n",f),[f,p]=Nr(),Bt=Ar("i18n");let Be=oa(q,"banners",28,()=>[]),y=null,Ne=k(null);const o=()=>{const A=Array.from(e(Ne).children).map(C=>C.id.replace("banner-item-",""));Be(A.map(C=>{const E=Be().findIndex(w=>w.id===C);return Be()[E]}))},d=()=>{y&&y.destroy(),e(Ne)&&(y=new Ii(e(Ne),{animation:150,handle:".item-handle",onUpdate:async A=>{o()}}))};ml(()=>fr(Be()),()=>{Be()&&d()}),Al(),Rr();var S=No();Za(S,7,Be,A=>A.id,(A,C,E)=>{var w=Ro(),H=a(w);ki(H,{className:"size-4 cursor-move item-handle"});var D=l(H,2),ee=a(D);u(()=>{e(C),Pa(()=>{r()})});var Ae=a(ee);{var he=N=>{var ge=$o(),qe=a(ge,!0);t(ge),ge.value=ge.__value="",u(fe=>s(qe,fe),[()=>(r(),i(()=>r().t("Type")))]),v(N,ge)};g(Ae,N=>{e(C),i(()=>e(C).type=="")&&N(he)})}var Se=l(Ae),n=a(Se,!0);t(Se),Se.value=Se.__value="info";var te=l(Se),B=a(te,!0);t(te),te.value=te.__value="warning";var me=l(te),V=a(me,!0);t(me),me.value=me.__value="error";var ue=l(me),U=a(ue,!0);t(ue),ue.value=ue.__value="success",t(ee);var x=l(ee,2);{let N=R(()=>(r(),i(()=>r().t("Content"))));Zr(x,{className:"mr-2 text-xs w-full bg-transparent outline-hidden resize-none",get placeholder(){return e(N)},maxSize:100,get value(){return e(C).content},set value(ge){e(C).content=ge,Pa(()=>Be())},$$legacy:!0})}var M=l(x,2),le=a(M);{let N=R(()=>(r(),i(()=>r().t("Remember Dismissal"))));lt(le,{get content(){return e(N)},className:"flex h-fit items-center",children:(ge,qe)=>{ta(ge,{get state(){return e(C).dismissible},set state(fe){e(C).dismissible=fe,Pa(()=>Be())},$$legacy:!0})},$$slots:{default:!0}})}t(M),t(D);var ne=l(D,2),ve=a(ne);Sl(ve,{className:"size-4"}),t(ne),t(w),u((N,ge,qe,fe)=>{T(w,"id",`banner-item-${e(C),i(()=>e(C).id)??""}`),s(n,N),s(B,ge),s(V,qe),s(U,fe)},[()=>(r(),i(()=>r().t("Info"))),()=>(r(),i(()=>r().t("Warning"))),()=>(r(),i(()=>r().t("Error"))),()=>(r(),i(()=>r().t("Success")))]),or(ee,()=>e(C).type,N=>(e(C).type=N,Pa(()=>Be()))),We("click",ne,()=>{Be().splice(e(E),1),Be(Be())}),v(A,w)}),t(S),Tl(S,A=>c(Ne,A),()=>e(Ne)),u(()=>qr(S,1,` flex flex-col gap-3 ${fr(Be()),i(()=>{var A;return((A=Be())==null?void 0:A.length)>0?"mt-2":""})??""}`)),v(wt,S),wr(),p()}var So=Lr('<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-3.5"><path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"></path></svg>'),ko=_('<option class="bg-gray-100 dark:bg-gray-700"> </option>'),Oo=_('<option class="bg-gray-100 dark:bg-gray-700"> </option>'),Lo=_('<div class="mb-2.5"><div class=" mb-1 text-xs font-medium"> </div> <!></div>'),Po=_('<div class="mb-2.5"><div class=" mb-1 text-xs font-medium"> </div> <!></div>'),Mo=_('<div class="mb-2.5"><div class=" mb-1 text-xs font-medium"> </div> <!></div>'),Co=_('<div class="mb-2.5"><div class=" mb-1 text-xs font-medium"> </div> <!></div>'),Uo=_('<input class="w-full outline-hidden bg-transparent"/>'),Do=_('<div class="mb-2.5"><div class=" mb-1 text-xs font-medium"> </div> <!></div>'),Go=_('<div class="text-xs text-left w-full mt-2"> </div>'),Bo=_("<!> <!>",1),Ho=_('<form class="flex flex-col h-full justify-between space-y-3 text-sm"><div class="  overflow-y-scroll scrollbar-hidden h-full pr-1.5"><div class="mb-3.5"><div class=" mt-0.5 mb-2.5 text-base font-medium"> </div> <hr class=" border-gray-100/30 dark:border-gray-850/30 my-2"/> <div class=" mb-2 font-medium flex items-center"><div class=" text-xs mr-1"> </div> <!></div> <div class=" mb-2.5 flex w-full gap-2"><div class="flex-1"><div class=" text-xs mb-1"> </div> <select class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"><option selected> </option><!></select></div> <div class="flex-1"><div class=" text-xs mb-1"> </div> <select class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"><option selected> </option><!></select></div></div> <div class="mb-2.5 flex w-full items-center justify-between"><div class=" self-center text-xs font-medium"> </div> <!></div> <!> <div class="mb-2.5 flex w-full items-center justify-between"><div class=" self-center text-xs font-medium"> </div> <!></div> <!> <div class="mb-2.5 flex w-full items-center justify-between"><div class=" self-center text-xs font-medium"> </div> <!></div> <!> <div class="mb-2.5 flex w-full items-center justify-between"><div class=" self-center text-xs font-medium"> </div> <!></div> <!> <div class="mb-2.5 flex w-full items-center justify-between"><div class=" self-center text-xs font-medium"> </div> <!></div> <div class="mb-2.5 flex w-full items-center justify-between"><div class=" self-center text-xs font-medium"> </div> <!></div> <div class="mb-2.5"><div class=" mb-1 text-xs font-medium"> </div> <!></div> <div class="mb-2.5 flex w-full items-center justify-between"><div class=" self-center text-xs font-medium"> </div> <!></div> <!> <div class="mb-2.5"><div class=" mb-1 text-xs font-medium"> </div> <!></div> <div class="mb-2.5"><div class=" mb-1 text-xs font-medium"> </div> <!></div></div> <div class="mb-3.5"><div class=" mt-0.5 mb-2.5 text-base font-medium"> </div> <hr class=" border-gray-100/30 dark:border-gray-850/30 my-2"/> <div class="mb-2.5"><div class="flex w-full justify-between"><div class=" self-center text-xs"> </div> <button class="p-1 px-3 text-xs flex rounded-sm transition" type="button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"></path></svg></button></div> <!></div> <!></div></div> <div class="flex justify-end text-sm font-medium"><button class="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full" type="submit"> </button></div></form>'),jo=_('<div class=" h-full w-full flex justify-center items-center"><!></div>');function Ko(wt,q){br(q,!1);const r=()=>la(Jr,"$config",Bt),f=()=>la(o,"$i18n",Bt),p=()=>la(Nl,"$user",Bt),[Bt,Be]=Nr(),{saveAs:y}=vi,Ne=cl(),o=Ar("i18n");let d=k({TASK_MODEL:"",TASK_MODEL_EXTERNAL:"",ENABLE_TITLE_GENERATION:!0,TITLE_GENERATION_PROMPT_TEMPLATE:"",ENABLE_FOLLOW_UP_GENERATION:!0,FOLLOW_UP_GENERATION_PROMPT_TEMPLATE:"",IMAGE_PROMPT_GENERATION_PROMPT_TEMPLATE:"",ENABLE_AUTOCOMPLETE_GENERATION:!0,AUTOCOMPLETE_GENERATION_INPUT_MAX_LENGTH:-1,TAGS_GENERATION_PROMPT_TEMPLATE:"",ENABLE_TAGS_GENERATION:!0,ENABLE_SEARCH_QUERY_GENERATION:!0,ENABLE_RETRIEVAL_QUERY_GENERATION:!0,QUERY_GENERATION_PROMPT_TEMPLATE:"",TOOLS_FUNCTION_CALLING_PROMPT_TEMPLATE:"",VOICE_MODE_PROMPT_TEMPLATE:""}),S=k([]),A=k([]);const C=async()=>{c(d,await ts(localStorage.token,e(d))),c(S,e(S).filter(te=>te.content!=="")),c(S,await ns(localStorage.token,e(S))),await E(),await Jr.set(await pl())},E=async()=>{ji.set(await cs(localStorage.token,e(A)))};let w=null,H=null,D=k(null);const ee=async()=>{var te;c(d,await es(localStorage.token)),c(S,((te=r())==null?void 0:te.default_prompt_suggestions)??[]),c(A,await os(localStorage.token)),w=await wi(localStorage.token),H=await al(localStorage.token,null,!1),c(D,H.map(B=>{const me=w.find(V=>V.id===B.id);return me?{...B,...me}:{...B,id:B.id,name:B.name,is_active:!0}})),e(D)};rl(async()=>{await ee()}),Rr();var Ae=et(),he=O(Ae);{var Se=te=>{var B=Ho(),me=a(B),V=a(me),ue=a(V),U=a(ue,!0);t(ue);var x=l(ue,4),M=a(x),le=a(M,!0);t(M);var ne=l(M,2);{let h=R(()=>f().t("A task model is used when performing tasks such as generating titles for chats and web search queries"));lt(ne,{get content(){return e(h)},children:(I,F)=>{var $e=So();v(I,$e)},$$slots:{default:!0}})}t(x);var ve=l(x,2),N=a(ve),ge=a(N),qe=a(ge,!0);t(ge);var fe=l(ge,2);u(()=>{e(d),Pa(()=>{f(),e(D)})});var $=a(fe),W=a($,!0);t($),$.value=$.__value="";var Fe=l($);Za(Fe,1,()=>e(D),dr,(h,I)=>{var F=ko(),$e=a(F);t(F);var se={};u(Y=>{s($e,`${e(I).name??""}
									${Y??""}`),se!==(se=e(I).id)&&(F.value=(F.__value=e(I).id)??"")},[()=>{var Y;return((Y=e(I))==null?void 0:Y.connection_type)==="local"?`(${f().t("Local")})`:""}]),v(h,F)}),t(fe),t(N);var gt=l(N,2),Tt=a(gt),St=a(Tt,!0);t(Tt);var _a=l(Tt,2);u(()=>{e(d),Pa(()=>{f(),e(D)})});var Vt=a(_a),ca=a(Vt,!0);t(Vt),Vt.value=Vt.__value="";var ma=l(Vt);Za(ma,1,()=>e(D),dr,(h,I)=>{var F=Oo(),$e=a(F);t(F);var se={};u(Y=>{s($e,`${e(I).name??""}
									${Y??""}`),se!==(se=e(I).id)&&(F.value=(F.__value=e(I).id)??"")},[()=>{var Y;return((Y=e(I))==null?void 0:Y.connection_type)==="local"?`(${f().t("Local")})`:""}]),v(h,F)}),t(_a),t(gt),t(ve);var qt=l(ve,2),Qt=a(qt),we=a(Qt,!0);t(Qt);var Ke=l(Qt,2);ta(Ke,{get state(){return e(d).ENABLE_TITLE_GENERATION},set state(h){m(d,e(d).ENABLE_TITLE_GENERATION=h)},$$legacy:!0}),t(qt);var vt=l(qt,2);{var _t=h=>{var I=Lo(),F=a(I),$e=a(F,!0);t(F);var se=l(F,2);{let Y=R(()=>f().t("Leave empty to use the default prompt, or enter a custom prompt"));lt(se,{get content(){return e(Y)},placement:"top-start",children:(st,Ye)=>{{let Re=R(()=>f().t("Leave empty to use the default prompt, or enter a custom prompt"));Zr(st,{get placeholder(){return e(Re)},get value(){return e(d).TITLE_GENERATION_PROMPT_TEMPLATE},set value(xe){m(d,e(d).TITLE_GENERATION_PROMPT_TEMPLATE=xe)},$$legacy:!0})}},$$slots:{default:!0}})}t(I),u(Y=>s($e,Y),[()=>f().t("Title Generation Prompt")]),v(h,I)};g(vt,h=>{e(d).ENABLE_TITLE_GENERATION&&h(_t)})}var De=l(vt,2),Ve=a(De),tt=a(Ve,!0);t(Ve);var ft=l(Ve,2);{let h=R(()=>e(d).VOICE_MODE_PROMPT_TEMPLATE!=null);ta(ft,{get state(){return e(h)},$$events:{change:I=>{I.detail?m(d,e(d).VOICE_MODE_PROMPT_TEMPLATE=""):m(d,e(d).VOICE_MODE_PROMPT_TEMPLATE=null)}}})}t(De);var Qe=l(De,2);{var Dt=h=>{var I=Po(),F=a(I),$e=a(F,!0);t(F);var se=l(F,2);{let Y=R(()=>f().t("Leave empty to use the default prompt, or enter a custom prompt"));lt(se,{get content(){return e(Y)},placement:"top-start",children:(st,Ye)=>{{let Re=R(()=>f().t("Leave empty to use the default prompt, or enter a custom prompt"));Zr(st,{get placeholder(){return e(Re)},get value(){return e(d).VOICE_MODE_PROMPT_TEMPLATE},set value(xe){m(d,e(d).VOICE_MODE_PROMPT_TEMPLATE=xe)},$$legacy:!0})}},$$slots:{default:!0}})}t(I),u(Y=>s($e,Y),[()=>f().t("Voice Mode Prompt")]),v(h,I)};g(Qe,h=>{e(d).VOICE_MODE_PROMPT_TEMPLATE!=null&&h(Dt)})}var Rt=l(Qe,2),Xt=a(Rt),ct=a(Xt,!0);t(Xt);var aa=l(Xt,2);ta(aa,{get state(){return e(d).ENABLE_FOLLOW_UP_GENERATION},set state(h){m(d,e(d).ENABLE_FOLLOW_UP_GENERATION=h)},$$legacy:!0}),t(Rt);var ha=l(Rt,2);{var Ya=h=>{var I=Mo(),F=a(I),$e=a(F,!0);t(F);var se=l(F,2);{let Y=R(()=>f().t("Leave empty to use the default prompt, or enter a custom prompt"));lt(se,{get content(){return e(Y)},placement:"top-start",children:(st,Ye)=>{{let Re=R(()=>f().t("Leave empty to use the default prompt, or enter a custom prompt"));Zr(st,{get placeholder(){return e(Re)},get value(){return e(d).FOLLOW_UP_GENERATION_PROMPT_TEMPLATE},set value(xe){m(d,e(d).FOLLOW_UP_GENERATION_PROMPT_TEMPLATE=xe)},$$legacy:!0})}},$$slots:{default:!0}})}t(I),u(Y=>s($e,Y),[()=>f().t("Follow Up Generation Prompt")]),v(h,I)};g(ha,h=>{e(d).ENABLE_FOLLOW_UP_GENERATION&&h(Ya)})}var na=l(ha,2),Kt=a(na),kt=a(Kt,!0);t(Kt);var va=l(Kt,2);ta(va,{get state(){return e(d).ENABLE_TAGS_GENERATION},set state(h){m(d,e(d).ENABLE_TAGS_GENERATION=h)},$$legacy:!0}),t(na);var Et=l(na,2);{var Ue=h=>{var I=Co(),F=a(I),$e=a(F,!0);t(F);var se=l(F,2);{let Y=R(()=>f().t("Leave empty to use the default prompt, or enter a custom prompt"));lt(se,{get content(){return e(Y)},placement:"top-start",children:(st,Ye)=>{{let Re=R(()=>f().t("Leave empty to use the default prompt, or enter a custom prompt"));Zr(st,{get placeholder(){return e(Re)},get value(){return e(d).TAGS_GENERATION_PROMPT_TEMPLATE},set value(xe){m(d,e(d).TAGS_GENERATION_PROMPT_TEMPLATE=xe)},$$legacy:!0})}},$$slots:{default:!0}})}t(I),u(Y=>s($e,Y),[()=>f().t("Tags Generation Prompt")]),v(h,I)};g(Et,h=>{e(d).ENABLE_TAGS_GENERATION&&h(Ue)})}var Mt=l(Et,2),Gt=a(Mt),da=a(Gt,!0);t(Gt);var ka=l(Gt,2);ta(ka,{get state(){return e(d).ENABLE_RETRIEVAL_QUERY_GENERATION},set state(h){m(d,e(d).ENABLE_RETRIEVAL_QUERY_GENERATION=h)},$$legacy:!0}),t(Mt);var ba=l(Mt,2),Yt=a(ba),Wt=a(Yt,!0);t(Yt);var yt=l(Yt,2);ta(yt,{get state(){return e(d).ENABLE_SEARCH_QUERY_GENERATION},set state(h){m(d,e(d).ENABLE_SEARCH_QUERY_GENERATION=h)},$$legacy:!0}),t(ba);var Zt=l(ba,2),Ht=a(Zt),Ze=a(Ht,!0);t(Ht);var Q=l(Ht,2);{let h=R(()=>f().t("Leave empty to use the default prompt, or enter a custom prompt"));lt(Q,{get content(){return e(h)},placement:"top-start",children:(I,F)=>{{let $e=R(()=>f().t("Leave empty to use the default prompt, or enter a custom prompt"));Zr(I,{get placeholder(){return e($e)},get value(){return e(d).QUERY_GENERATION_PROMPT_TEMPLATE},set value(se){m(d,e(d).QUERY_GENERATION_PROMPT_TEMPLATE=se)},$$legacy:!0})}},$$slots:{default:!0}})}t(Zt);var at=l(Zt,2),ut=a(at),xt=a(ut,!0);t(ut);var ie=l(ut,2);{let h=R(()=>f().t("Enable autocomplete generation for chat messages"));lt(ie,{get content(){return e(h)},children:(I,F)=>{ta(I,{get state(){return e(d).ENABLE_AUTOCOMPLETE_GENERATION},set state($e){m(d,e(d).ENABLE_AUTOCOMPLETE_GENERATION=$e)},$$legacy:!0})},$$slots:{default:!0}})}t(at);var ce=l(at,2);{var Ce=h=>{var I=Do(),F=a(I),$e=a(F,!0);t(F);var se=l(F,2);{let Y=R(()=>f().t("Character limit for autocomplete generation input"));lt(se,{get content(){return e(Y)},placement:"top-start",children:(st,Ye)=>{var Re=Uo();J(Re),u(xe=>T(Re,"placeholder",xe),[()=>f().t("-1 for no limit, or a positive integer for a specific limit")]),X(Re,()=>e(d).AUTOCOMPLETE_GENERATION_INPUT_MAX_LENGTH,xe=>m(d,e(d).AUTOCOMPLETE_GENERATION_INPUT_MAX_LENGTH=xe)),v(st,Re)},$$slots:{default:!0}})}t(I),u(Y=>s($e,Y),[()=>f().t("Autocomplete Generation Input Max Length")]),v(h,I)};g(ce,h=>{e(d).ENABLE_AUTOCOMPLETE_GENERATION&&h(Ce)})}var Le=l(ce,2),Pe=a(Le),Me=a(Pe,!0);t(Pe);var Te=l(Pe,2);{let h=R(()=>f().t("Leave empty to use the default prompt, or enter a custom prompt"));lt(Te,{get content(){return e(h)},placement:"top-start",children:(I,F)=>{{let $e=R(()=>f().t("Leave empty to use the default prompt, or enter a custom prompt"));Zr(I,{get placeholder(){return e($e)},get value(){return e(d).IMAGE_PROMPT_GENERATION_PROMPT_TEMPLATE},set value(se){m(d,e(d).IMAGE_PROMPT_GENERATION_PROMPT_TEMPLATE=se)},$$legacy:!0})}},$$slots:{default:!0}})}t(Le);var He=l(Le,2),P=a(He),j=a(P,!0);t(P);var de=l(P,2);{let h=R(()=>f().t("Leave empty to use the default prompt, or enter a custom prompt"));lt(de,{get content(){return e(h)},placement:"top-start",children:(I,F)=>{{let $e=R(()=>f().t("Leave empty to use the default prompt, or enter a custom prompt"));Zr(I,{get placeholder(){return e($e)},get value(){return e(d).TOOLS_FUNCTION_CALLING_PROMPT_TEMPLATE},set value(se){m(d,e(d).TOOLS_FUNCTION_CALLING_PROMPT_TEMPLATE=se)},$$legacy:!0})}},$$slots:{default:!0}})}t(He),t(V);var je=l(V,2),ke=a(je),Oe=a(ke,!0);t(ke);var G=l(ke,4),Z=a(G),pe=a(Z),oe=a(pe,!0);t(pe);var ae=l(pe,2);t(Z);var b=l(Z,2);To(b,{get banners(){return e(A)},set banners(h){c(A,h)},$$legacy:!0}),t(G);var K=l(G,2);{var L=h=>{var I=Bo(),F=O(I);Hs(F,{get promptSuggestions(){return e(S)},set promptSuggestions(Y){c(S,Y)},$$legacy:!0});var $e=l(F,2);{var se=Y=>{var st=Go(),Ye=a(st,!0);t(st),u(Re=>s(Ye,Re),[()=>f().t("Adjusting these settings will apply changes universally to all users.")]),v(Y,st)};g($e,Y=>{e(S).length>0&&Y(se)})}v(h,I)};g(K,h=>{var I;((I=p())==null?void 0:I.role)==="admin"&&h(L)})}t(je),t(me);var _e=l(me,2),Ie=a(_e),re=a(Ie,!0);t(Ie),t(_e),t(B),u((h,I,F,$e,se,Y,st,Ye,Re,xe,rt,Lt,ht,bt,be,z,ye,dt,it,ze,Xe)=>{s(U,h),s(le,I),s(qe,F),T(fe,"placeholder",$e),s(W,se),s(St,Y),T(_a,"placeholder",st),s(ca,Ye),s(we,Re),s(tt,xe),s(ct,rt),s(kt,Lt),s(da,ht),s(Wt,bt),s(Ze,be),s(xt,z),s(Me,ye),s(j,dt),s(Oe,it),s(oe,ze),s(re,Xe)},[()=>f().t("Tasks"),()=>f().t("Task Model"),()=>f().t("Local Task Model"),()=>f().t("Select a model"),()=>f().t("Current Model"),()=>f().t("External Task Model"),()=>f().t("Select a model"),()=>f().t("Current Model"),()=>f().t("Title Generation"),()=>f().t("Voice Mode Custom Prompt"),()=>f().t("Follow Up Generation"),()=>f().t("Tags Generation"),()=>f().t("Retrieval Query Generation"),()=>f().t("Web Search Query Generation"),()=>f().t("Query Generation Prompt"),()=>f().t("Autocomplete Generation"),()=>f().t("Image Prompt Generation Prompt"),()=>f().t("Tools Function Calling Prompt"),()=>f().t("UI"),()=>f().t("Banners"),()=>f().t("Save")]),or(fe,()=>e(d).TASK_MODEL,h=>m(d,e(d).TASK_MODEL=h)),We("change",fe,()=>{if(e(d).TASK_MODEL){const h=e(D).find(I=>I.id===e(d).TASK_MODEL);h?((h==null?void 0:h.access_control)!==null&&Ee.error(f().t("This model is not publicly available. Please select another model.")),m(d,e(d).TASK_MODEL=h.id)):m(d,e(d).TASK_MODEL="")}}),or(_a,()=>e(d).TASK_MODEL_EXTERNAL,h=>m(d,e(d).TASK_MODEL_EXTERNAL=h)),We("change",_a,()=>{if(e(d).TASK_MODEL_EXTERNAL){const h=e(D).find(I=>I.id===e(d).TASK_MODEL_EXTERNAL);h?((h==null?void 0:h.access_control)!==null&&Ee.error(f().t("This model is not publicly available. Please select another model.")),m(d,e(d).TASK_MODEL_EXTERNAL=h.id)):m(d,e(d).TASK_MODEL_EXTERNAL="")}}),We("click",ae,()=>{(e(A).length===0||e(A).at(-1).content!=="")&&c(A,[...e(A),{id:Ss(),type:"",title:"",content:"",dismissible:!0,timestamp:Math.floor(Date.now()/1e3)}])}),We("submit",B,il(()=>{C(),Ne("save")})),v(te,B)},n=te=>{var B=jo(),me=a(B);Qr(me,{className:"size-5"}),t(B),v(te,B)};g(he,te=>{e(D)!==null&&e(d)?te(Se):te(n,!1)})}v(wt,Ae),wr(),Be()}var Yo=_('<div class="flex items-center gap-1"><!> <div class=" text-sm flex-1 py-1 rounded-lg"><!></div></div>'),Wo=_('<div class=" flex gap-2 w-full justify-between items-center"><!></div>'),Fo=_('<div class="flex flex-col -translate-x-1"></div>'),Vo=_('<div class="text-gray-500 text-xs text-center py-2"> </div>');function Zo(wt,q){br(q,!1);const r=()=>la(Wr,"$models",p),f=()=>la(Be,"$i18n",p),[p,Bt]=Nr(),Be=Ar("i18n");let y=oa(q,"modelIds",28,()=>[]),Ne=null,o=k(null);const d=()=>{const H=Array.from(e(o).children).map(D=>D.id.replace("model-item-",""));y(H)},S=()=>{Ne&&Ne.destroy(),e(o)&&(Ne=new Ii(e(o),{animation:150,handle:".model-item-handle",onUpdate:async H=>{d()}}))};ml(()=>fr(y()),()=>{y()&&S()}),Al(),Rr();var A=et(),C=O(A);{var E=H=>{var D=Fo();Za(D,7,y,(ee,Ae)=>`${ee}-${Ae}`,(ee,Ae)=>{var he=Wo(),Se=a(he);lt(Se,{get content(){return e(Ae)},placement:"top-start",children:(n,te)=>{var B=Yo(),me=a(B);ki(me,{className:"size-4 cursor-move model-item-handle"});var V=l(me,2),ue=a(V);{var U=M=>{var le=cr();u(ne=>s(le,ne),[()=>(r(),e(Ae),i(()=>r().find(ne=>ne.id===e(Ae)).name))]),v(M,le)},x=M=>{var le=cr();u(()=>s(le,e(Ae))),v(M,le)};g(ue,M=>{r(),e(Ae),i(()=>r().find(le=>le.id===e(Ae)))?M(U):M(x,!1)})}t(V),t(B),v(n,B)},$$slots:{default:!0}}),t(he),u(()=>T(he,"id",`model-item-${e(Ae)??""}`)),v(ee,he)}),t(D),Tl(D,ee=>c(o,ee),()=>e(o)),v(H,D)},w=H=>{var D=Vo(),ee=a(D,!0);t(D),u(Ae=>s(ee,Ae),[()=>(f(),i(()=>f().t("No models found")))]),v(H,D)};g(C,H=>{fr(y()),i(()=>y().length>0)?H(E):H(w,!1)})}v(wt,A),wr(),Bt()}var zo=_('<option class="bg-gray-50 dark:bg-gray-700"> </option>'),Xo=_('<div class=" flex gap-2 w-full justify-between items-center"><div class=" text-sm flex-1 py-1 rounded-lg"> </div> <div class="shrink-0"><button type="button"><!></button></div></div>'),Jo=_('<div class="flex flex-col"></div>'),qo=_('<div class="text-gray-500 text-xs text-center py-2"> </div>'),Qo=_('<div><div class="flex flex-col w-full"><div class="mb-1 flex justify-between"><div class="text-xs text-gray-500"> </div></div> <div class="flex items-center -mr-1"><select><option> </option><!></select></div> <!></div></div>');function hi(wt,q){br(q,!1);const r=()=>la(Bt,"$i18n",f),[f,p]=Nr(),Bt=Ar("i18n");let Be=oa(q,"title",8,""),y=oa(q,"models",24,()=>[]),Ne=oa(q,"modelIds",28,()=>[]),o=k("");Rr();var d=Qo(),S=a(d),A=a(S),C=a(A),E=a(C,!0);t(C),t(A);var w=l(A,2),H=a(w);u(()=>{e(o),Pa(()=>{Ne(),r(),y()})});var D=a(H),ee=a(D,!0);t(D),D.value=D.__value="";var Ae=l(D);Za(Ae,1,y,dr,(te,B)=>{var me=et(),V=O(me);{var ue=U=>{var x=zo(),M=a(x,!0);t(x);var le={};u(()=>{s(M,(e(B),i(()=>e(B).name))),le!==(le=(e(B),i(()=>e(B).id)))&&(x.value=(x.__value=(e(B),i(()=>e(B).id)))??"")}),v(U,x)};g(V,U=>{fr(Ne()),e(B),i(()=>!Ne().includes(e(B).id))&&U(ue)})}v(te,me)}),t(H),t(w);var he=l(w,2);{var Se=te=>{var B=Jo();Za(B,5,Ne,dr,(me,V,ue)=>{var U=Xo(),x=a(U),M=a(x,!0);t(x);var le=l(x,2),ne=a(le),ve=a(ne);Ri(ve,{strokeWidth:"2",className:"size-3.5"}),t(ne),t(le),t(U),u(N=>s(M,N),[()=>(fr(y()),e(V),i(()=>{var N;return(N=y().find(ge=>ge.id===e(V)))==null?void 0:N.name}))]),We("click",ne,()=>{Ne(Ne().filter((N,ge)=>ge!==ue))}),v(me,U)}),t(B),v(te,B)},n=te=>{var B=qo(),me=a(B,!0);t(B),u(V=>s(me,V),[()=>(r(),i(()=>r().t("No models selected")))]),v(te,B)};g(he,te=>{fr(Ne()),i(()=>Ne().length>0)?te(Se):te(n,!1)})}t(S),t(d),u(te=>{s(E,Be()),qr(H,1,`dark:bg-gray-900 w-full py-1 text-sm rounded-lg bg-transparent ${e(o)?"":"text-gray-500"} placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-hidden`),s(ee,te)},[()=>(r(),i(()=>r().t("Select a model")))]),or(H,()=>e(o),te=>c(o,te)),We("change",H,()=>{e(o)&&!Ne().includes(e(o))&&Ne([...Ne(),e(o)]),c(o,"")}),v(wt,d),wr(),p()}var en=_('<div class=" flex gap-2 w-full justify-between items-center"><div class=" text-sm flex-1 py-1 rounded-lg"> </div> <div class="shrink-0"><button type="button"><!></button></div></div>'),tn=_('<div class="flex flex-col"></div>'),an=_('<div class="text-gray-500 text-xs text-center py-2"> </div>'),rn=_('<option class="bg-gray-50 dark:bg-gray-700"> </option>'),ln=_('<button class="px-3.5 py-1.5 text-sm font-medium dark:bg-black dark:hover:bg-gray-950 dark:text-white bg-white text-black hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center" type="button"> </button>'),sn=_('<div class="ml-2 self-center"><!></div>'),vn=_('<div><div class=" flex justify-between dark:text-gray-100 px-5 pt-4 pb-2"><div class=" text-lg font-medium self-center font-primary"><!></div> <button class="self-center"><!></button></div> <div class="flex flex-col md:flex-row w-full px-4 pb-4 md:space-x-4 dark:text-gray-200"><div class=" flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"><form class="flex flex-col w-full"><div class="px-1"><div class="flex justify-center pb-3"><input type="file" hidden="" accept="image/*"/> <button class="relative rounded-full w-fit h-fit shrink-0" type="button"><img class="size-16 rounded-full object-cover shrink-0" alt="Profile"/> <div class="absolute flex justify-center rounded-full bottom-0 left-0 right-0 top-0 h-full w-full overflow-hidden bg-gray-700 bg-fixed opacity-0 transition duration-300 ease-in-out hover:opacity-50"><div class="my-auto text-white"><!></div></div></button></div> <div class="flex gap-2"><div class="flex flex-col w-full"><div class=" mb-0.5 text-xs text-gray-500"> </div> <div class="flex-1"><input class="w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-hidden" type="text" autocomplete="off" required/></div></div> <div class="flex flex-col w-full"><div class=" mb-0.5 text-xs text-gray-500"> </div> <div class="flex-1"><input class="w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-hidden" type="text" autocomplete="off" required/></div></div></div> <div class="flex flex-col w-full mt-2"><div class=" mb-1 text-xs text-gray-500"> </div> <div class="flex-1"><input class="w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-hidden" type="text" autocomplete="off"/></div></div> <hr class=" border-gray-100 dark:border-gray-700/10 my-2.5 w-full"/> <div class="my-2"><!></div> <hr class=" border-gray-100 dark:border-gray-700/10 my-2.5 w-full"/> <div class="flex flex-col w-full"><div class="mb-1 flex justify-between"><div class="text-xs text-gray-500"> </div> <div><button class=" text-xs text-gray-500" type="button"><!></button></div></div> <!></div> <hr class=" border-gray-100 dark:border-gray-700/10 my-2.5 w-full"/> <div class="flex items-center"><select><option> </option><!></select> <div><button type="button"><!></button></div></div></div> <div class="flex justify-end pt-3 text-sm font-medium gap-1.5"><!> <button type="submit"> <!></button></div></form></div></div></div>'),dn=_("<!> <!>",1);function Oi(wt,q){br(q,!1);const r=()=>la(Be,"$i18n",p),f=()=>la(Wr,"$models",p),[p,Bt]=Nr(),Be=Ar("i18n"),y=cl();let Ne=oa(q,"show",12,!1),o=oa(q,"edit",8,!1),d=oa(q,"model",8,null),S=k(""),A=k("");const C=()=>{o()||c(A,e(S).toLowerCase().replace(/[^a-z0-9]/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,""))};let E=k(`${ui}/favicon.png`),w=k(""),H=k(""),D=k([]),ee=k("include"),Ae=k({}),he=k(),Se=k(!1),n=k(!1);const te=()=>{e(H)&&(c(D,[...e(D),e(H)]),c(H,""))},B=()=>{if(c(Se,!0),!e(S)||!e(A)){c(Se,!1),Ee.error(r().t("Name and ID are required, please fill them out"));return}if(!o()&&f().find(M=>M.name===e(S))){c(Se,!1),c(S,""),Ee.error(r().t("Model name already exists, please choose a different one"));return}const x={id:e(A),name:e(S),meta:{profile_image_url:e(E),description:e(w)||null,model_ids:e(D).length>0?e(D):null,filter_mode:e(D).length>0&&e(ee)?e(ee):null,access_control:e(Ae)}};y("submit",x),c(Se,!1),Ne(!1),c(S,""),c(A,""),c(E,`${ui}/favicon.png`),c(w,""),c(D,[]),c(H,"")},me=()=>{var x;d()&&(c(S,d().name),c(A,d().id),c(E,d().meta.profile_image_url),c(w,d().meta.description),c(D,d().meta.model_ids||[]),c(ee,((x=d().meta)==null?void 0:x.filter_mode)??"include"),c(Ae,"access_control"in d().meta?d().meta.access_control:{}))};rl(()=>{me()}),ml(()=>e(S),()=>{e(S)&&C()}),ml(()=>fr(Ne()),()=>{Ne()&&me()}),Al(),Rr();var V=dn(),ue=O(V);gl(ue,{get show(){return e(n)},set show(x){c(n,x)},$$events:{confirm:()=>{y("delete",d()),Ne(!1)}},$$legacy:!0});var U=l(ue,2);Zl(U,{size:"sm",get show(){return Ne()},set show(x){Ne(x)},children:(x,M)=>{var le=vn(),ne=a(le),ve=a(ne),N=a(ve);{var ge=P=>{var j=cr();u(de=>s(j,de),[()=>(r(),i(()=>r().t("Edit Arena Model")))]),v(P,j)},qe=P=>{var j=cr();u(de=>s(j,de),[()=>(r(),i(()=>r().t("Add Arena Model")))]),v(P,j)};g(N,P=>{o()?P(ge):P(qe,!1)})}t(ve);var fe=l(ve,2),$=a(fe);Sl($,{className:"size-5"}),t(fe),t(ne);var W=l(ne,2),Fe=a(W),gt=a(Fe),Tt=a(gt),St=a(Tt),_a=a(St);Tl(_a,P=>c(he,P),()=>e(he));var Vt=l(_a,2),ca=a(Vt),ma=l(ca,2),qt=a(ma),Qt=a(qt);hv(Qt,{className:"size-4"}),t(qt),t(ma),t(Vt),t(St);var we=l(St,2),Ke=a(we),vt=a(Ke),_t=a(vt,!0);t(vt);var De=l(vt,2),Ve=a(De);J(Ve),t(De),t(Ke);var tt=l(Ke,2),ft=a(tt),Qe=a(ft,!0);t(ft);var Dt=l(ft,2),Rt=a(Dt);J(Rt),t(Dt),t(tt),t(we);var Xt=l(we,2),ct=a(Xt),aa=a(ct,!0);t(ct);var ha=l(ct,2),Ya=a(ha);J(Ya),t(ha),t(Xt);var na=l(Xt,4),Kt=a(na);mv(Kt,{get accessControl(){return e(Ae)},set accessControl(P){c(Ae,P)},$$legacy:!0}),t(na);var kt=l(na,4),va=a(kt),Et=a(va),Ue=a(Et,!0);t(Et);var Mt=l(Et,2),Gt=a(Mt),da=a(Gt);{var ka=P=>{var j=cr();u(de=>s(j,de),[()=>(r(),i(()=>r().t("Include")))]),v(P,j)},ba=P=>{var j=cr();u(de=>s(j,de),[()=>(r(),i(()=>r().t("Exclude")))]),v(P,j)};g(da,P=>{e(ee)==="include"?P(ka):P(ba,!1)})}t(Gt),t(Mt),t(va);var Yt=l(va,2);{var Wt=P=>{var j=tn();Za(j,5,()=>e(D),dr,(de,je,ke)=>{var Oe=en(),G=a(Oe),Z=a(G,!0);t(G);var pe=l(G,2),oe=a(pe),ae=a(oe);Ri(ae,{strokeWidth:"2",className:"size-3.5"}),t(oe),t(pe),t(Oe),u(b=>s(Z,b),[()=>(f(),e(je),i(()=>{var b;return(b=f().find(K=>K.id===e(je)))==null?void 0:b.name}))]),We("click",oe,()=>{c(D,e(D).filter((b,K)=>K!==ke))}),v(de,Oe)}),t(j),v(P,j)},yt=P=>{var j=an(),de=a(j,!0);t(j),u(je=>s(de,je),[()=>(r(),i(()=>r().t("Leave empty to include all models or select specific models")))]),v(P,j)};g(Yt,P=>{e(D),i(()=>e(D).length>0)?P(Wt):P(yt,!1)})}t(kt);var Zt=l(kt,4),Ht=a(Zt);u(()=>{e(H),Pa(()=>{r(),f()})});var Ze=a(Ht),Q=a(Ze,!0);t(Ze),Ze.value=Ze.__value="";var at=l(Ze);Za(at,1,()=>(f(),i(()=>f().filter(P=>(P==null?void 0:P.owned_by)!=="arena"))),dr,(P,j,de,je)=>{var ke=rn(),Oe=a(ke,!0);t(ke);var G={};u(()=>{s(Oe,(e(j),i(()=>e(j).name))),G!==(G=(e(j),i(()=>e(j).id)))&&(ke.value=(ke.__value=(e(j),i(()=>e(j).id)))??"")}),v(P,ke)}),t(Ht);var ut=l(Ht,2),xt=a(ut),ie=a(xt);Ul(ie,{className:"size-3.5",strokeWidth:"2"}),t(xt),t(ut),t(Zt),t(Tt);var ce=l(Tt,2),Ce=a(ce);{var Le=P=>{var j=ln(),de=a(j,!0);t(j),u(je=>s(de,je),[()=>(r(),i(()=>r().t("Delete")))]),We("click",j,()=>{c(n,!0)}),v(P,j)};g(Ce,P=>{o()&&P(Le)})}var Pe=l(Ce,2),Me=a(Pe),Te=l(Me);{var He=P=>{var j=sn(),de=a(j);Qr(de,{}),t(j),v(P,j)};g(Te,P=>{e(Se)&&P(He)})}t(Pe),t(ce),t(gt),t(Fe),t(W),t(le),u((P,j,de,je,ke,Oe,G,Z,pe)=>{T(ca,"src",e(E)),s(_t,P),T(Ve,"placeholder",j),s(Qe,de),T(Rt,"placeholder",je),Rt.disabled=o(),s(aa,ke),T(Ya,"placeholder",Oe),s(Ue,G),qr(Ht,1,`dark:bg-gray-900 w-full py-1 text-sm rounded-lg bg-transparent ${e(H)?"":"text-gray-500"} placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-hidden`),s(Q,Z),qr(Pe,1,`px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-950 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center ${e(Se)?" cursor-not-allowed":""}`),Pe.disabled=e(Se),s(Me,`${pe??""} `)},[()=>(r(),i(()=>r().t("Name"))),()=>(r(),i(()=>r().t("Model Name"))),()=>(r(),i(()=>r().t("ID"))),()=>(r(),i(()=>r().t("Model ID"))),()=>(r(),i(()=>r().t("Description"))),()=>(r(),i(()=>r().t("Enter description"))),()=>(r(),i(()=>r().t("Models"))),()=>(r(),i(()=>r().t("Select a model"))),()=>(r(),i(()=>r().t("Save")))]),We("click",fe,()=>{Ne(!1)}),We("change",_a,P=>{const j=P.target.files??[];let de=new FileReader;de.onload=je=>{let ke=`${je.target.result}`;const Oe=new Image;Oe.src=ke,Oe.onload=function(){const G=document.createElement("canvas"),Z=G.getContext("2d"),pe=Oe.width/Oe.height;let oe,ae;pe>1?(oe=250*pe,ae=250):(oe=250,ae=250/pe),G.width=250,G.height=250;const b=(250-oe)/2,K=(250-ae)/2;Z.drawImage(Oe,b,K,oe,ae);const L=G.toDataURL("image/webp",.8);c(E,L),P.target.files=null}},j.length>0&&["image/gif","image/webp","image/jpeg","image/png"].includes(j[0].type)&&de.readAsDataURL(j[0])}),We("click",Vt,()=>{e(he).click()}),X(Ve,()=>e(S),P=>c(S,P)),X(Rt,()=>e(A),P=>c(A,P)),X(Ya,()=>e(w),P=>c(w,P)),We("click",Gt,()=>{c(ee,e(ee)==="include"?"exclude":"include")}),or(Ht,()=>e(H),P=>c(H,P)),We("click",xt,()=>{te()}),We("submit",gt,il(()=>{B()})),v(x,le)},$$slots:{default:!0},$$legacy:!0}),v(wt,V),wr(),Bt()}var on=_('<!> <div class="py-0.5"><div class="flex justify-between items-center mb-1"><div class="flex flex-col flex-1"><div class="flex gap-2.5 items-center"><img class="size-8 rounded-full object-cover shrink-0"/> <div class="w-full flex flex-col"><div class="flex items-center gap-1"><div class=" line-clamp-1"> </div></div> <div class="flex items-center gap-1"><div class=" text-xs w-full text-gray-500 bg-transparent line-clamp-1"> </div></div></div></div></div> <div class="flex items-center"><button class="self-center w-fit text-sm p-1.5 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl" type="button"><!></button></div></div></div>',1);function nn(wt,q){br(q,!1);const r=cl();Ar("i18n");let f=oa(q,"model",8),p=k(!1);Rr();var Bt=on(),Be=O(Bt);Oi(Be,{edit:!0,get model(){return f()},get show(){return e(p)},set show(n){c(p,n)},$$events:{submit:async n=>{r("edit",n.detail)},delete:async()=>{r("delete")}},$$legacy:!0});var y=l(Be,2),Ne=a(y),o=a(Ne),d=a(o),S=a(d),A=l(S,2),C=a(A),E=a(C),w=a(E,!0);t(E),t(C);var H=l(C,2),D=a(H),ee=a(D,!0);t(D),t(H),t(A),t(d),t(o);var Ae=l(o,2),he=a(Ae),Se=a(he);Vl(Se,{}),t(he),t(Ae),t(Ne),t(y),u(()=>{T(S,"src",(fr(Yl),fr(f()),i(()=>`${Yl}/models/model/profile/image?id=${f().id}`))),T(S,"alt",(fr(f()),i(()=>f().name))),s(w,(fr(f()),i(()=>f().name))),s(ee,(fr(f()),i(()=>{var n,te;return((te=(n=f())==null?void 0:n.meta)==null?void 0:te.description)??f().id})))}),We("click",he,()=>{c(p,!0)}),v(wt,Bt),wr()}var cn=_('<span class="font-normal self-center"><!></span>'),un=_('<span class="invisible"><!></span>'),_n=_('<button class="px-3.5 py-1.5 text-sm font-medium dark:bg-black dark:hover:bg-gray-950 dark:text-white bg-white text-black hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center" type="button"> </button>'),fn=_('<div class="ml-2 self-center"><!></div>'),pn=_('<form class="flex flex-col w-full"><div><div class="flex flex-col w-full"><button class="mb-1 flex gap-2" type="button"><div class="text-xs text-gray-500"> </div> <!></button> <!></div></div> <hr class=" border-gray-100 dark:border-gray-700/10 my-2.5 w-full"/> <!> <hr class=" border-gray-100 dark:border-gray-700/10 my-2.5 w-full"/> <!> <div class="flex justify-between pt-3 text-sm font-medium gap-1.5"><!> <button type="submit"> <!></button></div></form>'),mn=_("<div><!></div>"),gn=_('<div><div class=" flex justify-between dark:text-gray-100 px-5 pt-4 pb-2"><div class=" text-lg font-medium self-center font-primary"> </div> <button class="self-center"><!></button></div> <div class="flex flex-col md:flex-row w-full px-5 pb-4 md:space-x-4 dark:text-gray-200"><div class=" flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"><!></div></div></div>'),xn=_("<!> <!>",1);function En(wt,q){br(q,!1);const r=()=>la(Wr,"$models",p),f=()=>la(Be,"$i18n",p),[p,Bt]=Nr(),Be=Ar("i18n");cl();let y=oa(q,"show",12,!1),Ne=oa(q,"initHandler",8,()=>{}),o=k(null),d=k([]),S=k([]),A=k([]),C=k(""),E=k(""),w=k(!1),H=k(!1);const D=async()=>{var me,V,ue,U;c(o,await us(localStorage.token)),(me=e(o))!=null&&me.DEFAULT_MODELS?c(d,(V=e(o))==null?void 0:V.DEFAULT_MODELS.split(",").filter(x=>x)):c(d,[]),(ue=e(o))!=null&&ue.DEFAULT_PINNED_MODELS?c(S,(U=e(o))==null?void 0:U.DEFAULT_PINNED_MODELS.split(",").filter(x=>x)):c(S,[]);const n=e(o).MODEL_ORDER_LIST||[],te=r().map(x=>x.id),B=new Set(n);c(A,[...n.filter(x=>B.has(x)&&te.includes(x)),...te.filter(x=>!B.has(x)).sort((x,M)=>x.localeCompare(M))]),c(C,""),c(E,"")},ee=async()=>{c(w,!0),await _s(localStorage.token,{DEFAULT_MODELS:e(d).join(","),DEFAULT_PINNED_MODELS:e(S).join(","),MODEL_ORDER_LIST:e(A)})?(Ee.success(f().t("Models configuration saved successfully")),Ne()(),y(!1)):Ee.error(f().t("Failed to save models configuration")),c(w,!1)};rl(async()=>{D()}),ml(()=>fr(y()),()=>{y()&&D()}),Al(),Rr();var Ae=xn(),he=O(Ae);{let n=R(()=>(f(),i(()=>f().t("Reset All Models")))),te=R(()=>(f(),i(()=>f().t("This will delete all models including custom models and cannot be undone."))));gl(he,{get title(){return e(n)},get message(){return e(te)},onConfirm:async()=>{Us(localStorage.token)&&(Ee.success(f().t("All models deleted successfully")),Ne()())},get show(){return e(H)},set show(B){c(H,B)},$$legacy:!0})}var Se=l(he,2);Zl(Se,{size:"sm",get show(){return y()},set show(n){y(n)},children:(n,te)=>{var B=gn(),me=a(B),V=a(me),ue=a(V,!0);t(V);var U=l(V,2),x=a(U);Sl(x,{className:"size-5"}),t(U),t(me);var M=l(me,2),le=a(M),ne=a(le);{var ve=ge=>{var qe=pn(),fe=a(qe),$=a(fe),W=a($),Fe=a(W),gt=a(Fe,!0);t(Fe);var Tt=l(Fe,2);{var St=De=>{var Ve=cn(),tt=a(Ve);{var ft=Dt=>{pi(Dt,{className:"size-3"})},Qe=Dt=>{Ws(Dt,{className:"size-3"})};g(tt,Dt=>{e(E)==="asc"?Dt(ft):Dt(Qe,!1)})}t(Ve),v(De,Ve)},_a=De=>{var Ve=un(),tt=a(Ve);pi(tt,{className:"size-3"}),t(Ve),v(De,Ve)};g(Tt,De=>{e(C)==="model"?De(St):De(_a,!1)})}t(W);var Vt=l(W,2);Zo(Vt,{get modelIds(){return e(A)},set modelIds(De){c(A,De)},$$legacy:!0}),t($),t(fe);var ca=l(fe,4);{let De=R(()=>(f(),i(()=>f().t("Default Models"))));hi(ca,{get title(){return e(De)},get models(){return r()},get modelIds(){return e(d)},set modelIds(Ve){c(d,Ve)},$$legacy:!0})}var ma=l(ca,4);{let De=R(()=>(f(),i(()=>f().t("Default Pinned Models"))));hi(ma,{get title(){return e(De)},get models(){return r()},get modelIds(){return e(S)},set modelIds(Ve){c(S,Ve)},$$legacy:!0})}var qt=l(ma,2),Qt=a(qt);{let De=R(()=>(f(),i(()=>f().t("This will delete all models including custom models"))));lt(Qt,{get content(){return e(De)},children:(Ve,tt)=>{var ft=_n(),Qe=a(ft,!0);t(ft),u(Dt=>s(Qe,Dt),[()=>(f(),i(()=>f().t("Reset All Models")))]),We("click",ft,()=>{c(H,!0)}),v(Ve,ft)},$$slots:{default:!0}})}var we=l(Qt,2),Ke=a(we),vt=l(Ke);{var _t=De=>{var Ve=fn(),tt=a(Ve);Qr(tt,{}),t(Ve),v(De,Ve)};g(vt,De=>{e(w)&&De(_t)})}t(we),t(qt),t(qe),u((De,Ve)=>{s(gt,De),qr(we,1,`px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center ${e(w)?" cursor-not-allowed":""}`),we.disabled=e(w),s(Ke,`${Ve??""} `)},[()=>(f(),i(()=>f().t("Reorder Models"))),()=>(f(),i(()=>f().t("Save")))]),We("click",W,()=>{c(C,"model"),e(E)==="asc"?c(E,"desc"):c(E,"asc"),c(A,e(A).filter(De=>De!=="").sort((De,Ve)=>{var Qe,Dt;const tt=((Qe=r().find(Rt=>Rt.id===De))==null?void 0:Qe.name)||De,ft=((Dt=r().find(Rt=>Rt.id===Ve))==null?void 0:Dt.name)||Ve;return e(E)==="desc"?tt.localeCompare(ft):ft.localeCompare(tt)}))}),We("submit",qe,il(()=>{ee()})),v(ge,qe)},N=ge=>{var qe=mn(),fe=a(qe);Qr(fe,{className:"size-5"}),t(qe),v(ge,qe)};g(ne,ge=>{e(o)?ge(ve):ge(N,!1)})}t(le),t(M),t(B),u(ge=>s(ue,ge),[()=>(f(),i(()=>f().t("Settings")))]),We("click",U,()=>{y(!1)}),v(n,B)},$$slots:{default:!0},$$legacy:!0}),v(wt,Ae),wr(),Bt()}var yn=_('<button class="flex gap-2 items-center bg-transparent rounded-lg transition"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M7 1a.75.75 0 0 1 .75.75V6h-1.5V1.75A.75.75 0 0 1 7 1ZM6.25 6v2.94L5.03 7.72a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06L7.75 8.94V6H10a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2.25Z"></path><path d="M4.268 14A2 2 0 0 0 6 15h6a2 2 0 0 0 2-2v-3a2 2 0 0 0-1-1.732V11a3 3 0 0 1-3 3H4.268Z"></path></svg></button>'),hn=_(`<div class="self-center"><svg class=" w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
													transform-origin: center;
													animation: spinner_AtaB 0.75s infinite linear;
												}

												@keyframes spinner_AtaB {
													100% {
														transform: rotate(360deg);
													}
												}</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg></div>`),bn=Lr('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"></path><path d="M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"></path></svg>'),An=_('<button class="px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"><!></button>'),wn=_('<button class="text-gray-800 dark:text-gray-100"><svg class="w-4 h-4 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18 17.94 6M18 18 6.06 6"></path></svg></button>'),In=_('<div class="text-xs flex justify-between items-center"><div> </div> <!></div>'),$n=_('<button class="text-gray-800 dark:text-gray-100"><svg class="w-4 h-4 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18 17.94 6M18 18 6.06 6"></path></svg></button>'),Rn=_('<div class="mt-1 text-xs dark:text-gray-500" style="font-size: 0.5rem;"> </div>'),Nn=_('<div class="flex flex-col"><div class="font-medium mb-1"> </div> <div><div class="flex flex-row justify-between space-x-4 pr-2"><div class=" flex-1"><div class="dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full"> </div></div> <!></div> <!></div></div>'),Tn=_('<option class="bg-gray-50 dark:bg-gray-700"> </option>'),Sn=_('<button class="px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M5 3.25V4H2.75a.75.75 0 0 0 0 1.5h.3l.815 8.15A1.5 1.5 0 0 0 5.357 15h5.285a1.5 1.5 0 0 0 1.493-1.35l.815-8.15h.3a.75.75 0 0 0 0-1.5H11v-.75A2.25 2.25 0 0 0 8.75 1h-1.5A2.25 2.25 0 0 0 5 3.25Zm2.25-.75a.75.75 0 0 0-.75.75V4h3v-.75a.75.75 0 0 0-.75-.75h-1.5ZM6.05 6a.75.75 0 0 1 .787.713l.275 5.5a.75.75 0 0 1-1.498.075l-.275-5.5A.75.75 0 0 1 6.05 6Zm3.9 0a.75.75 0 0 1 .712.787l-.275 5.5a.75.75 0 0 1-1.498-.075l.275-5.5a.75.75 0 0 1 .786-.711Z" clip-rule="evenodd"></path></svg></button>'),kn=_('<button class="px-2.5 py-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition disabled:cursor-not-allowed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="size-4"><path d="M7.25 10.25a.75.75 0 0 0 1.5 0V4.56l2.22 2.22a.75.75 0 1 0 1.06-1.06l-3.5-3.5a.75.75 0 0 0-1.06 0l-3.5 3.5a.75.75 0 0 0 1.06 1.06l2.22-2.22v5.69Z"></path><path d="M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"></path></svg></button>'),On=_('<div class="mt-1 text-xs dark:text-gray-500" style="font-size: 0.5rem;"> </div>'),Ln=_('<div class="flex flex-col mt-1"><div class="font-medium mb-1"></div> <div><div class="flex flex-row justify-between space-x-4 pr-2"><div class=" flex-1"><div class="dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full"> </div></div></div> <!></div></div>'),Pn=_('<span class="ml-2 self-center"> </span>'),Mn=_('<span class="ml-2 self-center"> </span>'),Cn=_('<div><input id="model-upload-input" type="file" accept=".gguf,.safetensors" required hidden=""/> <button type="button" class="w-full rounded-lg text-left py-2 px-4 bg-gray-50 dark:text-gray-300 dark:bg-gray-850"><!></button></div>'),Un=_('<div><input type="url" required/></div>'),Dn=_(`<div class="self-center"><svg class=" w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
															transform-origin: center;
															animation: spinner_AtaB 0.75s infinite linear;
														}

														@keyframes spinner_AtaB {
															100% {
																transform: rotate(360deg);
															}
														}</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg></div>`),Gn=Lr('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M7.25 10.25a.75.75 0 0 0 1.5 0V4.56l2.22 2.22a.75.75 0 1 0 1.06-1.06l-3.5-3.5a.75.75 0 0 0-1.06 0l-3.5 3.5a.75.75 0 0 0 1.06 1.06l2.22-2.22v5.69Z"></path><path d="M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"></path></svg>'),Bn=_('<button class="px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg disabled:cursor-not-allowed transition" type="submit"><!></button>'),Hn=_('<div><div><div class=" my-2.5 text-sm font-medium"> </div> <textarea class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-100 dark:bg-gray-850 outline-hidden resize-none" rows="6"></textarea></div></div>'),jn=_('<div class="mt-2"><div class=" mb-2 text-xs"> </div> <div class="w-full rounded-full dark:bg-gray-800"><div class="dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full" style="width: 100%"> </div></div> <div class="mt-1 text-xs dark:text-gray-500" style="font-size: 0.5rem;"> </div></div>'),Kn=_('<div class="mt-2"><div class=" mb-2 text-xs"> </div> <div class="w-full rounded-full dark:bg-gray-800"><div class="dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full"> </div></div> <div class="mt-1 text-xs dark:text-gray-500" style="font-size: 0.5rem;"> </div></div>'),Yn=_('<form><div class=" mb-2 flex w-full justify-between"><div class="  text-sm font-medium"> </div> <button class="p-1 px-3 text-xs flex rounded-sm transition" type="button"><!></button></div> <div class="flex w-full mb-1.5"><div class="flex flex-col w-full"><!></div> <!></div> <!> <div class=" mt-1 text-xs text-gray-400 dark:text-gray-500"> <a class=" text-gray-500 dark:text-gray-300 font-medium underline" href="https://huggingface.co/models?search=gguf" target="_blank"> </a></div> <!></form>'),Wn=_('<div class=" flex flex-col w-full"><div><div class="space-y-2"><div><div class=" mb-2 text-sm font-medium flex items-center gap-1.5"><div> </div> <div><!></div></div> <div class="flex w-full"><div class="flex-1 mr-2"><input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"/></div> <!></div> <div class="mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500"> <a class=" text-gray-500 dark:text-gray-300 font-medium underline" href="https://ollama.com/library" target="_blank"> </a></div> <!> <!></div> <div><div class=" mb-2 text-sm font-medium"> </div> <div class="flex w-full"><div class="flex-1 mr-2 pr-1.5 rounded-lg bg-gray-50 dark:text-gray-300 dark:bg-gray-850"><select class="w-full py-2 px-4 text-sm outline-hidden bg-transparent"><option disabled selected> </option><!></select></div> <!></div></div> <div><div class=" mb-2 text-sm font-medium"> </div> <div class="flex w-full"><div class="flex-1 mr-2 flex flex-col gap-2"><input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"/> <textarea class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-100 dark:bg-gray-850 outline-hidden resize-none scrollbar-hidden" rows="6"></textarea></div> <div class="flex self-start"><!></div></div> <!></div> <div class="pt-1"><div class="flex justify-between items-center text-xs"><div class=" text-sm font-medium"> </div> <button class=" text-xs font-medium text-gray-500" type="button"> </button></div></div> <!></div></div></div>'),Fn=_('<div class="flex justify-center items-center w-full h-full text-xs py-3"> </div>'),Vn=_('<div class="flex justify-center items-center w-full h-full py-3"><!></div>'),Zn=_("<!> <!>",1);function Li(wt,q){br(q,!1);const r=()=>la($l,"$MODEL_DOWNLOAD_POOL",Be),f=()=>la(Ne,"$i18n",Be),p=()=>la(Jr,"$config",Be),Bt=()=>la(xl,"$settings",Be),[Be,y]=Nr(),Ne=Ar("i18n");let o=k(),d=k(!1),S=k(!0),A=oa(q,"urlIdx",8,null),C=k([]),E=k(null),w=k(null),H={},D=!1,ee=k(!1);const Ae=3;let he=k(!1),Se=k(""),n=k(!1),te=k(""),B=k(""),me=k(""),V=k(null),ue="",U=null,x=k("file"),M=k(null),le=k(""),ne=k(`TEMPLATE """{{ .System }}
USER: {{ .Prompt }}
ASSISTANT: """
PARAMETER num_ctx 4096
PARAMETER stop "</s>"
PARAMETER stop "USER:"
PARAMETER stop "ASSISTANT:"`),ve=k(""),N=k(null),ge=k(""),qe=k("");const fe=async()=>{D=!1,Ee.info("Checking for model updates...");for(const we of e(C)){if(D)break;c(E,we.id);const[Ke,vt]=await xi(localStorage.token,we.id,A()).catch(_t=>(_t.name!=="AbortError"&&Ee.error(`${_t}`),[null,null]));if(H={...H,[we.id]:vt},Ke){const _t=Ke.body.pipeThrough(new TextDecoderStream).pipeThrough(Ml(`
`)).getReader();for(;;)try{const{value:De,done:Ve}=await _t.read();if(Ve)break;let tt=De.split(`
`);for(const ft of tt)if(ft!==""){let Qe=JSON.parse(ft);if(Qe.error)throw Qe.error;if(Qe.detail)throw Qe.detail;Qe.status&&Qe.digest&&(c(w,0),Qe.completed?c(w,Math.round(Qe.completed/Qe.total*1e3)/10):c(w,100))}}catch(De){De.name;break}}delete H[we.id],H={...H}}D?Ee.info("Model update cancelled"):Ee.success("All models are up to date"),c(E,null),c(w,null)},$=async()=>{var _t,De,Ve,tt;const we=e(Se).trim().replace(/^ollama\s+(run|pull)\s+/,"");if(r(),r()[we]){Ee.error(f().t("Model '{{modelTag}}' is already in queue for downloading.",{modelTag:we}));return}if(Object.keys(r()).length===Ae){Ee.error(f().t("Maximum of 3 models can be downloaded simultaneously. Please try again later."));return}c(he,!0);const[Ke,vt]=await xi(localStorage.token,we,A()).catch(ft=>(ft.name!=="AbortError"&&Ee.error(`${ft}`),[null,null]));if(Ke){const ft=Ke.body.pipeThrough(new TextDecoderStream).pipeThrough(Ml(`
`)).getReader();for($l.set({...r(),[we]:{...r()[we],abortController:vt,reader:ft,done:!1}});;)try{const{value:Qe,done:Dt}=await ft.read();if(Dt)break;let Rt=Qe.split(`
`);for(const Xt of Rt)if(Xt!==""){let ct=JSON.parse(Xt);if(ct.error)throw ct.error;if(ct.detail)throw ct.detail;if(ct.status)if(ct.digest){let aa=0;ct.completed?aa=Math.round(ct.completed/ct.total*1e3)/10:aa=100,$l.set({...r(),[we]:{...r()[we],pullProgress:aa,digest:ct.digest}})}else $l.set({...r(),[we]:{...r()[we],done:ct.status==="success"}})}}catch(Qe){if(Qe.name!=="AbortError")typeof Qe!="string"&&(Qe=Qe.message),Ee.error(`${Qe}`);else break}r()[we],(_t=r()[we])!=null&&_t.done?(Ee.success(f().t("Model '{{modelName}}' has been successfully downloaded.",{modelName:we})),Wr.set(await al(localStorage.token,((Ve=(De=p())==null?void 0:De.features)==null?void 0:Ve.enable_direct_connections)&&(((tt=Bt())==null?void 0:tt.directConnections)??null)))):Ee.error(f().t("Download canceled")),delete r()[we],$l.set({...r()})}c(Se,""),c(he,!1)},W=async()=>{var _t,De,Ve;c(he,!0);let we=!1,Ke=null,vt="";if(e(x)==="file"){const tt=e(M)?e(M)[0]:null;tt&&(c(ge,"Uploading..."),Ke=await Fs(localStorage.token,tt,A()).catch(ft=>(Ee.error(`${ft}`),null)))}else c(N,0),Ke=await Vs(localStorage.token,e(le),A()).catch(tt=>(Ee.error(`${tt}`),null));if(Ke&&Ke.ok){const tt=Ke.body.pipeThrough(new TextDecoderStream).pipeThrough(Ml(`
`)).getReader();for(;;){const{value:ft,done:Qe}=await tt.read();if(Qe)break;try{let Dt=ft.split(`
`);for(const Rt of Dt)if(Rt!==""){let Xt=JSON.parse(Rt.replace(/^data: /,""));if(Xt.progress&&(e(ge)&&c(ge,""),c(N,Xt.progress)),Xt.error)throw Xt.error;Xt.done&&(c(ve,Xt.blob),vt=Xt.name,we=!0)}}catch(Dt){}}}else{const tt=await(Ke==null?void 0:Ke.json());Ee.error((tt==null?void 0:tt.detail)??tt)}if(we){const tt=await Ei(localStorage.token,`${vt}:latest`,`FROM @${e(ve)}
${e(ne)}`);if(tt&&tt.ok){const ft=tt.body.pipeThrough(new TextDecoderStream).pipeThrough(Ml(`
`)).getReader();for(;;){const{value:Qe,done:Dt}=await ft.read();if(Dt)break;try{let Rt=Qe.split(`
`);for(const Xt of Rt)if(Xt!==""){let ct=JSON.parse(Xt);if(ct.error)throw ct.error;if(ct.detail)throw ct.detail;ct.status&&(!ct.digest&&!ct.status.includes("writing")&&!ct.status.includes("sha256")?Ee.success(ct.status):ct.digest&&(ue=ct.digest,ct.completed?U=Math.round(ct.completed/ct.total*1e3)/10:U=100))}}catch(Rt){Ee.error(`${Rt}`)}}}}c(le,""),e(o)&&m(o,e(o).value=""),c(M,null),c(he,!1),c(N,null),Wr.set(await al(localStorage.token,((De=(_t=p())==null?void 0:_t.features)==null?void 0:De.enable_direct_connections)&&(((Ve=Bt())==null?void 0:Ve.directConnections)??null)))},Fe=async()=>{var Ke,vt,_t;await mi(localStorage.token,e(qe),A()).catch(De=>{Ee.error(`${De}`)})&&Ee.success(f().t("Deleted {{deleteModelTag}}",{deleteModelTag:e(qe)})),c(qe,""),Wr.set(await al(localStorage.token,((vt=(Ke=p())==null?void 0:Ke.features)==null?void 0:vt.enable_direct_connections)&&(((_t=Bt())==null?void 0:_t.directConnections)??null))),c(C,await gi(localStorage.token,A()).catch(De=>(Ee.error(`${De}`),null)))},gt=async we=>{const Ke=H[we];Ke&&(Ke.abort(),D=!0)},Tt=async we=>{const{reader:Ke,abortController:vt}=r()[we];vt&&vt.abort(),Ke&&(await Ke.cancel(),delete r()[we],$l.set({...r()}),await mi(localStorage.token,we),Ee.success(f().t("{{model}} download has been canceled",{model:we})))},St=async()=>{var vt,_t,De;c(n,!0);let we={};try{we=JSON.parse(e(B))}catch(Ve){Ee.error(`${Ve}`),c(n,!1);return}const Ke=await Ei(localStorage.token,{model:e(te),...we},A()).catch(Ve=>(Ee.error(`${Ve}`),null));if(Ke&&Ke.ok){const Ve=Ke.body.pipeThrough(new TextDecoderStream).pipeThrough(Ml(`
`)).getReader();for(;;){const{value:tt,done:ft}=await Ve.read();if(ft)break;try{let Qe=tt.split(`
`);for(const Dt of Qe)if(Dt!==""){let Rt=JSON.parse(Dt);if(Rt.error)throw Rt.error;if(Rt.detail)throw Rt.detail;Rt.status&&(!Rt.digest&&!Rt.status.includes("writing")&&!Rt.status.includes("sha256")?Ee.success(Rt.status):Rt.digest&&(c(me,Rt.digest),Rt.completed?c(V,Math.round(Rt.completed/Rt.total*1e3)/10):c(V,100)))}}catch(Qe){Ee.error(`${Qe}`)}}}Wr.set(await al(localStorage.token,((_t=(vt=p())==null?void 0:vt.features)==null?void 0:_t.enable_direct_connections)&&(((De=Bt())==null?void 0:De.directConnections)??null))),c(n,!1),c(te,""),c(B,""),c(me,""),c(V,null)},_a=async()=>{c(S,!0),c(C,await gi(localStorage.token,A()).catch(we=>(Ee.error(`${we}`),null))),e(C)&&c(S,!1)};ml(()=>fr(A()),()=>{A()!==null&&_a()}),Al(),Rr();var Vt=Zn(),ca=O(Vt);gl(ca,{get show(){return e(d)},set show(we){c(d,we)},$$events:{confirm:()=>{Fe()}},$$legacy:!0});var ma=l(ca,2);{var qt=we=>{var Ke=Wn(),vt=a(Ke),_t=a(vt),De=a(_t),Ve=a(De),tt=a(Ve),ft=a(tt,!0);t(tt);var Qe=l(tt,2),Dt=a(Qe);lt(Dt,{content:"Update All Models",placement:"top",children:(G,Z)=>{var pe=yn();We("click",pe,()=>{fe()}),v(G,pe)},$$slots:{default:!0}}),t(Qe),t(Ve);var Rt=l(Ve,2),Xt=a(Rt),ct=a(Xt);J(ct),t(Xt);var aa=l(Xt,2);{let G=R(()=>(f(),i(()=>f().t("Pull Model"))));lt(aa,{get content(){return e(G)},placement:"top",children:(Z,pe)=>{var oe=An(),ae=a(oe);{var b=L=>{var _e=hn();v(L,_e)},K=L=>{var _e=bn();v(L,_e)};g(ae,L=>{e(he)?L(b):L(K,!1)})}t(oe),u(L=>oe.disabled=L,[()=>(e(he),e(Se),i(()=>e(he)||e(Se).trim()===""))]),We("click",oe,()=>{$()}),v(Z,oe)},$$slots:{default:!0}})}t(Rt);var ha=l(Rt,2),Ya=a(ha),na=l(Ya),Kt=a(na,!0);t(na),t(ha);var kt=l(ha,2);{var va=G=>{var Z=In(),pe=a(Z),oe=a(pe);t(pe);var ae=l(pe,2);{let b=R(()=>(f(),i(()=>f().t("Cancel"))));lt(ae,{get content(){return e(b)},children:(K,L)=>{var _e=wn();We("click",_e,()=>{gt(e(E))}),v(K,_e)},$$slots:{default:!0}})}t(Z),u(()=>s(oe,`Updating "${e(E)??""}" ${e(w)?`(${e(w)}%)`:""}`)),v(G,Z)};g(kt,G=>{e(E)&&G(va)})}var Et=l(kt,2);{var Ue=G=>{var Z=et(),pe=O(Z);Za(pe,1,()=>(r(),i(()=>Object.keys(r()))),dr,(oe,ae)=>{var b=et(),K=O(b);{var L=_e=>{var Ie=Nn(),re=a(Ie),h=a(re,!0);t(re);var I=l(re,2),F=a(I),$e=a(F),se=a($e),Y=a(se);t(se),t($e);var st=l($e,2);{let xe=R(()=>(f(),i(()=>f().t("Cancel"))));lt(st,{get content(){return e(xe)},children:(rt,Lt)=>{var ht=$n();We("click",ht,()=>{Tt(e(ae))}),v(rt,ht)},$$slots:{default:!0}})}t(F);var Ye=l(F,2);{var Re=xe=>{var rt=Rn(),Lt=a(rt,!0);t(rt),u(()=>s(Lt,(r(),e(ae),i(()=>r()[e(ae)].digest)))),v(xe,rt)};g(Ye,xe=>{r(),e(ae),i(()=>"digest"in r()[e(ae)])&&xe(Re)})}t(I),t(Ie),u(xe=>{s(h,e(ae)),ti(se,`width: ${xe??""}%`),s(Y,`${r(),e(ae),i(()=>r()[e(ae)].pullProgress??0)??""}%`)},[()=>(r(),e(ae),i(()=>Math.max(15,r()[e(ae)].pullProgress??0)))]),v(_e,Ie)};g(K,_e=>{r(),e(ae),i(()=>"pullProgress"in r()[e(ae)])&&_e(L)})}v(oe,b)}),v(G,Z)};g(Et,G=>{r(),i(()=>Object.keys(r()).length>0)&&G(Ue)})}t(De);var Mt=l(De,2),Gt=a(Mt),da=a(Gt,!0);t(Gt);var ka=l(Gt,2),ba=a(ka),Yt=a(ba);u(()=>{e(qe),Pa(()=>{f(),e(C)})});var Wt=a(Yt),yt=a(Wt,!0);t(Wt),Wt.value=Wt.__value="";var Zt=l(Wt);Za(Zt,1,()=>e(C),dr,(G,Z)=>{var pe=Tn(),oe=a(pe,!0);t(pe);var ae={};u(b=>{s(oe,b),ae!==(ae=(e(Z),i(()=>e(Z).id)))&&(pe.value=(pe.__value=(e(Z),i(()=>e(Z).id)))??"")},[()=>(e(Z),i(()=>e(Z).name+" ("+(e(Z).size/1073741824).toFixed(1)+" GB)"))]),v(G,pe)}),t(Yt),t(ba);var Ht=l(ba,2);{let G=R(()=>(f(),i(()=>f().t("Delete Model"))));lt(Ht,{get content(){return e(G)},placement:"top",children:(Z,pe)=>{var oe=Sn();u(()=>oe.disabled=e(qe)===""),We("click",oe,()=>{c(d,!0)}),v(Z,oe)},$$slots:{default:!0}})}t(ka),t(Mt);var Ze=l(Mt,2),Q=a(Ze),at=a(Q,!0);t(Q);var ut=l(Q,2),xt=a(ut),ie=a(xt);J(ie);var ce=l(ie,2);ni(ce),T(ce,"placeholder",'e.g. {"model": "my-modelfile", "from": "ollama:7b"})'),t(xt);var Ce=l(xt,2),Le=a(Ce);{let G=R(()=>(f(),i(()=>f().t("Create Model"))));lt(Le,{get content(){return e(G)},placement:"top",children:(Z,pe)=>{var oe=kn();u(ae=>oe.disabled=ae,[()=>(e(n),e(te),e(B),i(()=>e(n)||e(te).trim()===""||e(B).trim()===""))]),We("click",oe,()=>{St()}),v(Z,oe)},$$slots:{default:!0}})}t(Ce),t(ut);var Pe=l(ut,2);{var Me=G=>{var Z=Ln(),pe=a(Z);pe.textContent=createModelTag;var oe=l(pe,2),ae=a(oe),b=a(ae),K=a(b),L=a(K);t(K),t(b),t(ae);var _e=l(ae,2);{var Ie=re=>{var h=On(),I=a(h,!0);t(h),u(()=>s(I,e(me))),v(re,h)};g(_e,re=>{e(me)&&re(Ie)})}t(oe),t(Z),u(re=>{ti(K,`width: ${re??""}%`),s(L,`${e(V)??0??""}%`)},[()=>(e(V),i(()=>Math.max(15,e(V)??0)))]),v(G,Z)};g(Pe,G=>{e(me)!==""&&G(Me)})}t(Ze);var Te=l(Ze,2),He=a(Te),P=a(He),j=a(P,!0);t(P);var de=l(P,2),je=a(de,!0);t(de),t(He),t(Te);var ke=l(Te,2);{var Oe=G=>{var Z=Yn(),pe=a(Z),oe=a(pe),ae=a(oe,!0);t(oe);var b=l(oe,2),K=a(b);{var L=be=>{var z=Pn(),ye=a(z,!0);t(z),u(dt=>s(ye,dt),[()=>(f(),i(()=>f().t("File Mode")))]),v(be,z)},_e=be=>{var z=Mn(),ye=a(z,!0);t(z),u(dt=>s(ye,dt),[()=>(f(),i(()=>f().t("URL Mode")))]),v(be,z)};g(K,be=>{e(x)==="file"?be(L):be(_e,!1)})}t(b),t(pe);var Ie=l(pe,2),re=a(Ie),h=a(re);{var I=be=>{var z=Cn(),ye=a(z);Tl(ye,mt=>c(o,mt),()=>e(o));var dt=l(ye,2),it=a(dt);{var ze=mt=>{var jt=cr();u(()=>s(jt,(e(M),i(()=>e(M)[0].name)))),v(mt,jt)},Xe=mt=>{var jt=cr();u(Ot=>s(jt,Ot),[()=>(f(),i(()=>f().t("Click here to select")))]),v(mt,jt)};g(it,mt=>{e(M),i(()=>e(M)&&e(M).length>0)?mt(ze):mt(Xe,!1)})}t(dt),t(z),u(()=>qr(z,1,`flex-1 ${e(M),i(()=>e(M)&&e(M).length>0?"mr-2":"")??""}`)),si(ye,()=>e(M),mt=>c(M,mt)),We("change",ye,()=>{e(M)}),We("click",dt,()=>{e(o).click()}),v(be,z)},F=be=>{var z=Un(),ye=a(z);J(ye),t(z),u(dt=>{qr(z,1,`flex-1 ${e(le)!==""?"mr-2":""}`),qr(ye,1,`w-full rounded-lg text-left py-2 px-4 bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden ${e(le)!==""?"mr-2":""}`),T(ye,"placeholder",dt)},[()=>(f(),i(()=>f().t("Type Hugging Face Resolve (Download) URL")))]),X(ye,()=>e(le),dt=>c(le,dt)),v(be,z)};g(h,be=>{e(x)==="file"?be(I):be(F,!1)})}t(re);var $e=l(re,2);{var se=be=>{{let z=R(()=>(f(),i(()=>f().t("Upload Model"))));lt(be,{get content(){return e(z)},placement:"top",children:(ye,dt)=>{var it=Bn(),ze=a(it);{var Xe=jt=>{var Ot=Dn();v(jt,Ot)},mt=jt=>{var Ot=Gn();v(jt,Ot)};g(ze,jt=>{e(he)?jt(Xe):jt(mt,!1)})}t(it),u(()=>it.disabled=e(he)),v(ye,it)},$$slots:{default:!0}})}};g($e,be=>{e(x),e(M),e(le),i(()=>e(x)==="file"&&e(M)&&e(M).length>0||e(x)==="url"&&e(le)!=="")&&be(se)})}t(Ie);var Y=l(Ie,2);{var st=be=>{var z=Hn(),ye=a(z),dt=a(ye),it=a(dt,!0);t(dt);var ze=l(dt,2);ni(ze),t(ye),t(z),u(Xe=>s(it,Xe),[()=>(f(),i(()=>f().t("Modelfile Content")))]),X(ze,()=>e(ne),Xe=>c(ne,Xe)),v(be,z)};g(Y,be=>{e(x),e(M),e(le),i(()=>e(x)==="file"&&e(M)&&e(M).length>0||e(x)==="url"&&e(le)!=="")&&be(st)})}var Ye=l(Y,2),Re=a(Ye),xe=l(Re),rt=a(xe,!0);t(xe),t(Ye);var Lt=l(Ye,2);{var ht=be=>{var z=jn(),ye=a(z),dt=a(ye,!0);t(ye);var it=l(ye,2),ze=a(it),Xe=a(ze,!0);t(ze),t(it);var mt=l(it,2),jt=a(mt,!0);t(mt),t(z),u(Ot=>{s(dt,Ot),s(Xe,e(ge)),s(jt,e(ve))},[()=>(f(),i(()=>f().t("Upload Progress")))]),v(be,z)},bt=be=>{var z=et(),ye=O(z);{var dt=it=>{var ze=Kn(),Xe=a(ze),mt=a(Xe,!0);t(Xe);var jt=l(Xe,2),Ot=a(jt),ua=a(Ot);t(Ot),t(jt);var ea=l(jt,2),ga=a(ea,!0);t(ea),t(ze),u(($a,Je)=>{s(mt,$a),ti(Ot,`width: ${Je??""}%`),s(ua,`${e(N)??0??""}%`),s(ga,e(ve))},[()=>(f(),i(()=>f().t("Upload Progress"))),()=>(e(N),i(()=>Math.max(15,e(N)??0)))]),v(it,ze)};g(ye,it=>{e(N)!==null&&it(dt)},!0)}v(be,z)};g(Lt,be=>{e(ge)?be(ht):be(bt,!1)})}t(Z),u((be,z,ye)=>{s(ae,be),s(Re,`${z??""} `),s(rt,ye)},[()=>(f(),i(()=>f().t("Upload a GGUF model"))),()=>(f(),i(()=>f().t("To access the GGUF models available for downloading,"))),()=>(f(),i(()=>f().t("click here.")))]),We("click",b,()=>{e(x)==="file"?c(x,"url"):c(x,"file")}),We("submit",Z,il(()=>{W()})),v(G,Z)};g(ke,G=>{e(ee)&&G(Oe)})}t(_t),t(vt),t(Ke),u((G,Z,pe,oe,ae,b,K,L,_e,Ie,re)=>{s(ft,G),T(ct,"placeholder",Z),s(Ya,`${pe??""} `),s(Kt,oe),s(da,ae),T(Yt,"placeholder",b),s(yt,K),s(at,L),T(ie,"placeholder",_e),ie.disabled=e(n),ce.disabled=e(n),s(j,Ie),s(je,re)},[()=>(f(),i(()=>f().t("Pull a model from Ollama.com"))),()=>(f(),i(()=>f().t("Enter model tag (e.g. {{modelTag}})",{modelTag:"mistral:7b"}))),()=>(f(),i(()=>f().t("To access the available model names for downloading,"))),()=>(f(),i(()=>f().t("click here."))),()=>(f(),i(()=>f().t("Delete a model"))),()=>(f(),i(()=>f().t("Select a model"))),()=>(f(),i(()=>f().t("Select a model"))),()=>(f(),i(()=>f().t("Create a model"))),()=>(f(),i(()=>f().t("Enter model tag (e.g. {{modelTag}})",{modelTag:"my-modelfile"}))),()=>(f(),i(()=>f().t("Experimental"))),()=>(e(ee),f(),i(()=>e(ee)?f().t("Hide"):f().t("Show")))]),X(ct,()=>e(Se),G=>c(Se,G)),or(Yt,()=>e(qe),G=>c(qe,G)),X(ie,()=>e(te),G=>c(te,G)),X(ce,()=>e(B),G=>c(B,G)),We("click",de,()=>{c(ee,!e(ee))}),v(we,Ke)},Qt=we=>{var Ke=et(),vt=O(Ke);{var _t=Ve=>{var tt=Fn(),ft=a(tt,!0);t(tt),u(Qe=>s(ft,Qe),[()=>(f(),i(()=>f().t("Failed to fetch models")))]),v(Ve,tt)},De=Ve=>{var tt=Vn(),ft=a(tt);Qr(ft,{className:"size-5"}),t(tt),v(Ve,tt)};g(vt,Ve=>{e(C)===null?Ve(_t):Ve(De,!1)},!0)}v(we,Ke)};g(ma,we=>{e(S)?we(Qt,!1):we(qt)})}v(wt,Vt),wr(),y()}var zn=_("<option> </option>"),Xn=_('<div class="flex-1 mb-2.5 pr-1.5 rounded-lg bg-gray-50 dark:text-gray-300 dark:bg-gray-850"><select class="w-full py-2 px-4 text-sm outline-hidden bg-transparent"></select></div> <!>',1);function Jn(wt,q){br(q,!1);const r=()=>la(Bt,"$i18n",f),[f,p]=Nr(),Bt=Ar("i18n");let Be=oa(q,"ollamaConfig",8,null),y=k(0);Rr();var Ne=et(),o=O(Ne);{var d=S=>{var A=Xn(),C=O(A),E=a(C);u(()=>{e(y),Pa(()=>{r(),Be()})}),Za(E,5,()=>(fr(Be()),i(()=>Be().OLLAMA_BASE_URLS)),dr,(H,D,ee)=>{var Ae=zn(),he=a(Ae,!0);t(Ae),Ae.value=Ae.__value=ee,u(()=>s(he,e(D))),v(H,Ae)}),t(E),t(C);var w=l(C,2);Li(w,{get urlIdx(){return e(y)}}),u(H=>T(E,"placeholder",H),[()=>(r(),i(()=>r().t("Select an Ollama instance")))]),or(E,()=>e(y),H=>c(y,H)),v(S,A)};g(o,S=>{Be()&&S(d)})}v(wt,Ne),wr(),p()}var qn=_('<div class=" py-5 text-gray-400 text-xs"><div> </div></div>'),Qn=_('<div class=" flex w-full flex-col"><div class="flex gap-1 scrollbar-none overflow-x-auto w-fit text-center text-sm font-medium rounded-full bg-transparent dark:text-gray-200"><button> </button></div> <div class=" px-1.5 py-1"><!></div></div>'),ec=_('<div class=" py-5"><!></div>'),tc=_('<div><div class=" flex justify-between dark:text-gray-100 px-5 pt-4"><div class=" text-lg font-medium self-center font-primary"> </div> <button class="self-center"><!></button></div> <div class="flex flex-col md:flex-row w-full px-3 pb-4 md:space-x-4 dark:text-gray-200"><div class=" flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"><!></div></div></div>');function ac(wt,q){br(q,!1);const r=()=>la(Nl,"$user",p),f=()=>la(Be,"$i18n",p),[p,Bt]=Nr(),Be=Ar("i18n");cl();let y=oa(q,"show",12,!1),Ne=k(null),o=k(null);rl(async()=>{var d;if(((d=r())==null?void 0:d.role)==="admin"){if(await Promise.all([(async()=>{c(o,await Ni(localStorage.token))})()]),e(o)){c(Ne,"ollama");return}c(Ne,"")}}),Rr(),Zl(wt,{size:"sm",get show(){return y()},set show(d){y(d)},children:(d,S)=>{var A=tc(),C=a(A),E=a(C),w=a(E,!0);t(E);var H=l(E,2),D=a(H);Sl(D,{className:"size-5"}),t(H),t(C);var ee=l(C,2),Ae=a(ee),he=a(Ae);{var Se=te=>{var B=qn(),me=a(B),V=a(me,!0);t(me),t(B),u(ue=>s(V,ue),[()=>(f(),i(()=>f().t("No inference engine with management support found")))]),v(te,B)},n=te=>{var B=et(),me=O(B);{var V=U=>{var x=Qn(),M=a(x),le=a(M),ne=a(le,!0);t(le),t(M);var ve=l(M,2),N=a(ve);{var ge=qe=>{Jn(qe,{get ollamaConfig(){return e(o)}})};g(N,qe=>{e(Ne)==="ollama"&&qe(ge)})}t(ve),t(x),u(qe=>{qr(le,1,`min-w-fit p-1.5 ${e(Ne)==="ollama"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"} transition`),s(ne,qe)},[()=>(f(),i(()=>f().t("Ollama")))]),We("click",le,()=>{c(Ne,"ollama")}),v(U,x)},ue=U=>{var x=ec(),M=a(x);Qr(M,{}),t(x),v(U,x)};g(me,U=>{e(Ne)!==null?U(V):U(ue,!1)},!0)}v(te,B)};g(he,te=>{e(Ne)===""?te(Se):te(n,!1)})}t(Ae),t(ee),t(A),u(te=>s(w,te),[()=>(f(),i(()=>f().t("Manage Models")))]),We("click",H,()=>{y(!1)}),v(d,A)},$$slots:{default:!0},$$legacy:!0}),wr(),Bt()}var rc=Lr('<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-4"><path stroke-linecap="round" stroke-linejoin="round" d="M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"></path></svg>'),lc=Lr('<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-4"><path stroke-linecap="round" stroke-linejoin="round" d="M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"></path><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"></path></svg>'),ic=_('<!> <div class="flex items-center"><!></div>',1),sc=_('<!> <div class="flex items-center"><!></div>',1),vc=_('<!> <div class="flex items-center"> </div>',1),dc=_('<!> <div class="flex items-center"> </div>',1),oc=_('<!> <div class="flex items-center"> </div>',1),nc=_("<!> <!> <!> <!> <!>",1),cc=_('<div slot="content"><!></div>');function uc(wt,q){br(q,!1);const r=()=>la(Be,"$i18n",p),f=()=>la(xl,"$settings",p),[p,Bt]=Nr(),Be=Ar("i18n");oa(q,"user",8);let y=oa(q,"model",8),Ne=oa(q,"exportHandler",8),o=oa(q,"hideHandler",8),d=oa(q,"pinModelHandler",8),S=oa(q,"copyLinkHandler",8),A=oa(q,"cloneHandler",8),C=oa(q,"onClose",8),E=k(!1);Rr(),qs(wt,{get show(){return e(E)},set show(w){c(E,w)},$$events:{change:w=>{w.detail===!1&&C()()}},children:(w,H)=>{{let D=R(()=>(r(),i(()=>r().t("More"))));lt(w,{get content(){return e(D)},children:(ee,Ae)=>{var he=et(),Se=O(he);zs(Se,q,"default",{},null),v(ee,he)},$$slots:{default:!0}})}},$$slots:{default:!0,content:(w,H)=>{var D=cc(),ee=a(D);Xs(ee,{class:"w-full max-w-[170px] rounded-xl p-1 border border-gray-100  dark:border-gray-800 z-50 bg-white dark:bg-gray-850 dark:text-white shadow-sm",sideOffset:-2,side:"bottom",align:"start",get transition(){return Js},children:(Ae,he)=>{var Se=nc(),n=O(Se);Cl(n,{class:"flex  gap-2  items-center px-3 py-1.5 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$events:{click:()=>{o()()}},children:(ue,U)=>{var x=ic(),M=O(x);{var le=fe=>{var $=rc();v(fe,$)},ne=fe=>{var $=lc();v(fe,$)};g(M,fe=>{fr(y()),i(()=>{var $,W;return((W=($=y())==null?void 0:$.meta)==null?void 0:W.hidden)??!1})?fe(le):fe(ne,!1)})}var ve=l(M,2),N=a(ve);{var ge=fe=>{var $=cr();u(W=>s($,W),[()=>(r(),i(()=>r().t("Show Model")))]),v(fe,$)},qe=fe=>{var $=cr();u(W=>s($,W),[()=>(r(),i(()=>r().t("Hide Model")))]),v(fe,$)};g(N,fe=>{fr(y()),i(()=>{var $,W;return((W=($=y())==null?void 0:$.meta)==null?void 0:W.hidden)??!1})?fe(ge):fe(qe,!1)})}t(ve),v(ue,x)},$$slots:{default:!0}});var te=l(n,2);Cl(te,{class:"flex  gap-2  items-center px-3 py-1.5 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$events:{click:()=>{var ue;d()((ue=y())==null?void 0:ue.id)}},children:(ue,U)=>{var x=sc(),M=O(x);{var le=fe=>{tv(fe,{})},ne=fe=>{ev(fe,{})};g(M,fe=>{f(),fr(y()),i(()=>{var $,W;return((($=f())==null?void 0:$.pinnedModels)??[]).includes((W=y())==null?void 0:W.id)})?fe(le):fe(ne,!1)})}var ve=l(M,2),N=a(ve);{var ge=fe=>{var $=cr();u(W=>s($,W),[()=>(r(),i(()=>r().t("Hide from Sidebar")))]),v(fe,$)},qe=fe=>{var $=cr();u(W=>s($,W),[()=>(r(),i(()=>r().t("Keep in Sidebar")))]),v(fe,$)};g(N,fe=>{f(),fr(y()),i(()=>{var $,W;return((($=f())==null?void 0:$.pinnedModels)??[]).includes((W=y())==null?void 0:W.id)})?fe(ge):fe(qe,!1)})}t(ve),v(ue,x)},$$slots:{default:!0}});var B=l(te,2);Cl(B,{class:"flex gap-2 items-center px-3 py-1.5 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$events:{click:()=>{S()()}},children:(ue,U)=>{var x=vc(),M=O(x);av(M,{});var le=l(M,2),ne=a(le,!0);t(le),u(ve=>s(ne,ve),[()=>(r(),i(()=>r().t("Copy Link")))]),v(ue,x)},$$slots:{default:!0}});var me=l(B,2);Cl(me,{class:"flex gap-2 items-center px-3 py-1.5 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$events:{click:()=>{A()()}},children:(ue,U)=>{var x=dc(),M=O(x);Qs(M,{});var le=l(M,2),ne=a(le,!0);t(le),u(ve=>s(ne,ve),[()=>(r(),i(()=>r().t("Clone")))]),v(ue,x)},$$slots:{default:!0}});var V=l(me,2);Cl(V,{class:"flex gap-2 items-center px-3 py-1.5 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$events:{click:()=>{Ne()()}},children:(ue,U)=>{var x=oc(),M=O(x);di(M,{});var le=l(M,2),ne=a(le,!0);t(le),u(ve=>s(ne,ve),[()=>(r(),i(()=>r().t("Export")))]),v(ue,x)},$$slots:{default:!0}}),v(Ae,Se)},$$slots:{default:!0}}),t(D),v(w,D)}},$$legacy:!0}),wr(),Bt()}var _c=_('<button class=" p-1 rounded-full flex gap-1 items-center" type="button"><!></button>'),fc=_('<button class=" p-1 rounded-full flex gap-1 items-center" type="button"><!></button>'),pc=_('<div class="self-center pl-1.5 translate-y-[0.5px] rounded-l-xl bg-transparent"><button class="p-0.5 rounded-full hover:bg-gray-100 dark:hover:bg-gray-900 transition"><!></button></div>'),mc=_('<div class="  font-semibold line-clamp-1"> </div>'),gc=_('<button class="self-center w-fit text-sm px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl" type="button"><!></button>'),xc=_('<button class="self-center w-fit text-sm p-1.5 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl" type="button"><!></button>'),Ec=_('<button class="self-center w-fit text-sm px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl" type="button"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"></path></svg></button> <!> <div class="ml-1"><!></div>',1),yc=_('<div><button class=" flex flex-1 text-left space-x-3.5 cursor-pointer w-full" type="button"><div class=" self-center w-8"><div><img alt="modelfile profile" class=" rounded-full w-full h-auto object-cover"/></div></div> <div><!> <div class=" text-xs overflow-hidden text-ellipsis line-clamp-1 text-gray-500"><span class=" line-clamp-1"> </span></div></div></button> <div class="flex flex-row gap-0.5 items-center self-center"><!></div></div>'),hc=_('<div class="flex flex-col items-center justify-center w-full h-20"><div class="text-gray-500 dark:text-gray-400 text-xs"> </div></div>'),bc=_('<div class=" flex justify-end w-full mb-3"><div class="flex space-x-1"><input id="models-import-input" type="file" accept=".json" hidden=""/> <button class="flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition"><!> <div class=" self-center mr-2 font-medium line-clamp-1"> </div> <div class=" self-center"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-3.5 h-3.5"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 9.5a.75.75 0 0 1-.75-.75V8.06l-.72.72a.75.75 0 0 1-1.06-1.06l2-2a.75.75 0 0 1 1.06 0l2 2a.75.75 0 1 1-1.06 1.06l-.72-.72v2.69a.75.75 0 0 1-.75.75Z" clip-rule="evenodd"></path></svg></div></button> <button class="flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition"><div class=" self-center mr-2 font-medium line-clamp-1"> </div> <div class=" self-center"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-3.5 h-3.5"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 3.5a.75.75 0 0 1 .75.75v2.69l.72-.72a.75.75 0 1 1 1.06 1.06l-2 2a.75.75 0 0 1-1.06 0l-2-2a.75.75 0 0 1 1.06-1.06l.72.72V6.25A.75.75 0 0 1 8 5.5Z" clip-rule="evenodd"></path></svg></div></button></div></div>'),Ac=_('<div class="flex flex-col gap-1 mt-1.5 mb-2"><div class="flex justify-between items-center"><div class="flex items-center md:self-center text-xl font-medium px-0.5 gap-2"> <span class="text-lg font-medium text-gray-500 dark:text-gray-300"> </span></div> <div class="flex items-center gap-1.5"><!> <!></div></div> <div class=" flex flex-1 items-center w-full space-x-2"><div class="flex flex-1 items-center"><div class=" self-center ml-1 mr-3"><!></div> <input class=" w-full text-sm py-1 rounded-r-xl outline-hidden bg-transparent"/> <!></div></div></div> <div class=" my-2 mb-5" id="model-list"><!></div> <!>',1),wc=_('<div class=" h-full w-full flex justify-center items-center"><!></div>'),Ic=_("<!> <!> <!>",1);function $c(wt,q){br(q,!1);const r=()=>la(d,"$i18n",y),f=()=>la(Jr,"$config",y),p=()=>la(xl,"$settings",y),Bt=()=>la(bi,"$page",y),Be=()=>la(Nl,"$user",y),[y,Ne]=Nr(),{saveAs:o}=vi,d=Ar("i18n");let S=k(!1),A=k(!1),C=k(),E=k(),w=k(null),H=null,D=null,ee=k([]),Ae=k(null),he=k(!1),Se=k(!1),n=k("");const te=async $=>{let W=new Blob([JSON.stringify($)],{type:"application/json"});o(W,`models-export-${Date.now()}.json`)},B=async()=>{c(w,null),H=await wi(localStorage.token),D=await al(localStorage.token,null,!0),c(w,D.map($=>{const W=H.find(Fe=>Fe.id===$.id);return W?{...$,...W}:{...$,id:$.id,name:$.name,is_active:!0}}))},me=async $=>{var W,Fe,gt;$.base_model_id=null,H.find(Tt=>Tt.id===$.id)?await Ds(localStorage.token,$.id,$).catch(St=>null)&&Ee.success(r().t("Model updated successfully")):await fi(localStorage.token,{meta:{},id:$.id,name:$.name,base_model_id:null,params:{},access_control:{},...$}).catch(St=>null)&&Ee.success(r().t("Model updated successfully")),await B(),Wr.set(await al(localStorage.token,((Fe=(W=f())==null?void 0:W.features)==null?void 0:Fe.enable_direct_connections)&&(((gt=p())==null?void 0:gt.directConnections)??null)))},V=async $=>{var W,Fe,gt;Object.keys($).includes("base_model_id")?await Bs(localStorage.token,$.id):await fi(localStorage.token,{id:$.id,name:$.name,base_model_id:null,meta:{},params:{},access_control:{},is_active:$.is_active}).catch(Tt=>null),Wr.set(await al(localStorage.token,((Fe=(W=f())==null?void 0:W.features)==null?void 0:Fe.enable_direct_connections)&&(((gt=p())==null?void 0:gt.directConnections)??null)))},ue=async $=>{var W;$.meta={...$.meta,hidden:!(((W=$==null?void 0:$.meta)==null?void 0:W.hidden)??!1)},Ee.success($.meta.hidden?r().t("Model {{name}} is now hidden",{name:$.id}):r().t("Model {{name}} is now visible",{name:$.id})),me($)},U=async $=>{const W=window.location.origin;await ks(`${W}/?model=${encodeURIComponent($.id)}`)?Ee.success(r().t("Copied link to clipboard")):Ee.error(r().t("Failed to copy link"))},x=async $=>{sessionStorage.model=JSON.stringify({...$,base_model_id:$.id,id:`${$.id}-clone`,name:`${$.name} (Clone)`}),Ai("/workspace/models/create")},M=async $=>{let W=new Blob([JSON.stringify([$])],{type:"application/json"});o(W,`${$.id}-${Date.now()}.json`)},le=async $=>{var Fe;let W=((Fe=p())==null?void 0:Fe.pinnedModels)??[];W.includes($)?W=W.filter(gt=>gt!==$):W=[...new Set([...W,$])],xl.set({...p(),pinnedModels:W}),await ss(localStorage.token,{ui:p()})};rl(async()=>{await B();const $=Bt().url.searchParams.get("id");$&&c(Ae,$);const W=Tt=>{Tt.key==="Shift"&&c(S,!0)},Fe=Tt=>{Tt.key==="Shift"&&c(S,!1)},gt=()=>{c(S,!1)};return window.addEventListener("keydown",W),window.addEventListener("keyup",Fe),window.addEventListener("blur-sm",gt),()=>{window.removeEventListener("keydown",W),window.removeEventListener("keyup",Fe),window.removeEventListener("blur-sm",gt)}}),ml(()=>(e(w),e(n)),()=>{e(w)&&c(ee,e(w).filter($=>e(n)===""||$.name.toLowerCase().includes(e(n).toLowerCase())).sort(($,W)=>(($==null?void 0:$.name)??($==null?void 0:$.id)??"").localeCompare((W==null?void 0:W.name)??(W==null?void 0:W.id)??"")))}),Al(),Rr();var ne=Ic(),ve=O(ne);En(ve,{initHandler:B,get show(){return e(he)},set show($){c(he,$)},$$legacy:!0});var N=l(ve,2);ac(N,{get show(){return e(Se)},set show($){c(Se,$)},$$legacy:!0});var ge=l(N,2);{var qe=$=>{var W=et(),Fe=O(W);{var gt=St=>{var _a=Ac(),Vt=O(_a),ca=a(Vt),ma=a(ca),qt=a(ma),Qt=l(qt),we=a(Qt,!0);t(Qt),t(ma);var Ke=l(ma,2),vt=a(Ke);{let Kt=R(()=>(r(),i(()=>r().t("Manage Models"))));lt(vt,{get content(){return e(Kt)},children:(kt,va)=>{var Et=_c(),Ue=a(Et);di(Ue,{}),t(Et),We("click",Et,()=>{c(Se,!0)}),v(kt,Et)},$$slots:{default:!0}})}var _t=l(vt,2);{let Kt=R(()=>(r(),i(()=>r().t("Settings"))));lt(_t,{get content(){return e(Kt)},children:(kt,va)=>{var Et=fc(),Ue=a(Et);Vl(Ue,{}),t(Et),We("click",Et,()=>{c(he,!0)}),v(kt,Et)},$$slots:{default:!0}})}t(Ke),t(ca);var De=l(ca,2),Ve=a(De),tt=a(Ve),ft=a(tt);$i(ft,{className:"size-3.5"}),t(tt);var Qe=l(tt,2);J(Qe);var Dt=l(Qe,2);{var Rt=Kt=>{var kt=pc(),va=a(kt),Et=a(va);Sl(Et,{className:"size-3",strokeWidth:"2"}),t(va),t(kt),We("click",va,()=>{c(n,"")}),v(Kt,kt)};g(Dt,Kt=>{e(n)&&Kt(Rt)})}t(Ve),t(De),t(Vt);var Xt=l(Vt,2),ct=a(Xt);{var aa=Kt=>{var kt=et(),va=O(kt);Za(va,3,()=>e(ee),(Et,Ue)=>`${Et.id}-${Ue}`,(Et,Ue,Mt)=>{var Gt=yc(),da=a(Gt),ka=a(da),ba=a(ka),Yt=a(ba);t(ba),t(ka);var Wt=l(ka,2),yt=a(Wt);{let ie=R(()=>(fr(_i),e(Ue),i(()=>{var ce,Ce,Le,Pe,Me,Te,He,P,j,de;return _i.parse((Ce=(ce=e(Ue))==null?void 0:ce.meta)!=null&&Ce.description?(Pe=(Le=e(Ue))==null?void 0:Le.meta)==null?void 0:Pe.description:(Te=(Me=e(Ue))==null?void 0:Me.ollama)!=null&&Te.digest?`${(P=(He=e(Ue))==null?void 0:He.ollama)==null?void 0:P.digest} **(${(de=(j=e(Ue))==null?void 0:j.ollama)==null?void 0:de.modified_at})**`:e(Ue).id)})));lt(yt,{get content(){return e(ie)},className:" w-fit",placement:"top-start",children:(ce,Ce)=>{var Le=mc(),Pe=a(Le,!0);t(Le),u(()=>s(Pe,(e(Ue),i(()=>e(Ue).name)))),v(ce,Le)},$$slots:{default:!0}})}var Zt=l(yt,2),Ht=a(Zt),Ze=a(Ht,!0);t(Ht),t(Zt),t(Wt),t(da);var Q=l(da,2),at=a(Q);{var ut=ie=>{{let ce=R(()=>(e(Ue),r(),i(()=>{var Ce,Le;return(Le=(Ce=e(Ue))==null?void 0:Ce.meta)!=null&&Le.hidden?r().t("Show"):r().t("Hide")})));lt(ie,{get content(){return e(ce)},children:(Ce,Le)=>{var Pe=gc(),Me=a(Pe);{var Te=P=>{lv(P,{})},He=P=>{iv(P,{})};g(Me,P=>{e(Ue),i(()=>{var j,de;return(de=(j=e(Ue))==null?void 0:j.meta)==null?void 0:de.hidden})?P(Te):P(He,!1)})}t(Pe),We("click",Pe,()=>{ue(e(Ue))}),v(Ce,Pe)},$$slots:{default:!0}})}},xt=ie=>{var ce=Ec(),Ce=O(ce),Le=l(Ce,2);uc(Le,{get user(){return Be()},get model(){return e(Ue)},exportHandler:()=>{M(e(Ue))},hideHandler:()=>{ue(e(Ue))},pinModelHandler:()=>{le(e(Ue).id)},copyLinkHandler:()=>{U(e(Ue))},cloneHandler:()=>{x(e(Ue))},onClose:()=>{},children:(Te,He)=>{var P=xc(),j=a(P);rv(j,{className:"size-5"}),t(P),v(Te,P)},$$slots:{default:!0}});var Pe=l(Le,2),Me=a(Pe);{let Te=R(()=>(e(Ue),r(),i(()=>{var He;return((He=e(Ue))==null?void 0:He.is_active)??!0?r().t("Enabled"):r().t("Disabled")})));lt(Me,{get content(){return e(Te)},children:(He,P)=>{ta(He,{get state(){return e(Ue).is_active},set state(j){e(Ue).is_active=j,Pa(()=>e(ee))},$$events:{change:async()=>{V(e(Ue))}},$$legacy:!0})},$$slots:{default:!0}})}t(Pe),We("click",Ce,()=>{c(Ae,e(Ue).id)}),v(ie,ce)};g(at,ie=>{e(S)?ie(ut):ie(xt,!1)})}t(Q),t(Gt),u(()=>{qr(Gt,1,` flex space-x-4 cursor-pointer w-full px-3 py-2 dark:hover:bg-white/5 hover:bg-black/5 rounded-lg transition ${e(Ue),i(()=>{var ie,ce;return(ce=(ie=e(Ue))==null?void 0:ie.meta)!=null&&ce.hidden?"opacity-50 dark:opacity-50":""})??""}`),T(Gt,"id",`model-item-${e(Ue),i(()=>e(Ue).id)??""}`),qr(ba,1,` rounded-full object-cover ${e(Ue),i(()=>{var ie;return((ie=e(Ue))==null?void 0:ie.is_active)??!0?"":"opacity-50 dark:opacity-50"})??""} `),T(Yt,"src",(fr(Yl),e(Ue),i(()=>`${Yl}/models/model/profile/image?id=${e(Ue).id}`))),qr(Wt,1,` flex-1 self-center ${e(Ue),i(()=>{var ie;return((ie=e(Ue))==null?void 0:ie.is_active)??!0?"":"text-gray-500"})??""}`),s(Ze,(e(Ue),i(()=>{var ie,ce,Ce,Le,Pe,Me,Te,He;return(ce=(ie=e(Ue))==null?void 0:ie.meta)!=null&&ce.description?(Le=(Ce=e(Ue))==null?void 0:Ce.meta)==null?void 0:Le.description:(Me=(Pe=e(Ue))==null?void 0:Pe.ollama)!=null&&Me.digest?`${e(Ue).id} (${(He=(Te=e(Ue))==null?void 0:Te.ollama)==null?void 0:He.digest})`:e(Ue).id})))}),We("click",da,()=>{c(Ae,e(Ue).id)}),v(Et,Gt)}),v(Kt,kt)},ha=Kt=>{var kt=hc(),va=a(kt),Et=a(va,!0);t(va),t(kt),u(Ue=>s(Et,Ue),[()=>(r(),i(()=>r().t("No models found")))]),v(Kt,kt)};g(ct,Kt=>{e(w),i(()=>e(w).length>0)?Kt(aa):Kt(ha,!1)})}t(Xt);var Ya=l(Xt,2);{var na=Kt=>{var kt=bc(),va=a(kt),Et=a(va);Tl(Et,yt=>c(E,yt),()=>e(E));var Ue=l(Et,2),Mt=a(Ue);{var Gt=yt=>{Qr(yt,{className:"size-3"})};g(Mt,yt=>{e(A)&&yt(Gt)})}var da=l(Mt,2),ka=a(da,!0);t(da),Dr(2),t(Ue);var ba=l(Ue,2),Yt=a(ba),Wt=a(Yt);t(Yt),Dr(2),t(ba),t(va),t(kt),u((yt,Zt)=>{Ue.disabled=e(A),s(ka,yt),s(Wt,`${Zt??""} (${e(w),i(()=>e(w).length)??""})`)},[()=>(r(),i(()=>r().t("Import Presets"))),()=>(r(),i(()=>r().t("Export Presets")))]),si(Et,()=>e(C),yt=>c(C,yt)),We("change",Et,()=>{if(e(C).length>0){const yt=new FileReader;yt.onload=async Zt=>{c(A,!0);try{const Ht=JSON.parse(String(Zt.target.result));await Gs(localStorage.token,Ht)?(Ee.success(r().t("Models imported successfully")),await B()):Ee.error(r().t("Failed to import models"))}catch(Ht){Ee.error((Ht==null?void 0:Ht.detail)??r().t("Invalid JSON file"))}c(A,!1)},yt.readAsText(e(C)[0])}}),We("click",Ue,()=>{e(E).click()}),We("click",ba,async()=>{te(e(w))}),v(Kt,kt)};g(Ya,Kt=>{Be(),i(()=>{var kt;return((kt=Be())==null?void 0:kt.role)==="admin"})&&Kt(na)})}u((Kt,kt)=>{s(qt,`${Kt??""} `),s(we,(e(ee),i(()=>e(ee).length))),T(Qe,"placeholder",kt)},[()=>(r(),i(()=>r().t("Models"))),()=>(r(),i(()=>r().t("Search Models")))]),X(Qe,()=>e(n),Kt=>c(n,Kt)),v(St,_a)},Tt=St=>{{let _a=R(()=>(e(w),e(Ae),i(()=>e(w).find(Vt=>Vt.id===e(Ae)))));js(St,{edit:!0,get model(){return e(_a)},preset:!1,onSubmit:Vt=>{me(Vt),c(Ae,null)},onBack:()=>{c(Ae,null)}})}};g(Fe,St=>{e(Ae)===null?St(gt):St(Tt,!1)})}v($,W)},fe=$=>{var W=wc(),Fe=a(W);Qr(Fe,{className:"size-5"}),t(W),v($,W)};g(ge,$=>{e(w)!==null?$(qe):$(fe,!1)})}v(wt,ne),wr(),Ne()}var Rc=_('<div class="absolute top-0 bottom-0 left-0 right-0 opacity-60 bg-white dark:bg-gray-900 z-10"></div>'),Nc=Lr('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-4"><path d="M11.644 1.59a.75.75 0 0 1 .712 0l9.75 5.25a.75.75 0 0 1 0 1.32l-9.75 5.25a.75.75 0 0 1-.712 0l-9.75-5.25a.75.75 0 0 1 0-1.32l9.75-5.25Z"></path><path d="m3.265 10.602 7.668 4.129a2.25 2.25 0 0 0 2.134 0l7.668-4.13 1.37.739a.75.75 0 0 1 0 1.32l-9.75 5.25a.75.75 0 0 1-.71 0l-9.75-5.25a.75.75 0 0 1 0-1.32l1.37-.738Z"></path><path d="m10.933 19.231-7.668-4.13-1.37.739a.75.75 0 0 0 0 1.32l9.75 5.25c.221.12.489.12.71 0l9.75-5.25a.75.75 0 0 0 0-1.32l-1.37-.738-7.668 4.13a2.25 2.25 0 0 1-2.134-.001Z"></path></svg>'),Tc=_('<div class=" absolute top-0.5 right-2.5"><!></div>'),Sc=_('<!> <div class="flex w-full gap-2"><div class="flex-1 relative"><input autocomplete="off"/> <!></div></div>',1),kc=_('<button class="self-center p-1 bg-transparent hover:bg-gray-100 dark:bg-gray-900 dark:hover:bg-gray-850 rounded-lg transition" type="button"><!></button>'),Oc=_('<!> <!> <div class="flex w-full gap-2 items-center"><!> <div class="flex gap-1"><!></div></div>',1);function Lc(wt,q){br(q,!1);const r=()=>la(Bt,"$i18n",f),[f,p]=Nr(),Bt=Ar("i18n");let Be=oa(q,"onDelete",8,()=>{}),y=oa(q,"onSubmit",8,()=>{}),Ne=oa(q,"pipeline",8,!1),o=oa(q,"url",12,""),d=oa(q,"key",12,""),S=oa(q,"config",28,()=>({})),A=k(!1),C=k(!1);Rr();var E=Oc(),w=O(E);gl(w,{get show(){return e(C)},set show(Se){c(C,Se)},$$events:{confirm:()=>{Be()()}},$$legacy:!0});var H=l(w,2);{let Se=R(()=>({url:o(),key:d(),config:S()}));Wl(H,{edit:!0,get connection(){return e(Se)},onDelete:()=>{c(C,!0)},onSubmit:n=>{o(n.url),d(n.key),S(n.config),y()(n)},get show(){return e(A)},set show(n){c(A,n)},$$legacy:!0})}var D=l(H,2),ee=a(D);{let Se=R(()=>(r(),fr(o()),i(()=>r().t('WebUI will make requests to "{{url}}/chat/completions"',{url:o()}))));lt(ee,{className:"w-full relative",get content(){return e(Se)},placement:"top-start",children:(n,te)=>{var B=Sc(),me=O(B);{var V=ne=>{var ve=Rc();v(ne,ve)};g(me,ne=>{fr(S()),i(()=>{var ve;return!(((ve=S())==null?void 0:ve.enable)??!0)})&&ne(V)})}var ue=l(me,2),U=a(ue),x=a(U);J(x),x.readOnly=!0;var M=l(x,2);{var le=ne=>{var ve=Tc(),N=a(ve);lt(N,{content:"Pipelines",children:(ge,qe)=>{var fe=Nc();v(ge,fe)},$$slots:{default:!0}}),t(ve),v(ne,ve)};g(M,ne=>{Ne()&&ne(le)})}t(U),t(ue),u(ne=>{qr(x,1,` outline-hidden w-full bg-transparent ${Ne()?"pr-8":""}`),T(x,"placeholder",ne)},[()=>(r(),i(()=>r().t("API Base URL")))]),X(x,o),v(n,B)},$$slots:{default:!0}})}var Ae=l(ee,2),he=a(Ae);{let Se=R(()=>(r(),i(()=>r().t("Configure"))));lt(he,{get content(){return e(Se)},className:"self-start",children:(n,te)=>{var B=kc(),me=a(B);Vl(me,{}),t(B),We("click",B,()=>{c(A,!0)}),v(n,B)},$$slots:{default:!0}})}t(Ae),t(D),v(wt,E),wr(),p()}var Pc=_('<div><div class=" flex justify-between dark:text-gray-100 px-5 pt-4 pb-2"><div class="flex w-full justify-between items-center text-lg font-medium self-center font-primary"><div class=" shrink-0"> </div></div> <button class="self-center"><!></button></div> <div class="flex flex-col md:flex-row w-full px-5 pb-4 md:space-x-4 dark:text-gray-200"><!></div></div>');function Mc(wt,q){br(q,!1);const r=()=>la(Bt,"$i18n",f),[f,p]=Nr(),Bt=Ar("i18n");let Be=oa(q,"show",12,!1),y=oa(q,"urlIdx",8,null);Rr(),Zl(wt,{size:"sm",get show(){return Be()},set show(Ne){Be(Ne)},children:(Ne,o)=>{var d=Pc(),S=a(d),A=a(S),C=a(A),E=a(C,!0);t(C),t(A);var w=l(A,2),H=a(w);Sl(H,{className:"size-5"}),t(w),t(S);var D=l(S,2),ee=a(D);Li(ee,{get urlIdx(){return y()}}),t(D),t(d),u(Ae=>s(E,Ae),[()=>(r(),i(()=>r().t("Manage Ollama")))]),We("click",w,()=>{Be(!1)}),v(Ne,d)},$$slots:{default:!0},$$legacy:!0}),wr(),p()}var Cc=_('<div class="absolute top-0 bottom-0 left-0 right-0 opacity-60 bg-white dark:bg-gray-900 z-10"></div>'),Uc=_('<!> <input class="w-full text-sm bg-transparent outline-hidden"/>',1),Dc=_('<button class="self-center p-1 bg-transparent hover:bg-gray-100 dark:bg-gray-900 dark:hover:bg-gray-850 rounded-lg transition" type="button"><!></button>'),Gc=_('<button class="self-center p-1 bg-transparent hover:bg-gray-100 dark:bg-gray-900 dark:hover:bg-gray-850 rounded-lg transition" type="button"><!></button>'),Bc=_('<!> <!> <!> <div class="flex gap-1.5"><!> <div class="flex gap-1"><!> <!></div></div>',1);function Hc(wt,q){br(q,!1);const r=()=>la(Bt,"$i18n",f),[f,p]=Nr(),Bt=Ar("i18n");let Be=oa(q,"onDelete",8,()=>{}),y=oa(q,"onSubmit",8,()=>{}),Ne=oa(q,"url",12,""),o=oa(q,"idx",8,0),d=oa(q,"config",28,()=>({})),S=k(!1),A=k(!1),C=k(!1);Rr();var E=Bc(),w=O(E);{let te=R(()=>(fr(Ne()),fr(d()),i(()=>{var B;return{url:Ne(),key:((B=d())==null?void 0:B.key)??"",config:d()}})));Wl(w,{ollama:!0,edit:!0,get connection(){return e(te)},onDelete:()=>{c(C,!0)},onSubmit:B=>{Ne(B.url),d({...B.config,key:B.key}),y()(B)},get show(){return e(A)},set show(B){c(A,B)},$$legacy:!0})}var H=l(w,2);gl(H,{get show(){return e(C)},set show(te){c(C,te)},$$events:{confirm:()=>{Be()(),c(A,!1)}},$$legacy:!0});var D=l(H,2);Mc(D,{get urlIdx(){return o()},get show(){return e(S)},set show(te){c(S,te)},$$legacy:!0});var ee=l(D,2),Ae=a(ee);{let te=R(()=>(r(),fr(Ne()),i(()=>r().t('WebUI will make requests to "{{url}}/api/chat"',{url:Ne()}))));lt(Ae,{className:"w-full relative",get content(){return e(te)},placement:"top-start",children:(B,me)=>{var V=Uc(),ue=O(V);{var U=M=>{var le=Cc();v(M,le)};g(ue,M=>{fr(d()),i(()=>{var le;return!(((le=d())==null?void 0:le.enable)??!0)})&&M(U)})}var x=l(ue,2);J(x),x.readOnly=!0,u(M=>T(x,"placeholder",M),[()=>(r(),i(()=>r().t("Enter URL (e.g. http://localhost:11434)")))]),X(x,Ne),v(B,V)},$$slots:{default:!0}})}var he=l(Ae,2),Se=a(he);{let te=R(()=>(r(),i(()=>r().t("Manage"))));lt(Se,{get content(){return e(te)},className:"self-start",children:(B,me)=>{var V=Dc(),ue=a(V);di(ue,{}),t(V),We("click",V,()=>{c(S,!0)}),v(B,V)},$$slots:{default:!0}})}var n=l(Se,2);{let te=R(()=>(r(),i(()=>r().t("Configure"))));lt(n,{get content(){return e(te)},className:"self-start",children:(B,me)=>{var V=Gc(),ue=a(V);Vl(ue,{}),t(V),We("click",V,()=>{c(A,!0)}),v(B,V)},$$slots:{default:!0}})}t(he),t(ee),v(wt,E),wr(),p()}var jc=_('<button class="px-1" type="button"><!></button>'),Kc=_('<div><div class="flex justify-between items-center"><div class="font-medium text-xs"> </div> <!></div> <div class="flex flex-col gap-1.5 mt-1.5"></div></div>'),Yc=_('<button class="px-1" type="button"><!></button>'),Wc=_('<div><div class="flex justify-between items-center"><div class="font-medium text-xs"> </div> <!></div> <div class="flex w-full gap-1.5"><div class="flex-1 flex flex-col gap-1.5 mt-1.5"></div></div> <div class="mt-1 text-xs text-gray-400 dark:text-gray-500"> <a class=" text-gray-300 font-medium underline" href="https://github.com/open-webui/open-webui#troubleshooting" target="_blank"> </a></div></div>'),Fc=_('<div class="mb-3.5"><div class=" mt-0.5 mb-2.5 text-base font-medium"> </div> <hr class=" border-gray-100/30 dark:border-gray-850/30 my-2"/> <div class="my-2"><div class="mt-2 space-y-2"><div class="flex justify-between items-center text-sm"><div class="  font-medium"> </div> <div class="flex items-center"><div><!></div></div></div> <!></div></div> <div class=" my-2"><div class="flex justify-between items-center text-sm mb-2"><div class="  font-medium"> </div> <div class="mt-1"><!></div></div> <!></div> <div class="my-2"><div class="flex justify-between items-center text-sm"><div class="  font-medium"> </div> <div class="flex items-center"><div><!></div></div></div> <div class="mt-1 text-xs text-gray-400 dark:text-gray-500"> </div></div> <hr class=" border-gray-100/30 dark:border-gray-850/30 my-2"/> <div class="my-2"><div class="flex justify-between items-center text-sm"><div class=" text-xs font-medium"> </div> <div class="flex items-center"><div><!></div></div></div> <div class="mt-1 text-xs text-gray-400 dark:text-gray-500"> </div></div></div>'),Vc=_('<div class="flex h-full justify-center"><div class="my-auto"><!></div></div>'),Zc=_('<!> <!> <form class="flex flex-col h-full justify-between text-sm"><div class=" overflow-y-scroll scrollbar-hidden h-full"><!></div> <div class="flex justify-end pt-3 text-sm font-medium"><button class="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full" type="submit"> </button></div></form>',1);function zc(wt,q){br(q,!1);const r=()=>la(Jr,"$config",Be),f=()=>la(xl,"$settings",Be),p=()=>la(o,"$i18n",Be),Bt=()=>la(Nl,"$user",Be),[Be,y]=Nr(),Ne=cl(),o=Ar("i18n"),d=async()=>{var Fe,gt,Tt;return await al(localStorage.token,((gt=(Fe=r())==null?void 0:Fe.features)==null?void 0:gt.enable_direct_connections)&&(((Tt=f())==null?void 0:Tt.directConnections)??null),!1,!0)};let S=k([""]),A=k({}),C=k([""]),E=k([""]),w=k({}),H=k(null),D=k(null),ee=k(null),Ae=k({}),he=k(!1),Se=k(!1);const n=async()=>{if(e(H)!==null){if(c(E,e(E).map(Fe=>Fe.replace(/\/$/,""))),e(C).length!==e(E).length&&(e(C).length>e(E).length&&c(C,e(C).slice(0,e(E).length)),e(C).length<e(E).length)){const Fe=e(E).length-e(C).length;for(let gt=0;gt<Fe;gt++)e(C).push("")}await dv(localStorage.token,{ENABLE_OPENAI_API:e(H),OPENAI_API_BASE_URLS:e(E),OPENAI_API_KEYS:e(C),OPENAI_API_CONFIGS:e(w)}).catch(Fe=>{Ee.error(`${Fe}`)})&&(Ee.success(p().t("OpenAI API settings updated")),await Wr.set(await d()))}},te=async()=>{e(D)!==null&&(c(S,e(S).map(Fe=>Fe.replace(/\/$/,""))),await Zs(localStorage.token,{ENABLE_OLLAMA_API:e(D),OLLAMA_BASE_URLS:e(S),OLLAMA_API_CONFIGS:e(A)}).catch(Fe=>{Ee.error(`${Fe}`)})&&(Ee.success(p().t("Ollama API settings updated")),await Wr.set(await d())))},B=async()=>{await ps(localStorage.token,e(ee)).catch(Fe=>{Ee.error(`${Fe}`)})&&(Ee.success(p().t("Connections settings updated")),await Wr.set(await d()),await Jr.set(await pl()))},me=async W=>{c(E,[...e(E),W.url]),c(C,[...e(C),W.key]),m(w,e(w)[e(E).length-1]=W.config),await n()},V=async W=>{c(S,[...e(S),W.url]),m(A,e(A)[e(S).length-1]={...W.config,key:W.key}),await te()};rl(async()=>{var W;if(((W=Bt())==null?void 0:W.role)==="admin"){let Fe={},gt={};if(await Promise.all([(async()=>{Fe=await Ni(localStorage.token)})(),(async()=>{gt=await sv(localStorage.token)})(),(async()=>{c(ee,await fs(localStorage.token))})()]),c(H,gt.ENABLE_OPENAI_API),c(D,Fe.ENABLE_OLLAMA_API),c(E,gt.OPENAI_API_BASE_URLS),c(C,gt.OPENAI_API_KEYS),c(w,gt.OPENAI_API_CONFIGS),c(S,Fe.OLLAMA_BASE_URLS),c(A,Fe.OLLAMA_API_CONFIGS),e(H)){for(const[Tt,St]of e(E).entries())e(w)[Tt]||m(w,e(w)[Tt]=e(w)[St]||{});e(E).forEach(async(Tt,St)=>{var Vt;if(m(w,e(w)[St]=e(w)[St]||{}),!(((Vt=e(w)[St])==null?void 0:Vt.enable)??!0))return;(await vv(localStorage.token,St)).pipelines&&m(Ae,e(Ae)[Tt]=!0)})}if(e(D))for(const[Tt,St]of e(S).entries())e(A)[Tt]||m(A,e(A)[Tt]=e(A)[St]||{})}});const ue=async()=>{n(),te(),Ne("save"),await Jr.set(await pl())};Rr();var U=Zc(),x=O(U);Wl(x,{onSubmit:me,get show(){return e(he)},set show(W){c(he,W)},$$legacy:!0});var M=l(x,2);Wl(M,{ollama:!0,onSubmit:V,get show(){return e(Se)},set show(W){c(Se,W)},$$legacy:!0});var le=l(M,2),ne=a(le),ve=a(ne);{var N=W=>{var Fe=Fc(),gt=a(Fe),Tt=a(gt,!0);t(gt);var St=l(gt,4),_a=a(St),Vt=a(_a),ca=a(Vt),ma=a(ca,!0);t(ca);var qt=l(ca,2),Qt=a(qt),we=a(Qt);ta(we,{get state(){return e(H)},set state(yt){c(H,yt)},$$events:{change:async()=>{n()}},$$legacy:!0}),t(Qt),t(qt),t(Vt);var Ke=l(Vt,2);{var vt=yt=>{var Zt=Kc(),Ht=a(Zt),Ze=a(Ht),Q=a(Ze,!0);t(Ze);var at=l(Ze,2);{let xt=R(()=>p().t("Add Connection"));lt(at,{get content(){return e(xt)},children:(ie,ce)=>{var Ce=jc(),Le=a(Ce);Ul(Le,{}),t(Ce),We("click",Ce,()=>{c(he,!0)}),v(ie,Ce)},$$slots:{default:!0}})}t(Ht);var ut=l(Ht,2);Za(ut,5,()=>e(E),dr,(xt,ie,ce)=>{{let Ce=R(()=>!!e(Ae)[e(ie)]);Lc(xt,{get pipeline(){return e(Ce)},onSubmit:()=>{n()},onDelete:()=>{c(E,e(E).filter((Pe,Me)=>ce!==Me)),c(C,e(C).filter((Pe,Me)=>ce!==Me));let Le={};e(E).forEach((Pe,Me)=>{Le[Me]=e(w)[Me<ce?Me:Me+1]}),c(w,Le),n()},get url(){return e(E)[ce]},set url(Le){m(E,e(E)[ce]=Le)},get key(){return e(C)[ce]},set key(Le){m(C,e(C)[ce]=Le)},get config(){return e(w)[ce]},set config(Le){m(w,e(w)[ce]=Le)},$$legacy:!0})}}),t(ut),t(Zt),u(xt=>s(Q,xt),[()=>p().t("Manage OpenAI API Connections")]),v(yt,Zt)};g(Ke,yt=>{e(H)&&yt(vt)})}t(_a),t(St);var _t=l(St,2),De=a(_t),Ve=a(De),tt=a(Ve,!0);t(Ve);var ft=l(Ve,2),Qe=a(ft);ta(Qe,{get state(){return e(D)},set state(yt){c(D,yt)},$$events:{change:async()=>{te()}},$$legacy:!0}),t(ft),t(De);var Dt=l(De,2);{var Rt=yt=>{var Zt=Wc(),Ht=a(Zt),Ze=a(Ht),Q=a(Ze,!0);t(Ze);var at=l(Ze,2);{let Pe=R(()=>p().t("Add Connection"));lt(at,{get content(){return e(Pe)},children:(Me,Te)=>{var He=Yc(),P=a(He);Ul(P,{}),t(He),We("click",He,()=>{c(Se,!0)}),v(Me,He)},$$slots:{default:!0}})}t(Ht);var ut=l(Ht,2),xt=a(ut);Za(xt,5,()=>e(S),dr,(Pe,Me,Te)=>{Hc(Pe,{idx:Te,onSubmit:()=>{te()},onDelete:()=>{c(S,e(S).filter((P,j)=>Te!==j));let He={};e(S).forEach((P,j)=>{He[j]=e(A)[j<Te?j:j+1]}),c(A,He)},get url(){return e(S)[Te]},set url(He){m(S,e(S)[Te]=He)},get config(){return e(A)[Te]},set config(He){m(A,e(A)[Te]=He)},$$legacy:!0})}),t(xt),t(ut);var ie=l(ut,2),ce=a(ie),Ce=l(ce),Le=a(Ce,!0);t(Ce),t(ie),t(Zt),u((Pe,Me,Te)=>{s(Q,Pe),s(ce,`${Me??""} `),s(Le,Te)},[()=>p().t("Manage Ollama API Connections"),()=>p().t("Trouble accessing Ollama?"),()=>p().t("Click here for help.")]),v(yt,Zt)};g(Dt,yt=>{e(D)&&yt(Rt)})}t(_t);var Xt=l(_t,2),ct=a(Xt),aa=a(ct),ha=a(aa,!0);t(aa);var Ya=l(aa,2),na=a(Ya),Kt=a(na);ta(Kt,{get state(){return e(ee).ENABLE_DIRECT_CONNECTIONS},set state(yt){m(ee,e(ee).ENABLE_DIRECT_CONNECTIONS=yt)},$$events:{change:async()=>{B()}},$$legacy:!0}),t(na),t(Ya),t(ct);var kt=l(ct,2),va=a(kt,!0);t(kt),t(Xt);var Et=l(Xt,4),Ue=a(Et),Mt=a(Ue),Gt=a(Mt,!0);t(Mt);var da=l(Mt,2),ka=a(da),ba=a(ka);ta(ba,{get state(){return e(ee).ENABLE_BASE_MODELS_CACHE},set state(yt){m(ee,e(ee).ENABLE_BASE_MODELS_CACHE=yt)},$$events:{change:async()=>{B()}},$$legacy:!0}),t(ka),t(da),t(Ue);var Yt=l(Ue,2),Wt=a(Yt,!0);t(Yt),t(Et),t(Fe),u((yt,Zt,Ht,Ze,Q,at,ut)=>{s(Tt,yt),s(ma,Zt),s(tt,Ht),s(ha,Ze),s(va,Q),s(Gt,at),s(Wt,ut)},[()=>p().t("General"),()=>p().t("OpenAI API"),()=>p().t("Ollama API"),()=>p().t("Direct Connections"),()=>p().t("Direct Connections allow users to connect to their own OpenAI compatible API endpoints."),()=>p().t("Cache Base Model List"),()=>p().t("Base Model List Cache speeds up access by fetching base models only at startup or on settings savefaster, but may not show recent base model changes.")]),v(W,Fe)},ge=W=>{var Fe=Vc(),gt=a(Fe),Tt=a(gt);Qr(Tt,{className:"size-6"}),t(gt),t(Fe),v(W,Fe)};g(ve,W=>{e(H)!==null&&e(D)!==null&&e(ee)!==null?W(N):W(ge,!1)})}t(ne);var qe=l(ne,2),fe=a(qe),$=a(fe,!0);t(fe),t(qe),t(le),u(W=>s($,W),[()=>p().t("Save")]),We("submit",le,il(ue)),v(wt,U),wr(),y()}var Xc=_('<div class="flex w-full mt-1"><div class="flex-1 flex justify-between"><div class=" self-center text-xs font-medium"> </div> <div class="flex items-center relative"><!></div></div></div>'),Jc=_('<input class="flex-1 w-full text-sm bg-transparent outline-hidden"/>'),qc=_('<div class="my-0.5 flex gap-2 pr-2"><!></div> <div class="my-0.5 flex gap-2 pr-2"><!></div> <div class="flex flex-col gap-2 mt-2"><div class=" flex flex-col w-full justify-between"><div class=" mb-1 text-xs font-medium"> </div> <div class="flex w-full items-center relative"><!></div></div></div> <div class="flex justify-between w-full mt-2"><div class="self-center text-xs font-medium"><!></div> <div class="flex items-center"><!></div></div> <div class="flex justify-between w-full mt-2"><div class="self-center text-xs font-medium"><!></div> <div class="flex items-center"><!></div></div> <div class="flex justify-between w-full mt-2"><div class="self-center text-xs font-medium"><!></div> <div class="flex items-center"><!></div></div> <div class="flex justify-between w-full mt-2"><div class="self-center text-xs font-medium"><!></div> <div class="flex items-center"><!></div></div> <div class="flex justify-between w-full mt-2"><div class="self-center text-xs font-medium"><!></div> <div class="flex items-center"><!></div></div> <div class="flex justify-between w-full mt-2"><div class="self-center text-xs font-medium"><!></div> <div class="flex items-center"><!></div></div> <div class="flex justify-between w-full mt-2"><div class="self-center text-xs font-medium"><!></div> <div class="flex items-center"><!></div></div> <div class="flex justify-between w-full mt-2"><div class="self-center text-xs font-medium"><!></div> <div><select class="dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 text-xs bg-transparent outline-hidden text-right"><option> </option><option> </option><option> </option></select></div></div>',1),Qc=_('<div class="my-0.5 flex gap-2 pr-2"><input class="flex-1 w-full text-sm bg-transparent outline-hidden"/> <!></div>'),eu=_('<div class="flex w-full mt-1"><div class="flex-1 mr-2"><input class="flex-1 w-full text-sm bg-transparent outline-hidden"/></div></div>'),tu=_('<div class="my-0.5 flex gap-2 pr-2"><input class="flex-1 w-full text-sm bg-transparent outline-hidden"/> <!></div> <div class="flex flex-col gap-2 mt-2"><div class=" flex flex-col w-full justify-between"><div class=" mb-1 text-xs font-medium"> </div> <div class="flex w-full items-center relative"><!></div></div></div>',1),au=_('<div class="my-0.5 flex gap-2 pr-2"><input class="flex-1 w-full text-sm bg-transparent outline-hidden"/> <!></div> <div class="my-0.5 flex flex-col w-full"><div class=" mb-1 text-xs font-medium"> </div> <div class="flex w-full"><div class="flex-1 mr-2"><input class="flex-1 w-full text-sm bg-transparent outline-hidden"/></div></div></div>',1),ru=_('<div class="my-0.5 flex gap-2 pr-2"><input class="flex-1 w-full text-sm bg-transparent outline-hidden"/> <!></div>'),lu=_('<div class="flex w-full mt-2"><div class="flex-1 flex justify-between"><div class="self-center text-xs font-medium"> </div> <select class="dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 text-xs bg-transparent outline-hidden"><option> </option><option> </option></select></div></div> <div class="flex w-full mt-2"><input class="flex-1 w-full text-sm bg-transparent outline-hidden"/></div> <div class="flex w-full mt-2"><!></div> <div class="flex w-full mt-2"><div class="flex-1 flex justify-between"><div class="self-center text-xs font-medium"> </div> <input class="w-16 text-sm bg-transparent outline-hidden text-right" type="number" min="1" placeholder="60"/></div></div> <div class="flex flex-col justify-between w-full mt-2"><div class="text-xs font-medium"><!></div> <div class="mt-1.5"><!></div></div>',1),iu=_('<div class="  mb-2.5 flex w-full justify-between"><div class=" flex gap-1.5 w-full"><div class="w-full"><div class="self-center text-xs font-medium min-w-fit mb-1"><!></div> <div class="self-center"><input class="w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden" type="number" autocomplete="off" min="0"/></div></div></div></div>'),su=_('<div class="  mb-2.5 flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div> <div class="flex items-center relative"><select class="dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 text-xs bg-transparent outline-hidden text-right"><option> </option><option> </option></select></div></div> <div class="  mb-2.5 flex w-full justify-between"><div class=" self-center text-xs font-medium"><!></div> <div class="flex items-center relative"><!></div></div> <div class="  mb-2.5 flex w-full justify-between"><div class=" flex gap-1.5 w-full"><div class="  w-full justify-between"><div class="self-center text-xs font-medium min-w-fit mb-1"> </div> <div class="self-center"><input class=" w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden" type="number" autocomplete="off" min="0"/></div></div> <div class="w-full"><div class=" self-center text-xs font-medium min-w-fit mb-1"> </div> <div class="self-center"><input class="w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden" type="number" autocomplete="off" min="0"/></div></div></div></div> <!>',1),vu=_('<div class="my-0.5 flex gap-2 pr-2"><input class="flex-1 w-full text-sm bg-transparent outline-hidden" required/> <!></div>'),du=_('<div class="my-0.5 flex gap-2 pr-2"><input class="flex-1 w-full text-sm bg-transparent outline-hidden" required/> <!></div>'),ou=_('<div class="my-0.5 flex flex-col gap-2 pr-2 w-full"><div class="flex gap-2"><input class="flex-1 w-full text-sm bg-transparent outline-hidden" required/> <!></div> <div class="flex gap-2"><input class="flex-1 w-full text-sm bg-transparent outline-hidden" required/></div></div>'),nu=_('<div class="flex w-full"><div class="flex-1 mr-2"><input class="flex-1 w-full text-sm bg-transparent outline-hidden" required/></div></div>'),cu=_('<div class="self-center"><!></div>'),uu=Lr('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"></path><path d="M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"></path></svg>'),_u=_('<button class="px-2.5 bg-transparent text-gray-800 dark:bg-transparent dark:text-gray-100 rounded-lg transition"><!></button>'),fu=_('<div class="flex w-full"><div class="flex-1 mr-2"><input class="flex-1 w-full text-sm bg-transparent outline-hidden"/></div> <!></div>'),pu=_('<div class="  mb-2.5 flex w-full justify-between"><div class="self-center text-xs font-medium"><!></div> <div class="flex items-center relative"><!></div></div>'),mu=_('<div class="my-0.5 flex gap-2 pr-2"><input class="flex-1 w-full text-sm bg-transparent outline-hidden" required/> <!></div>'),gu=_('<div class="mb-2.5 flex w-full justify-between"><div class="self-center text-xs font-medium"> </div> <div class="flex items-center relative"><!></div></div> <div class="  mb-2.5 flex flex-col w-full justify-between"><div class="flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div> <div class="flex items-center relative"><select class="dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right"><option> </option><option> </option></select></div></div> <!></div> <div class="  mb-2.5 flex flex-col w-full"><div class=" mb-1 text-xs font-medium"> </div> <div><div class="flex w-full"><div class="flex-1 mr-2"><input class="flex-1 w-full text-sm bg-transparent outline-hidden"/></div></div></div></div>',1),xu=_('<div class="mb-2.5 flex w-full justify-between"><div class="self-center text-xs font-medium"> </div> <div class="flex items-center relative"><input class="flex-1 w-full text-sm bg-transparent outline-hidden" type="number" autocomplete="off" min="0"/></div></div>'),Eu=_('<div class="  mb-2.5 flex flex-col w-full justify-between"><div class=" flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div> <div class="flex items-center relative"><input class="flex-1 w-full text-sm bg-transparent outline-hidden" type="number" step="0.01" autocomplete="off" min="0.0"/></div></div> <div class="mt-1 text-xs text-gray-400 dark:text-gray-500"> </div></div>'),yu=_('<span class="ml-2 self-center"> </span>'),hu=_('<span class="ml-2 self-center"> </span>'),bu=_('<div class="flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div> <button class="p-1 px-3 text-xs flex rounded-sm transition shrink-0 outline-hidden" type="button"><!></button></div>'),Au=_('<div class="flex mt-0.5 space-x-2"><div class=" flex-1"><input id="steps-range" type="range" min="0" max="1" step="0.05" class="w-full h-2 rounded-lg appearance-none cursor-pointer dark:bg-gray-700"/> <div class="py-0.5"><div class="flex w-full justify-between"><div class=" text-left text-xs font-small"> </div> <div class=" text-right text-xs font-small"> </div></div></div></div> <div><input type="number" class=" bg-transparent text-center w-14" min="0" max="1" step="any"/></div></div>'),wu=_('<div class=" mb-2.5 py-0.5 w-full justify-between"><!> <!></div>'),Iu=_('<div class="  mb-2.5 flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div> <div class="flex items-center relative"><!></div></div> <!> <div class="  mb-2.5 flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div> <div class="flex items-center relative"><input class="flex-1 w-full text-sm bg-transparent outline-hidden" type="number" autocomplete="off" min="0"/></div></div> <!> <!> <!>',1),$u=_('<div class="mb-3"><div class=" mt-0.5 mb-2.5 text-base font-medium"> </div> <hr class=" border-gray-100/30 dark:border-gray-850/30 my-2"/> <div class="  mb-2.5 flex flex-col w-full justify-between"><div class="flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div> <div class="flex items-center relative"><select class="dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right"><option> </option><option> </option><option> </option><option> </option></select></div></div> <!></div> <div class="  mb-2.5 flex flex-col w-full"><div class=" mb-1 text-xs font-medium"> </div> <div><!></div> <div class="mt-1 mb-1 text-xs text-gray-400 dark:text-gray-500"> </div></div> <div class="  mb-2.5 flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div> <div><input type="number" class=" bg-transparent text-center w-14 outline-none" min="-2" max="16000" step="1"/></div></div> <!></div> <div class="mb-3"><div class=" mt-0.5 mb-2.5 text-base font-medium"> </div> <hr class=" border-gray-100/30 dark:border-gray-850/30 my-2"/> <div class="  mb-2.5 flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div> <div class="flex items-center relative"><!></div></div> <!> <div class="  mb-2.5 flex flex-col w-full justify-between"><div class=" mb-1 text-xs font-medium"> </div> <div class="flex w-full items-center relative"><!></div></div></div>',1),Ru=_('<input class="flex-1 w-full text-sm bg-transparent outline-hidden" type="text" autocomplete="off"/>'),Nu=_('<input class="flex-1 w-full text-sm bg-transparent outline-hidden" type="number" autocomplete="off" min="0"/>'),Tu=_('<input class="flex-1 w-full text-sm bg-transparent outline-hidden" type="number" autocomplete="off" min="0"/>'),Su=_('<input class="flex-1 w-full text-sm bg-transparent outline-hidden" type="number" autocomplete="off" min="0"/>'),ku=_('<input class="flex-1 w-full text-sm bg-transparent outline-hidden" type="number" autocomplete="off" min="0"/>'),Ou=_('<div class=" space-y-2.5 overflow-y-scroll scrollbar-hidden h-full pr-1.5"><div><div class="mb-3"><div class=" mt-0.5 mb-2.5 text-base font-medium"> </div> <hr class=" border-gray-100/30 dark:border-gray-850/30 my-2"/> <div class="mb-2.5 flex flex-col w-full justify-between"><div class="flex w-full justify-between mb-1"><div class="self-center text-xs font-medium"> </div> <div><select class="dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 text-xs bg-transparent outline-hidden text-right"><option> </option><option> </option><option> </option><option> </option><option> </option><option> </option><option> </option><option> </option></select></div></div> <!></div> <div class="  mb-2.5 flex w-full justify-between"><div class=" self-center text-xs font-medium"><!></div> <div class="flex items-center relative"><!></div></div> <!></div> <!> <div class="mb-3"><div class=" mt-0.5 mb-2.5 text-base font-medium"> </div> <hr class=" border-gray-100/30 dark:border-gray-850/30 my-2"/> <div class="  mb-2.5 flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div> <div class="flex items-center relative"><!></div></div> <div class="  mb-2.5 flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div> <div class="flex items-center relative"><!></div></div> <div class="  mb-2.5 flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div> <div class="flex items-center relative"><!></div></div> <div class="  mb-2.5 flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div> <div class="flex items-center relative"><!></div></div> <div class="  mb-2.5 flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div> <div class="flex items-center relative"><!></div></div></div> <div class="mb-3"><div class=" mt-0.5 mb-2.5 text-base font-medium"> </div> <hr class=" border-gray-100/30 dark:border-gray-850/30 my-2"/> <div class="  mb-2.5 flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div> <div class="flex items-center relative"><!></div></div> <div class="  mb-2.5 flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div> <div class="flex items-center relative"><!></div></div></div> <div class="mb-3"><div class=" mt-0.5 mb-2.5 text-base font-medium"> </div> <hr class=" border-gray-100/30 dark:border-gray-850/30 my-2"/> <div class="  mb-2.5 flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div> <div class="flex items-center relative"><button class="text-xs" type="button"> </button></div></div> <div class="  mb-2.5 flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div> <div class="flex items-center relative"><button class="text-xs" type="button"> </button></div></div> <div class="  mb-2.5 flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div> <div class="flex items-center relative"><button class="text-xs" type="button"> </button></div></div></div></div></div> <div class="flex justify-end pt-3 text-sm font-medium"><button class="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full" type="submit"> </button></div>',1),Lu=_('<div class="flex items-center justify-center h-full"><!></div>'),Pu=_('<!> <!> <!> <form class="flex flex-col h-full justify-between space-y-3 text-sm"><!></form>',1);function Mu(wt,q){br(q,!1);const r=()=>la(Be,"$i18n",f),[f,p]=Nr(),Bt=cl(),Be=Ar("i18n");let y=k(!1),Ne=k(!1),o=k(!1),d=k(!1),S=k(""),A=k(""),C=k(1),E=k(!0),w=k(""),H=k(""),D=k(""),ee=k(""),Ae=k(""),he=k(""),Se=k(""),n=k(null);const te=async()=>{if(e(S)===""&&e(A).split("/").length-1>1){Ee.error(r().t("Model filesystem path detected. Model shortname is required for update, cannot continue."));return}if(e(S)==="ollama"&&e(A)===""){Ee.error(r().t("Model filesystem path detected. Model shortname is required for update, cannot continue."));return}if(e(S)==="openai"&&e(A)===""){Ee.error(r().t("Model filesystem path detected. Model shortname is required for update, cannot continue."));return}if(e(S)==="azure_openai"&&(e(ee)===""||e(D)===""||e(Ae)==="")){Ee.error(r().t("OpenAI URL/Key required."));return}e(S),e(A),e(C),e(E),c(y,!0);const N=await cv(localStorage.token,{RAG_EMBEDDING_ENGINE:e(S),RAG_EMBEDDING_MODEL:e(A),RAG_EMBEDDING_BATCH_SIZE:e(C),ENABLE_ASYNC_EMBEDDING:e(E),ollama_config:{key:e(Se),url:e(he)},openai_config:{key:e(H),url:e(w)},azure_openai_config:{key:e(ee),url:e(D),version:e(Ae)}}).catch(async ge=>(Ee.error(`${ge}`),await me(),null));c(y,!1)},B=async()=>{if(e(n).CONTENT_EXTRACTION_ENGINE==="external"&&e(n).EXTERNAL_DOCUMENT_LOADER_URL===""){Ee.error(r().t("External Document Loader URL required."));return}if(e(n).CONTENT_EXTRACTION_ENGINE==="tika"&&e(n).TIKA_SERVER_URL===""){Ee.error(r().t("Tika Server URL required."));return}if(e(n).CONTENT_EXTRACTION_ENGINE==="docling"&&e(n).DOCLING_SERVER_URL===""){Ee.error(r().t("Docling Server URL required."));return}if(e(n).CONTENT_EXTRACTION_ENGINE==="datalab_marker"&&e(n).DATALAB_MARKER_ADDITIONAL_CONFIG&&e(n).DATALAB_MARKER_ADDITIONAL_CONFIG.trim()!=="")try{JSON.parse(e(n).DATALAB_MARKER_ADDITIONAL_CONFIG)}catch{Ee.error(r().t("Invalid JSON format in Additional Config"));return}if(e(n).CONTENT_EXTRACTION_ENGINE==="document_intelligence"&&e(n).DOCUMENT_INTELLIGENCE_ENDPOINT===""){Ee.error(r().t("Document Intelligence endpoint required."));return}if(e(n).CONTENT_EXTRACTION_ENGINE==="mistral_ocr"&&e(n).MISTRAL_OCR_API_KEY===""){Ee.error(r().t("Mistral OCR API Key required."));return}if(e(n).CONTENT_EXTRACTION_ENGINE==="mineru"&&e(n).MINERU_API_MODE==="cloud"&&e(n).MINERU_API_KEY===""){Ee.error(r().t("MinerU API Key required for Cloud API mode."));return}if(e(n).BYPASS_EMBEDDING_AND_RETRIEVAL||await te(),e(n).DOCLING_PARAMS)try{JSON.parse(e(n).DOCLING_PARAMS)}catch{Ee.error(r().t("Invalid JSON format in {{NAME}}",{NAME:r().t("Docling Parameters")}));return}if(e(n).MINERU_PARAMS)try{JSON.parse(e(n).MINERU_PARAMS)}catch{Ee.error(r().t("Invalid JSON format in MinerU Parameters"));return}await Si(localStorage.token,{...e(n),ALLOWED_FILE_EXTENSIONS:e(n).ALLOWED_FILE_EXTENSIONS.split(",").map(N=>N.trim()).filter(N=>N!==""),DOCLING_PARAMS:typeof e(n).DOCLING_PARAMS=="string"&&e(n).DOCLING_PARAMS.trim()!==""?JSON.parse(e(n).DOCLING_PARAMS):{},MINERU_PARAMS:typeof e(n).MINERU_PARAMS=="string"&&e(n).MINERU_PARAMS.trim()!==""?JSON.parse(e(n).MINERU_PARAMS):{}}),Bt("save")},me=async()=>{const N=await nv(localStorage.token);N&&(c(S,N.RAG_EMBEDDING_ENGINE),c(A,N.RAG_EMBEDDING_MODEL),c(C,N.RAG_EMBEDDING_BATCH_SIZE??1),c(E,N.ENABLE_ASYNC_EMBEDDING??!0),c(H,N.openai_config.key),c(w,N.openai_config.url),c(Se,N.ollama_config.key),c(he,N.ollama_config.url),c(ee,N.azure_openai_config.key),c(D,N.azure_openai_config.url),c(Ae,N.azure_openai_config.version))};rl(async()=>{await me();const N=await Ti(localStorage.token);N.ALLOWED_FILE_EXTENSIONS=((N==null?void 0:N.ALLOWED_FILE_EXTENSIONS)??[]).join(", "),N.DOCLING_PARAMS=typeof N.DOCLING_PARAMS=="object"?JSON.stringify(N.DOCLING_PARAMS??{},null,2):N.DOCLING_PARAMS,N.MINERU_PARAMS=typeof N.MINERU_PARAMS=="object"?JSON.stringify(N.MINERU_PARAMS??{},null,2):N.MINERU_PARAMS,c(n,N)}),Rr();var V=Pu(),ue=O(V);gl(ue,{get show(){return e(o)},set show(N){c(o,N)},$$events:{confirm:async()=>{await _v(localStorage.token).catch(ge=>(Ee.error(`${ge}`),null))&&Ee.success(r().t("Success"))}},$$legacy:!0});var U=l(ue,2);gl(U,{get show(){return e(Ne)},set show(N){c(Ne,N)},$$events:{confirm:()=>{ov(localStorage.token).catch(ge=>(Ee.error(`${ge}`),null))&&Ee.success(r().t("Success"))}},$$legacy:!0});var x=l(U,2);gl(x,{get show(){return e(d)},set show(N){c(d,N)},$$events:{confirm:async()=>{await uv(localStorage.token).catch(ge=>(Ee.error(`${ge}`),null))&&Ee.success(r().t("Success"))}},$$legacy:!0});var M=l(x,2),le=a(M);{var ne=N=>{var ge=Ou(),qe=O(ge),fe=a(qe),$=a(fe),W=a($),Fe=a(W,!0);t(W);var gt=l(W,4),Tt=a(gt),St=a(Tt),_a=a(St,!0);t(St);var Vt=l(St,2),ca=a(Vt);u(()=>{e(n),Pa(()=>{r()})});var ma=a(ca),qt=a(ma,!0);t(ma),ma.value=ma.__value="";var Qt=l(ma),we=a(Qt,!0);t(Qt),Qt.value=Qt.__value="external";var Ke=l(Qt),vt=a(Ke,!0);t(Ke),Ke.value=Ke.__value="tika";var _t=l(Ke),De=a(_t,!0);t(_t),_t.value=_t.__value="docling";var Ve=l(_t),tt=a(Ve,!0);t(Ve),Ve.value=Ve.__value="datalab_marker";var ft=l(Ve),Qe=a(ft,!0);t(ft),ft.value=ft.__value="document_intelligence";var Dt=l(ft),Rt=a(Dt,!0);t(Dt),Dt.value=Dt.__value="mistral_ocr";var Xt=l(Dt),ct=a(Xt,!0);t(Xt),Xt.value=Xt.__value="mineru",t(ca),t(Vt),t(Tt);var aa=l(Tt,2);{var ha=Je=>{var ot=Xc(),Ct=a(ot),nt=a(Ct),It=a(nt,!0);t(nt);var Jt=l(nt,2),ya=a(Jt);ta(ya,{get state(){return e(n).PDF_EXTRACT_IMAGES},set state(Na){m(n,e(n).PDF_EXTRACT_IMAGES=Na)},$$legacy:!0}),t(Jt),t(Ct),t(ot),u(Na=>s(It,Na),[()=>r().t("PDF Extract Images (OCR)")]),v(Je,ot)},Ya=Je=>{var ot=et(),Ct=O(ot);{var nt=Jt=>{var ya=qc(),Na=O(ya),ur=a(Na);{let At=R(()=>r().t("API Base URL for Datalab Marker service. Defaults to: https://www.datalab.to/api/v1/marker"));lt(ur,{get content(){return e(At)},placement:"top-start",className:"w-full",children:(pa,La)=>{var ra=Jc();J(ra),u(Sa=>T(ra,"placeholder",Sa),[()=>r().t("Enter Datalab Marker API Base URL")]),X(ra,()=>e(n).DATALAB_MARKER_API_BASE_URL,Sa=>m(n,e(n).DATALAB_MARKER_API_BASE_URL=Sa)),v(pa,ra)},$$slots:{default:!0}})}t(Na);var qa=l(Na,2),Ua=a(qa);{let At=R(()=>r().t("Enter Datalab Marker API Key"));sa(Ua,{get placeholder(){return e(At)},required:!1,get value(){return e(n).DATALAB_MARKER_API_KEY},set value(pa){m(n,e(n).DATALAB_MARKER_API_KEY=pa)},$$legacy:!0})}t(qa);var fa=l(qa,2),za=a(fa),nr=a(za),yr=a(nr,!0);t(nr);var rr=l(nr,2),Da=a(rr);{let At=R(()=>r().t(`Additional configuration options for marker. This should be a JSON string with key-value pairs. For example, '{"key": "value"}'. Supported keys include: disable_links, keep_pageheader_in_output, keep_pagefooter_in_output, filter_blank_pages, drop_repeated_text, layout_coverage_threshold, merge_threshold, height_tolerance, gap_threshold, image_threshold, min_line_length, level_count, default_level`));lt(Da,{get content(){return e(At)},placement:"top-start",className:"w-full",children:(pa,La)=>{{let ra=R(()=>r().t('Enter JSON config (e.g., {"disable_links": true})'));Zr(pa,{get placeholder(){return e(ra)},get value(){return e(n).DATALAB_MARKER_ADDITIONAL_CONFIG},set value(Sa){m(n,e(n).DATALAB_MARKER_ADDITIONAL_CONFIG=Sa)},$$legacy:!0})}},$$slots:{default:!0}})}t(rr),t(za),t(fa);var Ka=l(fa,2),Ir=a(Ka),Hr=a(Ir);{let At=R(()=>r().t("Significantly improves accuracy by using an LLM to enhance tables, forms, inline math, and layout detection. Will increase latency. Defaults to False."));lt(Hr,{get content(){return e(At)},placement:"top-start",children:(pa,La)=>{Dr();var ra=cr();u(Sa=>s(ra,Sa),[()=>r().t("Use LLM")]),v(pa,ra)},$$slots:{default:!0}})}t(Ir);var Tr=l(Ir,2),hr=a(Tr);ta(hr,{get state(){return e(n).DATALAB_MARKER_USE_LLM},set state(At){m(n,e(n).DATALAB_MARKER_USE_LLM=At)},$$legacy:!0}),t(Tr),t(Ka);var ir=l(Ka,2),pr=a(ir),Gr=a(pr);{let At=R(()=>r().t("Skip the cache and re-run the inference. Defaults to False."));lt(Gr,{get content(){return e(At)},placement:"top-start",children:(pa,La)=>{Dr();var ra=cr();u(Sa=>s(ra,Sa),[()=>r().t("Skip Cache")]),v(pa,ra)},$$slots:{default:!0}})}t(pr);var Xa=l(pr,2),Qa=a(Xa);ta(Qa,{get state(){return e(n).DATALAB_MARKER_SKIP_CACHE},set state(At){m(n,e(n).DATALAB_MARKER_SKIP_CACHE=At)},$$legacy:!0}),t(Xa),t(ir);var Wa=l(ir,2),_r=a(Wa),Sr=a(_r);{let At=R(()=>r().t("Force OCR on all pages of the PDF. This can lead to worse results if you have good text in your PDFs. Defaults to False."));lt(Sr,{get content(){return e(At)},placement:"top-start",children:(pa,La)=>{Dr();var ra=cr();u(Sa=>s(ra,Sa),[()=>r().t("Force OCR")]),v(pa,ra)},$$slots:{default:!0}})}t(_r);var xa=l(_r,2),Ea=a(xa);ta(Ea,{get state(){return e(n).DATALAB_MARKER_FORCE_OCR},set state(At){m(n,e(n).DATALAB_MARKER_FORCE_OCR=At)},$$legacy:!0}),t(xa),t(Wa);var Aa=l(Wa,2),Fa=a(Aa),Ga=a(Fa);{let At=R(()=>r().t("Whether to paginate the output. Each page will be separated by a horizontal rule and page number. Defaults to False."));lt(Ga,{get content(){return e(At)},placement:"top-start",children:(pa,La)=>{Dr();var ra=cr();u(Sa=>s(ra,Sa),[()=>r().t("Paginate")]),v(pa,ra)},$$slots:{default:!0}})}t(Fa);var sr=l(Fa,2),lr=a(sr);ta(lr,{get state(){return e(n).DATALAB_MARKER_PAGINATE},set state(At){m(n,e(n).DATALAB_MARKER_PAGINATE=At)},$$legacy:!0}),t(sr),t(Aa);var Ja=l(Aa,2),Va=a(Ja),Br=a(Va);{let At=R(()=>r().t("Strip existing OCR text from the PDF and re-run OCR. Ignored if Force OCR is enabled. Defaults to False."));lt(Br,{get content(){return e(At)},placement:"top-start",children:(pa,La)=>{Dr();var ra=cr();u(Sa=>s(ra,Sa),[()=>r().t("Strip Existing OCR")]),v(pa,ra)},$$slots:{default:!0}})}t(Va);var Mr=l(Va,2),mr=a(Mr);ta(mr,{get state(){return e(n).DATALAB_MARKER_STRIP_EXISTING_OCR},set state(At){m(n,e(n).DATALAB_MARKER_STRIP_EXISTING_OCR=At)},$$legacy:!0}),t(Mr),t(Ja);var gr=l(Ja,2),Ge=a(gr),pt=a(Ge);{let At=R(()=>r().t("Disable image extraction from the PDF. If Use LLM is enabled, images will be automatically captioned. Defaults to False."));lt(pt,{get content(){return e(At)},placement:"top-start",children:(pa,La)=>{Dr();var ra=cr();u(Sa=>s(ra,Sa),[()=>r().t("Disable Image Extraction")]),v(pa,ra)},$$slots:{default:!0}})}t(Ge);var Ft=l(Ge,2),wa=a(Ft);ta(wa,{get state(){return e(n).DATALAB_MARKER_DISABLE_IMAGE_EXTRACTION},set state(At){m(n,e(n).DATALAB_MARKER_DISABLE_IMAGE_EXTRACTION=At)},$$legacy:!0}),t(Ft),t(gr);var Oa=l(gr,2),er=a(Oa),Ma=a(er);{let At=R(()=>r().t("Format the lines in the output. Defaults to False. If set to True, the lines will be formatted to detect inline math and styles."));lt(Ma,{get content(){return e(At)},placement:"top-start",children:(pa,La)=>{Dr();var ra=cr();u(Sa=>s(ra,Sa),[()=>r().t("Format Lines")]),v(pa,ra)},$$slots:{default:!0}})}t(er);var Ba=l(er,2),Ta=a(Ba);ta(Ta,{get state(){return e(n).DATALAB_MARKER_FORMAT_LINES},set state(At){m(n,e(n).DATALAB_MARKER_FORMAT_LINES=At)},$$legacy:!0}),t(Ba),t(Oa);var Ha=l(Oa,2),Nt=a(Ha),Ut=a(Nt);{let At=R(()=>r().t("The output format for the text. Can be 'json', 'markdown', or 'html'. Defaults to 'markdown'."));lt(Ut,{get content(){return e(At)},placement:"top-start",children:(pa,La)=>{Dr();var ra=cr();u(Sa=>s(ra,Sa),[()=>r().t("Output Format")]),v(pa,ra)},$$slots:{default:!0}})}t(Nt);var $t=l(Nt,2),ia=a($t);u(()=>{e(n),Pa(()=>{r()})});var zt=a(ia),Ra=a(zt,!0);t(zt),zt.value=zt.__value="markdown";var Pt=l(zt),Ia=a(Pt,!0);t(Pt),Pt.value=Pt.__value="json";var tr=l(Pt),ja=a(tr,!0);t(tr),tr.value=tr.__value="html",t(ia),t($t),t(Ha),u((At,pa,La,ra)=>{s(yr,At),s(Ra,pa),s(Ia,La),s(ja,ra)},[()=>r().t("Additional Config"),()=>r().t("Markdown"),()=>r().t("JSON"),()=>r().t("HTML")]),or(ia,()=>e(n).DATALAB_MARKER_OUTPUT_FORMAT,At=>m(n,e(n).DATALAB_MARKER_OUTPUT_FORMAT=At)),v(Jt,ya)},It=Jt=>{var ya=et(),Na=O(ya);{var ur=Ua=>{var fa=Qc(),za=a(fa);J(za);var nr=l(za,2);{let yr=R(()=>r().t("Enter External Document Loader API Key"));sa(nr,{get placeholder(){return e(yr)},required:!1,get value(){return e(n).EXTERNAL_DOCUMENT_LOADER_API_KEY},set value(rr){m(n,e(n).EXTERNAL_DOCUMENT_LOADER_API_KEY=rr)},$$legacy:!0})}t(fa),u(yr=>T(za,"placeholder",yr),[()=>r().t("Enter External Document Loader URL")]),X(za,()=>e(n).EXTERNAL_DOCUMENT_LOADER_URL,yr=>m(n,e(n).EXTERNAL_DOCUMENT_LOADER_URL=yr)),v(Ua,fa)},qa=Ua=>{var fa=et(),za=O(fa);{var nr=rr=>{var Da=eu(),Ka=a(Da),Ir=a(Ka);J(Ir),t(Ka),t(Da),u(Hr=>T(Ir,"placeholder",Hr),[()=>r().t("Enter Tika Server URL")]),X(Ir,()=>e(n).TIKA_SERVER_URL,Hr=>m(n,e(n).TIKA_SERVER_URL=Hr)),v(rr,Da)},yr=rr=>{var Da=et(),Ka=O(Da);{var Ir=Tr=>{var hr=tu(),ir=O(hr),pr=a(ir);J(pr);var Gr=l(pr,2);{let Ea=R(()=>r().t("Enter Docling API Key"));sa(Gr,{get placeholder(){return e(Ea)},required:!1,get value(){return e(n).DOCLING_API_KEY},set value(Aa){m(n,e(n).DOCLING_API_KEY=Aa)},$$legacy:!0})}t(ir);var Xa=l(ir,2),Qa=a(Xa),Wa=a(Qa),_r=a(Wa,!0);t(Wa);var Sr=l(Wa,2),xa=a(Sr);{let Ea=R(()=>r().t("Enter additional parameters in JSON format"));Zr(xa,{get placeholder(){return e(Ea)},minSize:100,get value(){return e(n).DOCLING_PARAMS},set value(Aa){m(n,e(n).DOCLING_PARAMS=Aa)},$$legacy:!0})}t(Sr),t(Qa),t(Xa),u((Ea,Aa)=>{T(pr,"placeholder",Ea),s(_r,Aa)},[()=>r().t("Enter Docling Server URL"),()=>r().t("Parameters")]),X(pr,()=>e(n).DOCLING_SERVER_URL,Ea=>m(n,e(n).DOCLING_SERVER_URL=Ea)),v(Tr,hr)},Hr=Tr=>{var hr=et(),ir=O(hr);{var pr=Xa=>{var Qa=au(),Wa=O(Qa),_r=a(Wa);J(_r);var Sr=l(_r,2);{let lr=R(()=>r().t("Enter Document Intelligence Key"));sa(Sr,{get placeholder(){return e(lr)},required:!1,get value(){return e(n).DOCUMENT_INTELLIGENCE_KEY},set value(Ja){m(n,e(n).DOCUMENT_INTELLIGENCE_KEY=Ja)},$$legacy:!0})}t(Wa);var xa=l(Wa,2),Ea=a(xa),Aa=a(Ea,!0);t(Ea);var Fa=l(Ea,2),Ga=a(Fa),sr=a(Ga);J(sr),t(Ga),t(Fa),t(xa),u((lr,Ja,Va)=>{T(_r,"placeholder",lr),s(Aa,Ja),T(sr,"placeholder",Va)},[()=>r().t("Enter Document Intelligence Endpoint"),()=>r().t("Document Intelligence Model"),()=>r().t("Enter Document Intelligence Model")]),X(_r,()=>e(n).DOCUMENT_INTELLIGENCE_ENDPOINT,lr=>m(n,e(n).DOCUMENT_INTELLIGENCE_ENDPOINT=lr)),X(sr,()=>e(n).DOCUMENT_INTELLIGENCE_MODEL,lr=>m(n,e(n).DOCUMENT_INTELLIGENCE_MODEL=lr)),v(Xa,Qa)},Gr=Xa=>{var Qa=et(),Wa=O(Qa);{var _r=xa=>{var Ea=ru(),Aa=a(Ea);J(Aa);var Fa=l(Aa,2);{let Ga=R(()=>r().t("Enter Mistral API Key"));sa(Fa,{get placeholder(){return e(Ga)},get value(){return e(n).MISTRAL_OCR_API_KEY},set value(sr){m(n,e(n).MISTRAL_OCR_API_KEY=sr)},$$legacy:!0})}t(Ea),u(Ga=>T(Aa,"placeholder",Ga),[()=>r().t("Enter Mistral API Base URL")]),X(Aa,()=>e(n).MISTRAL_OCR_API_BASE_URL,Ga=>m(n,e(n).MISTRAL_OCR_API_BASE_URL=Ga)),v(xa,Ea)},Sr=xa=>{var Ea=et(),Aa=O(Ea);{var Fa=Ga=>{var sr=lu(),lr=O(sr),Ja=a(lr),Va=a(Ja),Br=a(Va,!0);t(Va);var Mr=l(Va,2);u(()=>{e(n),Pa(()=>{r()})});var mr=a(Mr),gr=a(mr,!0);t(mr),mr.value=mr.__value="local";var Ge=l(mr),pt=a(Ge,!0);t(Ge),Ge.value=Ge.__value="cloud",t(Mr),t(Ja),t(lr);var Ft=l(lr,2),wa=a(Ft);J(wa),t(Ft);var Oa=l(Ft,2),er=a(Oa);{let Pt=R(()=>r().t("Enter MinerU API Key"));sa(er,{get placeholder(){return e(Pt)},get value(){return e(n).MINERU_API_KEY},set value(Ia){m(n,e(n).MINERU_API_KEY=Ia)},$$legacy:!0})}t(Oa);var Ma=l(Oa,2),Ba=a(Ma),Ta=a(Ba),Ha=a(Ta,!0);t(Ta);var Nt=l(Ta,2);J(Nt),t(Ba),t(Ma);var Ut=l(Ma,2),$t=a(Ut),ia=a($t);{let Pt=R(()=>r().t("Advanced parameters for MinerU parsing (enable_ocr, enable_formula, enable_table, language, model_version, page_ranges)"));lt(ia,{get content(){return e(Pt)},placement:"top-start",children:(Ia,tr)=>{Dr();var ja=cr();u(At=>s(ja,At),[()=>r().t("Parameters")]),v(Ia,ja)},$$slots:{default:!0}})}t($t);var zt=l($t,2),Ra=a(zt);Zr(Ra,{placeholder:`{
  "enable_ocr": false,
  "enable_formula": true,
  "enable_table": true,
  "language": "en",
  "model_version": "pipeline",
  "page_ranges": ""
}`,minSize:100,get value(){return e(n).MINERU_PARAMS},set value(Pt){m(n,e(n).MINERU_PARAMS=Pt)},$$legacy:!0}),t(zt),t(Ut),u((Pt,Ia,tr,ja,At)=>{s(Br,Pt),s(gr,Ia),s(pt,tr),T(wa,"placeholder",ja),s(Ha,At)},[()=>r().t("API Mode"),()=>r().t("local"),()=>r().t("cloud"),()=>e(n).MINERU_API_MODE==="cloud"?r().t("https://mineru.net/api/v4"):r().t("http://localhost:8000"),()=>r().t("API Timeout")]),or(Mr,()=>e(n).MINERU_API_MODE,Pt=>m(n,e(n).MINERU_API_MODE=Pt)),We("change",Mr,()=>{const Pt="https://mineru.net/api/v4",Ia="http://localhost:8000";e(n).MINERU_API_MODE==="cloud"?(!e(n).MINERU_API_URL||e(n).MINERU_API_URL===Ia)&&m(n,e(n).MINERU_API_URL=Pt):(!e(n).MINERU_API_URL||e(n).MINERU_API_URL===Pt)&&m(n,e(n).MINERU_API_URL=Ia)}),X(wa,()=>e(n).MINERU_API_URL,Pt=>m(n,e(n).MINERU_API_URL=Pt)),X(Nt,()=>e(n).MINERU_API_TIMEOUT,Pt=>m(n,e(n).MINERU_API_TIMEOUT=Pt)),v(Ga,sr)};g(Aa,Ga=>{e(n).CONTENT_EXTRACTION_ENGINE==="mineru"&&Ga(Fa)},!0)}v(xa,Ea)};g(Wa,xa=>{e(n).CONTENT_EXTRACTION_ENGINE==="mistral_ocr"?xa(_r):xa(Sr,!1)},!0)}v(Xa,Qa)};g(ir,Xa=>{e(n).CONTENT_EXTRACTION_ENGINE==="document_intelligence"?Xa(pr):Xa(Gr,!1)},!0)}v(Tr,hr)};g(Ka,Tr=>{e(n).CONTENT_EXTRACTION_ENGINE==="docling"?Tr(Ir):Tr(Hr,!1)},!0)}v(rr,Da)};g(za,rr=>{e(n).CONTENT_EXTRACTION_ENGINE==="tika"?rr(nr):rr(yr,!1)},!0)}v(Ua,fa)};g(Na,Ua=>{e(n).CONTENT_EXTRACTION_ENGINE==="external"?Ua(ur):Ua(qa,!1)},!0)}v(Jt,ya)};g(Ct,Jt=>{e(n).CONTENT_EXTRACTION_ENGINE==="datalab_marker"?Jt(nt):Jt(It,!1)},!0)}v(Je,ot)};g(aa,Je=>{e(n).CONTENT_EXTRACTION_ENGINE===""?Je(ha):Je(Ya,!1)})}t(gt);var na=l(gt,2),Kt=a(na),kt=a(Kt);{let Je=R(()=>r().t("Full Context Mode"));lt(kt,{get content(){return e(Je)},placement:"top-start",children:(ot,Ct)=>{Dr();var nt=cr();u(It=>s(nt,It),[()=>r().t("Bypass Embedding and Retrieval")]),v(ot,nt)},$$slots:{default:!0}})}t(Kt);var va=l(Kt,2),Et=a(va);{let Je=R(()=>e(n).BYPASS_EMBEDDING_AND_RETRIEVAL?r().t("Inject the entire content as context for comprehensive processing, this is recommended for complex queries."):r().t("Default to segmented retrieval for focused and relevant content extraction, this is recommended for most cases."));lt(Et,{get content(){return e(Je)},children:(ot,Ct)=>{ta(ot,{get state(){return e(n).BYPASS_EMBEDDING_AND_RETRIEVAL},set state(nt){m(n,e(n).BYPASS_EMBEDDING_AND_RETRIEVAL=nt)},$$legacy:!0})},$$slots:{default:!0}})}t(va),t(na);var Ue=l(na,2);{var Mt=Je=>{var ot=su(),Ct=O(ot),nt=a(Ct),It=a(nt,!0);t(nt);var Jt=l(nt,2),ya=a(Jt);u(()=>{e(n),Pa(()=>{r()})});var Na=a(ya),ur=a(Na);t(Na),Na.value=Na.__value="";var qa=l(Na),Ua=a(qa);t(qa),qa.value=qa.__value="token",t(ya),t(Jt),t(Ct);var fa=l(Ct,2),za=a(fa),nr=a(za);{let xa=R(()=>r().t("Split documents by markdown headers before applying character/token splitting."));lt(nr,{placement:"top-start",get content(){return e(xa)},children:(Ea,Aa)=>{Dr();var Fa=cr();u(Ga=>s(Fa,Ga),[()=>r().t("Markdown Header Text Splitter")]),v(Ea,Fa)},$$slots:{default:!0}})}t(za);var yr=l(za,2),rr=a(yr);ta(rr,{get state(){return e(n).ENABLE_MARKDOWN_HEADER_TEXT_SPLITTER},set state(xa){m(n,e(n).ENABLE_MARKDOWN_HEADER_TEXT_SPLITTER=xa)},$$legacy:!0}),t(yr),t(fa);var Da=l(fa,2),Ka=a(Da),Ir=a(Ka),Hr=a(Ir),Tr=a(Hr,!0);t(Hr);var hr=l(Hr,2),ir=a(hr);J(ir),t(hr),t(Ir);var pr=l(Ir,2),Gr=a(pr),Xa=a(Gr,!0);t(Gr);var Qa=l(Gr,2),Wa=a(Qa);J(Wa),t(Qa),t(pr),t(Ka),t(Da);var _r=l(Da,2);{var Sr=xa=>{var Ea=iu(),Aa=a(Ea),Fa=a(Aa),Ga=a(Fa),sr=a(Ga);{let Va=R(()=>r().t("Chunks smaller than this threshold will be merged with neighboring chunks when possible. Set to 0 to disable merging."));lt(sr,{placement:"top-start",get content(){return e(Va)},children:(Br,Mr)=>{Dr();var mr=cr();u(gr=>s(mr,gr),[()=>r().t("Chunk Min Size Target")]),v(Br,mr)},$$slots:{default:!0}})}t(Ga);var lr=l(Ga,2),Ja=a(lr);J(Ja),t(lr),t(Fa),t(Aa),t(Ea),u(Va=>T(Ja,"placeholder",Va),[()=>r().t("Enter Chunk Min Size Target")]),X(Ja,()=>e(n).CHUNK_MIN_SIZE_TARGET,Va=>m(n,e(n).CHUNK_MIN_SIZE_TARGET=Va)),v(xa,Ea)};g(_r,xa=>{e(n).ENABLE_MARKDOWN_HEADER_TEXT_SPLITTER&&xa(Sr)})}u((xa,Ea,Aa,Fa,Ga,sr,lr,Ja,Va)=>{s(It,xa),s(ur,`${Ea??""} (${Aa??""})`),s(Ua,`${Fa??""} (${Ga??""})`),s(Tr,sr),T(ir,"placeholder",lr),s(Xa,Ja),T(Wa,"placeholder",Va)},[()=>r().t("Text Splitter"),()=>r().t("Default"),()=>r().t("Character"),()=>r().t("Token"),()=>r().t("Tiktoken"),()=>r().t("Chunk Size"),()=>r().t("Enter Chunk Size"),()=>r().t("Chunk Overlap"),()=>r().t("Enter Chunk Overlap")]),or(ya,()=>e(n).TEXT_SPLITTER,xa=>m(n,e(n).TEXT_SPLITTER=xa)),X(ir,()=>e(n).CHUNK_SIZE,xa=>m(n,e(n).CHUNK_SIZE=xa)),X(Wa,()=>e(n).CHUNK_OVERLAP,xa=>m(n,e(n).CHUNK_OVERLAP=xa)),v(Je,ot)};g(Ue,Je=>{e(n).BYPASS_EMBEDDING_AND_RETRIEVAL||Je(Mt)})}t($);var Gt=l($,2);{var da=Je=>{var ot=$u(),Ct=O(ot),nt=a(Ct),It=a(nt,!0);t(nt);var Jt=l(nt,4),ya=a(Jt),Na=a(ya),ur=a(Na,!0);t(Na);var qa=l(Na,2),Ua=a(qa);u(()=>{e(S),Pa(()=>{r(),e(A)})});var fa=a(Ua),za=a(fa,!0);t(fa),fa.value=fa.__value="";var nr=l(fa),yr=a(nr,!0);t(nr),nr.value=nr.__value="ollama";var rr=l(nr),Da=a(rr,!0);t(rr),rr.value=rr.__value="openai";var Ka=l(rr),Ir=a(Ka,!0);t(Ka),Ka.value=Ka.__value="azure_openai",t(Ua),t(qa),t(ya);var Hr=l(ya,2);{var Tr=Nt=>{var Ut=vu(),$t=a(Ut);J($t);var ia=l($t,2);{let zt=R(()=>r().t("API Key"));sa(ia,{get placeholder(){return e(zt)},required:!1,get value(){return e(H)},set value(Ra){c(H,Ra)},$$legacy:!0})}t(Ut),u(zt=>T($t,"placeholder",zt),[()=>r().t("API Base URL")]),X($t,()=>e(w),zt=>c(w,zt)),v(Nt,Ut)},hr=Nt=>{var Ut=et(),$t=O(Ut);{var ia=Ra=>{var Pt=du(),Ia=a(Pt);J(Ia);var tr=l(Ia,2);{let ja=R(()=>r().t("API Key"));sa(tr,{get placeholder(){return e(ja)},required:!1,get value(){return e(Se)},set value(At){c(Se,At)},$$legacy:!0})}t(Pt),u(ja=>T(Ia,"placeholder",ja),[()=>r().t("API Base URL")]),X(Ia,()=>e(he),ja=>c(he,ja)),v(Ra,Pt)},zt=Ra=>{var Pt=et(),Ia=O(Pt);{var tr=ja=>{var At=ou(),pa=a(At),La=a(pa);J(La);var ra=l(La,2);{let jr=R(()=>r().t("API Key"));sa(ra,{get placeholder(){return e(jr)},get value(){return e(ee)},set value(Fr){c(ee,Fr)},$$legacy:!0})}t(pa);var Sa=l(pa,2),$r=a(Sa);J($r),t(Sa),t(At),u((jr,Fr)=>{T(La,"placeholder",jr),T($r,"placeholder",Fr)},[()=>r().t("API Base URL"),()=>r().t("Version")]),X(La,()=>e(D),jr=>c(D,jr)),X($r,()=>e(Ae),jr=>c(Ae,jr)),v(ja,At)};g(Ia,ja=>{e(S)==="azure_openai"&&ja(tr)},!0)}v(Ra,Pt)};g($t,Ra=>{e(S)==="ollama"?Ra(ia):Ra(zt,!1)},!0)}v(Nt,Ut)};g(Hr,Nt=>{e(S)==="openai"?Nt(Tr):Nt(hr,!1)})}t(Jt);var ir=l(Jt,2),pr=a(ir),Gr=a(pr,!0);t(pr);var Xa=l(pr,2),Qa=a(Xa);{var Wa=Nt=>{var Ut=nu(),$t=a(Ut),ia=a($t);J(ia),t($t),t(Ut),u(zt=>T(ia,"placeholder",zt),[()=>r().t("Set embedding model")]),X(ia,()=>e(A),zt=>c(A,zt)),v(Nt,Ut)},_r=Nt=>{var Ut=fu(),$t=a(Ut),ia=a($t);J(ia),t($t);var zt=l($t,2);{var Ra=Pt=>{var Ia=_u(),tr=a(Ia);{var ja=pa=>{var La=cu(),ra=a(La);Qr(ra,{}),t(La),v(pa,La)},At=pa=>{var La=uu();v(pa,La)};g(tr,pa=>{e(y)?pa(ja):pa(At,!1)})}t(Ia),u(()=>Ia.disabled=e(y)),We("click",Ia,()=>{te()}),v(Pt,Ia)};g(zt,Pt=>{e(S)===""&&Pt(Ra)})}t(Ut),u(Pt=>T(ia,"placeholder",Pt),[()=>r().t("Set embedding model (e.g. {{model}})",{model:e(A).slice(-40)})]),X(ia,()=>e(A),Pt=>c(A,Pt)),v(Nt,Ut)};g(Qa,Nt=>{e(S)==="ollama"?Nt(Wa):Nt(_r,!1)})}t(Xa);var Sr=l(Xa,2),xa=a(Sr,!0);t(Sr),t(ir);var Ea=l(ir,2),Aa=a(Ea),Fa=a(Aa,!0);t(Aa);var Ga=l(Aa,2),sr=a(Ga);J(sr),t(Ga),t(Ea);var lr=l(Ea,2);{var Ja=Nt=>{var Ut=pu(),$t=a(Ut),ia=a($t);{let Pt=R(()=>r().t("Runs embedding tasks concurrently to speed up processing. Turn off if rate limits become an issue."));lt(ia,{get content(){return e(Pt)},placement:"top-start",children:(Ia,tr)=>{Dr();var ja=cr();u(At=>s(ja,At),[()=>r().t("Async Embedding Processing")]),v(Ia,ja)},$$slots:{default:!0}})}t($t);var zt=l($t,2),Ra=a(zt);ta(Ra,{get state(){return e(E)},set state(Pt){c(E,Pt)},$$legacy:!0}),t(zt),t(Ut),v(Nt,Ut)};g(lr,Nt=>{(e(S)==="ollama"||e(S)==="openai"||e(S)==="azure_openai")&&Nt(Ja)})}t(Ct);var Va=l(Ct,2),Br=a(Va),Mr=a(Br,!0);t(Br);var mr=l(Br,4),gr=a(mr),Ge=a(gr,!0);t(gr);var pt=l(gr,2),Ft=a(pt);{let Nt=R(()=>e(n).RAG_FULL_CONTEXT?r().t("Inject the entire content as context for comprehensive processing, this is recommended for complex queries."):r().t("Default to segmented retrieval for focused and relevant content extraction, this is recommended for most cases."));lt(Ft,{get content(){return e(Nt)},children:(Ut,$t)=>{ta(Ut,{get state(){return e(n).RAG_FULL_CONTEXT},set state(ia){m(n,e(n).RAG_FULL_CONTEXT=ia)},$$legacy:!0})},$$slots:{default:!0}})}t(pt),t(mr);var wa=l(mr,2);{var Oa=Nt=>{var Ut=Iu(),$t=O(Ut),ia=a($t),zt=a(ia,!0);t(ia);var Ra=l(ia,2),Pt=a(Ra);ta(Pt,{get state(){return e(n).ENABLE_RAG_HYBRID_SEARCH},set state(xr){m(n,e(n).ENABLE_RAG_HYBRID_SEARCH=xr)},$$legacy:!0}),t(Ra),t($t);var Ia=l($t,2);{var tr=xr=>{var Er=gu(),kr=O(Er),el=a(kr),sl=a(el,!0);t(el);var Cr=l(el,2),Or=a(Cr);{let Ca=R(()=>r().t("Adds filenames, titles, sections, and snippets into the BM25 text to improve lexical recall."));lt(Or,{get content(){return e(Ca)},children:(Pr,Xr)=>{ta(Pr,{get state(){return e(n).ENABLE_RAG_HYBRID_SEARCH_ENRICHED_TEXTS},set state(ar){m(n,e(n).ENABLE_RAG_HYBRID_SEARCH_ENRICHED_TEXTS=ar)},$$legacy:!0})},$$slots:{default:!0}})}t(Cr),t(kr);var Kr=l(kr,2),Vr=a(Kr),Yr=a(Vr),vl=a(Yr,!0);t(Yr);var tl=l(Yr,2),ll=a(tl);u(()=>{e(n),Pa(()=>{r()})});var nl=a(ll),fl=a(nl,!0);t(nl),nl.value=nl.__value="";var Ur=l(nl),zr=a(Ur,!0);t(Ur),Ur.value=Ur.__value="external",t(ll),t(tl),t(Vr);var dl=l(Vr,2);{var ul=Ca=>{var Pr=mu(),Xr=a(Pr);J(Xr);var ar=l(Xr,2);{let vr=R(()=>r().t("API Key"));sa(ar,{get placeholder(){return e(vr)},required:!1,get value(){return e(n).RAG_EXTERNAL_RERANKER_API_KEY},set value(yl){m(n,e(n).RAG_EXTERNAL_RERANKER_API_KEY=yl)},$$legacy:!0})}t(Pr),u(vr=>T(Xr,"placeholder",vr),[()=>r().t("API Base URL")]),X(Xr,()=>e(n).RAG_EXTERNAL_RERANKER_URL,vr=>m(n,e(n).RAG_EXTERNAL_RERANKER_URL=vr)),v(Ca,Pr)};g(dl,Ca=>{e(n).RAG_RERANKING_ENGINE==="external"&&Ca(ul)})}t(Kr);var wl=l(Kr,2),El=a(wl),zl=a(El,!0);t(El);var kl=l(El,2),Dl=a(kl),Gl=a(Dl),Ol=a(Gl);J(Ol),t(Gl),t(Dl),t(kl),t(wl),u((Ca,Pr,Xr,ar,vr,yl,hl)=>{s(sl,Ca),s(vl,Pr),T(ll,"placeholder",Xr),s(fl,ar),s(zr,vr),s(zl,yl),T(Ol,"placeholder",hl)},[()=>r().t("Enrich Hybrid Search Text"),()=>r().t("Reranking Engine"),()=>r().t("Select a reranking model engine"),()=>r().t("Default (SentenceTransformers)"),()=>r().t("External"),()=>r().t("Reranking Model"),()=>r().t("Set reranking model (e.g. {{model}})",{model:"BAAI/bge-reranker-v2-m3"})]),or(ll,()=>e(n).RAG_RERANKING_ENGINE,Ca=>m(n,e(n).RAG_RERANKING_ENGINE=Ca)),We("change",ll,Ca=>{Ca.target.value==="external"?m(n,e(n).RAG_RERANKING_MODEL=""):Ca.target.value===""&&m(n,e(n).RAG_RERANKING_MODEL="BAAI/bge-reranker-v2-m3")}),X(Ol,()=>e(n).RAG_RERANKING_MODEL,Ca=>m(n,e(n).RAG_RERANKING_MODEL=Ca)),v(xr,Er)};g(Ia,xr=>{e(n).ENABLE_RAG_HYBRID_SEARCH===!0&&xr(tr)})}var ja=l(Ia,2),At=a(ja),pa=a(At,!0);t(At);var La=l(At,2),ra=a(La);J(ra),t(La),t(ja);var Sa=l(ja,2);{var $r=xr=>{var Er=xu(),kr=a(Er),el=a(kr,!0);t(kr);var sl=l(kr,2),Cr=a(sl);J(Cr),t(sl),t(Er),u((Or,Kr)=>{s(el,Or),T(Cr,"placeholder",Kr)},[()=>r().t("Top K Reranker"),()=>r().t("Enter Top K Reranker")]),X(Cr,()=>e(n).TOP_K_RERANKER,Or=>m(n,e(n).TOP_K_RERANKER=Or)),v(xr,Er)};g(Sa,xr=>{e(n).ENABLE_RAG_HYBRID_SEARCH===!0&&xr($r)})}var jr=l(Sa,2);{var Fr=xr=>{var Er=Eu(),kr=a(Er),el=a(kr),sl=a(el,!0);t(el);var Cr=l(el,2),Or=a(Cr);J(Or),t(Cr),t(kr);var Kr=l(kr,2),Vr=a(Kr,!0);t(Kr),t(Er),u((Yr,vl,tl,ll)=>{s(sl,Yr),T(Or,"placeholder",vl),T(Or,"title",tl),s(Vr,ll)},[()=>r().t("Relevance Threshold"),()=>r().t("Enter Score"),()=>r().t("The score should be a value between 0.0 (0%) and 1.0 (100%)."),()=>r().t("Note: If you set a minimum score, the search will only return documents with a score greater than or equal to the minimum score.")]),X(Or,()=>e(n).RELEVANCE_THRESHOLD,Yr=>m(n,e(n).RELEVANCE_THRESHOLD=Yr)),v(xr,Er)};g(jr,xr=>{e(n).ENABLE_RAG_HYBRID_SEARCH===!0&&xr(Fr)})}var _l=l(jr,2);{var ol=xr=>{var Er=wu(),kr=a(Er);{let Cr=R(()=>r().t("The Weight of BM25 Hybrid Search. 0 more semantic, 1 more lexical. Default 0.5"));lt(kr,{get content(){return e(Cr)},placement:"top-start",className:"inline-tooltip",children:(Or,Kr)=>{var Vr=bu(),Yr=a(Vr),vl=a(Yr,!0);t(Yr);var tl=l(Yr,2),ll=a(tl);{var nl=Ur=>{var zr=yu(),dl=a(zr,!0);t(zr),u(ul=>s(dl,ul),[()=>r().t("Default")]),v(Ur,zr)},fl=Ur=>{var zr=hu(),dl=a(zr,!0);t(zr),u(ul=>s(dl,ul),[()=>r().t("Custom")]),v(Ur,zr)};g(ll,Ur=>{var zr;(((zr=e(n))==null?void 0:zr.HYBRID_BM25_WEIGHT)??null)===null?Ur(nl):Ur(fl,!1)})}t(tl),t(Vr),u(Ur=>s(vl,Ur),[()=>r().t("BM25 Weight")]),We("click",tl,()=>{var Ur;m(n,e(n).HYBRID_BM25_WEIGHT=(((Ur=e(n))==null?void 0:Ur.HYBRID_BM25_WEIGHT)??null)===null?.5:null)}),v(Or,Vr)},$$slots:{default:!0}})}var el=l(kr,2);{var sl=Cr=>{var Or=Au(),Kr=a(Or),Vr=a(Kr);J(Vr);var Yr=l(Vr,2),vl=a(Yr),tl=a(vl),ll=a(tl,!0);t(tl);var nl=l(tl,2),fl=a(nl,!0);t(nl),t(vl),t(Yr),t(Kr);var Ur=l(Kr,2),zr=a(Ur);J(zr),t(Ur),t(Or),u((dl,ul)=>{s(ll,dl),s(fl,ul)},[()=>r().t("semantic"),()=>r().t("lexical")]),X(Vr,()=>e(n).HYBRID_BM25_WEIGHT,dl=>m(n,e(n).HYBRID_BM25_WEIGHT=dl)),X(zr,()=>e(n).HYBRID_BM25_WEIGHT,dl=>m(n,e(n).HYBRID_BM25_WEIGHT=dl)),v(Cr,Or)};g(el,Cr=>{var Or;(((Or=e(n))==null?void 0:Or.HYBRID_BM25_WEIGHT)??null)!==null&&Cr(sl)})}t(Er),v(xr,Er)};g(_l,xr=>{e(n).ENABLE_RAG_HYBRID_SEARCH===!0&&xr(ol)})}u((xr,Er,kr)=>{s(zt,xr),s(pa,Er),T(ra,"placeholder",kr)},[()=>r().t("Hybrid Search"),()=>r().t("Top K"),()=>r().t("Enter Top K")]),X(ra,()=>e(n).TOP_K,xr=>m(n,e(n).TOP_K=xr)),v(Nt,Ut)};g(wa,Nt=>{e(n).RAG_FULL_CONTEXT||Nt(Oa)})}var er=l(wa,2),Ma=a(er),Ba=a(Ma,!0);t(Ma);var Ta=l(Ma,2),Ha=a(Ta);{let Nt=R(()=>r().t("Leave empty to use the default prompt, or enter a custom prompt"));lt(Ha,{get content(){return e(Nt)},placement:"top-start",className:"w-full",children:(Ut,$t)=>{{let ia=R(()=>r().t("Leave empty to use the default prompt, or enter a custom prompt"));Zr(Ut,{get placeholder(){return e(ia)},get value(){return e(n).RAG_TEMPLATE},set value(zt){m(n,e(n).RAG_TEMPLATE=zt)},$$legacy:!0})}},$$slots:{default:!0}})}t(Ta),t(er),t(Va),u((Nt,Ut,$t,ia,zt,Ra,Pt,Ia,tr,ja,At,pa,La)=>{s(It,Nt),s(ur,Ut),T(Ua,"placeholder",$t),s(za,ia),s(yr,zt),s(Da,Ra),s(Ir,Pt),s(Gr,Ia),s(xa,tr),s(Fa,ja),s(Mr,At),s(Ge,pa),s(Ba,La)},[()=>r().t("Embedding"),()=>r().t("Embedding Model Engine"),()=>r().t("Select an embedding model engine"),()=>r().t("Default (SentenceTransformers)"),()=>r().t("Ollama"),()=>r().t("OpenAI"),()=>r().t("Azure OpenAI"),()=>r().t("Embedding Model"),()=>r().t('After updating or changing the embedding model, you must reindex the knowledge base for the changes to take effect. You can do this using the "Reindex" button below.'),()=>r().t("Embedding Batch Size"),()=>r().t("Retrieval"),()=>r().t("Full Context Mode"),()=>r().t("RAG Template")]),or(Ua,()=>e(S),Nt=>c(S,Nt)),We("change",Ua,Nt=>{Nt.target.value==="ollama"?c(A,""):Nt.target.value==="openai"?c(A,"text-embedding-3-small"):Nt.target.value==="azure_openai"?c(A,"text-embedding-3-small"):Nt.target.value===""&&c(A,"sentence-transformers/all-MiniLM-L6-v2")}),X(sr,()=>e(C),Nt=>c(C,Nt)),v(Je,ot)};g(Gt,Je=>{e(n).BYPASS_EMBEDDING_AND_RETRIEVAL||Je(da)})}var ka=l(Gt,2),ba=a(ka),Yt=a(ba,!0);t(ba);var Wt=l(ba,4),yt=a(Wt),Zt=a(yt,!0);t(yt);var Ht=l(yt,2),Ze=a(Ht);{let Je=R(()=>r().t("Allowed file extensions for upload. Separate multiple extensions with commas. Leave empty for all file types."));lt(Ze,{get content(){return e(Je)},placement:"top-start",children:(ot,Ct)=>{var nt=Ru();J(nt),u(It=>T(nt,"placeholder",It),[()=>r().t("e.g. pdf, docx, txt")]),X(nt,()=>e(n).ALLOWED_FILE_EXTENSIONS,It=>m(n,e(n).ALLOWED_FILE_EXTENSIONS=It)),v(ot,nt)},$$slots:{default:!0}})}t(Ht),t(Wt);var Q=l(Wt,2),at=a(Q),ut=a(at,!0);t(at);var xt=l(at,2),ie=a(xt);{let Je=R(()=>r().t("The maximum file size in MB. If the file size exceeds this limit, the file will not be uploaded."));lt(ie,{get content(){return e(Je)},placement:"top-start",children:(ot,Ct)=>{var nt=Nu();J(nt),u(It=>T(nt,"placeholder",It),[()=>r().t("Leave empty for unlimited")]),X(nt,()=>e(n).FILE_MAX_SIZE,It=>m(n,e(n).FILE_MAX_SIZE=It)),v(ot,nt)},$$slots:{default:!0}})}t(xt),t(Q);var ce=l(Q,2),Ce=a(ce),Le=a(Ce,!0);t(Ce);var Pe=l(Ce,2),Me=a(Pe);{let Je=R(()=>r().t("The maximum number of files that can be used at once in chat. If the number of files exceeds this limit, the files will not be uploaded."));lt(Me,{get content(){return e(Je)},placement:"top-start",children:(ot,Ct)=>{var nt=Tu();J(nt),u(It=>T(nt,"placeholder",It),[()=>r().t("Leave empty for unlimited")]),X(nt,()=>e(n).FILE_MAX_COUNT,It=>m(n,e(n).FILE_MAX_COUNT=It)),v(ot,nt)},$$slots:{default:!0}})}t(Pe),t(ce);var Te=l(ce,2),He=a(Te),P=a(He,!0);t(He);var j=l(He,2),de=a(j);{let Je=R(()=>r().t("The width in pixels to compress images to. Leave empty for no compression."));lt(de,{get content(){return e(Je)},placement:"top-start",children:(ot,Ct)=>{var nt=Su();J(nt),u(It=>T(nt,"placeholder",It),[()=>r().t("Leave empty for no compression")]),X(nt,()=>e(n).FILE_IMAGE_COMPRESSION_WIDTH,It=>m(n,e(n).FILE_IMAGE_COMPRESSION_WIDTH=It)),v(ot,nt)},$$slots:{default:!0}})}t(j),t(Te);var je=l(Te,2),ke=a(je),Oe=a(ke,!0);t(ke);var G=l(ke,2),Z=a(G);{let Je=R(()=>r().t("The height in pixels to compress images to. Leave empty for no compression."));lt(Z,{get content(){return e(Je)},placement:"top-start",children:(ot,Ct)=>{var nt=ku();J(nt),u(It=>T(nt,"placeholder",It),[()=>r().t("Leave empty for no compression")]),X(nt,()=>e(n).FILE_IMAGE_COMPRESSION_HEIGHT,It=>m(n,e(n).FILE_IMAGE_COMPRESSION_HEIGHT=It)),v(ot,nt)},$$slots:{default:!0}})}t(G),t(je),t(ka);var pe=l(ka,2),oe=a(pe),ae=a(oe,!0);t(oe);var b=l(oe,4),K=a(b),L=a(K,!0);t(K);var _e=l(K,2),Ie=a(_e);ta(Ie,{get state(){return e(n).ENABLE_GOOGLE_DRIVE_INTEGRATION},set state(Je){m(n,e(n).ENABLE_GOOGLE_DRIVE_INTEGRATION=Je)},$$legacy:!0}),t(_e),t(b);var re=l(b,2),h=a(re),I=a(h,!0);t(h);var F=l(h,2),$e=a(F);ta($e,{get state(){return e(n).ENABLE_ONEDRIVE_INTEGRATION},set state(Je){m(n,e(n).ENABLE_ONEDRIVE_INTEGRATION=Je)},$$legacy:!0}),t(F),t(re),t(pe);var se=l(pe,2),Y=a(se),st=a(Y,!0);t(Y);var Ye=l(Y,4),Re=a(Ye),xe=a(Re,!0);t(Re);var rt=l(Re,2),Lt=a(rt),ht=a(Lt,!0);t(Lt),t(rt),t(Ye);var bt=l(Ye,2),be=a(bt),z=a(be,!0);t(be);var ye=l(be,2),dt=a(ye),it=a(dt,!0);t(dt),t(ye),t(bt);var ze=l(bt,2),Xe=a(ze),mt=a(Xe,!0);t(Xe);var jt=l(Xe,2),Ot=a(jt),ua=a(Ot,!0);t(Ot),t(jt),t(ze),t(se),t(fe),t(qe);var ea=l(qe,2),ga=a(ea),$a=a(ga,!0);t(ga),t(ea),u((Je,ot,Ct,nt,It,Jt,ya,Na,ur,qa,Ua,fa,za,nr,yr,rr,Da,Ka,Ir,Hr,Tr,hr,ir,pr,Gr,Xa,Qa)=>{s(Fe,Je),s(_a,ot),s(qt,Ct),s(we,nt),s(vt,It),s(De,Jt),s(tt,ya),s(Qe,Na),s(Rt,ur),s(ct,qa),s(Yt,Ua),s(Zt,fa),s(ut,za),s(Le,nr),s(P,yr),s(Oe,rr),s(ae,Da),s(L,Ka),s(I,Ir),s(st,Hr),s(xe,Tr),s(ht,hr),s(z,ir),s(it,pr),s(mt,Gr),s(ua,Xa),s($a,Qa)},[()=>r().t("General"),()=>r().t("Content Extraction Engine"),()=>r().t("Default"),()=>r().t("External"),()=>r().t("Tika"),()=>r().t("Docling"),()=>r().t("Datalab Marker API"),()=>r().t("Document Intelligence"),()=>r().t("Mistral OCR"),()=>r().t("MinerU"),()=>r().t("Files"),()=>r().t("Allowed File Extensions"),()=>r().t("Max Upload Size"),()=>r().t("Max Upload Count"),()=>r().t("Image Compression Width"),()=>r().t("Image Compression Height"),()=>r().t("Integration"),()=>r().t("Google Drive"),()=>r().t("OneDrive"),()=>r().t("Danger Zone"),()=>r().t("Reset Upload Directory"),()=>r().t("Reset"),()=>r().t("Reset Vector Storage/Knowledge"),()=>r().t("Reset"),()=>r().t("Reindex Knowledge Base Vectors"),()=>r().t("Reindex"),()=>r().t("Save")]),or(ca,()=>e(n).CONTENT_EXTRACTION_ENGINE,Je=>m(n,e(n).CONTENT_EXTRACTION_ENGINE=Je)),We("click",Lt,()=>{c(o,!0)}),We("click",dt,()=>{c(Ne,!0)}),We("click",Ot,()=>{c(d,!0)}),v(N,ge)},ve=N=>{var ge=Lu(),qe=a(ge);Qr(qe,{className:"size-5"}),t(ge),v(N,ge)};g(le,N=>{e(n)?N(ne):N(ve,!1)})}t(M),We("submit",M,il(()=>{B()})),v(wt,V),wr(),p()}var Cu=_("<option>DDGS</option>"),Uu=_("<option> </option>"),Du=_('<div class="mb-2.5 flex w-full flex-col"><div><div class=" self-center text-xs font-medium mb-1"> </div> <div class="flex w-full"><div class="flex-1"><!></div></div></div></div>'),Gu=_('<div class="mb-2.5 flex w-full flex-col"><div><div class=" self-center text-xs font-medium mb-1"> </div> <div class="flex w-full"><div class="flex-1"><input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden" type="text" autocomplete="off"/></div></div></div></div> <div class="mb-2.5 flex w-full flex-col"><div><div class=" self-center text-xs font-medium mb-1"> </div> <div class="flex w-full"><div class="flex-1"><!></div></div></div></div>',1),Bu=_('<div class="mb-2.5 flex w-full flex-col"><div><div class=" self-left text-xs font-medium mb-1"> </div> <div class="flex w-full"><div class="flex-1"><input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden" type="text" autocomplete="off" required/></div></div></div> <div class="mb-2.5 flex w-full flex-col"><div class=" self-left text-xs font-medium mb-1"> </div> <div class="flex w-full"><div class="flex-1"><input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden" type="text" autocomplete="off" required/></div></div></div></div>'),Hu=_('<div class="mb-2.5 flex w-full flex-col"><div><div class=" self-center text-xs font-medium mb-1"> </div> <div class="flex w-full"><div class="flex-1"><input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden" type="text" autocomplete="off"/></div></div></div></div> <div class="mb-2.5 flex w-full flex-col"><div class="flex gap-2"><div class="w-full"><div class=" self-center text-xs font-medium mb-1"> </div> <input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden" required/></div> <div class="w-full"><div class=" self-center text-xs font-medium mb-1"> </div> <!></div></div></div>',1),ju=_('<div class="mb-2.5 flex w-full flex-col"><div><div class=" self-center text-xs font-medium mb-1"> </div> <!></div> <div class="mt-1.5"><div class=" self-center text-xs font-medium mb-1"> </div> <div class="flex w-full"><div class="flex-1"><input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden" type="text" autocomplete="off"/></div></div></div></div>'),Ku=_('<div class="mb-2.5 flex w-full flex-col"><div><div class=" self-center text-xs font-medium mb-1"> </div> <!></div></div>'),Yu=_('<div class="mb-2.5 flex w-full flex-col"><div><div class=" self-center text-xs font-medium mb-1"> </div> <!></div></div>'),Wu=_('<div class="mb-2.5 flex w-full flex-col"><div><div class=" self-center text-xs font-medium mb-1"> </div> <!></div></div>'),Fu=_('<div class="mb-2.5 flex w-full flex-col"><div><div class=" self-center text-xs font-medium mb-1"> </div> <!></div></div>'),Vu=_('<div class="mb-2.5 flex w-full flex-col"><div><div class=" self-center text-xs font-medium mb-1"> </div> <!></div></div>'),Zu=_('<div class="mb-2.5 flex w-full flex-col"><div><div class=" self-center text-xs font-medium mb-1"> </div> <!></div></div>'),zu=_('<div class="mb-2.5 flex w-full flex-col"><div><div class=" self-center text-xs font-medium mb-1"> </div> <!></div></div>'),Xu=_('<div class="mb-2.5 flex w-full flex-col"><div><div class=" self-center text-xs font-medium mb-1"> </div> <!></div></div>'),Ju=_('<div class="mb-2.5 flex w-full flex-col"><div><div class=" self-center text-xs font-medium mb-1"> </div> <!></div> <div class="mt-1.5"><div class=" self-center text-xs font-medium mb-1"> </div> <div class="flex w-full"><div class="flex-1"><input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden" type="text" autocomplete="off"/></div></div></div></div>'),qu=_('<div class="mb-2.5 flex w-full flex-col"><div><div class=" self-center text-xs font-medium mb-1"> </div> <!></div> <div class="mt-1.5"><div class=" self-center text-xs font-medium mb-1"> </div> <div class="flex w-full"><div class="flex-1"><input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden" type="text" autocomplete="off"/></div></div></div></div>'),Qu=_('<div class="mb-2.5 flex w-full flex-col"><div><div class=" self-center text-xs font-medium mb-1"> </div> <div class="flex w-full"><div class="flex-1"><input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden" type="text" autocomplete="off"/></div></div></div> <div class="mt-2"><div class=" self-center text-xs font-medium mb-1"> </div> <!></div></div>'),e_=_('<div class="mb-2.5 flex w-full flex-col"><div><div class=" self-center text-xs font-medium mb-1"> </div> <div class="flex w-full"><div class="flex-1"><input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden" type="text" autocomplete="off"/></div></div></div> <div class="mt-2"><div class=" self-center text-xs font-medium mb-1"> </div> <!></div></div>'),t_=_('<div class="mb-2.5 flex w-full flex-col"><div><div class=" self-center text-xs font-medium mb-1"> </div> <!></div></div>'),a_=_('<div class="mb-2.5 flex w-full flex-col"><div><div class=" self-center text-xs font-medium mb-1"> </div> <!></div></div> <div class="mb-2.5 flex w-full flex-col"><div><div class="self-center text-xs font-medium mb-1"> </div> <input list="perplexity-model-list" class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"/> <datalist id="perplexity-model-list"><option> </option><option> </option><option> </option><option> </option><option> </option></datalist></div></div> <div class="mb-2.5 flex w-full flex-col"><div><div class=" self-center text-xs font-medium mb-1"> </div> <select class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"><option> </option><option> </option><option> </option></select></div></div>',1),r_=_('<div class="mb-2.5 flex w-full flex-col"><div><div class=" self-center text-xs font-medium mb-1"> </div> <!></div></div> <div class="mb-2.5 flex w-full flex-col"><div><div class=" self-center text-xs font-medium mb-1"> </div> <!></div></div>',1),l_=_('<div class="mb-2.5 flex w-full flex-col"><div><div class=" self-center text-xs font-medium mb-1"> </div> <div class="flex w-full"><div class="flex-1"><input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden" type="text" autocomplete="off"/></div></div></div> <div class="mt-2"><div class=" self-center text-xs font-medium mb-1"> </div> <!></div> <div class="mt-2"><div class=" self-center text-xs font-medium mb-1"> </div> <div class="flex w-full"><div class="flex-1"><input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden" type="number" autocomplete="off"/></div></div></div></div>'),i_=_('<div class="mb-2.5 flex w-full flex-col"><div><div class=" self-center text-xs font-medium mb-1"> </div> <div class="flex w-full"><div class="flex-1"><input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden" type="text" autocomplete="off"/></div></div></div> <div class="mt-2"><div class=" self-center text-xs font-medium mb-1"> </div> <!></div></div>'),s_=_('<div class="mb-2.5 flex w-full flex-col"><div><div class=" self-center text-xs font-medium mb-1"> </div> <div class="flex w-full"><div class="flex-1"><select class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"><option> </option><option> </option><option> </option><option> </option><option> </option><option> </option><option> </option><option> </option><option> </option><option> </option></select></div></div></div></div>'),v_=_("<!> <!>",1),d_=_('<div class="mb-2.5 flex w-full flex-col"><div class="flex gap-2"><div class="w-full"><div class=" self-center text-xs font-medium mb-1"> </div> <input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden" required/></div> <div class="w-full"><div class=" self-center text-xs font-medium mb-1"><!></div> <input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden" type="number" min="0"/></div></div></div> <div class="mb-2.5 flex w-full flex-col"><div class="  text-xs font-medium mb-1"> </div> <input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"/></div>',1),o_=_("<option> </option>"),n_=_('<div class="  mb-2.5 flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div> <div class="flex items-center relative"><input class="flex-1 w-full text-sm bg-transparent outline-hidden"/></div></div> <div class="  mb-2.5 flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div> <div class="flex items-center relative"><!></div></div>',1),c_=_('<div class="mb-2.5 flex w-full flex-col"><div><div class=" self-center text-xs font-medium mb-1"> </div> <div class="flex w-full"><div class="flex-1"><input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden" type="text" autocomplete="off"/></div></div></div> <div class="mt-2"><div class=" self-center text-xs font-medium mb-1"> </div> <div class="flex w-full"><div class="flex-1"><input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden" autocomplete="off"/></div></div></div></div>'),u_=_('<div class="mb-2.5 flex w-full flex-col"><div><div class=" self-center text-xs font-medium mb-1"> </div> <div class="flex w-full"><div class="flex-1"><input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden" type="text" autocomplete="off"/></div></div></div> <div class="mt-2"><div class=" self-center text-xs font-medium mb-1"> </div> <!></div></div>'),__=_('<div class="mt-2"><div class=" self-center text-xs font-medium mb-1"> </div> <!></div>'),f_=_('<div class="mb-2.5 flex w-full flex-col"><div><div class=" self-center text-xs font-medium mb-1"> </div> <div class="flex w-full"><div class="flex-1"><input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden" type="text" autocomplete="off"/></div></div></div> <!></div>'),p_=_('<div class="mb-2.5 flex w-full flex-col"><div><div class=" self-center text-xs font-medium mb-1"> </div> <div class="flex w-full"><div class="flex-1"><input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden" type="text" autocomplete="off"/></div></div></div> <div class="mt-2"><div class=" self-center text-xs font-medium mb-1"> </div> <!></div></div>'),m_=_('<div><div class="mb-3"><div class=" mt-0.5 mb-2.5 text-base font-medium"> </div> <hr class=" border-gray-100/30 dark:border-gray-850/30 my-2"/> <div class="  mb-2.5 flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div> <div class="flex items-center relative"><!></div></div> <div class="  mb-2.5 flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div> <div class="flex items-center relative"><select class="dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right" required><option disabled selected> </option><!></select></div></div> <!> <!> <div class="  mb-2.5 flex w-full justify-between"><div class=" self-center text-xs font-medium"><!></div> <div class="flex items-center relative"><!></div></div> <div class="  mb-2.5 flex w-full justify-between"><div class=" self-center text-xs font-medium"><!></div> <div class="flex items-center relative"><!></div></div> <div class="  mb-2.5 flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div> <div class="flex items-center relative"><!></div></div></div> <div class="mb-3"><div class=" mt-0.5 mb-2.5 text-base font-medium"> </div> <hr class=" border-gray-100/30 dark:border-gray-850/30 my-2"/> <div class="  mb-2.5 flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div> <div class="flex items-center relative"><select class="dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right"><option> </option><!></select></div></div> <!> <div class="mb-2.5 w-full"><div class=" self-center text-xs font-medium mb-1"> </div> <input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden" required/></div> <div class="  mb-2.5 flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div> <div class="flex items-center relative"><input class="flex-1 w-full rounded-lg text-sm bg-transparent outline-hidden" type="text" autocomplete="off"/></div></div> <div class="  mb-2.5 flex flex-col w-full justify-between"><div class=" mb-1 text-xs font-medium"> </div> <div class="flex items-center relative"><input class="flex-1 w-full rounded-lg text-sm bg-transparent outline-hidden" type="text" autocomplete="off"/></div></div></div></div>'),g_=_('<form class="flex flex-col h-full justify-between space-y-3 text-sm"><div class=" space-y-3 overflow-y-scroll scrollbar-hidden h-full"><!></div> <div class="flex justify-end pt-3 text-sm font-medium"><button class="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full" type="submit"> </button></div></form>');function x_(wt,q){br(q,!1);const r=()=>la(Bt,"$i18n",f),[f,p]=Nr(),Bt=Ar("i18n");let Be=oa(q,"saveHandler",8),y=["ollama_cloud","perplexity_search","searxng","yacy","google_pse","brave","kagi","mojeek","bocha","serpstack","serper","serply","searchapi","serpapi","duckduckgo","tavily","jina","bing","exa","perplexity","sougou","firecrawl","external"],Ne=["playwright","firecrawl","tavily","external"],o=k(null);const d=async()=>{typeof e(o).WEB_SEARCH_DOMAIN_FILTER_LIST=="string"&&e(o).WEB_SEARCH_DOMAIN_FILTER_LIST?m(o,e(o).WEB_SEARCH_DOMAIN_FILTER_LIST=e(o).WEB_SEARCH_DOMAIN_FILTER_LIST.split(",").map(ee=>ee.trim()).filter(ee=>ee.length>0)):Array.isArray(e(o).WEB_SEARCH_DOMAIN_FILTER_LIST)||m(o,e(o).WEB_SEARCH_DOMAIN_FILTER_LIST=[]),typeof e(o).YOUTUBE_LOADER_LANGUAGE=="string"&&e(o).YOUTUBE_LOADER_LANGUAGE?m(o,e(o).YOUTUBE_LOADER_LANGUAGE=e(o).YOUTUBE_LOADER_LANGUAGE.split(",").map(ee=>ee.trim()).filter(ee=>ee.length>0)):Array.isArray(e(o).YOUTUBE_LOADER_LANGUAGE)||m(o,e(o).YOUTUBE_LOADER_LANGUAGE=[]),typeof e(o).FIRECRAWL_TIMEOUT=="number"&&m(o,e(o).FIRECRAWL_TIMEOUT=e(o).FIRECRAWL_TIMEOUT.toString()),typeof e(o).PLAYWRIGHT_TIMEOUT=="number"&&m(o,e(o).PLAYWRIGHT_TIMEOUT=e(o).PLAYWRIGHT_TIMEOUT.toString()),await Si(localStorage.token,{web:e(o)}),Array.isArray(e(o).WEB_SEARCH_DOMAIN_FILTER_LIST)&&m(o,e(o).WEB_SEARCH_DOMAIN_FILTER_LIST=e(o).WEB_SEARCH_DOMAIN_FILTER_LIST.join(",")),Array.isArray(e(o).YOUTUBE_LOADER_LANGUAGE)&&m(o,e(o).YOUTUBE_LOADER_LANGUAGE=e(o).YOUTUBE_LOADER_LANGUAGE.join(","))};rl(async()=>{var Ae,he;const ee=await Ti(localStorage.token);if(ee){if(c(o,ee.web),Array.isArray((Ae=e(o))==null?void 0:Ae.WEB_SEARCH_DOMAIN_FILTER_LIST)?m(o,e(o).WEB_SEARCH_DOMAIN_FILTER_LIST=e(o).WEB_SEARCH_DOMAIN_FILTER_LIST.join(",")):e(o).WEB_SEARCH_DOMAIN_FILTER_LIST||m(o,e(o).WEB_SEARCH_DOMAIN_FILTER_LIST=""),Array.isArray((he=e(o))==null?void 0:he.YOUTUBE_LOADER_LANGUAGE)?m(o,e(o).YOUTUBE_LOADER_LANGUAGE=e(o).YOUTUBE_LOADER_LANGUAGE.join(",")):e(o).YOUTUBE_LOADER_LANGUAGE||m(o,e(o).YOUTUBE_LOADER_LANGUAGE=""),e(o).FIRECRAWL_TIMEOUT&&typeof e(o).FIRECRAWL_TIMEOUT=="string"){const Se=parseInt(e(o).FIRECRAWL_TIMEOUT);isNaN(Se)||m(o,e(o).FIRECRAWL_TIMEOUT=Se)}if(e(o).PLAYWRIGHT_TIMEOUT&&typeof e(o).PLAYWRIGHT_TIMEOUT=="string"){const Se=parseInt(e(o).PLAYWRIGHT_TIMEOUT);isNaN(Se)||m(o,e(o).PLAYWRIGHT_TIMEOUT=Se)}}}),Rr();var S=g_(),A=a(S),C=a(A);{var E=ee=>{var Ae=m_(),he=a(Ae),Se=a(he),n=a(Se,!0);t(Se);var te=l(Se,4),B=a(te),me=a(B,!0);t(B);var V=l(B,2),ue=a(V);ta(ue,{get state(){return e(o).ENABLE_WEB_SEARCH},set state(Q){m(o,e(o).ENABLE_WEB_SEARCH=Q)},$$legacy:!0}),t(V),t(te);var U=l(te,2),x=a(U),M=a(x,!0);t(x);var le=l(x,2),ne=a(le);u(()=>{e(o),Pa(()=>{r()})});var ve=a(ne),N=a(ve,!0);t(ve),ve.value=ve.__value="";var ge=l(ve);Za(ge,1,()=>y,dr,(Q,at)=>{var ut=et(),xt=O(ut);{var ie=Ce=>{var Le=Cu(),Pe={};u(()=>{Pe!==(Pe=e(at))&&(Le.value=(Le.__value=e(at))??"")}),v(Ce,Le)},ce=Ce=>{var Le=Uu(),Pe=a(Le,!0);t(Le);var Me={};u(()=>{s(Pe,e(at)),Me!==(Me=e(at))&&(Le.value=(Le.__value=e(at))??"")}),v(Ce,Le)};g(xt,Ce=>{e(at)==="duckduckgo"||e(at)==="ddgs"?Ce(ie):Ce(ce,!1)})}v(Q,ut)}),t(ne),t(le),t(U);var qe=l(U,2);{var fe=Q=>{var at=v_(),ut=O(at);{var xt=Le=>{var Pe=Du(),Me=a(Pe),Te=a(Me),He=a(Te,!0);t(Te);var P=l(Te,2),j=a(P),de=a(j);{let je=R(()=>(r(),i(()=>r().t("Enter Ollama Cloud API Key"))));sa(de,{get placeholder(){return e(je)},get value(){return e(o).OLLAMA_CLOUD_WEB_SEARCH_API_KEY},set value(ke){m(o,e(o).OLLAMA_CLOUD_WEB_SEARCH_API_KEY=ke)},$$legacy:!0})}t(j),t(P),t(Me),t(Pe),u(je=>s(He,je),[()=>(r(),i(()=>r().t("Ollama Cloud API Key")))]),v(Le,Pe)},ie=Le=>{var Pe=et(),Me=O(Pe);{var Te=P=>{var j=Gu(),de=O(j),je=a(de),ke=a(je),Oe=a(ke,!0);t(ke);var G=l(ke,2),Z=a(G),pe=a(Z);J(pe),t(Z),t(G),t(je),t(de);var oe=l(de,2),ae=a(oe),b=a(ae),K=a(b,!0);t(b);var L=l(b,2),_e=a(L),Ie=a(_e);{let re=R(()=>(r(),i(()=>r().t("Enter Perplexity API Key"))));sa(Ie,{get placeholder(){return e(re)},get value(){return e(o).PERPLEXITY_API_KEY},set value(h){m(o,e(o).PERPLEXITY_API_KEY=h)},$$legacy:!0})}t(_e),t(L),t(ae),t(oe),u((re,h,I)=>{s(Oe,re),T(pe,"placeholder",h),s(K,I)},[()=>(r(),i(()=>r().t("Perplexity Search API URL"))),()=>(r(),i(()=>r().t("Enter Perplexity Search API URL"))),()=>(r(),i(()=>r().t("Perplexity API Key")))]),X(pe,()=>e(o).PERPLEXITY_SEARCH_API_URL,re=>m(o,e(o).PERPLEXITY_SEARCH_API_URL=re)),v(P,j)},He=P=>{var j=et(),de=O(j);{var je=Oe=>{var G=Bu(),Z=a(G),pe=a(Z),oe=a(pe,!0);t(pe);var ae=l(pe,2),b=a(ae),K=a(b);J(K),t(b),t(ae),t(Z);var L=l(Z,2),_e=a(L),Ie=a(_e,!0);t(_e);var re=l(_e,2),h=a(re),I=a(h);J(I),t(h),t(re),t(L),t(G),u((F,$e,se,Y)=>{s(oe,F),T(K,"placeholder",$e),s(Ie,se),T(I,"placeholder",Y)},[()=>(r(),i(()=>r().t("Searxng Query URL"))),()=>(r(),i(()=>r().t("Enter Searxng Query URL"))),()=>(r(),i(()=>r().t("Searxng search language (all, en, es, de, fr, etc.)"))),()=>(r(),i(()=>r().t("Enter Searxng search language")))]),X(K,()=>e(o).SEARXNG_QUERY_URL,F=>m(o,e(o).SEARXNG_QUERY_URL=F)),X(I,()=>e(o).SEARXNG_LANGUAGE,F=>m(o,e(o).SEARXNG_LANGUAGE=F)),v(Oe,G)},ke=Oe=>{var G=et(),Z=O(G);{var pe=ae=>{var b=Hu(),K=O(b),L=a(K),_e=a(L),Ie=a(_e,!0);t(_e);var re=l(_e,2),h=a(re),I=a(h);J(I),t(h),t(re),t(L),t(K);var F=l(K,2),$e=a(F),se=a($e),Y=a(se),st=a(Y,!0);t(Y);var Ye=l(Y,2);J(Ye),t(se);var Re=l(se,2),xe=a(Re),rt=a(xe,!0);t(xe);var Lt=l(xe,2);{let ht=R(()=>(r(),i(()=>r().t("Enter Yacy Password"))));sa(Lt,{get placeholder(){return e(ht)},get value(){return e(o).YACY_PASSWORD},set value(bt){m(o,e(o).YACY_PASSWORD=bt)},$$legacy:!0})}t(Re),t($e),t(F),u((ht,bt,be,z,ye)=>{s(Ie,ht),T(I,"placeholder",bt),s(st,be),T(Ye,"placeholder",z),s(rt,ye)},[()=>(r(),i(()=>r().t("Yacy Instance URL"))),()=>(r(),i(()=>r().t("Enter Yacy URL (e.g. http://yacy.example.com:8090)"))),()=>(r(),i(()=>r().t("Yacy Username"))),()=>(r(),i(()=>r().t("Enter Yacy Username"))),()=>(r(),i(()=>r().t("Yacy Password")))]),X(I,()=>e(o).YACY_QUERY_URL,ht=>m(o,e(o).YACY_QUERY_URL=ht)),X(Ye,()=>e(o).YACY_USERNAME,ht=>m(o,e(o).YACY_USERNAME=ht)),v(ae,b)},oe=ae=>{var b=et(),K=O(b);{var L=Ie=>{var re=ju(),h=a(re),I=a(h),F=a(I,!0);t(I);var $e=l(I,2);{let rt=R(()=>(r(),i(()=>r().t("Enter Google PSE API Key"))));sa($e,{get placeholder(){return e(rt)},get value(){return e(o).GOOGLE_PSE_API_KEY},set value(Lt){m(o,e(o).GOOGLE_PSE_API_KEY=Lt)},$$legacy:!0})}t(h);var se=l(h,2),Y=a(se),st=a(Y,!0);t(Y);var Ye=l(Y,2),Re=a(Ye),xe=a(Re);J(xe),t(Re),t(Ye),t(se),t(re),u((rt,Lt,ht)=>{s(F,rt),s(st,Lt),T(xe,"placeholder",ht)},[()=>(r(),i(()=>r().t("Google PSE API Key"))),()=>(r(),i(()=>r().t("Google PSE Engine Id"))),()=>(r(),i(()=>r().t("Enter Google PSE Engine Id")))]),X(xe,()=>e(o).GOOGLE_PSE_ENGINE_ID,rt=>m(o,e(o).GOOGLE_PSE_ENGINE_ID=rt)),v(Ie,re)},_e=Ie=>{var re=et(),h=O(re);{var I=$e=>{var se=Ku(),Y=a(se),st=a(Y),Ye=a(st,!0);t(st);var Re=l(st,2);{let xe=R(()=>(r(),i(()=>r().t("Enter Brave Search API Key"))));sa(Re,{get placeholder(){return e(xe)},get value(){return e(o).BRAVE_SEARCH_API_KEY},set value(rt){m(o,e(o).BRAVE_SEARCH_API_KEY=rt)},$$legacy:!0})}t(Y),t(se),u(xe=>s(Ye,xe),[()=>(r(),i(()=>r().t("Brave Search API Key")))]),v($e,se)},F=$e=>{var se=et(),Y=O(se);{var st=Re=>{var xe=Yu(),rt=a(xe),Lt=a(rt),ht=a(Lt,!0);t(Lt);var bt=l(Lt,2);{let be=R(()=>(r(),i(()=>r().t("Enter Kagi Search API Key"))));sa(bt,{get placeholder(){return e(be)},get value(){return e(o).KAGI_SEARCH_API_KEY},set value(z){m(o,e(o).KAGI_SEARCH_API_KEY=z)},$$legacy:!0})}t(rt),t(xe),u(be=>s(ht,be),[()=>(r(),i(()=>r().t("Kagi Search API Key")))]),v(Re,xe)},Ye=Re=>{var xe=et(),rt=O(xe);{var Lt=bt=>{var be=Wu(),z=a(be),ye=a(z),dt=a(ye,!0);t(ye);var it=l(ye,2);{let ze=R(()=>(r(),i(()=>r().t("Enter Mojeek Search API Key"))));sa(it,{get placeholder(){return e(ze)},get value(){return e(o).MOJEEK_SEARCH_API_KEY},set value(Xe){m(o,e(o).MOJEEK_SEARCH_API_KEY=Xe)},$$legacy:!0})}t(z),t(be),u(ze=>s(dt,ze),[()=>(r(),i(()=>r().t("Mojeek Search API Key")))]),v(bt,be)},ht=bt=>{var be=et(),z=O(be);{var ye=it=>{var ze=Fu(),Xe=a(ze),mt=a(Xe),jt=a(mt,!0);t(mt);var Ot=l(mt,2);{let ua=R(()=>(r(),i(()=>r().t("Enter Bocha Search API Key"))));sa(Ot,{get placeholder(){return e(ua)},get value(){return e(o).BOCHA_SEARCH_API_KEY},set value(ea){m(o,e(o).BOCHA_SEARCH_API_KEY=ea)},$$legacy:!0})}t(Xe),t(ze),u(ua=>s(jt,ua),[()=>(r(),i(()=>r().t("Bocha Search API Key")))]),v(it,ze)},dt=it=>{var ze=et(),Xe=O(ze);{var mt=Ot=>{var ua=Vu(),ea=a(ua),ga=a(ea),$a=a(ga,!0);t(ga);var Je=l(ga,2);{let ot=R(()=>(r(),i(()=>r().t("Enter Serpstack API Key"))));sa(Je,{get placeholder(){return e(ot)},get value(){return e(o).SERPSTACK_API_KEY},set value(Ct){m(o,e(o).SERPSTACK_API_KEY=Ct)},$$legacy:!0})}t(ea),t(ua),u(ot=>s($a,ot),[()=>(r(),i(()=>r().t("Serpstack API Key")))]),v(Ot,ua)},jt=Ot=>{var ua=et(),ea=O(ua);{var ga=Je=>{var ot=Zu(),Ct=a(ot),nt=a(Ct),It=a(nt,!0);t(nt);var Jt=l(nt,2);{let ya=R(()=>(r(),i(()=>r().t("Enter Serper API Key"))));sa(Jt,{get placeholder(){return e(ya)},get value(){return e(o).SERPER_API_KEY},set value(Na){m(o,e(o).SERPER_API_KEY=Na)},$$legacy:!0})}t(Ct),t(ot),u(ya=>s(It,ya),[()=>(r(),i(()=>r().t("Serper API Key")))]),v(Je,ot)},$a=Je=>{var ot=et(),Ct=O(ot);{var nt=Jt=>{var ya=zu(),Na=a(ya),ur=a(Na),qa=a(ur,!0);t(ur);var Ua=l(ur,2);{let fa=R(()=>(r(),i(()=>r().t("Enter Serply API Key"))));sa(Ua,{get placeholder(){return e(fa)},get value(){return e(o).SERPLY_API_KEY},set value(za){m(o,e(o).SERPLY_API_KEY=za)},$$legacy:!0})}t(Na),t(ya),u(fa=>s(qa,fa),[()=>(r(),i(()=>r().t("Serply API Key")))]),v(Jt,ya)},It=Jt=>{var ya=et(),Na=O(ya);{var ur=Ua=>{var fa=Xu(),za=a(fa),nr=a(za),yr=a(nr,!0);t(nr);var rr=l(nr,2);{let Da=R(()=>(r(),i(()=>r().t("Enter Tavily API Key"))));sa(rr,{get placeholder(){return e(Da)},get value(){return e(o).TAVILY_API_KEY},set value(Ka){m(o,e(o).TAVILY_API_KEY=Ka)},$$legacy:!0})}t(za),t(fa),u(Da=>s(yr,Da),[()=>(r(),i(()=>r().t("Tavily API Key")))]),v(Ua,fa)},qa=Ua=>{var fa=et(),za=O(fa);{var nr=rr=>{var Da=Ju(),Ka=a(Da),Ir=a(Ka),Hr=a(Ir,!0);t(Ir);var Tr=l(Ir,2);{let Wa=R(()=>(r(),i(()=>r().t("Enter SearchApi API Key"))));sa(Tr,{get placeholder(){return e(Wa)},get value(){return e(o).SEARCHAPI_API_KEY},set value(_r){m(o,e(o).SEARCHAPI_API_KEY=_r)},$$legacy:!0})}t(Ka);var hr=l(Ka,2),ir=a(hr),pr=a(ir,!0);t(ir);var Gr=l(ir,2),Xa=a(Gr),Qa=a(Xa);J(Qa),t(Xa),t(Gr),t(hr),t(Da),u((Wa,_r,Sr)=>{s(Hr,Wa),s(pr,_r),T(Qa,"placeholder",Sr)},[()=>(r(),i(()=>r().t("SearchApi API Key"))),()=>(r(),i(()=>r().t("SearchApi Engine"))),()=>(r(),i(()=>r().t("Enter SearchApi Engine")))]),X(Qa,()=>e(o).SEARCHAPI_ENGINE,Wa=>m(o,e(o).SEARCHAPI_ENGINE=Wa)),v(rr,Da)},yr=rr=>{var Da=et(),Ka=O(Da);{var Ir=Tr=>{var hr=qu(),ir=a(hr),pr=a(ir),Gr=a(pr,!0);t(pr);var Xa=l(pr,2);{let Aa=R(()=>(r(),i(()=>r().t("Enter SerpApi API Key"))));sa(Xa,{get placeholder(){return e(Aa)},get value(){return e(o).SERPAPI_API_KEY},set value(Fa){m(o,e(o).SERPAPI_API_KEY=Fa)},$$legacy:!0})}t(ir);var Qa=l(ir,2),Wa=a(Qa),_r=a(Wa,!0);t(Wa);var Sr=l(Wa,2),xa=a(Sr),Ea=a(xa);J(Ea),t(xa),t(Sr),t(Qa),t(hr),u((Aa,Fa,Ga)=>{s(Gr,Aa),s(_r,Fa),T(Ea,"placeholder",Ga)},[()=>(r(),i(()=>r().t("SerpApi API Key"))),()=>(r(),i(()=>r().t("SerpApi Engine"))),()=>(r(),i(()=>r().t("Enter SerpApi Engine")))]),X(Ea,()=>e(o).SERPAPI_ENGINE,Aa=>m(o,e(o).SERPAPI_ENGINE=Aa)),v(Tr,hr)},Hr=Tr=>{var hr=et(),ir=O(hr);{var pr=Xa=>{var Qa=Qu(),Wa=a(Qa),_r=a(Wa),Sr=a(_r,!0);t(_r);var xa=l(_r,2),Ea=a(xa),Aa=a(Ea);J(Aa),t(Ea),t(xa),t(Wa);var Fa=l(Wa,2),Ga=a(Fa),sr=a(Ga,!0);t(Ga);var lr=l(Ga,2);{let Ja=R(()=>(r(),i(()=>r().t("Enter Jina API Key"))));sa(lr,{get placeholder(){return e(Ja)},get value(){return e(o).JINA_API_KEY},set value(Va){m(o,e(o).JINA_API_KEY=Va)},$$legacy:!0})}t(Fa),t(Qa),u((Ja,Va,Br)=>{s(Sr,Ja),T(Aa,"placeholder",Va),s(sr,Br)},[()=>(r(),i(()=>r().t("Jina API Base URL"))),()=>(r(),i(()=>r().t("Enter Jina API Base URL"))),()=>(r(),i(()=>r().t("Jina API Key")))]),X(Aa,()=>e(o).JINA_API_BASE_URL,Ja=>m(o,e(o).JINA_API_BASE_URL=Ja)),v(Xa,Qa)},Gr=Xa=>{var Qa=et(),Wa=O(Qa);{var _r=xa=>{var Ea=e_(),Aa=a(Ea),Fa=a(Aa),Ga=a(Fa,!0);t(Fa);var sr=l(Fa,2),lr=a(sr),Ja=a(lr);J(Ja),t(lr),t(sr),t(Aa);var Va=l(Aa,2),Br=a(Va),Mr=a(Br,!0);t(Br);var mr=l(Br,2);{let gr=R(()=>(r(),i(()=>r().t("Enter Bing Search V7 Subscription Key"))));sa(mr,{get placeholder(){return e(gr)},get value(){return e(o).BING_SEARCH_V7_SUBSCRIPTION_KEY},set value(Ge){m(o,e(o).BING_SEARCH_V7_SUBSCRIPTION_KEY=Ge)},$$legacy:!0})}t(Va),t(Ea),u((gr,Ge,pt)=>{s(Ga,gr),T(Ja,"placeholder",Ge),s(Mr,pt)},[()=>(r(),i(()=>r().t("Bing Search V7 Endpoint"))),()=>(r(),i(()=>r().t("Enter Bing Search V7 Endpoint"))),()=>(r(),i(()=>r().t("Bing Search V7 Subscription Key")))]),X(Ja,()=>e(o).BING_SEARCH_V7_ENDPOINT,gr=>m(o,e(o).BING_SEARCH_V7_ENDPOINT=gr)),v(xa,Ea)},Sr=xa=>{var Ea=et(),Aa=O(Ea);{var Fa=sr=>{var lr=t_(),Ja=a(lr),Va=a(Ja),Br=a(Va,!0);t(Va);var Mr=l(Va,2);{let mr=R(()=>(r(),i(()=>r().t("Enter Exa API Key"))));sa(Mr,{get placeholder(){return e(mr)},get value(){return e(o).EXA_API_KEY},set value(gr){m(o,e(o).EXA_API_KEY=gr)},$$legacy:!0})}t(Ja),t(lr),u(mr=>s(Br,mr),[()=>(r(),i(()=>r().t("Exa API Key")))]),v(sr,lr)},Ga=sr=>{var lr=et(),Ja=O(lr);{var Va=Mr=>{var mr=a_(),gr=O(mr),Ge=a(gr),pt=a(Ge),Ft=a(pt,!0);t(pt);var wa=l(pt,2);{let Er=R(()=>(r(),i(()=>r().t("Enter Perplexity API Key"))));sa(wa,{get placeholder(){return e(Er)},get value(){return e(o).PERPLEXITY_API_KEY},set value(kr){m(o,e(o).PERPLEXITY_API_KEY=kr)},$$legacy:!0})}t(Ge),t(gr);var Oa=l(gr,2),er=a(Oa),Ma=a(er),Ba=a(Ma,!0);t(Ma);var Ta=l(Ma,2);J(Ta);var Ha=l(Ta,2),Nt=a(Ha),Ut=a(Nt,!0);t(Nt),Nt.value=Nt.__value="sonar";var $t=l(Nt),ia=a($t,!0);t($t),$t.value=$t.__value="sonar-pro";var zt=l($t),Ra=a(zt,!0);t(zt),zt.value=zt.__value="sonar-reasoning";var Pt=l(zt),Ia=a(Pt,!0);t(Pt),Pt.value=Pt.__value="sonar-reasoning-pro";var tr=l(Pt),ja=a(tr,!0);t(tr),tr.value=tr.__value="sonar-deep-research",t(Ha),t(er),t(Oa);var At=l(Oa,2),pa=a(At),La=a(pa),ra=a(La,!0);t(La);var Sa=l(La,2);u(()=>{e(o),Pa(()=>{r()})});var $r=a(Sa),jr=a($r,!0);t($r),$r.value=$r.__value="low";var Fr=l($r),_l=a(Fr,!0);t(Fr),Fr.value=Fr.__value="medium";var ol=l(Fr),xr=a(ol,!0);t(ol),ol.value=ol.__value="high",t(Sa),t(pa),t(At),u((Er,kr,el,sl,Cr,Or,Kr,Vr,Yr,vl,tl)=>{s(Ft,Er),s(Ba,kr),s(Ut,el),s(ia,sl),s(Ra,Cr),s(Ia,Or),s(ja,Kr),s(ra,Vr),s(jr,Yr),s(_l,vl),s(xr,tl)},[()=>(r(),i(()=>r().t("Perplexity API Key"))),()=>(r(),i(()=>r().t("Perplexity Model"))),()=>(r(),i(()=>r().t("Sonar"))),()=>(r(),i(()=>r().t("Sonar Pro"))),()=>(r(),i(()=>r().t("Sonar Reasoning"))),()=>(r(),i(()=>r().t("Sonar Reasoning Pro"))),()=>(r(),i(()=>r().t("Sonar Deep Research"))),()=>(r(),i(()=>r().t("Perplexity Search Context Usage"))),()=>(r(),i(()=>r().t("Low"))),()=>(r(),i(()=>r().t("Medium"))),()=>(r(),i(()=>r().t("High")))]),X(Ta,()=>e(o).PERPLEXITY_MODEL,Er=>m(o,e(o).PERPLEXITY_MODEL=Er)),or(Sa,()=>e(o).PERPLEXITY_SEARCH_CONTEXT_USAGE,Er=>m(o,e(o).PERPLEXITY_SEARCH_CONTEXT_USAGE=Er)),v(Mr,mr)},Br=Mr=>{var mr=et(),gr=O(mr);{var Ge=Ft=>{var wa=r_(),Oa=O(wa),er=a(Oa),Ma=a(er),Ba=a(Ma,!0);t(Ma);var Ta=l(Ma,2);{let zt=R(()=>(r(),i(()=>r().t("Enter Sougou Search API sID"))));sa(Ta,{get placeholder(){return e(zt)},get value(){return e(o).SOUGOU_API_SID},set value(Ra){m(o,e(o).SOUGOU_API_SID=Ra)},$$legacy:!0})}t(er),t(Oa);var Ha=l(Oa,2),Nt=a(Ha),Ut=a(Nt),$t=a(Ut,!0);t(Ut);var ia=l(Ut,2);{let zt=R(()=>(r(),i(()=>r().t("Enter Sougou Search API SK"))));sa(ia,{get placeholder(){return e(zt)},get value(){return e(o).SOUGOU_API_SK},set value(Ra){m(o,e(o).SOUGOU_API_SK=Ra)},$$legacy:!0})}t(Nt),t(Ha),u((zt,Ra)=>{s(Ba,zt),s($t,Ra)},[()=>(r(),i(()=>r().t("Sougou Search API sID"))),()=>(r(),i(()=>r().t("Sougou Search API SK")))]),v(Ft,wa)},pt=Ft=>{var wa=et(),Oa=O(wa);{var er=Ba=>{var Ta=l_(),Ha=a(Ta),Nt=a(Ha),Ut=a(Nt,!0);t(Nt);var $t=l(Nt,2),ia=a($t),zt=a(ia);J(zt),t(ia),t($t),t(Ha);var Ra=l(Ha,2),Pt=a(Ra),Ia=a(Pt,!0);t(Pt);var tr=l(Pt,2);{let $r=R(()=>(r(),i(()=>r().t("Enter Firecrawl API Key"))));sa(tr,{get placeholder(){return e($r)},get value(){return e(o).FIRECRAWL_API_KEY},set value(jr){m(o,e(o).FIRECRAWL_API_KEY=jr)},$$legacy:!0})}t(Ra);var ja=l(Ra,2),At=a(ja),pa=a(At,!0);t(At);var La=l(At,2),ra=a(La),Sa=a(ra);J(Sa),t(ra),t(La),t(ja),t(Ta),u(($r,jr,Fr,_l,ol)=>{s(Ut,$r),T(zt,"placeholder",jr),s(Ia,Fr),s(pa,_l),T(Sa,"placeholder",ol)},[()=>(r(),i(()=>r().t("Firecrawl API Base URL"))),()=>(r(),i(()=>r().t("Enter Firecrawl API Base URL"))),()=>(r(),i(()=>r().t("Firecrawl API Key"))),()=>(r(),i(()=>r().t("Firecrawl Timeout (s)"))),()=>(r(),i(()=>r().t("Enter Firecrawl Timeout")))]),X(zt,()=>e(o).FIRECRAWL_API_BASE_URL,$r=>m(o,e(o).FIRECRAWL_API_BASE_URL=$r)),X(Sa,()=>e(o).FIRECRAWL_TIMEOUT,$r=>m(o,e(o).FIRECRAWL_TIMEOUT=$r)),v(Ba,Ta)},Ma=Ba=>{var Ta=et(),Ha=O(Ta);{var Nt=Ut=>{var $t=i_(),ia=a($t),zt=a(ia),Ra=a(zt,!0);t(zt);var Pt=l(zt,2),Ia=a(Pt),tr=a(Ia);J(tr),t(Ia),t(Pt),t(ia);var ja=l(ia,2),At=a(ja),pa=a(At,!0);t(At);var La=l(At,2);{let ra=R(()=>(r(),i(()=>r().t("Enter External Web Search API Key"))));sa(La,{get placeholder(){return e(ra)},get value(){return e(o).EXTERNAL_WEB_SEARCH_API_KEY},set value(Sa){m(o,e(o).EXTERNAL_WEB_SEARCH_API_KEY=Sa)},$$legacy:!0})}t(ja),t($t),u((ra,Sa,$r)=>{s(Ra,ra),T(tr,"placeholder",Sa),s(pa,$r)},[()=>(r(),i(()=>r().t("External Web Search URL"))),()=>(r(),i(()=>r().t("Enter External Web Search URL"))),()=>(r(),i(()=>r().t("External Web Search API Key")))]),X(tr,()=>e(o).EXTERNAL_WEB_SEARCH_URL,ra=>m(o,e(o).EXTERNAL_WEB_SEARCH_URL=ra)),v(Ut,$t)};g(Ha,Ut=>{e(o),i(()=>e(o).WEB_SEARCH_ENGINE==="external")&&Ut(Nt)},!0)}v(Ba,Ta)};g(Oa,Ba=>{e(o),i(()=>e(o).WEB_SEARCH_ENGINE==="firecrawl")?Ba(er):Ba(Ma,!1)},!0)}v(Ft,wa)};g(gr,Ft=>{e(o),i(()=>e(o).WEB_SEARCH_ENGINE==="sougou")?Ft(Ge):Ft(pt,!1)},!0)}v(Mr,mr)};g(Ja,Mr=>{e(o),i(()=>e(o).WEB_SEARCH_ENGINE==="perplexity")?Mr(Va):Mr(Br,!1)},!0)}v(sr,lr)};g(Aa,sr=>{e(o),i(()=>e(o).WEB_SEARCH_ENGINE==="exa")?sr(Fa):sr(Ga,!1)},!0)}v(xa,Ea)};g(Wa,xa=>{e(o),i(()=>e(o).WEB_SEARCH_ENGINE==="bing")?xa(_r):xa(Sr,!1)},!0)}v(Xa,Qa)};g(ir,Xa=>{e(o),i(()=>e(o).WEB_SEARCH_ENGINE==="jina")?Xa(pr):Xa(Gr,!1)},!0)}v(Tr,hr)};g(Ka,Tr=>{e(o),i(()=>e(o).WEB_SEARCH_ENGINE==="serpapi")?Tr(Ir):Tr(Hr,!1)},!0)}v(rr,Da)};g(za,rr=>{e(o),i(()=>e(o).WEB_SEARCH_ENGINE==="searchapi")?rr(nr):rr(yr,!1)},!0)}v(Ua,fa)};g(Na,Ua=>{e(o),i(()=>e(o).WEB_SEARCH_ENGINE==="tavily")?Ua(ur):Ua(qa,!1)},!0)}v(Jt,ya)};g(Ct,Jt=>{e(o),i(()=>e(o).WEB_SEARCH_ENGINE==="serply")?Jt(nt):Jt(It,!1)},!0)}v(Je,ot)};g(ea,Je=>{e(o),i(()=>e(o).WEB_SEARCH_ENGINE==="serper")?Je(ga):Je($a,!1)},!0)}v(Ot,ua)};g(Xe,Ot=>{e(o),i(()=>e(o).WEB_SEARCH_ENGINE==="serpstack")?Ot(mt):Ot(jt,!1)},!0)}v(it,ze)};g(z,it=>{e(o),i(()=>e(o).WEB_SEARCH_ENGINE==="bocha")?it(ye):it(dt,!1)},!0)}v(bt,be)};g(rt,bt=>{e(o),i(()=>e(o).WEB_SEARCH_ENGINE==="mojeek")?bt(Lt):bt(ht,!1)},!0)}v(Re,xe)};g(Y,Re=>{e(o),i(()=>e(o).WEB_SEARCH_ENGINE==="kagi")?Re(st):Re(Ye,!1)},!0)}v($e,se)};g(h,$e=>{e(o),i(()=>e(o).WEB_SEARCH_ENGINE==="brave")?$e(I):$e(F,!1)},!0)}v(Ie,re)};g(K,Ie=>{e(o),i(()=>e(o).WEB_SEARCH_ENGINE==="google_pse")?Ie(L):Ie(_e,!1)},!0)}v(ae,b)};g(Z,ae=>{e(o),i(()=>e(o).WEB_SEARCH_ENGINE==="yacy")?ae(pe):ae(oe,!1)},!0)}v(Oe,G)};g(de,Oe=>{e(o),i(()=>e(o).WEB_SEARCH_ENGINE==="searxng")?Oe(je):Oe(ke,!1)},!0)}v(P,j)};g(Me,P=>{e(o),i(()=>e(o).WEB_SEARCH_ENGINE==="perplexity_search")?P(Te):P(He,!1)},!0)}v(Le,Pe)};g(ut,Le=>{e(o),i(()=>e(o).WEB_SEARCH_ENGINE==="ollama_cloud")?Le(xt):Le(ie,!1)})}var ce=l(ut,2);{var Ce=Le=>{var Pe=s_(),Me=a(Pe),Te=a(Me),He=a(Te,!0);t(Te);var P=l(Te,2),j=a(P),de=a(j);u(()=>{e(o),Pa(()=>{r()})});var je=a(de),ke=a(je,!0);t(je),je.value=je.__value="auto";var Oe=l(je),G=a(Oe,!0);t(Oe),Oe.value=Oe.__value="bing";var Z=l(Oe),pe=a(Z,!0);t(Z),Z.value=Z.__value="brave";var oe=l(Z),ae=a(oe,!0);t(oe),oe.value=oe.__value="duckduckgo";var b=l(oe),K=a(b,!0);t(b),b.value=b.__value="google";var L=l(b),_e=a(L,!0);t(L),L.value=L.__value="grokipedia";var Ie=l(L),re=a(Ie,!0);t(Ie),Ie.value=Ie.__value="mojeek";var h=l(Ie),I=a(h,!0);t(h),h.value=h.__value="wikipedia";var F=l(h),$e=a(F,!0);t(F),F.value=F.__value="yahoo";var se=l(F),Y=a(se,!0);t(se),se.value=se.__value="yandex",t(de),t(j),t(P),t(Me),t(Pe),u((st,Ye,Re,xe,rt,Lt,ht,bt,be,z,ye)=>{s(He,st),s(ke,Ye),s(G,Re),s(pe,xe),s(ae,rt),s(K,Lt),s(_e,ht),s(re,bt),s(I,be),s($e,z),s(Y,ye)},[()=>(r(),i(()=>r().t("DDGS Backend"))),()=>(r(),i(()=>r().t("Auto (Random)"))),()=>(r(),i(()=>r().t("Bing"))),()=>(r(),i(()=>r().t("Brave"))),()=>(r(),i(()=>r().t("DuckDuckGo"))),()=>(r(),i(()=>r().t("Google"))),()=>(r(),i(()=>r().t("Grokipedia"))),()=>(r(),i(()=>r().t("Mojeek"))),()=>(r(),i(()=>r().t("Wikipedia"))),()=>(r(),i(()=>r().t("Yahoo"))),()=>(r(),i(()=>r().t("Yandex")))]),or(de,()=>e(o).DDGS_BACKEND,st=>m(o,e(o).DDGS_BACKEND=st)),v(Le,Pe)};g(ce,Le=>{e(o),i(()=>e(o).WEB_SEARCH_ENGINE==="duckduckgo")&&Le(Ce)})}v(Q,at)};g(qe,Q=>{e(o),i(()=>e(o).WEB_SEARCH_ENGINE!=="")&&Q(fe)})}var $=l(qe,2);{var W=Q=>{var at=d_(),ut=O(at),xt=a(ut),ie=a(xt),ce=a(ie),Ce=a(ce,!0);t(ce);var Le=l(ce,2);J(Le),t(ie);var Pe=l(ie,2),Me=a(Pe),Te=a(Me);{let ke=R(()=>(r(),i(()=>r().t("Limit concurrent search queries. 0 = unlimited (default). Set to 1 for sequential execution (recommended for APIs with strict rate limits like Brave free tier)."))));lt(Te,{get content(){return e(ke)},placement:"top-start",children:(Oe,G)=>{Dr();var Z=cr();u(pe=>s(Z,pe),[()=>(r(),i(()=>r().t("Concurrent Requests")))]),v(Oe,Z)},$$slots:{default:!0}})}t(Me);var He=l(Me,2);J(He),t(Pe),t(xt),t(ut);var P=l(ut,2),j=a(P),de=a(j,!0);t(j);var je=l(j,2);J(je),t(P),u((ke,Oe,G,Z,pe)=>{s(Ce,ke),T(Le,"placeholder",Oe),T(He,"placeholder",G),s(de,Z),T(je,"placeholder",pe)},[()=>(r(),i(()=>r().t("Search Result Count"))),()=>(r(),i(()=>r().t("Search Result Count"))),()=>(r(),i(()=>r().t("Concurrent Requests"))),()=>(r(),i(()=>r().t("Domain Filter List"))),()=>(r(),i(()=>r().t("Enter domains separated by commas (e.g., example.com,site.org,!excludedsite.com)")))]),X(Le,()=>e(o).WEB_SEARCH_RESULT_COUNT,ke=>m(o,e(o).WEB_SEARCH_RESULT_COUNT=ke)),X(He,()=>e(o).WEB_SEARCH_CONCURRENT_REQUESTS,ke=>m(o,e(o).WEB_SEARCH_CONCURRENT_REQUESTS=ke)),X(je,()=>e(o).WEB_SEARCH_DOMAIN_FILTER_LIST,ke=>m(o,e(o).WEB_SEARCH_DOMAIN_FILTER_LIST=ke)),v(Q,at)};g($,Q=>{e(o),i(()=>e(o).ENABLE_WEB_SEARCH)&&Q(W)})}var Fe=l($,2),gt=a(Fe),Tt=a(gt);{let Q=R(()=>(r(),i(()=>r().t("Full Context Mode"))));lt(Tt,{get content(){return e(Q)},placement:"top-start",children:(at,ut)=>{Dr();var xt=cr();u(ie=>s(xt,ie),[()=>(r(),i(()=>r().t("Bypass Embedding and Retrieval")))]),v(at,xt)},$$slots:{default:!0}})}t(gt);var St=l(gt,2),_a=a(St);{let Q=R(()=>(e(o),r(),i(()=>e(o).BYPASS_WEB_SEARCH_EMBEDDING_AND_RETRIEVAL?r().t("Inject the entire content as context for comprehensive processing, this is recommended for complex queries."):r().t("Default to segmented retrieval for focused and relevant content extraction, this is recommended for most cases."))));lt(_a,{get content(){return e(Q)},children:(at,ut)=>{ta(at,{get state(){return e(o).BYPASS_WEB_SEARCH_EMBEDDING_AND_RETRIEVAL},set state(xt){m(o,e(o).BYPASS_WEB_SEARCH_EMBEDDING_AND_RETRIEVAL=xt)},$$legacy:!0})},$$slots:{default:!0}})}t(St),t(Fe);var Vt=l(Fe,2),ca=a(Vt),ma=a(ca);{let Q=R(()=>(r(),i(()=>r().t("Bypass Web Loader"))));lt(ma,{get content(){return e(Q)},placement:"top-start",children:(at,ut)=>{Dr();var xt=cr();u(ie=>s(xt,ie),[()=>(r(),i(()=>r().t("Bypass Web Loader")))]),v(at,xt)},$$slots:{default:!0}})}t(ca);var qt=l(ca,2),Qt=a(qt);lt(Qt,{content:"",children:(Q,at)=>{ta(Q,{get state(){return e(o).BYPASS_WEB_SEARCH_WEB_LOADER},set state(ut){m(o,e(o).BYPASS_WEB_SEARCH_WEB_LOADER=ut)},$$legacy:!0})},$$slots:{default:!0}}),t(qt),t(Vt);var we=l(Vt,2),Ke=a(we),vt=a(Ke,!0);t(Ke);var _t=l(Ke,2),De=a(_t);{let Q=R(()=>(e(o),r(),i(()=>e(o).WEB_SEARCH_TRUST_ENV?r().t("Use proxy designated by http_proxy and https_proxy environment variables to fetch page contents."):r().t("Use no proxy to fetch page contents."))));lt(De,{get content(){return e(Q)},children:(at,ut)=>{ta(at,{get state(){return e(o).WEB_SEARCH_TRUST_ENV},set state(xt){m(o,e(o).WEB_SEARCH_TRUST_ENV=xt)},$$legacy:!0})},$$slots:{default:!0}})}t(_t),t(we),t(he);var Ve=l(he,2),tt=a(Ve),ft=a(tt,!0);t(tt);var Qe=l(tt,4),Dt=a(Qe),Rt=a(Dt,!0);t(Dt);var Xt=l(Dt,2),ct=a(Xt);u(()=>{e(o),Pa(()=>{r()})});var aa=a(ct),ha=a(aa,!0);t(aa),aa.value=aa.__value="";var Ya=l(aa);Za(Ya,1,()=>Ne,dr,(Q,at)=>{var ut=o_(),xt=a(ut,!0);t(ut);var ie={};u(()=>{s(xt,e(at)),ie!==(ie=e(at))&&(ut.value=(ut.__value=e(at))??"")}),v(Q,ut)}),t(ct),t(Xt),t(Qe);var na=l(Qe,2);{var Kt=Q=>{var at=n_(),ut=O(at),xt=a(ut),ie=a(xt,!0);t(xt);var ce=l(xt,2),Ce=a(ce);J(Ce),t(ce),t(ut);var Le=l(ut,2),Pe=a(Le),Me=a(Pe,!0);t(Pe);var Te=l(Pe,2),He=a(Te);ta(He,{get state(){return e(o).ENABLE_WEB_LOADER_SSL_VERIFICATION},set state(P){m(o,e(o).ENABLE_WEB_LOADER_SSL_VERIFICATION=P)},$$legacy:!0}),t(Te),t(Le),u((P,j,de)=>{s(ie,P),T(Ce,"placeholder",j),s(Me,de)},[()=>(r(),i(()=>r().t("Timeout"))),()=>(r(),i(()=>r().t("Timeout"))),()=>(r(),i(()=>r().t("Verify SSL Certificate")))]),X(Ce,()=>e(o).WEB_LOADER_TIMEOUT,P=>m(o,e(o).WEB_LOADER_TIMEOUT=P)),v(Q,at)},kt=Q=>{var at=et(),ut=O(at);{var xt=ce=>{var Ce=c_(),Le=a(Ce),Pe=a(Le),Me=a(Pe,!0);t(Pe);var Te=l(Pe,2),He=a(Te),P=a(He);J(P),t(He),t(Te),t(Le);var j=l(Le,2),de=a(j),je=a(de,!0);t(de);var ke=l(de,2),Oe=a(ke),G=a(Oe);J(G),t(Oe),t(ke),t(j),t(Ce),u((Z,pe,oe,ae)=>{s(Me,Z),T(P,"placeholder",pe),s(je,oe),T(G,"placeholder",ae)},[()=>(r(),i(()=>r().t("Playwright WebSocket URL"))),()=>(r(),i(()=>r().t("Enter Playwright WebSocket URL"))),()=>(r(),i(()=>r().t("Playwright Timeout (ms)"))),()=>(r(),i(()=>r().t("Enter Playwright Timeout")))]),X(P,()=>e(o).PLAYWRIGHT_WS_URL,Z=>m(o,e(o).PLAYWRIGHT_WS_URL=Z)),X(G,()=>e(o).PLAYWRIGHT_TIMEOUT,Z=>m(o,e(o).PLAYWRIGHT_TIMEOUT=Z)),v(ce,Ce)},ie=ce=>{var Ce=et(),Le=O(Ce);{var Pe=Te=>{var He=u_(),P=a(He),j=a(P),de=a(j,!0);t(j);var je=l(j,2),ke=a(je),Oe=a(ke);J(Oe),t(ke),t(je),t(P);var G=l(P,2),Z=a(G),pe=a(Z,!0);t(Z);var oe=l(Z,2);{let ae=R(()=>(r(),i(()=>r().t("Enter Firecrawl API Key"))));sa(oe,{get placeholder(){return e(ae)},get value(){return e(o).FIRECRAWL_API_KEY},set value(b){m(o,e(o).FIRECRAWL_API_KEY=b)},$$legacy:!0})}t(G),t(He),u((ae,b,K)=>{s(de,ae),T(Oe,"placeholder",b),s(pe,K)},[()=>(r(),i(()=>r().t("Firecrawl API Base URL"))),()=>(r(),i(()=>r().t("Enter Firecrawl API Base URL"))),()=>(r(),i(()=>r().t("Firecrawl API Key")))]),X(Oe,()=>e(o).FIRECRAWL_API_BASE_URL,ae=>m(o,e(o).FIRECRAWL_API_BASE_URL=ae)),v(Te,He)},Me=Te=>{var He=et(),P=O(He);{var j=je=>{var ke=f_(),Oe=a(ke),G=a(Oe),Z=a(G,!0);t(G);var pe=l(G,2),oe=a(pe),ae=a(oe);J(ae),t(oe),t(pe),t(Oe);var b=l(Oe,2);{var K=L=>{var _e=__(),Ie=a(_e),re=a(Ie,!0);t(Ie);var h=l(Ie,2);{let I=R(()=>(r(),i(()=>r().t("Enter Tavily API Key"))));sa(h,{get placeholder(){return e(I)},get value(){return e(o).TAVILY_API_KEY},set value(F){m(o,e(o).TAVILY_API_KEY=F)},$$legacy:!0})}t(_e),u(I=>s(re,I),[()=>(r(),i(()=>r().t("Tavily API Key")))]),v(L,_e)};g(b,L=>{e(o),i(()=>e(o).WEB_SEARCH_ENGINE!=="tavily")&&L(K)})}t(ke),u((L,_e)=>{s(Z,L),T(ae,"placeholder",_e)},[()=>(r(),i(()=>r().t("Tavily Extract Depth"))),()=>(r(),i(()=>r().t("Enter Tavily Extract Depth")))]),X(ae,()=>e(o).TAVILY_EXTRACT_DEPTH,L=>m(o,e(o).TAVILY_EXTRACT_DEPTH=L)),v(je,ke)},de=je=>{var ke=et(),Oe=O(ke);{var G=Z=>{var pe=p_(),oe=a(pe),ae=a(oe),b=a(ae,!0);t(ae);var K=l(ae,2),L=a(K),_e=a(L);J(_e),t(L),t(K),t(oe);var Ie=l(oe,2),re=a(Ie),h=a(re,!0);t(re);var I=l(re,2);{let F=R(()=>(r(),i(()=>r().t("Enter External Web Loader API Key"))));sa(I,{get placeholder(){return e(F)},get value(){return e(o).EXTERNAL_WEB_LOADER_API_KEY},set value($e){m(o,e(o).EXTERNAL_WEB_LOADER_API_KEY=$e)},$$legacy:!0})}t(Ie),t(pe),u((F,$e,se)=>{s(b,F),T(_e,"placeholder",$e),s(h,se)},[()=>(r(),i(()=>r().t("External Web Loader URL"))),()=>(r(),i(()=>r().t("Enter External Web Loader URL"))),()=>(r(),i(()=>r().t("External Web Loader API Key")))]),X(_e,()=>e(o).EXTERNAL_WEB_LOADER_URL,F=>m(o,e(o).EXTERNAL_WEB_LOADER_URL=F)),v(Z,pe)};g(Oe,Z=>{e(o),i(()=>e(o).WEB_LOADER_ENGINE==="external")&&Z(G)},!0)}v(je,ke)};g(P,je=>{e(o),i(()=>e(o).WEB_LOADER_ENGINE==="tavily")?je(j):je(de,!1)},!0)}v(Te,He)};g(Le,Te=>{e(o),i(()=>e(o).WEB_LOADER_ENGINE==="firecrawl"&&e(o).WEB_SEARCH_ENGINE!=="firecrawl")?Te(Pe):Te(Me,!1)},!0)}v(ce,Ce)};g(ut,ce=>{e(o),i(()=>e(o).WEB_LOADER_ENGINE==="playwright")?ce(xt):ce(ie,!1)},!0)}v(Q,at)};g(na,Q=>{e(o),i(()=>e(o).WEB_LOADER_ENGINE===""||e(o).WEB_LOADER_ENGINE==="safe_web")?Q(Kt):Q(kt,!1)})}var va=l(na,2),Et=a(va),Ue=a(Et,!0);t(Et);var Mt=l(Et,2);J(Mt),t(va);var Gt=l(va,2),da=a(Gt),ka=a(da,!0);t(da);var ba=l(da,2),Yt=a(ba);J(Yt),t(ba),t(Gt);var Wt=l(Gt,2),yt=a(Wt),Zt=a(yt,!0);t(yt);var Ht=l(yt,2),Ze=a(Ht);J(Ze),t(Ht),t(Wt),t(Ve),t(Ae),u((Q,at,ut,xt,ie,ce,Ce,Le,Pe,Me,Te,He,P,j,de,je)=>{s(n,Q),s(me,at),s(M,ut),T(ne,"placeholder",xt),s(N,ie),s(vt,ce),s(ft,Ce),s(Rt,Le),T(ct,"placeholder",Pe),s(ha,Me),s(Ue,Te),T(Mt,"placeholder",He),s(ka,P),T(Yt,"placeholder",j),s(Zt,de),T(Ze,"placeholder",je)},[()=>(r(),i(()=>r().t("General"))),()=>(r(),i(()=>r().t("Web Search"))),()=>(r(),i(()=>r().t("Web Search Engine"))),()=>(r(),i(()=>r().t("Select a engine"))),()=>(r(),i(()=>r().t("Select a engine"))),()=>(r(),i(()=>r().t("Trust Proxy Environment"))),()=>(r(),i(()=>r().t("Loader"))),()=>(r(),i(()=>r().t("Web Loader Engine"))),()=>(r(),i(()=>r().t("Select a engine"))),()=>(r(),i(()=>r().t("Default"))),()=>(r(),i(()=>r().t("Concurrent Requests"))),()=>(r(),i(()=>r().t("Concurrent Requests"))),()=>(r(),i(()=>r().t("Youtube Language"))),()=>(r(),i(()=>r().t("Enter language codes"))),()=>(r(),i(()=>r().t("Youtube Proxy URL"))),()=>(r(),i(()=>r().t("Enter proxy URL (e.g. https://user:password@host:port)")))]),or(ne,()=>e(o).WEB_SEARCH_ENGINE,Q=>m(o,e(o).WEB_SEARCH_ENGINE=Q)),or(ct,()=>e(o).WEB_LOADER_ENGINE,Q=>m(o,e(o).WEB_LOADER_ENGINE=Q)),X(Mt,()=>e(o).WEB_LOADER_CONCURRENT_REQUESTS,Q=>m(o,e(o).WEB_LOADER_CONCURRENT_REQUESTS=Q)),X(Yt,()=>e(o).YOUTUBE_LOADER_LANGUAGE,Q=>m(o,e(o).YOUTUBE_LOADER_LANGUAGE=Q)),X(Ze,()=>e(o).YOUTUBE_LOADER_PROXY_URL,Q=>m(o,e(o).YOUTUBE_LOADER_PROXY_URL=Q)),v(ee,Ae)};g(C,ee=>{e(o)&&ee(E)})}t(A);var w=l(A,2),H=a(w),D=a(H,!0);t(H),t(w),t(S),u(ee=>s(D,ee),[()=>(r(),i(()=>r().t("Save")))]),We("submit",S,il(async()=>{await d(),Be()()})),v(wt,S),wr(),p()}var E_=_('<button class="p-1" type="button"><!></button>'),y_=_('<div class=" text-center text-xs text-gray-500"> </div>'),h_=_('<div class="mb-3"><div class=" mt-0.5 mb-2.5 text-base font-medium flex justify-between items-center"><div> </div> <div><!></div></div> <hr class=" border-gray-100/30 dark:border-gray-850/30 my-2"/> <div class="flex flex-col gap-2"><!></div></div>'),b_=_('<div><div class="mb-3"><div class=" mt-0.5 mb-2.5 text-base font-medium"> </div> <hr class=" border-gray-100/30 dark:border-gray-850/30 my-2"/> <div class="mb-2.5 flex w-full justify-between"><div class=" text-xs font-medium"> </div> <!></div></div> <!></div>'),A_=_('<div class="flex h-full justify-center"><div class="my-auto"><!></div></div>'),w_=_('<!> <form class="flex flex-col h-full justify-between text-sm"><div class="overflow-y-scroll scrollbar-hidden h-full"><!></div> <div class="flex justify-end pt-3 text-sm font-medium"><button class="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full" type="submit"> </button></div></form>',1);function I_(wt,q){br(q,!1);const r=()=>la(o,"$i18n",Be),f=()=>la(Jr,"$config",Be),p=()=>la(xl,"$settings",Be),Bt=()=>la(Nl,"$user",Be),[Be,y]=Nr(),Ne=cl(),o=Ar("i18n");let d=k(null),S=k(!1);const A=async()=>{var V,ue,U;c(d,await pv(localStorage.token,e(d)).catch(x=>(Ee.error(x),null))),e(d)&&(Ee.success(r().t("Settings saved successfully!")),Wr.set(await al(localStorage.token,((ue=(V=f())==null?void 0:V.features)==null?void 0:ue.enable_direct_connections)&&(((U=p())==null?void 0:U.directConnections)??null))))},C=async V=>{var ue,U,x;e(d).EVALUATION_ARENA_MODELS.push(V),m(d,e(d).EVALUATION_ARENA_MODELS=[...e(d).EVALUATION_ARENA_MODELS]),await A(),Wr.set(await al(localStorage.token,((U=(ue=f())==null?void 0:ue.features)==null?void 0:U.enable_direct_connections)&&(((x=p())==null?void 0:x.directConnections)??null)))},E=async(V,ue)=>{var U,x,M;m(d,e(d).EVALUATION_ARENA_MODELS[ue]=V),m(d,e(d).EVALUATION_ARENA_MODELS=[...e(d).EVALUATION_ARENA_MODELS]),await A(),Wr.set(await al(localStorage.token,((x=(U=f())==null?void 0:U.features)==null?void 0:x.enable_direct_connections)&&(((M=p())==null?void 0:M.directConnections)??null)))},w=async V=>{var ue,U,x;m(d,e(d).EVALUATION_ARENA_MODELS=e(d).EVALUATION_ARENA_MODELS.filter((M,le)=>le!==V)),await A(),Wr.set(await al(localStorage.token,((U=(ue=f())==null?void 0:ue.features)==null?void 0:U.enable_direct_connections)&&(((x=p())==null?void 0:x.directConnections)??null)))};rl(async()=>{var V;((V=Bt())==null?void 0:V.role)==="admin"&&c(d,await fv(localStorage.token).catch(ue=>(Ee.error(ue),null)))}),Rr();var H=w_(),D=O(H);Oi(D,{get show(){return e(S)},set show(V){c(S,V)},$$events:{submit:async V=>{C(V.detail)}},$$legacy:!0});var ee=l(D,2),Ae=a(ee),he=a(Ae);{var Se=V=>{var ue=b_(),U=a(ue),x=a(U),M=a(x,!0);t(x);var le=l(x,4),ne=a(le),ve=a(ne,!0);t(ne);var N=l(ne,2);{let fe=R(()=>r().t("Message rating should be enabled to use this feature"));lt(N,{get content(){return e(fe)},children:($,W)=>{ta($,{get state(){return e(d).ENABLE_EVALUATION_ARENA_MODELS},set state(Fe){m(d,e(d).ENABLE_EVALUATION_ARENA_MODELS=Fe)},$$legacy:!0})},$$slots:{default:!0}})}t(le),t(U);var ge=l(U,2);{var qe=fe=>{var $=h_(),W=a($),Fe=a(W),gt=a(Fe,!0);t(Fe);var Tt=l(Fe,2),St=a(Tt);{let qt=R(()=>r().t("Add Arena Model"));lt(St,{get content(){return e(qt)},children:(Qt,we)=>{var Ke=E_(),vt=a(Ke);Ul(vt,{}),t(Ke),We("click",Ke,()=>{c(S,!0)}),v(Qt,Ke)},$$slots:{default:!0}})}t(Tt),t(W);var _a=l(W,4),Vt=a(_a);{var ca=qt=>{var Qt=et(),we=O(Qt);Za(we,1,()=>e(d).EVALUATION_ARENA_MODELS,dr,(Ke,vt,_t)=>{nn(Ke,{get model(){return e(vt)},$$events:{edit:De=>{E(De.detail,_t)},delete:De=>{w(_t)}}})}),v(qt,Qt)},ma=qt=>{var Qt=y_(),we=a(Qt,!0);t(Qt),u(Ke=>s(we,Ke),[()=>r().t("Using the default arena model with all models. Click the plus button to add custom models.")]),v(qt,Qt)};g(Vt,qt=>{var Qt;(((Qt=e(d))==null?void 0:Qt.EVALUATION_ARENA_MODELS)??[]).length>0?qt(ca):qt(ma,!1)})}t(_a),t($),u(qt=>s(gt,qt),[()=>r().t("Manage")]),v(fe,$)};g(ge,fe=>{e(d).ENABLE_EVALUATION_ARENA_MODELS&&fe(qe)})}t(ue),u((fe,$)=>{s(M,fe),s(ve,$)},[()=>r().t("General"),()=>r().t("Arena Models")]),v(V,ue)},n=V=>{var ue=A_(),U=a(ue),x=a(U);Qr(x,{className:"size-6"}),t(U),t(ue),v(V,ue)};g(he,V=>{e(d)!==null?V(Se):V(n,!1)})}t(Ae);var te=l(Ae,2),B=a(te),me=a(B,!0);t(B),t(te),t(ee),u(V=>s(me,V),[()=>r().t("Save")]),We("submit",ee,il(()=>{A(),Ne("save")})),v(wt,H),wr(),y()}var $_=_("<option> </option>"),R_=_('<div class="text-gray-500 text-xs"> </div>'),N_=_('<div class="flex w-full gap-2"><div class="flex-1"><!></div></div>'),T_=_('<input class="dark:bg-gray-900 w-fit rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right" type="number" autocomplete="off"/>'),S_=_('<div class="mb-2.5 flex flex-col gap-1.5 w-full"><div class="text-xs font-medium"> </div> <div class="flex w-full"><div class="flex-1"><input class="w-full text-sm py-0.5 placeholder:text-gray-300 dark:placeholder:text-gray-700 bg-transparent outline-hidden" type="text" autocomplete="off"/></div></div></div> <div class="mb-2.5 flex flex-col gap-1.5 w-full"><div class=" flex gap-2 w-full items-center justify-between"><div class="text-xs font-medium"> </div> <div><select class="dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-left"><option selected> </option><option> </option><option> </option></select></div></div> <!></div> <div class="flex gap-2 w-full items-center justify-between"><div class="text-xs font-medium"> </div> <div><!></div></div>',1),k_=_("<option> </option>"),O_=_('<div class="text-gray-500 text-xs"> </div>'),L_=_('<div class="flex w-full gap-2"><div class="flex-1"><!></div></div>'),P_=_('<input class="dark:bg-gray-900 w-fit rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right" type="number" autocomplete="off"/>'),M_=_('<div class="mb-2.5 flex flex-col gap-1.5 w-full"><div class="text-xs font-medium"> </div> <div class="flex w-full"><div class="flex-1"><input class="w-full text-sm py-0.5 placeholder:text-gray-300 dark:placeholder:text-gray-700 bg-transparent outline-hidden" type="text" autocomplete="off"/></div></div></div> <div class="mb-2.5 flex flex-col gap-1.5 w-full"><div class="flex gap-2 w-full items-center justify-between"><div class="text-xs font-medium"> </div> <div><select class="dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-left"><option selected> </option><option> </option><option> </option></select></div></div> <!></div> <div class="flex gap-2 w-full items-center justify-between"><div class="text-xs font-medium"> </div> <div><!></div></div>',1),C_=_('<div class="mb-2.5"><div class="  flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div> <div class="flex items-center relative"><select class="dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right" required><option disabled selected> </option><!></select></div></div> <!></div> <!> <hr class="border-gray-100/30 dark:border-gray-850/30 my-2"/> <div><div class="py-0.5 w-full"><div class=" mb-2.5 text-xs font-medium"> </div> <!></div></div>',1),U_=_('<div><div class="mb-3.5"><div class=" mt-0.5 mb-2.5 text-base font-medium"> </div> <hr class=" border-gray-100/30 dark:border-gray-850/30 my-2"/> <div class="mb-2.5"><div class=" flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div> <!></div></div> <div class="mb-2.5"><div class="flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div> <div class="flex items-center relative"><select class="dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right" required><option disabled selected> </option><!></select></div></div> <!></div> <!></div> <div class="mb-3.5"><div class=" mt-0.5 mb-2.5 text-base font-medium"> </div> <hr class=" border-gray-100/30 dark:border-gray-850/30 my-2"/> <div class="mb-2.5"><div class=" flex w-full justify-between"><div class=" self-center text-xs font-medium"> </div> <!></div></div> <!></div></div>'),D_=_('<form class="flex flex-col h-full justify-between space-y-3 text-sm"><div class=" space-y-3 overflow-y-scroll scrollbar-hidden h-full"><!></div> <div class="flex justify-end pt-3 text-sm font-medium"><button class="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full" type="submit"> </button></div></form>');function G_(wt,q){br(q,!1);const r=()=>la(Bt,"$i18n",f),[f,p]=Nr(),Bt=Ar("i18n");let Be=oa(q,"saveHandler",8),y=k(null),Ne=["pyodide","jupyter"];const o=async()=>{await gs(localStorage.token,e(y))};rl(async()=>{const D=await ms(localStorage.token);D&&c(y,D)}),Rr();var d=D_(),S=a(d),A=a(S);{var C=D=>{var ee=U_(),Ae=a(ee),he=a(Ae),Se=a(he,!0);t(he);var n=l(he,4),te=a(n),B=a(te),me=a(B,!0);t(B);var V=l(B,2);ta(V,{get state(){return e(y).ENABLE_CODE_EXECUTION},set state(we){m(y,e(y).ENABLE_CODE_EXECUTION=we)},$$legacy:!0}),t(te),t(n);var ue=l(n,2),U=a(ue),x=a(U),M=a(x,!0);t(x);var le=l(x,2),ne=a(le);u(()=>{e(y),Pa(()=>{r()})});var ve=a(ne),N=a(ve,!0);t(ve),ve.value=ve.__value="";var ge=l(ve);Za(ge,1,()=>Ne,dr,(we,Ke)=>{var vt=$_(),_t=a(vt,!0);t(vt);var De={};u(()=>{s(_t,e(Ke)),De!==(De=e(Ke))&&(vt.value=(vt.__value=e(Ke))??"")}),v(we,vt)}),t(ne),t(le),t(U);var qe=l(U,2);{var fe=we=>{var Ke=R_(),vt=a(Ke,!0);t(Ke),u(_t=>s(vt,_t),[()=>(r(),i(()=>r().t("Warning: Jupyter execution enables arbitrary code execution, posing severe security risksproceed with extreme caution.")))]),v(we,Ke)};g(qe,we=>{e(y),i(()=>e(y).CODE_EXECUTION_ENGINE==="jupyter")&&we(fe)})}t(ue);var $=l(ue,2);{var W=we=>{var Ke=S_(),vt=O(Ke),_t=a(vt),De=a(_t,!0);t(_t);var Ve=l(_t,2),tt=a(Ve),ft=a(tt);J(ft),t(tt),t(Ve),t(vt);var Qe=l(vt,2),Dt=a(Qe),Rt=a(Dt),Xt=a(Rt,!0);t(Rt);var ct=l(Rt,2),aa=a(ct);u(()=>{e(y),Pa(()=>{r()})});var ha=a(aa),Ya=a(ha,!0);t(ha),ha.value=ha.__value="";var na=l(ha),Kt=a(na,!0);t(na),na.value=na.__value="token";var kt=l(na),va=a(kt,!0);t(kt),kt.value=kt.__value="password",t(aa),t(ct),t(Dt);var Et=l(Dt,2);{var Ue=Yt=>{var Wt=N_(),yt=a(Wt),Zt=a(yt);{var Ht=Q=>{{let at=R(()=>(r(),i(()=>r().t("Enter Jupyter Password"))));sa(Q,{type:"text",get placeholder(){return e(at)},autocomplete:"off",get value(){return e(y).CODE_EXECUTION_JUPYTER_AUTH_PASSWORD},set value(ut){m(y,e(y).CODE_EXECUTION_JUPYTER_AUTH_PASSWORD=ut)},$$legacy:!0})}},Ze=Q=>{{let at=R(()=>(r(),i(()=>r().t("Enter Jupyter Token"))));sa(Q,{type:"text",get placeholder(){return e(at)},autocomplete:"off",get value(){return e(y).CODE_EXECUTION_JUPYTER_AUTH_TOKEN},set value(ut){m(y,e(y).CODE_EXECUTION_JUPYTER_AUTH_TOKEN=ut)},$$legacy:!0})}};g(Zt,Q=>{e(y),i(()=>e(y).CODE_EXECUTION_JUPYTER_AUTH==="password")?Q(Ht):Q(Ze,!1)})}t(yt),t(Wt),v(Yt,Wt)};g(Et,Yt=>{e(y),i(()=>e(y).CODE_EXECUTION_JUPYTER_AUTH)&&Yt(Ue)})}t(Qe);var Mt=l(Qe,2),Gt=a(Mt),da=a(Gt,!0);t(Gt);var ka=l(Gt,2),ba=a(ka);{let Yt=R(()=>(r(),i(()=>r().t("Enter timeout in seconds"))));lt(ba,{get content(){return e(Yt)},children:(Wt,yt)=>{var Zt=T_();J(Zt),u(Ht=>T(Zt,"placeholder",Ht),[()=>(r(),i(()=>r().t("e.g. 60")))]),X(Zt,()=>e(y).CODE_EXECUTION_JUPYTER_TIMEOUT,Ht=>m(y,e(y).CODE_EXECUTION_JUPYTER_TIMEOUT=Ht)),v(Wt,Zt)},$$slots:{default:!0}})}t(ka),t(Mt),u((Yt,Wt,yt,Zt,Ht,Ze,Q,at)=>{s(De,Yt),T(ft,"placeholder",Wt),s(Xt,yt),T(aa,"placeholder",Zt),s(Ya,Ht),s(Kt,Ze),s(va,Q),s(da,at)},[()=>(r(),i(()=>r().t("Jupyter URL"))),()=>(r(),i(()=>r().t("Enter Jupyter URL"))),()=>(r(),i(()=>r().t("Jupyter Auth"))),()=>(r(),i(()=>r().t("Select an auth method"))),()=>(r(),i(()=>r().t("None"))),()=>(r(),i(()=>r().t("Token"))),()=>(r(),i(()=>r().t("Password"))),()=>(r(),i(()=>r().t("Code Execution Timeout")))]),X(ft,()=>e(y).CODE_EXECUTION_JUPYTER_URL,Yt=>m(y,e(y).CODE_EXECUTION_JUPYTER_URL=Yt)),or(aa,()=>e(y).CODE_EXECUTION_JUPYTER_AUTH,Yt=>m(y,e(y).CODE_EXECUTION_JUPYTER_AUTH=Yt)),v(we,Ke)};g($,we=>{e(y),i(()=>e(y).CODE_EXECUTION_ENGINE==="jupyter")&&we(W)})}t(Ae);var Fe=l(Ae,2),gt=a(Fe),Tt=a(gt,!0);t(gt);var St=l(gt,4),_a=a(St),Vt=a(_a),ca=a(Vt,!0);t(Vt);var ma=l(Vt,2);ta(ma,{get state(){return e(y).ENABLE_CODE_INTERPRETER},set state(we){m(y,e(y).ENABLE_CODE_INTERPRETER=we)},$$legacy:!0}),t(_a),t(St);var qt=l(St,2);{var Qt=we=>{var Ke=C_(),vt=O(Ke),_t=a(vt),De=a(_t),Ve=a(De,!0);t(De);var tt=l(De,2),ft=a(tt);u(()=>{e(y),Pa(()=>{r()})});var Qe=a(ft),Dt=a(Qe,!0);t(Qe),Qe.value=Qe.__value="";var Rt=l(Qe);Za(Rt,1,()=>Ne,dr,(Et,Ue)=>{var Mt=k_(),Gt=a(Mt,!0);t(Mt);var da={};u(()=>{s(Gt,e(Ue)),da!==(da=e(Ue))&&(Mt.value=(Mt.__value=e(Ue))??"")}),v(Et,Mt)}),t(ft),t(tt),t(_t);var Xt=l(_t,2);{var ct=Et=>{var Ue=O_(),Mt=a(Ue,!0);t(Ue),u(Gt=>s(Mt,Gt),[()=>(r(),i(()=>r().t("Warning: Jupyter execution enables arbitrary code execution, posing severe security risksproceed with extreme caution.")))]),v(Et,Ue)};g(Xt,Et=>{e(y),i(()=>e(y).CODE_INTERPRETER_ENGINE==="jupyter")&&Et(ct)})}t(vt);var aa=l(vt,2);{var ha=Et=>{var Ue=M_(),Mt=O(Ue),Gt=a(Mt),da=a(Gt,!0);t(Gt);var ka=l(Gt,2),ba=a(ka),Yt=a(ba);J(Yt),t(ba),t(ka),t(Mt);var Wt=l(Mt,2),yt=a(Wt),Zt=a(yt),Ht=a(Zt,!0);t(Zt);var Ze=l(Zt,2),Q=a(Ze);u(()=>{e(y),Pa(()=>{r()})});var at=a(Q),ut=a(at,!0);t(at),at.value=at.__value="";var xt=l(at),ie=a(xt,!0);t(xt),xt.value=xt.__value="token";var ce=l(xt),Ce=a(ce,!0);t(ce),ce.value=ce.__value="password",t(Q),t(Ze),t(yt);var Le=l(yt,2);{var Pe=de=>{var je=L_(),ke=a(je),Oe=a(ke);{var G=pe=>{{let oe=R(()=>(r(),i(()=>r().t("Enter Jupyter Password"))));sa(pe,{type:"text",get placeholder(){return e(oe)},autocomplete:"off",get value(){return e(y).CODE_INTERPRETER_JUPYTER_AUTH_PASSWORD},set value(ae){m(y,e(y).CODE_INTERPRETER_JUPYTER_AUTH_PASSWORD=ae)},$$legacy:!0})}},Z=pe=>{{let oe=R(()=>(r(),i(()=>r().t("Enter Jupyter Token"))));sa(pe,{type:"text",get placeholder(){return e(oe)},autocomplete:"off",get value(){return e(y).CODE_INTERPRETER_JUPYTER_AUTH_TOKEN},set value(ae){m(y,e(y).CODE_INTERPRETER_JUPYTER_AUTH_TOKEN=ae)},$$legacy:!0})}};g(Oe,pe=>{e(y),i(()=>e(y).CODE_INTERPRETER_JUPYTER_AUTH==="password")?pe(G):pe(Z,!1)})}t(ke),t(je),v(de,je)};g(Le,de=>{e(y),i(()=>e(y).CODE_INTERPRETER_JUPYTER_AUTH)&&de(Pe)})}t(Wt);var Me=l(Wt,2),Te=a(Me),He=a(Te,!0);t(Te);var P=l(Te,2),j=a(P);{let de=R(()=>(r(),i(()=>r().t("Enter timeout in seconds"))));lt(j,{get content(){return e(de)},children:(je,ke)=>{var Oe=P_();J(Oe),u(G=>T(Oe,"placeholder",G),[()=>(r(),i(()=>r().t("e.g. 60")))]),X(Oe,()=>e(y).CODE_INTERPRETER_JUPYTER_TIMEOUT,G=>m(y,e(y).CODE_INTERPRETER_JUPYTER_TIMEOUT=G)),v(je,Oe)},$$slots:{default:!0}})}t(P),t(Me),u((de,je,ke,Oe,G,Z,pe,oe)=>{s(da,de),T(Yt,"placeholder",je),s(Ht,ke),T(Q,"placeholder",Oe),s(ut,G),s(ie,Z),s(Ce,pe),s(He,oe)},[()=>(r(),i(()=>r().t("Jupyter URL"))),()=>(r(),i(()=>r().t("Enter Jupyter URL"))),()=>(r(),i(()=>r().t("Jupyter Auth"))),()=>(r(),i(()=>r().t("Select an auth method"))),()=>(r(),i(()=>r().t("None"))),()=>(r(),i(()=>r().t("Token"))),()=>(r(),i(()=>r().t("Password"))),()=>(r(),i(()=>r().t("Code Execution Timeout")))]),X(Yt,()=>e(y).CODE_INTERPRETER_JUPYTER_URL,de=>m(y,e(y).CODE_INTERPRETER_JUPYTER_URL=de)),or(Q,()=>e(y).CODE_INTERPRETER_JUPYTER_AUTH,de=>m(y,e(y).CODE_INTERPRETER_JUPYTER_AUTH=de)),v(Et,Ue)};g(aa,Et=>{e(y),i(()=>e(y).CODE_INTERPRETER_ENGINE==="jupyter")&&Et(ha)})}var Ya=l(aa,4),na=a(Ya),Kt=a(na),kt=a(Kt,!0);t(Kt);var va=l(Kt,2);{let Et=R(()=>(r(),i(()=>r().t("Leave empty to use the default prompt, or enter a custom prompt"))));lt(va,{get content(){return e(Et)},placement:"top-start",children:(Ue,Mt)=>{{let Gt=R(()=>(r(),i(()=>r().t("Leave empty to use the default prompt, or enter a custom prompt"))));Zr(Ue,{get placeholder(){return e(Gt)},get value(){return e(y).CODE_INTERPRETER_PROMPT_TEMPLATE},set value(da){m(y,e(y).CODE_INTERPRETER_PROMPT_TEMPLATE=da)},$$legacy:!0})}},$$slots:{default:!0}})}t(na),t(Ya),u((Et,Ue,Mt,Gt)=>{s(Ve,Et),T(ft,"placeholder",Ue),s(Dt,Mt),s(kt,Gt)},[()=>(r(),i(()=>r().t("Code Interpreter Engine"))),()=>(r(),i(()=>r().t("Select a engine"))),()=>(r(),i(()=>r().t("Select a engine"))),()=>(r(),i(()=>r().t("Code Interpreter Prompt Template")))]),or(ft,()=>e(y).CODE_INTERPRETER_ENGINE,Et=>m(y,e(y).CODE_INTERPRETER_ENGINE=Et)),v(we,Ke)};g(qt,we=>{e(y),i(()=>e(y).ENABLE_CODE_INTERPRETER)&&we(Qt)})}t(Fe),t(ee),u((we,Ke,vt,_t,De,Ve,tt)=>{s(Se,we),s(me,Ke),s(M,vt),T(ne,"placeholder",_t),s(N,De),s(Tt,Ve),s(ca,tt)},[()=>(r(),i(()=>r().t("General"))),()=>(r(),i(()=>r().t("Enable Code Execution"))),()=>(r(),i(()=>r().t("Code Execution Engine"))),()=>(r(),i(()=>r().t("Select a engine"))),()=>(r(),i(()=>r().t("Select a engine"))),()=>(r(),i(()=>r().t("Code Interpreter"))),()=>(r(),i(()=>r().t("Enable Code Interpreter")))]),or(ne,()=>e(y).CODE_EXECUTION_ENGINE,we=>m(y,e(y).CODE_EXECUTION_ENGINE=we)),v(D,ee)};g(A,D=>{e(y)&&D(C)})}t(S);var E=l(S,2),w=a(E),H=a(w,!0);t(w),t(E),t(d),u(D=>s(H,D),[()=>(r(),i(()=>r().t("Save")))]),We("submit",d,il(async()=>{await o(),Be()()})),v(wt,d),wr(),p()}var B_=_('<button class="px-1" type="button"><!></button>'),H_=_('<div><div class="mb-3"><div class=" mt-0.5 mb-2.5 text-base font-medium"> </div> <hr class=" border-gray-100/30 dark:border-gray-850/30 my-2"/> <div class="mb-2.5 flex flex-col w-full justify-between"><div class="flex justify-between items-center mb-0.5"><div class="font-medium"> </div> <!></div> <div class="flex flex-col gap-1"></div> <div class="my-1.5"><div class="text-xs text-gray-500"> </div></div></div></div></div>'),j_=_('<div class="flex h-full justify-center"><div class="my-auto"><!></div></div>'),K_=_('<!> <form class="flex flex-col h-full justify-between text-sm"><div class=" overflow-y-scroll scrollbar-hidden h-full"><!></div> <div class="flex justify-end pt-3 text-sm font-medium"><button class="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full" type="submit"> </button></div></form>',1);function Y_(wt,q){br(q,!1);const r=()=>la(Bt,"$i18n",f),[f,p]=Nr();cl();const Bt=Ar("i18n");oa(q,"saveSettings",8);let Be=k(null),y=k(!1);const Ne=async he=>{c(Be,[...e(Be),he]),await o()},o=async()=>{await Es(localStorage.token,{TOOL_SERVER_CONNECTIONS:e(Be)}).catch(Se=>(Ee.error(r().t("Failed to save connections")),null))&&Ee.success(r().t("Connections saved successfully"))};rl(async()=>{const he=await xs(localStorage.token);c(Be,he.TOOL_SERVER_CONNECTIONS)}),Rr();var d=K_(),S=O(d);Ks(S,{onSubmit:Ne,get show(){return e(y)},set show(he){c(y,he)},$$legacy:!0});var A=l(S,2),C=a(A),E=a(C);{var w=he=>{var Se=H_(),n=a(Se),te=a(n),B=a(te,!0);t(te);var me=l(te,4),V=a(me),ue=a(V),U=a(ue,!0);t(ue);var x=l(ue,2);{let N=R(()=>(r(),i(()=>r().t("Add Connection"))));lt(x,{get content(){return e(N)},children:(ge,qe)=>{var fe=B_(),$=a(fe);Ul($,{}),t(fe),We("click",fe,()=>{c(y,!0)}),v(ge,fe)},$$slots:{default:!0}})}t(V);var M=l(V,2);Za(M,5,()=>e(Be),dr,(N,ge,qe)=>{Ys(N,{onSubmit:()=>{o()},onDelete:()=>{c(Be,e(Be).filter((fe,$)=>$!==qe)),o()},get connection(){return e(Be)[qe]},set connection(fe){e(Be)[qe]=fe,Pa(()=>e(Be))},$$legacy:!0})}),t(M);var le=l(M,2),ne=a(le),ve=a(ne,!0);t(ne),t(le),t(me),t(n),t(Se),u((N,ge,qe)=>{s(B,N),s(U,ge),s(ve,qe)},[()=>(r(),i(()=>r().t("General"))),()=>(r(),i(()=>r().t("Manage Tool Servers"))),()=>(r(),i(()=>r().t("Connect to your own OpenAPI compatible external tool servers.")))]),v(he,Se)},H=he=>{var Se=j_(),n=a(Se),te=a(n);Qr(te,{className:"size-6"}),t(n),t(Se),v(he,Se)};g(E,he=>{e(Be)!==null?he(w):he(H,!1)})}t(C);var D=l(C,2),ee=a(D),Ae=a(ee,!0);t(ee),t(D),t(A),u(he=>s(Ae,he),[()=>(r(),i(()=>r().t("Save")))]),We("submit",A,il(()=>{o()})),v(wt,d),wr(),p()}var W_=Lr('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path fill-rule="evenodd" d="M5.625 1.5H9a3.75 3.75 0 0 1 3.75 3.75v1.875c0 1.036.84 1.875 1.875 1.875H16.5a3.75 3.75 0 0 1 3.75 3.75v7.875c0 1.035-.84 1.875-1.875 1.875H5.625a1.875 1.875 0 0 1-1.875-1.875V3.375c0-1.036.84-1.875 1.875-1.875ZM9.75 17.25a.75.75 0 0 0-1.5 0V18a.75.75 0 0 0 1.5 0v-.75Zm2.25-3a.75.75 0 0 1 .75.75v3a.75.75 0 0 1-1.5 0v-3a.75.75 0 0 1 .75-.75Zm3.75-1.5a.75.75 0 0 0-1.5 0V18a.75.75 0 0 0 1.5 0v-5.25Z" clip-rule="evenodd"></path><path d="M14.25 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 16.5 7.5h-1.875a.375.375 0 0 1-.375-.375V5.25Z"></path></svg>');function F_(wt,q){let r=oa(q,"className",8,"size-4");oa(q,"strokeWidth",8,"1.5");var f=W_();u(()=>qr(f,0,ii(r()))),v(wt,f)}var V_=Lr('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M6.955 1.45A.5.5 0 0 1 7.452 1h1.096a.5.5 0 0 1 .497.45l.17 1.699c.484.12.94.312 1.356.562l1.321-1.081a.5.5 0 0 1 .67.033l.774.775a.5.5 0 0 1 .034.67l-1.08 1.32c.25.417.44.873.561 1.357l1.699.17a.5.5 0 0 1 .45.497v1.096a.5.5 0 0 1-.45.497l-1.699.17c-.12.484-.312.94-.562 1.356l1.082 1.322a.5.5 0 0 1-.034.67l-.774.774a.5.5 0 0 1-.67.033l-1.322-1.08c-.416.25-.872.44-1.356.561l-.17 1.699a.5.5 0 0 1-.497.45H7.452a.5.5 0 0 1-.497-.45l-.17-1.699a4.973 4.973 0 0 1-1.356-.562L4.108 13.37a.5.5 0 0 1-.67-.033l-.774-.775a.5.5 0 0 1-.034-.67l1.08-1.32a4.971 4.971 0 0 1-.561-1.357l-1.699-.17A.5.5 0 0 1 1 8.548V7.452a.5.5 0 0 1 .45-.497l1.699-.17c.12-.484.312-.94.562-1.356L2.629 4.107a.5.5 0 0 1 .034-.67l.774-.774a.5.5 0 0 1 .67-.033L5.43 3.71a4.97 4.97 0 0 1 1.356-.561l.17-1.699ZM6 8c0 .538.212 1.026.558 1.385l.057.057a2 2 0 0 0 2.828-2.828l-.058-.056A2 2 0 0 0 6 8Z" clip-rule="evenodd"></path></svg>'),Z_=Lr('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M1 9.5A3.5 3.5 0 0 0 4.5 13H12a3 3 0 0 0 .917-5.857 2.503 2.503 0 0 0-3.198-3.019 3.5 3.5 0 0 0-6.628 2.171A3.5 3.5 0 0 0 1 9.5Z"></path></svg>'),z_=Lr('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M10 1c3.866 0 7 1.79 7 4s-3.134 4-7 4-7-1.79-7-4 3.134-4 7-4zm5.694 8.13c.464-.264.91-.583 1.306-.952V10c0 2.21-3.134 4-7 4s-7-1.79-7-4V8.178c.396.37.842.688 1.306.953C5.838 10.006 7.854 10.5 10 10.5s4.162-.494 5.694-1.37zM3 13.179V15c0 2.21 3.134 4 7 4s7-1.79 7-4v-1.822c-.396.37-.842.688-1.306.953-1.532.875-3.548 1.369-5.694 1.369s-4.162-.494-5.694-1.37A7.009 7.009 0 013 13.179z" clip-rule="evenodd"></path></svg>'),X_=Lr('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-4"><path fill-rule="evenodd" d="M12 6.75a5.25 5.25 0 0 1 6.775-5.025.75.75 0 0 1 .313 1.248l-3.32 3.319c.063.475.276.934.641 1.299.365.365.824.578 1.3.64l3.318-3.319a.75.75 0 0 1 1.248.313 5.25 5.25 0 0 1-5.472 6.756c-1.018-.086-1.87.1-2.309.634L7.344 21.3A3.298 3.298 0 1 1 2.7 16.657l8.684-7.151c.533-.44.72-1.291.634-2.309A5.342 5.342 0 0 1 12 6.75ZM4.117 19.125a.75.75 0 0 1 .75-.75h.008a.75.75 0 0 1 .75.75v.008a.75.75 0 0 1-.75.75h-.008a.75.75 0 0 1-.75-.75v-.008Z" clip-rule="evenodd"></path></svg>'),J_=Lr('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4"><path d="M11.625 16.5a1.875 1.875 0 1 0 0-3.75 1.875 1.875 0 0 0 0 3.75Z"></path><path fill-rule="evenodd" d="M5.625 1.5H9a3.75 3.75 0 0 1 3.75 3.75v1.875c0 1.036.84 1.875 1.875 1.875H16.5a3.75 3.75 0 0 1 3.75 3.75v7.875c0 1.035-.84 1.875-1.875 1.875H5.625a1.875 1.875 0 0 1-1.875-1.875V3.375c0-1.036.84-1.875 1.875-1.875Zm6 16.5c.66 0 1.277-.19 1.797-.518l1.048 1.048a.75.75 0 0 0 1.06-1.06l-1.047-1.048A3.375 3.375 0 1 0 11.625 18Z" clip-rule="evenodd"></path><path d="M14.25 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 16.5 7.5h-1.875a.375.375 0 0 1-.375-.375V5.25Z"></path></svg>'),q_=Lr('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4"><path d="M21.721 12.752a9.711 9.711 0 0 0-.945-5.003 12.754 12.754 0 0 1-4.339 2.708 18.991 18.991 0 0 1-.214 4.772 17.165 17.165 0 0 0 5.498-2.477ZM14.634 15.55a17.324 17.324 0 0 0 .332-4.647c-.952.227-1.945.347-2.966.347-1.021 0-2.014-.12-2.966-.347a17.515 17.515 0 0 0 .332 4.647 17.385 17.385 0 0 0 5.268 0ZM9.772 17.119a18.963 18.963 0 0 0 4.456 0A17.182 17.182 0 0 1 12 21.724a17.18 17.18 0 0 1-2.228-4.605ZM7.777 15.23a18.87 18.87 0 0 1-.214-4.774 12.753 12.753 0 0 1-4.34-2.708 9.711 9.711 0 0 0-.944 5.004 17.165 17.165 0 0 0 5.498 2.477ZM21.356 14.752a9.765 9.765 0 0 1-7.478 6.817 18.64 18.64 0 0 0 1.988-4.718 18.627 18.627 0 0 0 5.49-2.098ZM2.644 14.752c1.682.971 3.53 1.688 5.49 2.099a18.64 18.64 0 0 0 1.988 4.718 9.765 9.765 0 0 1-7.478-6.816ZM13.878 2.43a9.755 9.755 0 0 1 6.116 3.986 11.267 11.267 0 0 1-3.746 2.504 18.63 18.63 0 0 0-2.37-6.49ZM12 2.276a17.152 17.152 0 0 1 2.805 7.121c-.897.23-1.837.353-2.805.353-.968 0-1.908-.122-2.805-.353A17.151 17.151 0 0 1 12 2.276ZM10.122 2.43a18.629 18.629 0 0 0-2.37 6.49 11.266 11.266 0 0 1-3.746-2.504 9.754 9.754 0 0 1 6.116-3.985Z"></path></svg>'),Q_=Lr('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="size-4"><path fill-rule="evenodd" d="M2 4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4Zm2.22 1.97a.75.75 0 0 0 0 1.06l.97.97-.97.97a.75.75 0 1 0 1.06 1.06l1.5-1.5a.75.75 0 0 0 0-1.06l-1.5-1.5a.75.75 0 0 0-1.06 0ZM8.75 8.5a.75.75 0 0 0 0 1.5h2.5a.75.75 0 0 0 0-1.5h-2.5Z" clip-rule="evenodd"></path></svg>'),ef=Lr('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M2 4.25A2.25 2.25 0 0 1 4.25 2h7.5A2.25 2.25 0 0 1 14 4.25v5.5A2.25 2.25 0 0 1 11.75 12h-1.312c.1.128.21.248.328.36a.75.75 0 0 1 .234.545v.345a.75.75 0 0 1-.75.75h-4.5a.75.75 0 0 1-.75-.75v-.345a.75.75 0 0 1 .234-.545c.118-.111.228-.232.328-.36H4.25A2.25 2.25 0 0 1 2 9.75v-5.5Zm2.25-.75a.75.75 0 0 0-.75.75v4.5c0 .414.336.75.75.75h7.5a.75.75 0 0 0 .75-.75v-4.5a.75.75 0 0 0-.75-.75h-7.5Z" clip-rule="evenodd"></path></svg>'),tf=Lr('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M7.557 2.066A.75.75 0 0 1 8 2.75v10.5a.75.75 0 0 1-1.248.56L3.59 11H2a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h1.59l3.162-2.81a.75.75 0 0 1 .805-.124ZM12.95 3.05a.75.75 0 1 0-1.06 1.06 5.5 5.5 0 0 1 0 7.78.75.75 0 1 0 1.06 1.06 7 7 0 0 0 0-9.9Z"></path><path d="M10.828 5.172a.75.75 0 1 0-1.06 1.06 2.5 2.5 0 0 1 0 3.536.75.75 0 1 0 1.06 1.06 4 4 0 0 0 0-5.656Z"></path></svg>'),af=Lr('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M2 4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4Zm10.5 5.707a.5.5 0 0 0-.146-.353l-1-1a.5.5 0 0 0-.708 0L9.354 9.646a.5.5 0 0 1-.708 0L6.354 7.354a.5.5 0 0 0-.708 0l-2 2a.5.5 0 0 0-.146.353V12a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5V9.707ZM12 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z" clip-rule="evenodd"></path></svg>'),rf=Lr('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-4"><path d="M11.644 1.59a.75.75 0 0 1 .712 0l9.75 5.25a.75.75 0 0 1 0 1.32l-9.75 5.25a.75.75 0 0 1-.712 0l-9.75-5.25a.75.75 0 0 1 0-1.32l9.75-5.25Z"></path><path d="m3.265 10.602 7.668 4.129a2.25 2.25 0 0 0 2.134 0l7.668-4.13 1.37.739a.75.75 0 0 1 0 1.32l-9.75 5.25a.75.75 0 0 1-.71 0l-9.75-5.25a.75.75 0 0 1 0-1.32l1.37-.738Z"></path><path d="m10.933 19.231-7.668-4.13-1.37.739a.75.75 0 0 0 0 1.32l9.75 5.25c.221.12.489.12.71 0l9.75-5.25a.75.75 0 0 0 0-1.32l-1.37-.738-7.668 4.13a2.25 2.25 0 0 1-2.134-.001Z"></path></svg>'),lf=Lr('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8 7c3.314 0 6-1.343 6-3s-2.686-3-6-3-6 1.343-6 3 2.686 3 6 3Z"></path><path d="M8 8.5c1.84 0 3.579-.37 4.914-1.037A6.33 6.33 0 0 0 14 6.78V8c0 1.657-2.686 3-6 3S2 9.657 2 8V6.78c.346.273.72.5 1.087.683C4.42 8.131 6.16 8.5 8 8.5Z"></path><path d="M8 12.5c1.84 0 3.579-.37 4.914-1.037.366-.183.74-.41 1.086-.684V12c0 1.657-2.686 3-6 3s-6-1.343-6-3v-1.22c.346.273.72.5 1.087.683C4.42 12.131 6.16 12.5 8 12.5Z"></path></svg>'),sf=_('<button><div class=" self-center mr-2"><!></div> <div class=" self-center"> </div></button>'),vf=_('<div class="flex flex-col lg:flex-row w-full h-full pb-2 lg:space-x-4"><div id="admin-settings-tabs-container" class="tabs mx-[16px] lg:mx-0 lg:px-[16px] flex flex-row overflow-x-auto gap-2.5 max-w-full lg:gap-1 lg:flex-col lg:flex-none lg:w-50 dark:text-gray-200 text-sm font-medium text-left scrollbar-none"><div class="hidden md:flex w-full rounded-full px-2.5 gap-2 bg-gray-100/80 dark:bg-gray-850/80 backdrop-blur-2xl my-1 -mx-1 mt-1.5" id="settings-search"><div class="self-center rounded-l-xl bg-transparent"><!></div> <label class="sr-only" for="search-input-settings-modal"> </label> <input class="w-full py-1 text-sm bg-transparent dark:text-gray-300 outline-hidden" id="search-input-settings-modal"/></div>       <!></div> <div class="flex-1 mt-3 lg:mt-1 px-[16px] lg:pr-[16px] lg:pl-0 overflow-y-scroll scrollbar-hidden"><!></div></div>');function y1(wt,q){br(q,!1);const r=()=>la(bi,"$page",p),f=()=>la(Be,"$i18n",p),[p,Bt]=Nr(),Be=Ar("i18n");let y=k("general");const Ne=U=>{const x=document.getElementById(U);x&&x.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})};let o=k(""),d,S=k([]);const A=[{id:"general",title:"General",route:"/admin/settings/general",keywords:["general","admin","settings","version","update","language","theme","data","users","roles","ldap","authentication","reverse proxy","webhook","community","channels"]},{id:"connections",title:"Connections",route:"/admin/settings/connections",keywords:["connections","ollama","openai","api","base url","direct connections","proxy","key"]},{id:"models",title:"Models",route:"/admin/settings/models",keywords:["models","pull","delete","create","edit","modelfile","gguf","import","export"]},{id:"evaluations",title:"Evaluations",route:"/admin/settings/evaluations",keywords:["evaluations","feedback","rating","arena","leaderboard","preference"]},{id:"tools",title:"External Tools",route:"/admin/settings/tools",keywords:["tools","plugins","extensions","functions","openapi","server"]},{id:"documents",title:"Documents",route:"/admin/settings/documents",keywords:["documents","files","rag","knowledge","upload","embedding","vector db","chunk","overlap","splitter","pdf","ocr","tika","docling","unstructured"]},{id:"web",title:"Web Search",route:"/admin/settings/web",keywords:["web search","google","bing","duckduckgo","serp","searxng","moojeh","yacy","serper","serply","tavily","exa","perplexity","firecrawl"]},{id:"code-execution",title:"Code Execution",route:"/admin/settings/code-execution",keywords:["code execution","python","sandbox","compiler","jupyter","interpreter"]},{id:"interface",title:"Interface",route:"/admin/settings/interface",keywords:["interface","ui","appearance","banners","tasks","prompt suggestions","title generation","tags"]},{id:"audio",title:"Audio",route:"/admin/settings/audio",keywords:["audio","voice","speech","tts","stt","whisper","deepgram","azure","openai","elevenlabs"]},{id:"images",title:"Images",route:"/admin/settings/images",keywords:["images","generation","dalle","stable diffusion","comfyui","automatic1111","gemini"]},{id:"pipelines",title:"Pipelines",route:"/admin/settings/pipelines",keywords:["pipelines","workflows","filters","valves","middleware"]},{id:"db",title:"Database",route:"/admin/settings/db",keywords:["database","export","import","backup","chats","users"]}],C=()=>{c(S,A.filter(U=>{const x=e(o).toLowerCase().trim();return e(o)===""||U.title.toLowerCase().includes(x)||U.keywords.some(M=>M.includes(x))}))},E=()=>{d&&clearTimeout(d),d=setTimeout(()=>{C()},100)};rl(()=>{const U=document.getElementById("admin-settings-tabs-container");U&&U.addEventListener("wheel",function(x){x.deltaY!==0&&(U.scrollLeft+=x.deltaY)}),C(),Ne(e(y))}),ml(()=>r(),()=>{const U=r().url.pathname.split("/"),x=U[U.length-1];c(y,["general","connections","models","evaluations","tools","documents","web","code-execution","interface","audio","images","pipelines","db"].includes(x)?x:"general")}),ml(()=>e(y),()=>{e(y)&&Ne(e(y))}),Al(),Rr();var w=vf(),H=a(w),D=a(H),ee=a(D),Ae=a(ee);$i(Ae,{className:"size-3.5",strokeWidth:"1.5"}),t(ee);var he=l(ee,2),Se=a(he,!0);t(he);var n=l(he,2);J(n),t(D);var te=l(D,2);Za(te,1,()=>e(S),U=>U.id,(U,x)=>{var M=sf(),le=a(M),ne=a(le);{var ve=fe=>{var $=V_();v(fe,$)},N=fe=>{var $=et(),W=O($);{var Fe=Tt=>{var St=Z_();v(Tt,St)},gt=Tt=>{var St=et(),_a=O(St);{var Vt=ma=>{var qt=z_();v(ma,qt)},ca=ma=>{var qt=et(),Qt=O(qt);{var we=vt=>{F_(vt,{})},Ke=vt=>{var _t=et(),De=O(_t);{var Ve=ft=>{var Qe=X_();v(ft,Qe)},tt=ft=>{var Qe=et(),Dt=O(Qe);{var Rt=ct=>{var aa=J_();v(ct,aa)},Xt=ct=>{var aa=et(),ha=O(aa);{var Ya=Kt=>{var kt=q_();v(Kt,kt)},na=Kt=>{var kt=et(),va=O(kt);{var Et=Mt=>{var Gt=Q_();v(Mt,Gt)},Ue=Mt=>{var Gt=et(),da=O(Gt);{var ka=Yt=>{var Wt=ef();v(Yt,Wt)},ba=Yt=>{var Wt=et(),yt=O(Wt);{var Zt=Ze=>{var Q=tf();v(Ze,Q)},Ht=Ze=>{var Q=et(),at=O(Q);{var ut=ie=>{var ce=af();v(ie,ce)},xt=ie=>{var ce=et(),Ce=O(ce);{var Le=Me=>{var Te=rf();v(Me,Te)},Pe=Me=>{var Te=et(),He=O(Te);{var P=j=>{var de=lf();v(j,de)};g(He,j=>{e(x),i(()=>e(x).id==="db")&&j(P)},!0)}v(Me,Te)};g(Ce,Me=>{e(x),i(()=>e(x).id==="pipelines")?Me(Le):Me(Pe,!1)},!0)}v(ie,ce)};g(at,ie=>{e(x),i(()=>e(x).id==="images")?ie(ut):ie(xt,!1)},!0)}v(Ze,Q)};g(yt,Ze=>{e(x),i(()=>e(x).id==="audio")?Ze(Zt):Ze(Ht,!1)},!0)}v(Yt,Wt)};g(da,Yt=>{e(x),i(()=>e(x).id==="interface")?Yt(ka):Yt(ba,!1)},!0)}v(Mt,Gt)};g(va,Mt=>{e(x),i(()=>e(x).id==="code-execution")?Mt(Et):Mt(Ue,!1)},!0)}v(Kt,kt)};g(ha,Kt=>{e(x),i(()=>e(x).id==="web")?Kt(Ya):Kt(na,!1)},!0)}v(ct,aa)};g(Dt,ct=>{e(x),i(()=>e(x).id==="documents")?ct(Rt):ct(Xt,!1)},!0)}v(ft,Qe)};g(De,ft=>{e(x),i(()=>e(x).id==="tools")?ft(Ve):ft(tt,!1)},!0)}v(vt,_t)};g(Qt,vt=>{e(x),i(()=>e(x).id==="evaluations")?vt(we):vt(Ke,!1)},!0)}v(ma,qt)};g(_a,ma=>{e(x),i(()=>e(x).id==="models")?ma(Vt):ma(ca,!1)},!0)}v(Tt,St)};g(W,Tt=>{e(x),i(()=>e(x).id==="connections")?Tt(Fe):Tt(gt,!1)},!0)}v(fe,$)};g(ne,fe=>{e(x),i(()=>e(x).id==="general")?fe(ve):fe(N,!1)})}t(le);var ge=l(le,2),qe=a(ge,!0);t(ge),t(M),u(fe=>{T(M,"id",(e(x),i(()=>e(x).id))),qr(M,1,`px-0.5 py-1 min-w-fit rounded-lg flex-1 lg:flex-none flex text-right transition ${e(y),e(x),i(()=>e(y)===e(x).id?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")??""}`),s(qe,fe)},[()=>(f(),e(x),i(()=>f().t(e(x).title)))]),We("click",M,()=>{Ai(e(x).route)}),v(U,M)}),t(H);var B=l(H,2),me=a(B);{var V=U=>{Fv(U,{saveHandler:async()=>{Ee.success(f().t("Settings saved successfully!")),await Rl(),await Jr.set(await pl())}})},ue=U=>{var x=et(),M=O(x);{var le=ve=>{zc(ve,{$$events:{save:()=>{Ee.success(f().t("Settings saved successfully!"))}}})},ne=ve=>{var N=et(),ge=O(N);{var qe=$=>{$c($,{})},fe=$=>{var W=et(),Fe=O(W);{var gt=St=>{I_(St,{})},Tt=St=>{var _a=et(),Vt=O(_a);{var ca=qt=>{Y_(qt,{})},ma=qt=>{var Qt=et(),we=O(Qt);{var Ke=_t=>{Mu(_t,{$$events:{save:async()=>{Ee.success(f().t("Settings saved successfully!")),await Rl(),await Jr.set(await pl())}}})},vt=_t=>{var De=et(),Ve=O(De);{var tt=Qe=>{x_(Qe,{saveHandler:async()=>{Ee.success(f().t("Settings saved successfully!")),await Rl(),await Jr.set(await pl())}})},ft=Qe=>{var Dt=et(),Rt=O(Dt);{var Xt=aa=>{G_(aa,{saveHandler:async()=>{Ee.success(f().t("Settings saved successfully!")),await Rl(),await Jr.set(await pl())}})},ct=aa=>{var ha=et(),Ya=O(ha);{var na=kt=>{Ko(kt,{$$events:{save:()=>{Ee.success(f().t("Settings saved successfully!"))}}})},Kt=kt=>{var va=et(),Et=O(va);{var Ue=Gt=>{Kd(Gt,{saveHandler:()=>{Ee.success(f().t("Settings saved successfully!"))}})},Mt=Gt=>{var da=et(),ka=O(da);{var ba=Wt=>{wo(Wt,{$$events:{save:()=>{Ee.success(f().t("Settings saved successfully!"))}}})},Yt=Wt=>{var yt=et(),Zt=O(yt);{var Ht=Q=>{wv(Q,{saveHandler:()=>{Ee.success(f().t("Settings saved successfully!"))}})},Ze=Q=>{var at=et(),ut=O(at);{var xt=ie=>{xd(ie,{saveHandler:()=>{Ee.success(f().t("Settings saved successfully!"))}})};g(ut,ie=>{e(y)==="pipelines"&&ie(xt)},!0)}v(Q,at)};g(Zt,Q=>{e(y)==="db"?Q(Ht):Q(Ze,!1)},!0)}v(Wt,yt)};g(ka,Wt=>{e(y)==="images"?Wt(ba):Wt(Yt,!1)},!0)}v(Gt,da)};g(Et,Gt=>{e(y)==="audio"?Gt(Ue):Gt(Mt,!1)},!0)}v(kt,va)};g(Ya,kt=>{e(y)==="interface"?kt(na):kt(Kt,!1)},!0)}v(aa,ha)};g(Rt,aa=>{e(y)==="code-execution"?aa(Xt):aa(ct,!1)},!0)}v(Qe,Dt)};g(Ve,Qe=>{e(y)==="web"?Qe(tt):Qe(ft,!1)},!0)}v(_t,De)};g(we,_t=>{e(y)==="documents"?_t(Ke):_t(vt,!1)},!0)}v(qt,Qt)};g(Vt,qt=>{e(y)==="tools"?qt(ca):qt(ma,!1)},!0)}v(St,_a)};g(Fe,St=>{e(y)==="evaluations"?St(gt):St(Tt,!1)},!0)}v($,W)};g(ge,$=>{e(y)==="models"?$(qe):$(fe,!1)},!0)}v(ve,N)};g(M,ve=>{e(y)==="connections"?ve(le):ve(ne,!1)},!0)}v(U,x)};g(me,U=>{e(y)==="general"?U(V):U(ue,!1)})}t(B),t(w),u((U,x)=>{s(Se,U),T(n,"placeholder",x)},[()=>(f(),i(()=>f().t("Search"))),()=>(f(),i(()=>f().t("Search")))]),X(n,()=>e(o),U=>c(o,U)),We("input",n,E),v(wt,w),wr(),Bt()}export{y1 as S};
//# sourceMappingURL=CcLLrItO.js.map
