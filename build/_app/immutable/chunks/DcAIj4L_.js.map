{"version":3,"file":"DcAIj4L_.js","sources":["../../../../../../src/lib/components/common/Drawer.svelte"],"sourcesContent":["<script lang=\"ts\">\n\timport { onDestroy, onMount } from 'svelte';\n\timport { flyAndScale } from '$lib/utils/transitions';\n\timport { fade, fly, slide } from 'svelte/transition';\n\n\texport let show = false;\n\texport let className = '';\n\texport let onClose = () => {};\n\n\tlet modalElement = null;\n\tlet mounted = false;\n\n\tconst handleKeyDown = (event: KeyboardEvent) => {\n\t\tif (event.key === 'Escape' && isTopModal()) {\n\t\t\tconsole.log('Escape');\n\t\t\tshow = false;\n\t\t}\n\t};\n\n\tconst isTopModal = () => {\n\t\tconst modals = document.getElementsByClassName('modal');\n\t\treturn modals.length && modals[modals.length - 1] === modalElement;\n\t};\n\n\tonMount(() => {\n\t\tmounted = true;\n\t});\n\n\t$: if (show && modalElement) {\n\t\tdocument.body.appendChild(modalElement);\n\t\twindow.addEventListener('keydown', handleKeyDown);\n\t\tdocument.body.style.overflow = 'hidden';\n\t} else if (modalElement) {\n\t\tonClose();\n\t\twindow.removeEventListener('keydown', handleKeyDown);\n\n\t\tif (document.body.contains(modalElement)) {\n\t\t\tdocument.body.removeChild(modalElement);\n\t\t\tdocument.body.style.overflow = 'unset';\n\t\t}\n\t}\n\n\tonDestroy(() => {\n\t\tshow = false;\n\t\tif (modalElement) {\n\t\t\tif (document.body.contains(modalElement)) {\n\t\t\t\tdocument.body.removeChild(modalElement);\n\t\t\t\tdocument.body.style.overflow = 'unset';\n\t\t\t}\n\t\t}\n\t});\n</script>\n\n<!-- svelte-ignore a11y-click-events-have-key-events -->\n<!-- svelte-ignore a11y-no-static-element-interactions -->\n{#if show}\n\t<div\n\t\tbind:this={modalElement}\n\t\tclass=\"modal fixed right-0 bottom-0 left-0 z-999 flex h-screen max-h-[100dvh] w-full justify-center overflow-hidden overscroll-contain bg-black/60\"\n\t\tin:fly={{ y: 100, duration: 100 }}\n\t\ton:mousedown={() => {\n\t\t\tshow = false;\n\t\t}}\n\t>\n\t\t<div\n\t\t\tclass=\" mt-auto w-full bg-gray-50 dark:bg-gray-900 dark:text-gray-100 {className} scrollbar-hidden max-h-[100dvh] overflow-y-auto\"\n\t\t\ton:mousedown={(e) => {\n\t\t\t\te.stopPropagation();\n\t\t\t}}\n\t\t>\n\t\t\t<slot />\n\t\t</div>\n\t</div>\n{/if}\n\n<style>\n\t.modal-content {\n\t\tanimation: scaleUp 0.1s ease-out forwards;\n\t}\n\n\t@keyframes scaleUp {\n\t\tfrom {\n\t\t\ttransform: scale(0.985);\n\t\t\topacity: 0;\n\t\t}\n\t\tto {\n\t\t\ttransform: scale(1);\n\t\t\topacity: 1;\n\t\t}\n\t}\n</style>\n"],"names":["show","className","onClose","$.prop","$$props","modalElement","handleKeyDown","event","isTopModal","modals","$.get","onMount","onDestroy","div","root_1","div_1","$.child","node_1","$.reset","$$value","$.set","$.template_effect","$.set_class","$.event","e","$.transition","fly","$.append","$$anchor","$$render","consequent"],"mappings":"+pBAAA,SAKY,IAAAA,gBAAO,EAAK,EACZC,oBAAY,EAAE,EACdC,EAAOC,EAAAC,EAAA,UAAA,EAAA,IAAS,CAAC,CAAC,EAEzBC,IAAe,IAAI,QAGjBC,EAAiBC,GAAyB,CAC3CA,EAAM,MAAQ,UAAYC,EAAU,GAEvCR,EAAO,EAAK,CAEd,EAEMQ,EAAU,IAAS,CAClB,MAAAC,EAAS,SAAS,uBAAuB,OAAO,SAC/CA,EAAO,QAAUA,EAAOA,EAAO,OAAS,CAAC,IAAAC,EAAML,CAAY,CACnE,EAEAM,EAAO,IAAO,CAEd,CAAC,EAgBDC,EAAS,IAAO,CACfZ,EAAO,EAAK,EACRU,EAAAL,CAAY,GACX,SAAS,KAAK,SAAQK,EAACL,CAAY,CAAA,IACtC,SAAS,KAAK,cAAYA,CAAY,CAAA,EACtC,SAAS,KAAK,MAAM,SAAW,QAGlC,CAAC,kCAtBML,EAAI,GAAAU,EAAIL,CAAY,GAC1B,SAAS,KAAK,cAAYA,CAAY,CAAA,EACtC,OAAO,iBAAiB,UAAWC,CAAa,EAChD,SAAS,KAAK,MAAM,SAAW,UAC/BI,EAAUL,CAAY,IACtBH,IAAO,EACP,OAAO,oBAAoB,UAAWI,CAAa,EAE/C,SAAS,KAAK,SAAQI,EAACL,CAAY,CAAA,IACtC,SAAS,KAAK,cAAYA,CAAY,CAAA,EACtC,SAAS,KAAK,MAAM,SAAW,gDAkBhC,IAAAQ,EAAAC,EAAA,EAQCC,EAAAC,EARDH,CAAA,EAQCI,EAAAD,EAAAD,CAAA,2BAAAG,EAAAH,CAAA,EARDG,EAAAL,CAAA,IAAAA,EAAAM,GAAAC,EACWf,WAAAA,CAAY,CAAA,EAOtBgB,EAAA,IAAAC,EAAAP,EAAA,EAAA,kEACuEd,EAAS,GAAA,EAAA,mDAAA,gBAAA,CAAA,EADhFsB,EAAA,YAAAR,EAEeS,GAAM,CACpBA,EAAE,gBAAe,CAClB,CAAC,EAZFC,EAAA,EAAAZ,EAAA,IAAAa,EAAA,KAAA,CAGU,EAAG,IAAK,SAAU,GAAG,EAAA,gBAH/Bb,EAAA,IAIoB,CACnBb,EAAO,EAAK,CACb,CAAC,EAND2B,EAAAC,EAAAf,CAAA,WADGb,EAAI,GAAA6B,EAAAC,CAAA,cAJD"}