const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./mpMRpaq8.js","./BC4znSyB.js","./D4Nyc0xt.js","./BTaIz8BB.js","./C1FmrZbK.js","./B9ZVCkUG.js","./CxNpLfvs.js","./4JkFaImo.js","./CoyIkiqO.js","./TFQifyN8.js","./39BZt47D.js","./Dmth1JHB.js","./CzDG__Ur.js","./Di3Ls8bK.js","./OtVwhkKS.js","./C-V_EQOO.js","./D9kC5om8.js","./Cc3OSVma.js","./Cz2FTiIg.js","./Bi7T_FA4.js","./BhfFSfFU.js"])))=>i.map(i=>d[i]);
var Ke=Object.defineProperty;var we=r=>{throw TypeError(r)};var Je=(r,e,n)=>e in r?Ke(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n;var A=(r,e,n)=>Je(r,typeof e!="symbol"?e+"":e,n),Qe=(r,e,n)=>e.has(r)||we("Cannot "+n);var ye=(r,e,n)=>e.has(r)?we("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,n);var te=(r,e,n)=>(Qe(r,e,"access private method"),n);import{_ as J}from"./C1FmrZbK.js";import{a as Ge,c as ue,g as xe,d as X,r as Xe}from"./BC4znSyB.js";import{b as De}from"./DLhnqOlE.js";let ne;const et=new Uint8Array(16);function tt(){if(!ne&&(ne=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ne))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ne(et)}const C=[];for(let r=0;r<256;++r)C.push((r+256).toString(16).slice(1));function nt(r,e=0){return C[r[e+0]]+C[r[e+1]]+C[r[e+2]]+C[r[e+3]]+"-"+C[r[e+4]]+C[r[e+5]]+"-"+C[r[e+6]]+C[r[e+7]]+"-"+C[r[e+8]]+C[r[e+9]]+"-"+C[r[e+10]]+C[r[e+11]]+C[r[e+12]]+C[r[e+13]]+C[r[e+14]]+C[r[e+15]]}const rt=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),_e={randomUUID:rt};function ze(r,e,n){if(_e.randomUUID&&!r)return _e.randomUUID();r=r||{};const t=r.random||(r.rng||tt)();return t[6]=t[6]&15|64,t[8]=t[8]&63|128,nt(t)}var st={exports:{}};const it={},at=Object.freeze(Object.defineProperty({__proto__:null,default:it},Symbol.toStringTag,{value:"Module"})),Fe=Ge(at);/**
 * [js-sha256]{@link https://github.com/emn178/js-sha256}
 *
 * @version 0.10.1
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2023
 * @license MIT
 */(function(r){(function(){var e="input is invalid type",n=typeof window=="object",t=n?window:{};t.JS_SHA256_NO_WINDOW&&(n=!1);var s=!n&&typeof self=="object",i=!t.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;i?t=ue:s&&(t=self);var a=!t.JS_SHA256_NO_COMMON_JS&&!0&&r.exports,l=!t.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",o="0123456789abcdef".split(""),u=[-2147483648,8388608,32768,128],h=[24,16,8,0],k=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],x=["hex","array","digest","arrayBuffer"],b=[];(t.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(c){return Object.prototype.toString.call(c)==="[object Array]"}),l&&(t.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(c){return typeof c=="object"&&c.buffer&&c.buffer.constructor===ArrayBuffer});var z=function(c,m){return function(y){return new E(m,!0).update(y)[c]()}},R=function(c){var m=z("hex",c);i&&(m=D(m,c)),m.create=function(){return new E(c)},m.update=function(_){return m.create().update(_)};for(var y=0;y<x.length;++y){var d=x[y];m[d]=z(d,c)}return m},D=function(c,m){var y=Fe,d=Fe.Buffer,_=m?"sha224":"sha256",f;d.from&&!t.JS_SHA256_NO_BUFFER_FROM?f=d.from:f=function(p){return new d(p)};var F=function(p){if(typeof p=="string")return y.createHash(_).update(p,"utf8").digest("hex");if(p==null)throw new Error(e);return p.constructor===ArrayBuffer&&(p=new Uint8Array(p)),Array.isArray(p)||ArrayBuffer.isView(p)||p.constructor===d?y.createHash(_).update(f(p)).digest("hex"):c(p)};return F},O=function(c,m){return function(y,d){return new H(y,m,!0).update(d)[c]()}},Z=function(c){var m=O("hex",c);m.create=function(_){return new H(_,c)},m.update=function(_,f){return m.create(_).update(f)};for(var y=0;y<x.length;++y){var d=x[y];m[d]=O(d,c)}return m};function E(c,m){m?(b[0]=b[16]=b[1]=b[2]=b[3]=b[4]=b[5]=b[6]=b[7]=b[8]=b[9]=b[10]=b[11]=b[12]=b[13]=b[14]=b[15]=0,this.blocks=b):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],c?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=c}E.prototype.update=function(c){if(!this.finalized){var m,y=typeof c;if(y!=="string"){if(y==="object"){if(c===null)throw new Error(e);if(l&&c.constructor===ArrayBuffer)c=new Uint8Array(c);else if(!Array.isArray(c)&&(!l||!ArrayBuffer.isView(c)))throw new Error(e)}else throw new Error(e);m=!0}for(var d,_=0,f,F=c.length,p=this.blocks;_<F;){if(this.hashed&&(this.hashed=!1,p[0]=this.block,p[16]=p[1]=p[2]=p[3]=p[4]=p[5]=p[6]=p[7]=p[8]=p[9]=p[10]=p[11]=p[12]=p[13]=p[14]=p[15]=0),m)for(f=this.start;_<F&&f<64;++_)p[f>>2]|=c[_]<<h[f++&3];else for(f=this.start;_<F&&f<64;++_)d=c.charCodeAt(_),d<128?p[f>>2]|=d<<h[f++&3]:d<2048?(p[f>>2]|=(192|d>>6)<<h[f++&3],p[f>>2]|=(128|d&63)<<h[f++&3]):d<55296||d>=57344?(p[f>>2]|=(224|d>>12)<<h[f++&3],p[f>>2]|=(128|d>>6&63)<<h[f++&3],p[f>>2]|=(128|d&63)<<h[f++&3]):(d=65536+((d&1023)<<10|c.charCodeAt(++_)&1023),p[f>>2]|=(240|d>>18)<<h[f++&3],p[f>>2]|=(128|d>>12&63)<<h[f++&3],p[f>>2]|=(128|d>>6&63)<<h[f++&3],p[f>>2]|=(128|d&63)<<h[f++&3]);this.lastByteIndex=f,this.bytes+=f-this.start,f>=64?(this.block=p[16],this.start=f-64,this.hash(),this.hashed=!0):this.start=f}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},E.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var c=this.blocks,m=this.lastByteIndex;c[16]=this.block,c[m>>2]|=u[m&3],this.block=c[16],m>=56&&(this.hashed||this.hash(),c[0]=this.block,c[16]=c[1]=c[2]=c[3]=c[4]=c[5]=c[6]=c[7]=c[8]=c[9]=c[10]=c[11]=c[12]=c[13]=c[14]=c[15]=0),c[14]=this.hBytes<<3|this.bytes>>>29,c[15]=this.bytes<<3,this.hash()}},E.prototype.hash=function(){var c=this.h0,m=this.h1,y=this.h2,d=this.h3,_=this.h4,f=this.h5,F=this.h6,p=this.h7,$=this.blocks,I,M,L,N,S,Y,q,Q,he,pe,ee;for(I=16;I<64;++I)S=$[I-15],M=(S>>>7|S<<25)^(S>>>18|S<<14)^S>>>3,S=$[I-2],L=(S>>>17|S<<15)^(S>>>19|S<<13)^S>>>10,$[I]=$[I-16]+M+$[I-7]+L<<0;for(ee=m&y,I=0;I<64;I+=4)this.first?(this.is224?(Q=300032,S=$[0]-1413257819,p=S-150054599<<0,d=S+24177077<<0):(Q=704751109,S=$[0]-210244248,p=S-1521486534<<0,d=S+143694565<<0),this.first=!1):(M=(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),L=(_>>>6|_<<26)^(_>>>11|_<<21)^(_>>>25|_<<7),Q=c&m,N=Q^c&y^ee,q=_&f^~_&F,S=p+L+q+k[I]+$[I],Y=M+N,p=d+S<<0,d=S+Y<<0),M=(d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),L=(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7),he=d&c,N=he^d&m^Q,q=p&_^~p&f,S=F+L+q+k[I+1]+$[I+1],Y=M+N,F=y+S<<0,y=S+Y<<0,M=(y>>>2|y<<30)^(y>>>13|y<<19)^(y>>>22|y<<10),L=(F>>>6|F<<26)^(F>>>11|F<<21)^(F>>>25|F<<7),pe=y&d,N=pe^y&c^he,q=F&p^~F&_,S=f+L+q+k[I+2]+$[I+2],Y=M+N,f=m+S<<0,m=S+Y<<0,M=(m>>>2|m<<30)^(m>>>13|m<<19)^(m>>>22|m<<10),L=(f>>>6|f<<26)^(f>>>11|f<<21)^(f>>>25|f<<7),ee=m&y,N=ee^m&d^pe,q=f&F^~f&p,S=_+L+q+k[I+3]+$[I+3],Y=M+N,_=c+S<<0,c=S+Y<<0,this.chromeBugWorkAround=!0;this.h0=this.h0+c<<0,this.h1=this.h1+m<<0,this.h2=this.h2+y<<0,this.h3=this.h3+d<<0,this.h4=this.h4+_<<0,this.h5=this.h5+f<<0,this.h6=this.h6+F<<0,this.h7=this.h7+p<<0},E.prototype.hex=function(){this.finalize();var c=this.h0,m=this.h1,y=this.h2,d=this.h3,_=this.h4,f=this.h5,F=this.h6,p=this.h7,$=o[c>>28&15]+o[c>>24&15]+o[c>>20&15]+o[c>>16&15]+o[c>>12&15]+o[c>>8&15]+o[c>>4&15]+o[c&15]+o[m>>28&15]+o[m>>24&15]+o[m>>20&15]+o[m>>16&15]+o[m>>12&15]+o[m>>8&15]+o[m>>4&15]+o[m&15]+o[y>>28&15]+o[y>>24&15]+o[y>>20&15]+o[y>>16&15]+o[y>>12&15]+o[y>>8&15]+o[y>>4&15]+o[y&15]+o[d>>28&15]+o[d>>24&15]+o[d>>20&15]+o[d>>16&15]+o[d>>12&15]+o[d>>8&15]+o[d>>4&15]+o[d&15]+o[_>>28&15]+o[_>>24&15]+o[_>>20&15]+o[_>>16&15]+o[_>>12&15]+o[_>>8&15]+o[_>>4&15]+o[_&15]+o[f>>28&15]+o[f>>24&15]+o[f>>20&15]+o[f>>16&15]+o[f>>12&15]+o[f>>8&15]+o[f>>4&15]+o[f&15]+o[F>>28&15]+o[F>>24&15]+o[F>>20&15]+o[F>>16&15]+o[F>>12&15]+o[F>>8&15]+o[F>>4&15]+o[F&15];return this.is224||($+=o[p>>28&15]+o[p>>24&15]+o[p>>20&15]+o[p>>16&15]+o[p>>12&15]+o[p>>8&15]+o[p>>4&15]+o[p&15]),$},E.prototype.toString=E.prototype.hex,E.prototype.digest=function(){this.finalize();var c=this.h0,m=this.h1,y=this.h2,d=this.h3,_=this.h4,f=this.h5,F=this.h6,p=this.h7,$=[c>>24&255,c>>16&255,c>>8&255,c&255,m>>24&255,m>>16&255,m>>8&255,m&255,y>>24&255,y>>16&255,y>>8&255,y&255,d>>24&255,d>>16&255,d>>8&255,d&255,_>>24&255,_>>16&255,_>>8&255,_&255,f>>24&255,f>>16&255,f>>8&255,f&255,F>>24&255,F>>16&255,F>>8&255,F&255];return this.is224||$.push(p>>24&255,p>>16&255,p>>8&255,p&255),$},E.prototype.array=E.prototype.digest,E.prototype.arrayBuffer=function(){this.finalize();var c=new ArrayBuffer(this.is224?28:32),m=new DataView(c);return m.setUint32(0,this.h0),m.setUint32(4,this.h1),m.setUint32(8,this.h2),m.setUint32(12,this.h3),m.setUint32(16,this.h4),m.setUint32(20,this.h5),m.setUint32(24,this.h6),this.is224||m.setUint32(28,this.h7),c};function H(c,m,y){var d,_=typeof c;if(_==="string"){var f=[],F=c.length,p=0,$;for(d=0;d<F;++d)$=c.charCodeAt(d),$<128?f[p++]=$:$<2048?(f[p++]=192|$>>6,f[p++]=128|$&63):$<55296||$>=57344?(f[p++]=224|$>>12,f[p++]=128|$>>6&63,f[p++]=128|$&63):($=65536+(($&1023)<<10|c.charCodeAt(++d)&1023),f[p++]=240|$>>18,f[p++]=128|$>>12&63,f[p++]=128|$>>6&63,f[p++]=128|$&63);c=f}else if(_==="object"){if(c===null)throw new Error(e);if(l&&c.constructor===ArrayBuffer)c=new Uint8Array(c);else if(!Array.isArray(c)&&(!l||!ArrayBuffer.isView(c)))throw new Error(e)}else throw new Error(e);c.length>64&&(c=new E(m,!0).update(c).array());var I=[],M=[];for(d=0;d<64;++d){var L=c[d]||0;I[d]=92^L,M[d]=54^L}E.call(this,m,y),this.update(M),this.oKeyPad=I,this.inner=!0,this.sharedMemory=y}H.prototype=new E,H.prototype.finalize=function(){if(E.prototype.finalize.call(this),this.inner){this.inner=!1;var c=this.array();E.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(c),E.prototype.finalize.call(this)}};var j=R();j.sha256=j,j.sha224=R(!0),j.sha256.hmac=Z(),j.sha224.hmac=Z(!0),a?r.exports=j:(t.sha256=j.sha256,t.sha224=j.sha224)})()})(st);var Ce={exports:{}};(function(r,e){(function(n,t){r.exports=t()})(ue,function(){return function(n,t,s){t.prototype.isToday=function(){var i="YYYY-MM-DD",a=s();return this.format(i)===a.format(i)}}})})(Ce);var ot=Ce.exports;const lt=xe(ot);var Me={exports:{}};(function(r,e){(function(n,t){r.exports=t()})(ue,function(){return function(n,t,s){t.prototype.isYesterday=function(){var i="YYYY-MM-DD",a=s().subtract(1,"day");return this.format(i)===a.format(i)}}})})(Me);var ct=Me.exports;const ut=xe(ct);var Le={exports:{}};(function(r,e){(function(n,t){r.exports=t()})(ue,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(t,s,i){var a=s.prototype,l=a.format;i.en.formats=n,a.format=function(o){o===void 0&&(o="YYYY-MM-DDTHH:mm:ssZ");var u=this.$locale().formats,h=function(k,x){return k.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(b,z,R){var D=R&&R.toUpperCase();return z||x[R]||n[R]||x[D].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(O,Z,E){return Z||E.slice(1)})})}(o,u===void 0?{}:u);return l.call(this,h)}}})})(Le);var ht=Le.exports;const pt=xe(ht);var ie=(r=>(r.PUNCTUATION="punctuation",r.PARAGRAPHS="paragraphs",r.NONE="none",r))(ie||{});const ft=""+new URL("../assets/pdf.worker.DjmdXq8j.mjs",import.meta.url).href;function me(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let K=me();function Be(r){K=r}const Oe=/[&<>"']/,dt=new RegExp(Oe.source,"g"),je=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,gt=new RegExp(je.source,"g"),xt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},$e=r=>xt[r];function B(r,e){if(e){if(Oe.test(r))return r.replace(dt,$e)}else if(je.test(r))return r.replace(gt,$e);return r}const mt=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function kt(r){return r.replace(mt,(e,n)=>(n=n.toLowerCase(),n==="colon"?":":n.charAt(0)==="#"?n.charAt(1)==="x"?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1)):""))}const bt=/(^|[^\[])\^/g;function v(r,e){r=typeof r=="string"?r:r.source,e=e||"";const n={replace:(t,s)=>(s=typeof s=="object"&&"source"in s?s.source:s,s=s.replace(bt,"$1"),r=r.replace(t,s),n),getRegex:()=>new RegExp(r,e)};return n}function Te(r){try{r=encodeURI(r).replace(/%25/g,"%")}catch{return null}return r}const oe={exec:()=>null};function Se(r,e){const n=r.replace(/\|/g,(i,a,l)=>{let o=!1,u=a;for(;--u>=0&&l[u]==="\\";)o=!o;return o?"|":" |"}),t=n.split(/ \|/);let s=0;if(t[0].trim()||t.shift(),t.length>0&&!t[t.length-1].trim()&&t.pop(),e)if(t.length>e)t.splice(e);else for(;t.length<e;)t.push("");for(;s<t.length;s++)t[s]=t[s].trim().replace(/\\\|/g,"|");return t}function re(r,e,n){const t=r.length;if(t===0)return"";let s=0;for(;s<t&&r.charAt(t-s-1)===e;)s++;return r.slice(0,t-s)}function wt(r,e){if(r.indexOf(e[1])===-1)return-1;let n=0;for(let t=0;t<r.length;t++)if(r[t]==="\\")t++;else if(r[t]===e[0])n++;else if(r[t]===e[1]&&(n--,n<0))return t;return-1}function ve(r,e,n,t){const s=e.href,i=e.title?B(e.title):null,a=r[1].replace(/\\([\[\]])/g,"$1");if(r[0].charAt(0)!=="!"){t.state.inLink=!0;const l={type:"link",raw:n,href:s,title:i,text:a,tokens:t.inlineTokens(a)};return t.state.inLink=!1,l}return{type:"image",raw:n,href:s,title:i,text:B(a)}}function yt(r,e){const n=r.match(/^(\s+)(?:```)/);if(n===null)return e;const t=n[1];return e.split(`
`).map(s=>{const i=s.match(/^\s+/);if(i===null)return s;const[a]=i;return a.length>=t.length?s.slice(t.length):s}).join(`
`)}class le{constructor(e){A(this,"options");A(this,"rules");A(this,"lexer");this.options=e||K}space(e){const n=this.rules.block.newline.exec(e);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(e){const n=this.rules.block.code.exec(e);if(n){const t=n[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?t:re(t,`
`)}}}fences(e){const n=this.rules.block.fences.exec(e);if(n){const t=n[0],s=yt(t,n[3]||"");return{type:"code",raw:t,lang:n[2]?n[2].trim().replace(this.rules.inline._escapes,"$1"):n[2],text:s}}}heading(e){const n=this.rules.block.heading.exec(e);if(n){let t=n[2].trim();if(/#$/.test(t)){const s=re(t,"#");(this.options.pedantic||!s||/ $/.test(s))&&(t=s.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:t,tokens:this.lexer.inline(t)}}}hr(e){const n=this.rules.block.hr.exec(e);if(n)return{type:"hr",raw:n[0]}}blockquote(e){const n=this.rules.block.blockquote.exec(e);if(n){const t=re(n[0].replace(/^ *>[ \t]?/gm,""),`
`),s=this.lexer.state.top;this.lexer.state.top=!0;const i=this.lexer.blockTokens(t);return this.lexer.state.top=s,{type:"blockquote",raw:n[0],tokens:i,text:t}}}list(e){let n=this.rules.block.list.exec(e);if(n){let t=n[1].trim();const s=t.length>1,i={type:"list",raw:"",ordered:s,start:s?+t.slice(0,-1):"",loose:!1,items:[]};t=s?`\\d{1,9}\\${t.slice(-1)}`:`\\${t}`,this.options.pedantic&&(t=s?t:"[*+-]");const a=new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`);let l="",o="",u=!1;for(;e;){let h=!1;if(!(n=a.exec(e))||this.rules.block.hr.test(e))break;l=n[0],e=e.substring(l.length);let k=n[2].split(`
`,1)[0].replace(/^\t+/,O=>" ".repeat(3*O.length)),x=e.split(`
`,1)[0],b=0;this.options.pedantic?(b=2,o=k.trimStart()):(b=n[2].search(/[^ ]/),b=b>4?1:b,o=k.slice(b),b+=n[1].length);let z=!1;if(!k&&/^ *$/.test(x)&&(l+=x+`
`,e=e.substring(x.length+1),h=!0),!h){const O=new RegExp(`^ {0,${Math.min(3,b-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),Z=new RegExp(`^ {0,${Math.min(3,b-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),E=new RegExp(`^ {0,${Math.min(3,b-1)}}(?:\`\`\`|~~~)`),H=new RegExp(`^ {0,${Math.min(3,b-1)}}#`);for(;e;){const j=e.split(`
`,1)[0];if(x=j,this.options.pedantic&&(x=x.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),E.test(x)||H.test(x)||O.test(x)||Z.test(e))break;if(x.search(/[^ ]/)>=b||!x.trim())o+=`
`+x.slice(b);else{if(z||k.search(/[^ ]/)>=4||E.test(k)||H.test(k)||Z.test(k))break;o+=`
`+x}!z&&!x.trim()&&(z=!0),l+=j+`
`,e=e.substring(j.length+1),k=x.slice(b)}}i.loose||(u?i.loose=!0:/\n *\n *$/.test(l)&&(u=!0));let R=null,D;this.options.gfm&&(R=/^\[[ xX]\] /.exec(o),R&&(D=R[0]!=="[ ] ",o=o.replace(/^\[[ xX]\] +/,""))),i.items.push({type:"list_item",raw:l,task:!!R,checked:D,loose:!1,text:o,tokens:[]}),i.raw+=l}i.items[i.items.length-1].raw=l.trimEnd(),i.items[i.items.length-1].text=o.trimEnd(),i.raw=i.raw.trimEnd();for(let h=0;h<i.items.length;h++)if(this.lexer.state.top=!1,i.items[h].tokens=this.lexer.blockTokens(i.items[h].text,[]),!i.loose){const k=i.items[h].tokens.filter(b=>b.type==="space"),x=k.length>0&&k.some(b=>/\n.*\n/.test(b.raw));i.loose=x}if(i.loose)for(let h=0;h<i.items.length;h++)i.items[h].loose=!0;return i}}html(e){const n=this.rules.block.html.exec(e);if(n)return{type:"html",block:!0,raw:n[0],pre:n[1]==="pre"||n[1]==="script"||n[1]==="style",text:n[0]}}def(e){const n=this.rules.block.def.exec(e);if(n){const t=n[1].toLowerCase().replace(/\s+/g," "),s=n[2]?n[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",i=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline._escapes,"$1"):n[3];return{type:"def",tag:t,raw:n[0],href:s,title:i}}}table(e){const n=this.rules.block.table.exec(e);if(n){if(!/[:|]/.test(n[2]))return;const t={type:"table",raw:n[0],header:Se(n[1]).map(s=>({text:s,tokens:[]})),align:n[2].replace(/^\||\| *$/g,"").split("|"),rows:n[3]&&n[3].trim()?n[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(t.header.length===t.align.length){let s=t.align.length,i,a,l,o;for(i=0;i<s;i++){const u=t.align[i];u&&(/^ *-+: *$/.test(u)?t.align[i]="right":/^ *:-+: *$/.test(u)?t.align[i]="center":/^ *:-+ *$/.test(u)?t.align[i]="left":t.align[i]=null)}for(s=t.rows.length,i=0;i<s;i++)t.rows[i]=Se(t.rows[i],t.header.length).map(u=>({text:u,tokens:[]}));for(s=t.header.length,a=0;a<s;a++)t.header[a].tokens=this.lexer.inline(t.header[a].text);for(s=t.rows.length,a=0;a<s;a++)for(o=t.rows[a],l=0;l<o.length;l++)o[l].tokens=this.lexer.inline(o[l].text);return t}}}lheading(e){const n=this.rules.block.lheading.exec(e);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(e){const n=this.rules.block.paragraph.exec(e);if(n){const t=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:t,tokens:this.lexer.inline(t)}}}text(e){const n=this.rules.block.text.exec(e);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(e){const n=this.rules.inline.escape.exec(e);if(n)return{type:"escape",raw:n[0],text:B(n[1])}}tag(e){const n=this.rules.inline.tag.exec(e);if(n)return!this.lexer.state.inLink&&/^<a /i.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:n[0]}}link(e){const n=this.rules.inline.link.exec(e);if(n){const t=n[2].trim();if(!this.options.pedantic&&/^</.test(t)){if(!/>$/.test(t))return;const a=re(t.slice(0,-1),"\\");if((t.length-a.length)%2===0)return}else{const a=wt(n[2],"()");if(a>-1){const o=(n[0].indexOf("!")===0?5:4)+n[1].length+a;n[2]=n[2].substring(0,a),n[0]=n[0].substring(0,o).trim(),n[3]=""}}let s=n[2],i="";if(this.options.pedantic){const a=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(s);a&&(s=a[1],i=a[3])}else i=n[3]?n[3].slice(1,-1):"";return s=s.trim(),/^</.test(s)&&(this.options.pedantic&&!/>$/.test(t)?s=s.slice(1):s=s.slice(1,-1)),ve(n,{href:s&&s.replace(this.rules.inline._escapes,"$1"),title:i&&i.replace(this.rules.inline._escapes,"$1")},n[0],this.lexer)}}reflink(e,n){let t;if((t=this.rules.inline.reflink.exec(e))||(t=this.rules.inline.nolink.exec(e))){let s=(t[2]||t[1]).replace(/\s+/g," ");if(s=n[s.toLowerCase()],!s){const i=t[0].charAt(0);return{type:"text",raw:i,text:i}}return ve(t,s,t[0],this.lexer)}}emStrong(e,n,t=""){let s=this.rules.inline.emStrong.lDelim.exec(e);if(!s||s[3]&&t.match(/[\p{L}\p{N}]/u))return;if(!(s[1]||s[2]||"")||!t||this.rules.inline.punctuation.exec(t)){const a=[...s[0]].length-1;let l,o,u=a,h=0;const k=s[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(k.lastIndex=0,n=n.slice(-1*e.length+a);(s=k.exec(n))!=null;){if(l=s[1]||s[2]||s[3]||s[4]||s[5]||s[6],!l)continue;if(o=[...l].length,s[3]||s[4]){u+=o;continue}else if((s[5]||s[6])&&a%3&&!((a+o)%3)){h+=o;continue}if(u-=o,u>0)continue;o=Math.min(o,o+u+h);const x=[...s[0]][0].length,b=e.slice(0,a+s.index+x+o);if(Math.min(a,o)%2){const R=b.slice(1,-1);return{type:"em",raw:b,text:R,tokens:this.lexer.inlineTokens(R)}}const z=b.slice(2,-2);return{type:"strong",raw:b,text:z,tokens:this.lexer.inlineTokens(z)}}}}codespan(e){const n=this.rules.inline.code.exec(e);if(n){let t=n[2].replace(/\n/g," ");const s=/[^ ]/.test(t),i=/^ /.test(t)&&/ $/.test(t);return s&&i&&(t=t.substring(1,t.length-1)),t=B(t,!0),{type:"codespan",raw:n[0],text:t}}}br(e){const n=this.rules.inline.br.exec(e);if(n)return{type:"br",raw:n[0]}}del(e){const n=this.rules.inline.del.exec(e);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(e){const n=this.rules.inline.autolink.exec(e);if(n){let t,s;return n[2]==="@"?(t=B(n[1]),s="mailto:"+t):(t=B(n[1]),s=t),{type:"link",raw:n[0],text:t,href:s,tokens:[{type:"text",raw:t,text:t}]}}}url(e){let n;if(n=this.rules.inline.url.exec(e)){let t,s;if(n[2]==="@")t=B(n[0]),s="mailto:"+t;else{let i;do i=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0];while(i!==n[0]);t=B(n[0]),n[1]==="www."?s="http://"+n[0]:s=n[0]}return{type:"link",raw:n[0],text:t,href:s,tokens:[{type:"text",raw:t,text:t}]}}}inlineText(e){const n=this.rules.inline.text.exec(e);if(n){let t;return this.lexer.state.inRawBlock?t=n[0]:t=B(n[0]),{type:"text",raw:n[0],text:t}}}}const w={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:oe,lheading:/^(?!bull )((?:.|\n(?!\s*?\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};w._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;w._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;w.def=v(w.def).replace("label",w._label).replace("title",w._title).getRegex();w.bullet=/(?:[*+-]|\d{1,9}[.)])/;w.listItemStart=v(/^( *)(bull) */).replace("bull",w.bullet).getRegex();w.list=v(w.list).replace(/bull/g,w.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+w.def.source+")").getRegex();w._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";w._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;w.html=v(w.html,"i").replace("comment",w._comment).replace("tag",w._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();w.lheading=v(w.lheading).replace(/bull/g,w.bullet).getRegex();w.paragraph=v(w._paragraph).replace("hr",w.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",w._tag).getRegex();w.blockquote=v(w.blockquote).replace("paragraph",w.paragraph).getRegex();w.normal={...w};w.gfm={...w.normal,table:"^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"};w.gfm.table=v(w.gfm.table).replace("hr",w.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",w._tag).getRegex();w.gfm.paragraph=v(w._paragraph).replace("hr",w.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",w.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",w._tag).getRegex();w.pedantic={...w.normal,html:v(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",w._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:oe,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:v(w.normal._paragraph).replace("hr",w.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",w.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const g={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:oe,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,rDelimAst:/^[^_*]*?__[^_*]*?\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\*)[punct](\*+)(?=[\s]|$)|[^punct\s](\*+)(?!\*)(?=[punct\s]|$)|(?!\*)[punct\s](\*+)(?=[^punct\s])|[\s](\*+)(?!\*)(?=[punct])|(?!\*)[punct](\*+)(?!\*)(?=[punct])|[^punct\s](\*+)(?=[^punct\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\s]|$)|[^punct\s](_+)(?!_)(?=[punct\s]|$)|(?!_)[punct\s](_+)(?=[^punct\s])|[\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:oe,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^((?![*_])[\spunctuation])/};g._punctuation="\\p{P}$+<=>`^|~";g.punctuation=v(g.punctuation,"u").replace(/punctuation/g,g._punctuation).getRegex();g.blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g;g.anyPunctuation=/\\[punct]/g;g._escapes=/\\([punct])/g;g._comment=v(w._comment).replace("(?:-->|$)","-->").getRegex();g.emStrong.lDelim=v(g.emStrong.lDelim,"u").replace(/punct/g,g._punctuation).getRegex();g.emStrong.rDelimAst=v(g.emStrong.rDelimAst,"gu").replace(/punct/g,g._punctuation).getRegex();g.emStrong.rDelimUnd=v(g.emStrong.rDelimUnd,"gu").replace(/punct/g,g._punctuation).getRegex();g.anyPunctuation=v(g.anyPunctuation,"gu").replace(/punct/g,g._punctuation).getRegex();g._escapes=v(g._escapes,"gu").replace(/punct/g,g._punctuation).getRegex();g._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;g._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;g.autolink=v(g.autolink).replace("scheme",g._scheme).replace("email",g._email).getRegex();g._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;g.tag=v(g.tag).replace("comment",g._comment).replace("attribute",g._attribute).getRegex();g._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;g._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;g._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;g.link=v(g.link).replace("label",g._label).replace("href",g._href).replace("title",g._title).getRegex();g.reflink=v(g.reflink).replace("label",g._label).replace("ref",w._label).getRegex();g.nolink=v(g.nolink).replace("ref",w._label).getRegex();g.reflinkSearch=v(g.reflinkSearch,"g").replace("reflink",g.reflink).replace("nolink",g.nolink).getRegex();g.normal={...g};g.pedantic={...g.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:v(/^!?\[(label)\]\((.*?)\)/).replace("label",g._label).getRegex(),reflink:v(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",g._label).getRegex()};g.gfm={...g.normal,escape:v(g.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/};g.gfm.url=v(g.gfm.url,"i").replace("email",g.gfm._extended_email).getRegex();g.breaks={...g.gfm,br:v(g.br).replace("{2,}","*").getRegex(),text:v(g.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};class U{constructor(e){A(this,"tokens");A(this,"options");A(this,"state");A(this,"tokenizer");A(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||K,this.options.tokenizer=this.options.tokenizer||new le,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={block:w.normal,inline:g.normal};this.options.pedantic?(n.block=w.pedantic,n.inline=g.pedantic):this.options.gfm&&(n.block=w.gfm,this.options.breaks?n.inline=g.breaks:n.inline=g.gfm),this.tokenizer.rules=n}static get rules(){return{block:w,inline:g}}static lex(e,n){return new U(n).lex(e)}static lexInline(e,n){return new U(n).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);let n;for(;n=this.inlineQueue.shift();)this.inlineTokens(n.src,n.tokens);return this.tokens}blockTokens(e,n=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(l,o,u)=>o+"    ".repeat(u.length));let t,s,i,a;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(l=>(t=l.call({lexer:this},e,n))?(e=e.substring(t.raw.length),n.push(t),!0):!1))){if(t=this.tokenizer.space(e)){e=e.substring(t.raw.length),t.raw.length===1&&n.length>0?n[n.length-1].raw+=`
`:n.push(t);continue}if(t=this.tokenizer.code(e)){e=e.substring(t.raw.length),s=n[n.length-1],s&&(s.type==="paragraph"||s.type==="text")?(s.raw+=`
`+t.raw,s.text+=`
`+t.text,this.inlineQueue[this.inlineQueue.length-1].src=s.text):n.push(t);continue}if(t=this.tokenizer.fences(e)){e=e.substring(t.raw.length),n.push(t);continue}if(t=this.tokenizer.heading(e)){e=e.substring(t.raw.length),n.push(t);continue}if(t=this.tokenizer.hr(e)){e=e.substring(t.raw.length),n.push(t);continue}if(t=this.tokenizer.blockquote(e)){e=e.substring(t.raw.length),n.push(t);continue}if(t=this.tokenizer.list(e)){e=e.substring(t.raw.length),n.push(t);continue}if(t=this.tokenizer.html(e)){e=e.substring(t.raw.length),n.push(t);continue}if(t=this.tokenizer.def(e)){e=e.substring(t.raw.length),s=n[n.length-1],s&&(s.type==="paragraph"||s.type==="text")?(s.raw+=`
`+t.raw,s.text+=`
`+t.raw,this.inlineQueue[this.inlineQueue.length-1].src=s.text):this.tokens.links[t.tag]||(this.tokens.links[t.tag]={href:t.href,title:t.title});continue}if(t=this.tokenizer.table(e)){e=e.substring(t.raw.length),n.push(t);continue}if(t=this.tokenizer.lheading(e)){e=e.substring(t.raw.length),n.push(t);continue}if(i=e,this.options.extensions&&this.options.extensions.startBlock){let l=1/0;const o=e.slice(1);let u;this.options.extensions.startBlock.forEach(h=>{u=h.call({lexer:this},o),typeof u=="number"&&u>=0&&(l=Math.min(l,u))}),l<1/0&&l>=0&&(i=e.substring(0,l+1))}if(this.state.top&&(t=this.tokenizer.paragraph(i))){s=n[n.length-1],a&&s.type==="paragraph"?(s.raw+=`
`+t.raw,s.text+=`
`+t.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=s.text):n.push(t),a=i.length!==e.length,e=e.substring(t.raw.length);continue}if(t=this.tokenizer.text(e)){e=e.substring(t.raw.length),s=n[n.length-1],s&&s.type==="text"?(s.raw+=`
`+t.raw,s.text+=`
`+t.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=s.text):n.push(t);continue}if(e){const l="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent)break;throw new Error(l)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){let t,s,i,a=e,l,o,u;if(this.tokens.links){const h=Object.keys(this.tokens.links);if(h.length>0)for(;(l=this.tokenizer.rules.inline.reflinkSearch.exec(a))!=null;)h.includes(l[0].slice(l[0].lastIndexOf("[")+1,-1))&&(a=a.slice(0,l.index)+"["+"a".repeat(l[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(l=this.tokenizer.rules.inline.blockSkip.exec(a))!=null;)a=a.slice(0,l.index)+"["+"a".repeat(l[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(l=this.tokenizer.rules.inline.anyPunctuation.exec(a))!=null;)a=a.slice(0,l.index)+"++"+a.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(o||(u=""),o=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(h=>(t=h.call({lexer:this},e,n))?(e=e.substring(t.raw.length),n.push(t),!0):!1))){if(t=this.tokenizer.escape(e)){e=e.substring(t.raw.length),n.push(t);continue}if(t=this.tokenizer.tag(e)){e=e.substring(t.raw.length),s=n[n.length-1],s&&t.type==="text"&&s.type==="text"?(s.raw+=t.raw,s.text+=t.text):n.push(t);continue}if(t=this.tokenizer.link(e)){e=e.substring(t.raw.length),n.push(t);continue}if(t=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(t.raw.length),s=n[n.length-1],s&&t.type==="text"&&s.type==="text"?(s.raw+=t.raw,s.text+=t.text):n.push(t);continue}if(t=this.tokenizer.emStrong(e,a,u)){e=e.substring(t.raw.length),n.push(t);continue}if(t=this.tokenizer.codespan(e)){e=e.substring(t.raw.length),n.push(t);continue}if(t=this.tokenizer.br(e)){e=e.substring(t.raw.length),n.push(t);continue}if(t=this.tokenizer.del(e)){e=e.substring(t.raw.length),n.push(t);continue}if(t=this.tokenizer.autolink(e)){e=e.substring(t.raw.length),n.push(t);continue}if(!this.state.inLink&&(t=this.tokenizer.url(e))){e=e.substring(t.raw.length),n.push(t);continue}if(i=e,this.options.extensions&&this.options.extensions.startInline){let h=1/0;const k=e.slice(1);let x;this.options.extensions.startInline.forEach(b=>{x=b.call({lexer:this},k),typeof x=="number"&&x>=0&&(h=Math.min(h,x))}),h<1/0&&h>=0&&(i=e.substring(0,h+1))}if(t=this.tokenizer.inlineText(i)){e=e.substring(t.raw.length),t.raw.slice(-1)!=="_"&&(u=t.raw.slice(-1)),o=!0,s=n[n.length-1],s&&s.type==="text"?(s.raw+=t.raw,s.text+=t.text):n.push(t);continue}if(e){const h="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent)break;throw new Error(h)}}return n}}class ce{constructor(e){A(this,"options");this.options=e||K}code(e,n,t){var i;const s=(i=(n||"").match(/^\S*/))==null?void 0:i[0];return e=e.replace(/\n$/,"")+`
`,s?'<pre><code class="language-'+B(s)+'">'+(t?e:B(e,!0))+`</code></pre>
`:"<pre><code>"+(t?e:B(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e,n){return e}heading(e,n,t){return`<h${n}>${e}</h${n}>
`}hr(){return`<hr>
`}list(e,n,t){const s=n?"ol":"ul",i=n&&t!==1?' start="'+t+'"':"";return"<"+s+i+`>
`+e+"</"+s+`>
`}listitem(e,n,t){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(e){return`<p>${e}</p>
`}table(e,n){return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+n+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,n){const t=n.header?"th":"td";return(n.align?`<${t} align="${n.align}">`:`<${t}>`)+e+`</${t}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return"<br>"}del(e){return`<del>${e}</del>`}link(e,n,t){const s=Te(e);if(s===null)return t;e=s;let i='<a href="'+e+'"';return n&&(i+=' title="'+n+'"'),i+=">"+t+"</a>",i}image(e,n,t){const s=Te(e);if(s===null)return t;e=s;let i=`<img src="${e}" alt="${t}"`;return n&&(i+=` title="${n}"`),i+=">",i}text(e){return e}}class ke{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,n,t){return""+t}image(e,n,t){return""+t}br(){return""}}class P{constructor(e){A(this,"options");A(this,"renderer");A(this,"textRenderer");this.options=e||K,this.options.renderer=this.options.renderer||new ce,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new ke}static parse(e,n){return new P(n).parse(e)}static parseInline(e,n){return new P(n).parseInline(e)}parse(e,n=!0){let t="";for(let s=0;s<e.length;s++){const i=e[s];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){const a=i,l=this.options.extensions.renderers[a.type].call({parser:this},a);if(l!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(a.type)){t+=l||"";continue}}switch(i.type){case"space":continue;case"hr":{t+=this.renderer.hr();continue}case"heading":{const a=i;t+=this.renderer.heading(this.parseInline(a.tokens),a.depth,kt(this.parseInline(a.tokens,this.textRenderer)));continue}case"code":{const a=i;t+=this.renderer.code(a.text,a.lang,!!a.escaped);continue}case"table":{const a=i;let l="",o="";for(let h=0;h<a.header.length;h++)o+=this.renderer.tablecell(this.parseInline(a.header[h].tokens),{header:!0,align:a.align[h]});l+=this.renderer.tablerow(o);let u="";for(let h=0;h<a.rows.length;h++){const k=a.rows[h];o="";for(let x=0;x<k.length;x++)o+=this.renderer.tablecell(this.parseInline(k[x].tokens),{header:!1,align:a.align[x]});u+=this.renderer.tablerow(o)}t+=this.renderer.table(l,u);continue}case"blockquote":{const a=i,l=this.parse(a.tokens);t+=this.renderer.blockquote(l);continue}case"list":{const a=i,l=a.ordered,o=a.start,u=a.loose;let h="";for(let k=0;k<a.items.length;k++){const x=a.items[k],b=x.checked,z=x.task;let R="";if(x.task){const D=this.renderer.checkbox(!!b);u?x.tokens.length>0&&x.tokens[0].type==="paragraph"?(x.tokens[0].text=D+" "+x.tokens[0].text,x.tokens[0].tokens&&x.tokens[0].tokens.length>0&&x.tokens[0].tokens[0].type==="text"&&(x.tokens[0].tokens[0].text=D+" "+x.tokens[0].tokens[0].text)):x.tokens.unshift({type:"text",text:D+" "}):R+=D+" "}R+=this.parse(x.tokens,u),h+=this.renderer.listitem(R,z,!!b)}t+=this.renderer.list(h,l,o);continue}case"html":{const a=i;t+=this.renderer.html(a.text,a.block);continue}case"paragraph":{const a=i;t+=this.renderer.paragraph(this.parseInline(a.tokens));continue}case"text":{let a=i,l=a.tokens?this.parseInline(a.tokens):a.text;for(;s+1<e.length&&e[s+1].type==="text";)a=e[++s],l+=`
`+(a.tokens?this.parseInline(a.tokens):a.text);t+=n?this.renderer.paragraph(l):l;continue}default:{const a='Token with "'+i.type+'" type was not found.';if(this.options.silent)return"";throw new Error(a)}}}return t}parseInline(e,n){n=n||this.renderer;let t="";for(let s=0;s<e.length;s++){const i=e[s];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){const a=this.options.extensions.renderers[i.type].call({parser:this},i);if(a!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){t+=a||"";continue}}switch(i.type){case"escape":{const a=i;t+=n.text(a.text);break}case"html":{const a=i;t+=n.html(a.text);break}case"link":{const a=i;t+=n.link(a.href,a.title,this.parseInline(a.tokens,n));break}case"image":{const a=i;t+=n.image(a.href,a.title,a.text);break}case"strong":{const a=i;t+=n.strong(this.parseInline(a.tokens,n));break}case"em":{const a=i;t+=n.em(this.parseInline(a.tokens,n));break}case"codespan":{const a=i;t+=n.codespan(a.text);break}case"br":{t+=n.br();break}case"del":{const a=i;t+=n.del(this.parseInline(a.tokens,n));break}case"text":{const a=i;t+=n.text(a.text);break}default:{const a='Token with "'+i.type+'" type was not found.';if(this.options.silent)return"";throw new Error(a)}}}return t}}class G{constructor(e){A(this,"options");this.options=e||K}preprocess(e){return e}postprocess(e){return e}}A(G,"passThroughHooks",new Set(["preprocess","postprocess"]));var W,de,Ue;class _t{constructor(...e){ye(this,W);A(this,"defaults",me());A(this,"options",this.setOptions);A(this,"parse",te(this,W,de).call(this,U.lex,P.parse));A(this,"parseInline",te(this,W,de).call(this,U.lexInline,P.parseInline));A(this,"Parser",P);A(this,"Renderer",ce);A(this,"TextRenderer",ke);A(this,"Lexer",U);A(this,"Tokenizer",le);A(this,"Hooks",G);this.use(...e)}walkTokens(e,n){var s,i;let t=[];for(const a of e)switch(t=t.concat(n.call(this,a)),a.type){case"table":{const l=a;for(const o of l.header)t=t.concat(this.walkTokens(o.tokens,n));for(const o of l.rows)for(const u of o)t=t.concat(this.walkTokens(u.tokens,n));break}case"list":{const l=a;t=t.concat(this.walkTokens(l.items,n));break}default:{const l=a;(i=(s=this.defaults.extensions)==null?void 0:s.childTokens)!=null&&i[l.type]?this.defaults.extensions.childTokens[l.type].forEach(o=>{t=t.concat(this.walkTokens(l[o],n))}):l.tokens&&(t=t.concat(this.walkTokens(l.tokens,n)))}}return t}use(...e){const n=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(t=>{const s={...t};if(s.async=this.defaults.async||s.async||!1,t.extensions&&(t.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if("renderer"in i){const a=n.renderers[i.name];a?n.renderers[i.name]=function(...l){let o=i.renderer.apply(this,l);return o===!1&&(o=a.apply(this,l)),o}:n.renderers[i.name]=i.renderer}if("tokenizer"in i){if(!i.level||i.level!=="block"&&i.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const a=n[i.level];a?a.unshift(i.tokenizer):n[i.level]=[i.tokenizer],i.start&&(i.level==="block"?n.startBlock?n.startBlock.push(i.start):n.startBlock=[i.start]:i.level==="inline"&&(n.startInline?n.startInline.push(i.start):n.startInline=[i.start]))}"childTokens"in i&&i.childTokens&&(n.childTokens[i.name]=i.childTokens)}),s.extensions=n),t.renderer){const i=this.defaults.renderer||new ce(this.defaults);for(const a in t.renderer){const l=t.renderer[a],o=a,u=i[o];i[o]=(...h)=>{let k=l.apply(i,h);return k===!1&&(k=u.apply(i,h)),k||""}}s.renderer=i}if(t.tokenizer){const i=this.defaults.tokenizer||new le(this.defaults);for(const a in t.tokenizer){const l=t.tokenizer[a],o=a,u=i[o];i[o]=(...h)=>{let k=l.apply(i,h);return k===!1&&(k=u.apply(i,h)),k}}s.tokenizer=i}if(t.hooks){const i=this.defaults.hooks||new G;for(const a in t.hooks){const l=t.hooks[a],o=a,u=i[o];G.passThroughHooks.has(a)?i[o]=h=>{if(this.defaults.async)return Promise.resolve(l.call(i,h)).then(x=>u.call(i,x));const k=l.call(i,h);return u.call(i,k)}:i[o]=(...h)=>{let k=l.apply(i,h);return k===!1&&(k=u.apply(i,h)),k}}s.hooks=i}if(t.walkTokens){const i=this.defaults.walkTokens,a=t.walkTokens;s.walkTokens=function(l){let o=[];return o.push(a.call(this,l)),i&&(o=o.concat(i.call(this,l))),o}}this.defaults={...this.defaults,...s}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,n){return U.lex(e,n??this.defaults)}parser(e,n){return P.parse(e,n??this.defaults)}}W=new WeakSet,de=function(e,n){return(t,s)=>{const i={...s},a={...this.defaults,...i};this.defaults.async===!0&&i.async===!1&&(a.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),a.async=!0);const l=te(this,W,Ue).call(this,!!a.silent,!!a.async);if(typeof t>"u"||t===null)return l(new Error("marked(): input parameter is undefined or null"));if(typeof t!="string")return l(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));if(a.hooks&&(a.hooks.options=a),a.async)return Promise.resolve(a.hooks?a.hooks.preprocess(t):t).then(o=>e(o,a)).then(o=>a.walkTokens?Promise.all(this.walkTokens(o,a.walkTokens)).then(()=>o):o).then(o=>n(o,a)).then(o=>a.hooks?a.hooks.postprocess(o):o).catch(l);try{a.hooks&&(t=a.hooks.preprocess(t));const o=e(t,a);a.walkTokens&&this.walkTokens(o,a.walkTokens);let u=n(o,a);return a.hooks&&(u=a.hooks.postprocess(u)),u}catch(o){return l(o)}}},Ue=function(e,n){return t=>{if(t.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const s="<p>An error occurred:</p><pre>"+B(t.message+"",!0)+"</pre>";return n?Promise.resolve(s):s}if(n)return Promise.reject(t);throw t}};const V=new _t;function T(r,e){return V.parse(r,e)}T.options=T.setOptions=function(r){return V.setOptions(r),T.defaults=V.defaults,Be(T.defaults),T};T.getDefaults=me;T.defaults=K;T.use=function(...r){return V.use(...r),T.defaults=V.defaults,Be(T.defaults),T};T.walkTokens=function(r,e){return V.walkTokens(r,e)};T.parseInline=V.parseInline;T.Parser=P;T.parser=P.parse;T.Renderer=ce;T.TextRenderer=ke;T.Lexer=U;T.lexer=U.lex;T.Tokenizer=le;T.Hooks=G;T.parse=T;T.options;T.setOptions;T.use;T.walkTokens;T.parseInline;P.parse;U.lex;function Ft(r,e,n){let t=1,s=e.length;for(;t>0&&s<r.length;)r.startsWith(e,s)?t++:r.startsWith(n,s)&&t--,t>0&&s++;return t===0?s+n.length:-1}function $t(r){const e={},n=/(\w+)="(.*?)"/g;let t;for(;(t=n.exec(r))!==null;)e[t[1]]=t[2];return e}function Tt(r){const e=/^<details(\s+[^>]*)?>\n/,n=/^<summary>(.*?)<\/summary>\n/,t=e.exec(r);if(t){const s=Ft(r,"<details","</details>");if(s===-1)return;const i=r.slice(0,s),a=t[0],l=$t(a);let o=i.slice(a.length,-10).trim(),u="";const h=n.exec(o);return h&&(u=h[1].trim(),o=o.slice(h[0].length).trim()),{type:"details",raw:i,summary:u,text:o,attributes:l}}}function St(r){return r.match(/^<details>/)?0:-1}function vt(r){return`<details ${r.attributes?Object.entries(r.attributes).map(([n,t])=>`${n}="${t}"`).join(" "):""}>
  ${r.summary?`<summary>${r.summary}</summary>`:""}
  ${r.text}
  </details>`}function Rt(){return{name:"details",level:"block",start:St,tokenizer:Tt,renderer:vt}}function At(r={}){return{extensions:[Rt()]}}const Pe=[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\pu{",right:"}",display:!1},{left:"\\ce{",right:"}",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0},{left:"\\begin{equation}",right:"\\end{equation}",display:!0}],ge="\\s。，、､;；„“‘’“”（）「」『』［］《》【】‹›«»…⋯:：？！～⇒?!-\\/:-@\\[-`{-~\\p{Script=Han}\\p{Script=Hiragana}\\p{Script=Katakana}\\p{Script=Hangul}",fe=[],Re=[];function Ae(r){return r.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Et(r){r.forEach(t=>{const{left:s,right:i,display:a}=t,l=Ae(s),o=Ae(i);a?(fe.push(`${l}(?!\\n)((?:\\\\[^]|[^\\\\])+?)(?!\\n)${o}`),Re.push(`${l}\\n((?:\\\\[^]|[^\\\\])+?)\\n${o}`)):fe.push(`${l}((?:\\\\[^]|[^\\\\])+?)${o}`)});const e=new RegExp(`^(${fe.join("|")})(?=[${ge}]|$)`,"u"),n=new RegExp(`^(${Re.join("|")})(?=[${ge}]|$)`,"u");return{inlineRule:e,blockRule:n}}const{inlineRule:Ne,blockRule:Ye}=Et(Pe);function It(r={}){return{extensions:[Dt(),zt()]}}function qe(r,e){const n=e?Ye:Ne;let t=r;for(;t;){let s=-1,i=-1,a="",l="";for(const u of Pe)u.display===e&&(i=t.indexOf(u.left),i!==-1&&(s=i,a=u.left,l=u.right));if(s===-1)return;if((s===0||t.charAt(s-1).match(new RegExp(`[${ge}]`,"u")))&&t.substring(s).match(n))return s;t=t.substring(s+a.length).replace(l,"")}}function Ze(r,e,n){const t=n?Ye:Ne,s=n?"blockKatex":"inlineKatex",i=r.match(t);if(i){const a=i.slice(2).filter(l=>l).find(l=>l.trim());return{type:s,raw:i[0],text:a,displayMode:n}}}function Dt(r){return{name:"inlineKatex",level:"inline",start(e){return qe(e,!1)},tokenizer(e,n){return Ze(e,n,!1)},renderer(e){return`${(e==null?void 0:e.text)??""}`}}}function zt(r){return{name:"blockKatex",level:"block",start(e){return qe(e,!0)},tokenizer(e,n){return Ze(e,n,!0)},renderer(e){return`${(e==null?void 0:e.text)??""}`}}}X.extend(Xe);X.extend(lt);X.extend(ut);X.extend(pt);function Ct(r){return r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const rn=(r,e,n)=>{const t=[{regex:/{{char}}/gi,replacement:e},{regex:/{{user}}/gi,replacement:n},{regex:/{{VIDEO_FILE_ID_([a-f0-9-]+)}}/gi,replacement:(i,a)=>`<video src="${De}/api/v1/files/${a}/content" controls></video>`},{regex:/{{HTML_FILE_ID_([a-f0-9-]+)}}/gi,replacement:(i,a)=>`<file type="html" id="${a}" />`}];return r=((i,a)=>i.split(/(```[\s\S]*?```|`[\s\S]*?`)/).map(l=>l.startsWith("```")||l.startsWith("`")?l:a(l)).join(""))(r,i=>(t.forEach(({regex:a,replacement:l})=>{l!=null&&(i=i.replace(a,l))}),i)),r},sn=r=>r.replace(/<\|[a-z]*$/,"").replace(/<\|[a-z]+\|$/,"").replace(/<$/,"").replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll(/<\|[a-z]+\|>/g," ").trim(),an=r=>(r=Mt(r),r.trim());function Ee(r){return new RegExp("\\p{Script=Han}","u").test(r)}function Mt(r){return r=r.split(`
`).map(t=>(/[\u4e00-\u9fa5]/.test(t)&&t.includes("*")&&(/（|）/.test(t)&&(t=se(t,"**","（","）"),t=se(t,"*","（","）")),/“|”/.test(t)&&(t=se(t,"**","“","”"),t=se(t,"*","“","”"))),t)).join(`
`),r}function se(r,e,n,t){const s=Ct(e),i=new RegExp(`(.?)(?<!${s})(${s})([^${s}]+)(${s})(?!${s})(.)`,"g");return r.replace(i,(a,l,o,u,h,k)=>u.startsWith(n)&&l&&l.length>0&&Ee(l[l.length-1])||u.endsWith(t)&&k&&k.length>0&&Ee(k[0])?`${l} ${o}${u}${h} ${k}`:a)}function on(r){return new DOMParser().parseFromString(r,"text/html").documentElement.textContent}const ln=r=>r.charAt(0).toUpperCase()+r.slice(1),cn=r=>{let e="";return new TransformStream({transform(n,t){e+=n;const s=e.split(r);s.slice(0,-1).forEach(i=>t.enqueue(i)),e=s[s.length-1]},flush(n){e&&n.enqueue(e)}})},un=r=>{const e={messages:{},currentId:null};let n=null,t=null;for(const s of r)t=ze(),n!==null&&(e.messages[n].childrenIds=[...e.messages[n].childrenIds,t]),e.messages[t]={...s,id:t,parentId:n,childrenIds:[]},n=t;return e.currentId=t,e},Lt=()=>{const r=document.createElement("canvas"),e=r.getContext("2d");r.height=1,r.width=1;const n=new ImageData(r.width,r.height),t=n.data;for(let i=0;i<n.data.length;i+=1)i%4!==3?t[i]=Math.floor(256*Math.random()):t[i]=255;e.putImageData(n,0,0);const s=e.getImageData(0,0,r.width,r.height).data;for(let i=0;i<s.length;i+=1)if(s[i]!==t[i])return s[i],t[i],!1;return!0},hn=async(r,e,n)=>new Promise((t,s)=>{const i=new Image;i.onload=()=>{var x;const a=document.createElement("canvas");let l=i.width,o=i.height;if(e&&n){if(l<=e&&o<=n){t(r);return}l/o>e/n?(o=Math.round(e*o/l),l=e):(l=Math.round(n*l/o),o=n)}else if(e){if(l<=e){t(r);return}o=Math.round(e*o/l),l=e}else if(n){if(o<=n){t(r);return}l=Math.round(n*l/o),o=n}a.width=l,a.height=o,a.getContext("2d").drawImage(i,0,0,l,o);const h=(x=r.match(/^data:([^;]+);/))==null?void 0:x[1],k=a.toDataURL(h);t(k)},i.onerror=a=>s(a),i.src=r}),pn=r=>{const e=document.createElement("canvas"),n=e.getContext("2d");if(e.width=100,e.height=100,!Lt())return`${De}/user.png`;n.fillStyle="#F39C12",n.fillRect(0,0,e.width,e.height),n.fillStyle="#FFFFFF",n.font="40px Helvetica",n.textAlign="center",n.textBaseline="middle";const t=r.trim(),s=t.length>0?t[0]+(t.split(" ").length>1?t[t.lastIndexOf(" ")+1]:""):"";return n.fillText(s.toUpperCase(),e.width/2,e.height/2),e.toDataURL()},fn=r=>{const e=X(r);return e.isToday()?"Today at {{LOCALIZED_TIME}}":e.isYesterday()?"Yesterday at {{LOCALIZED_TIME}}":"{{LOCALIZED_DATE}} at {{LOCALIZED_TIME}}"},Bt=async(r,e=null,n=!1)=>{if(n){let t="";if(e)t=e;else{const i={};T.use(It(i)),T.use(At(i)),t=`
			<div>
				<style>
					pre {
						background-color: #f6f8fa;
						border-radius: 6px;
						padding: 16px;
						overflow: auto;
					}
					code {
						font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace;
						font-size: 14px;
					}
					.hljs-keyword { color: #d73a49; }
					.hljs-string { color: #032f62; }
					.hljs-comment { color: #6a737d; }
					.hljs-function { color: #6f42c1; }
					.hljs-number { color: #005cc5; }
					.hljs-operator { color: #d73a49; }
					.hljs-class { color: #6f42c1; }
					.hljs-title { color: #6f42c1; }
					.hljs-params { color: #24292e; }
					.hljs-built_in { color: #005cc5; }
					blockquote {
						border-left: 4px solid #dfe2e5;
						padding-left: 16px;
						color: #6a737d;
						margin-left: 0;
						margin-right: 0;
					}
					table {
						border-collapse: collapse;
						width: 100%;
						margin-bottom: 16px;
					}
					table, th, td {
						border: 1px solid #dfe2e5;
					}
					th, td {
						padding: 8px 12px;
					}
					th {
						background-color: #f6f8fa;
					}
				</style>
				${T.parse(r)}
			</div>
		`}const s=new Blob([t],{type:"text/html"});try{const i=new ClipboardItem({"text/html":s,"text/plain":new Blob([r],{type:"text/plain"})});return await navigator.clipboard.write([i]),!0}catch{return await Bt(r)}}else{let t=!1;if(!navigator.clipboard){const s=document.createElement("textarea");s.value=r,s.style.top="0",s.style.left="0",s.style.position="fixed",document.body.appendChild(s),s.focus(),s.select();try{""+(document.execCommand("copy")?"successful":"unsuccessful"),t=!0}catch{}return document.body.removeChild(s),t}return t=await navigator.clipboard.writeText(r).then(()=>!0).catch(s=>!1),t}},dn=(r,e)=>e==="0.0.0"?!1:e.localeCompare(r,void 0,{numeric:!0,sensitivity:"case",caseFirst:"upper"})<0,gn=r=>{const e=/\{\{([^}]+)\}\}/g,n=[];let t;for(;(t=e.exec(r))!==null;)n.push({word:t[1].trim(),startIndex:t.index,endIndex:e.lastIndex-1});return n},xn=r=>"mapping"in r[0]?"openai":"webui",mn=async(r=!1)=>{const e=await new Promise((s,i)=>{navigator.geolocation.getCurrentPosition(s,i)}).catch(s=>{throw s});if(!e)return"Location not available";const{latitude:n,longitude:t}=e.coords;return r?{latitude:n,longitude:t}:`${n.toFixed(3)}, ${t.toFixed(3)} (lat, long)`},Ot=r=>{var l,o,u,h,k,x,b,z;const e=r.mapping,n=[];let t="",s=null;for(const R in e){const D=e[R];t=R;try{if(n.length==0&&(D.message==null||((l=D.message.content.parts)==null?void 0:l[0])==""&&D.message.content.text==null))continue;{const O={id:R,parentId:s,childrenIds:D.children||[],role:((u=(o=D.message)==null?void 0:o.author)==null?void 0:u.role)!=="user"?"assistant":"user",content:((x=(k=(h=D.message)==null?void 0:h.content)==null?void 0:k.parts)==null?void 0:x[0])||((z=(b=D.message)==null?void 0:b.content)==null?void 0:z.text)||"",model:"gpt-3.5-turbo",done:!0,context:null};n.push(O),s=t}}catch{}}const i={};return n.forEach(R=>i[R.id]=R),{history:{currentId:t,messages:i},models:["gpt-3.5-turbo"],messages:n,options:{},timestamp:r.create_time,title:r.title??"New Chat"}},jt=r=>{const e=r.messages;if(e.length===0||e[e.length-1].childrenIds.length!==0||e[0].parentId!==null)return!1;for(const s of e)if(typeof s.content!="string")return!1;return!0},kn=r=>{const e=[];for(const n of r){const t=Ot(n);jt(t)&&e.push({id:n.id,user_id:"",title:n.title,chat:t,timestamp:n.create_time})}return e},bn=r=>{let e;try{e=new URL(r)}catch{return!1}return e.protocol==="http:"||e.protocol==="https:"},wn=r=>r.startsWith("https://www.youtube.com")||r.startsWith("https://youtu.be")||r.startsWith("https://youtube.com")||r.startsWith("https://m.youtube.com"),Ut=r=>{const e=/[\uD800-\uDBFF][\uDC00-\uDFFF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDE4F]/g;return r.replace(e,"")},Pt=r=>r.replace(/(```[\s\S]*?```)/g,"").replace(/^\|.*\|$/gm,"").replace(/(?:\*\*|__)(.*?)(?:\*\*|__)/g,"$1").replace(/(?:[*_])(.*?)(?:[*_])/g,"$1").replace(/~~(.*?)~~/g,"$1").replace(/`([^`]+)`/g,"$1").replace(/!?\[([^\]]*)\](?:\([^)]+\)|\[[^\]]*\])/g,"$1").replace(/^\[[^\]]+\]:\s*.*$/gm,"").replace(/^#{1,6}\s+/gm,"").replace(/^\s*[-*+]\s+/gm,"").replace(/^\s*(?:\d+\.)\s+/gm,"").replace(/^\s*>[> ]*/gm,"").replace(/^\s*:\s+/gm,"").replace(/\[\^[^\]]*\]/g,"").replace(/\n{2,}/g,`
`),be=r=>Pt(Ut(r.trim())),Nt=(r,e)=>{for(const n of e)r=r.replace(new RegExp(`<details\\s+type="${n}"[^>]*>.*?<\\/details>`,"gis"),"");return r},yn=r=>(r=r.replace(/<details[^>]*>.*?<\/details>/gis,""),r),_n=r=>{r=Nt(r,["reasoning","code_interpreter"]);const e=/<details\s+type="tool_calls"([^>]*)>([\s\S]*?)<\/details>/gis,n=r.match(e);if(n)for(const t of n){const s=/(\w+)="([^"]*)"/g,i={};let a;for(;(a=s.exec(t))!==null;)i[a[1]]=a[2];i.result&&(r=r.replace(t,`"${i.result}"`))}return r},He=/```[\s\S]*?```/g,Yt=r=>{const e=[];let n=0;r=r.replace(He,s=>{const i=`\0${n}\0`;return e[n++]=s,i});let t=r.split(new RegExp("(?<=[.!?])\\s+|\\n+"));return t=t.map(s=>s.replace(/\u0000(\d+)\u0000/g,(i,a)=>e[a])),t.map(be).filter(Boolean)},qt=r=>{const e=[];let n=0;r=r.replace(He,s=>{const i=`\0${n}\0`;return e[n++]=s,i});let t=r.split(/\n+/);return t=t.map(s=>s.replace(/\u0000(\d+)\u0000/g,(i,a)=>e[a])),t.map(be).filter(Boolean)},Zt=r=>Yt(r).reduce((e,n)=>{const t=e.length-1;if(t>=0){const s=e[t],i=s.split(/\s+/).length,a=s.length;i<4||a<50?e[t]=s+" "+n:e.push(n)}else e.push(n);return e},[]),Fn=(r,e="punctuation")=>{const n=[];switch(e){default:case ie.PUNCTUATION:n.push(...Zt(r));break;case ie.PARAGRAPHS:n.push(...qt(r));break;case ie.NONE:n.push(be(r));break}return n},$n=(r,e)=>new File([r],e,{type:r.type}),Tn=(r,e)=>({"{{USER_NAME}}":r,"{{USER_LOCATION}}":e||"Unknown","{{CURRENT_DATETIME}}":Ht(),"{{CURRENT_DATE}}":Ve(),"{{CURRENT_TIME}}":We(),"{{CURRENT_WEEKDAY}}":Wt(),"{{CURRENT_TIMEZONE}}":Vt(),"{{USER_LANGUAGE}}":localStorage.getItem("locale")||"en-US"}),Sn=r=>{const e=new Date,n=new Date(r*1e3),s=(e.getTime()-n.getTime())/(1e3*3600*24),i=e.getDate(),a=e.getMonth(),l=e.getFullYear(),o=n.getDate(),u=n.getMonth(),h=n.getFullYear();return l===h&&a===u&&i===o?"Today":l===h&&a===u&&i-o===1?"Yesterday":s<=7?"Previous 7 days":s<=30?"Previous 30 days":l===h?n.toLocaleString("default",{month:"long"}):n.getFullYear().toString()},vn=r=>{const e={};let n=!1,t=!1;const s=/^\s*([a-z_]+):\s*(.*)\s*$/i,i=r.split(`
`);if(i[0].trim()!=='"""')return{};n=!0;for(let a=1;a<i.length;a++){const l=i[a];if(l.includes('"""')&&n){t=!0;break}if(n&&!t){const o=s.exec(l);if(o){const[,u,h]=o;e[u.trim()]=h.trim()}}}return e},Rn=(r,e,n)=>{const t=r.map(i=>i.code);return e.map(i=>t.find(a=>a.startsWith(i))).find(Boolean)||n},Ve=()=>{const r=new Date,e=r.getFullYear(),n=String(r.getMonth()+1).padStart(2,"0"),t=String(r.getDate()).padStart(2,"0");return`${e}-${n}-${t}`},We=()=>new Date().toTimeString().split(" ")[0],Ht=()=>`${Ve()} ${We()}`,Vt=()=>Intl.DateTimeFormat().resolvedOptions().timeZone,Wt=()=>["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date().getDay()],Kt=(r,e)=>{if(e===null)return[];const n=r.messages[e];return n===void 0?[]:n!=null&&n.parentId?[...Kt(r,n.parentId),n]:[n]},An=r=>{if(r==null)return"Unknown size";if(typeof r!="number"||r<0)return"Invalid size";if(r===0)return"0 B";const e=["B","KB","MB","GB","TB"];let n=0;for(;r>=1024&&n<e.length-1;)r/=1024,n++;return`${r.toFixed(1)} ${e[n]}`},En=r=>r?r.split(`
`).length:0;function ae(r,e,n=new Set){if(!r)return{};if(r.$ref){const s=r.$ref.split("/").pop();if(n.has(s))return{};n.add(s);const i=e.schemas[s];return ae(i,e,n)}if(r.type){const t={type:r.type};switch(r.description&&(t.description=r.description),r.type){case"object":t.properties={},t.required=r.required||[];for(const[s,i]of Object.entries(r.properties||{}))t.properties[s]=ae(i,e);break;case"array":t.items=ae(r.items,e);break}return t}return{}}const In=r=>{const e=[];if(!r||!r.paths)return e;for(const[n,t]of Object.entries(r.paths))for(const[s,i]of Object.entries(t))if(i!=null&&i.operationId){const a={name:i.operationId,description:i.description||i.summary||"No description available.",parameters:{type:"object",properties:{},required:[]}};if(i.parameters&&i.parameters.forEach(l=>{let o=l.schema.description||l.description||"";l.schema.enum&&Array.isArray(l.schema.enum)&&(o+=`. Possible values: ${l.schema.enum.join(", ")}`),a.parameters.properties[l.name]={type:l.schema.type,description:o},l.required&&a.parameters.required.push(l.name)}),i.requestBody){const l=i.requestBody.content;if(l&&l["application/json"]){const o=l["application/json"].schema,u=ae(o,r.components);u.properties?(a.parameters.properties={...a.parameters.properties,...u.properties},u.required&&(a.parameters.required=[...new Set([...a.parameters.required,...u.required])])):u.type==="array"&&(a.parameters=u)}}e.push(a)}return e},Dn=r=>r.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\s+/g,"-").replace(/[^a-zA-Z0-9-_]/g,"").toLowerCase(),zn=r=>{const e=/{{\s*([^|}\s]+)\s*\|\s*([^}]+)\s*}}/g,n=/{{\s*([^|}\s]+)\s*}}/g,t={};let s;for(;(s=e.exec(r))!==null;){const i=s[1].trim(),a=s[2].trim();t[i]=Jt(a)}for(;(s=n.exec(r))!==null;){const i=s[1].trim();t.hasOwnProperty(i)||(t[i]={type:"text"})}return t},Ie=(r,e)=>{const n=[];let t="",s=0,i=!1,a=!1;for(let l=0;l<r.length;l++){const o=r[l];if(a){t+=o,a=!1;continue}if(o==="\\"){t+=o,a=!0;continue}if(o==='"'&&!a){i=!i,t+=o;continue}if(!i&&(o==="{"||o==="["?s++:(o==="}"||o==="]")&&s--,o===e&&s===0)){n.push(t.trim()),t="";continue}t+=o}return t.trim()&&n.push(t.trim()),n},Jt=r=>{const e=Ie(r,":"),[n,...t]=e,s=n.startsWith("type=")?n.slice(5):n,i=t.reduce((a,l)=>{const o=l.trim();if(!o)return a;const u=Ie(o,"=");if(u.length===1){const b=u[0].trim();return b.length>0?{...a,[b]:!0}:a}const[h,...k]=u,x=k.join("=");return!h||x==null?a:{...a,[h.trim()]:Qt(x.trim())}},{});return{type:s,...i}},Qt=r=>{if(r.startsWith('"')&&r.endsWith('"'))return r.slice(1,-1);if(/^[\[{]/.test(r))try{return JSON.parse(r)}catch{return r}return r};async function Gt(){if(!window.pdfjsLib){const r=await J(()=>import("./CTiUK3MR.js"),[],import.meta.url);if(r.GlobalWorkerOptions.workerSrc=ft,!window.pdfjsLib)throw new Error("pdfjsLib is required for PDF extraction")}return window.pdfjsLib}const Cn=async r=>{const e=[".txt",".md",".csv",".json",".js",".ts",".css",".html",".xml",".yaml",".yml",".rtf"];function n(o){const u=o.lastIndexOf(".");return u===-1?"":o.substr(u).toLowerCase()}async function t(o){const u=await Gt(),h=await o.arrayBuffer(),k=await u.getDocument({data:h}).promise;let x="";for(let b=1;b<=k.numPages;b++){const D=(await(await k.getPage(b)).getTextContent()).items.map(O=>O.str);x+=D.join(" ")+`
`}return x}function s(o){return new Promise((u,h)=>{const k=new FileReader;k.onload=()=>u(k.result),k.onerror=h,k.readAsText(o)})}async function i(o){const[u,{default:h}]=await Promise.all([o.arrayBuffer(),J(()=>import("./mpMRpaq8.js").then(x=>x.i),__vite__mapDeps([0,1]),import.meta.url)]);return(await h.extractRawText({arrayBuffer:u})).value}const a=r.type||"",l=n(r.name);if(a==="application/pdf"||l===".pdf")return await t(r);if(a==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"||l===".docx")return await i(r);if(a.startsWith("text/")||e.includes(l))return await s(r);try{return await s(r)}catch{throw new Error("Unsupported or non-text file type: "+(r.name||a))}},Mn=r=>{const e=new Date,n=new Date(r);let t=e.getFullYear()-n.getFullYear();const s=e.getMonth()-n.getMonth();return(s<0||s===0&&e.getDate()<n.getDate())&&t--,t.toString()},Ln=async r=>{var n;const{default:e}=await J(async()=>{const{default:t}=await import("./D4Nyc0xt.js").then(s=>s.h);return{default:t}},__vite__mapDeps([2,1]),import.meta.url);try{return await e({blob:r,toType:"image/jpeg"})}catch(t){if((n=t==null?void 0:t.message)!=null&&n.includes("already browser readable"))return r;throw t}},Bn=r=>{try{return decodeURIComponent(r)}catch{return r}},On=async()=>{const{default:r}=await J(async()=>{const{default:e}=await import("./BTaIz8BB.js").then(n=>n.aI);return{default:e}},__vite__mapDeps([3,4,1,5,6,7,8]),import.meta.url);return r.initialize({startOnLoad:!1,theme:document.documentElement.classList.contains("dark")?"dark":"default",securityLevel:"loose"}),r},jn=async(r,e)=>{if(await r.parse(e,{suppressErrors:!1})){const{svg:t}=await r.render(`mermaid-${ze()}`,e);return t}return""},Un=async(r,e)=>{const n=await J(()=>import("./TFQifyN8.js"),__vite__mapDeps([9,10,7,11,12,13,14,15,16,17,8,18,19]),import.meta.url),t=JSON.parse(r);let s=t;return t.$schema&&t.$schema.includes("vega-lite")&&(s=(await J(()=>import("./BhfFSfFU.js"),__vite__mapDeps([20,9,10,7,11,12,13,14,15,16,17,8,18,19]),import.meta.url)).compile(t).spec),await new n.View(n.parse(s),{renderer:"none"}).toSVG()},Pn=r=>{const e=r.match(/```[\s\S]*?```/g);let n=[],t="",s="",i="";if(e)e.forEach(a=>{const l=a.split(`
`)[0].replace("```","").trim().toLowerCase(),o=a.replace(/```[\s\S]*?\n/,"").replace(/```$/,"");n.push({lang:l,code:o})}),n.forEach(a=>{const{lang:l,code:o}=a;l==="html"?t+=o+`
`:l==="css"?s+=o+`
`:(l==="javascript"||l==="js")&&(i+=o+`
`)});else{const a=r.match(/<html>[\s\S]*?<\/html>/gi),l=r.match(/<style>[\s\S]*?<\/style>/gi),o=r.match(/<script>[\s\S]*?<\/script>/gi);a&&a.forEach(u=>{const h=u.replace(/<\/?html>/gi,"");t+=h+`
`}),l&&l.forEach(u=>{const h=u.replace(/<\/?style>/gi,"");s+=h+`
`}),o&&o.forEach(u=>{const h=u.replace(/<\/?script>/gi,"");i+=h+`
`})}return{codeBlocks:n,html:t.trim(),css:s.trim(),js:i.trim()}};export{rn as $,gn as A,Bn as B,sn as C,An as D,En as E,$n as F,lt as G,ut as H,fn as I,Rn as J,it as K,yn as L,Fn as M,wn as N,Cn as O,_n as P,Tn as Q,Pn as R,xn as S,ie as T,kn as U,Un as V,On as W,jn as X,on as Y,It as Z,At as _,In as a,an as a0,mn as b,dn as c,Kt as d,vn as e,un as f,Sn as g,pn as h,bn as i,Lt as j,ln as k,pt as l,T as m,Bt as n,cn as o,Mn as p,Ve as q,We as r,Dn as s,Ht as t,Vt as u,Wt as v,zn as w,Ln as x,hn as y,ze as z};
//# sourceMappingURL=cX8aofVu.js.map
