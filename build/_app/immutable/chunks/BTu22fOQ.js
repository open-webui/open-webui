import"./CWj6FrbW.js";import"./69_IOA4Y.js";import{p as Te,g as Xe,o as Ze,i as F,m as X,aQ as ne,j as e,q as ye,v as Oe,f as _,c as a,r as t,a as l,b as Qe,e as H,u as q,w as s,k as n,t as w,d as ce,s as M,l as re,n as we,B as Re}from"./0WpKKl27.js";import{i as P}from"./Cmf4RC8y.js";import{e as se,i as ke}from"./u5Cnd4mY.js";import{r as De,a as fe,s as Fe,c as He}from"./CZ1y6KaE.js";import{b as Je}from"./kb1CvZ3a.js";import{i as Ke}from"./C3k0oZ3o.js";import{p as R}from"./DpN1w328.js";import{s as Ve,a as $e}from"./BVrWTcfB.js";import{t as Ye}from"./DYdr9DjX.js";import{u as et}from"./PCOILo-8.js";import{a as tt,s as at}from"./BaVH4moA.js";import{a as Me}from"./DLhnqOlE.js";import{X as Ue}from"./CZmZoefv.js";import"./BtReZMDb.js";import{P as rt}from"./BYYyNfoo.js";import{T as ze}from"./Db0gdTVr.js";import{S as st}from"./BO1efK8r.js";import{C as Se}from"./pyzZkEHS.js";import{g as it}from"./B4L42j3h.js";var lt=_('<div class="my-10"><!></div>'),vt=_('<button type="button" class="inline-flex items-center space-x-1 px-2 py-1 bg-gray-100/50 dark:bg-gray-850 rounded-lg text-xs"><div> <span class="text-xs text-gray-500"> </span></div> <div><!></div></button>'),ot=_('<div class="mx-1 mb-1.5"><div class="text-xs text-gray-500 mx-0.5 mb-1"> </div> <div class="flex gap-1 flex-wrap"></div></div>'),dt=_('<button type="button" class="inline-flex items-center space-x-1 px-2 py-1 bg-gray-100/50 dark:bg-gray-850 rounded-lg text-xs"><div> </div> <div><!></div></button>'),nt=_('<div class="mx-1 mb-1.5"><div class="text-xs text-gray-500 mx-0.5 mb-1"> </div> <div class="flex gap-1 flex-wrap"></div></div>'),ct=_('<div class="font-medium truncate flex items-center gap-1"> <span class="text-gray-500"> </span></div>'),ft=_('<button class=" dark:border-gray-850 text-xs flex items-center justify-between w-full" type="button"><div class="px-3 py-1.5 font-medium text-gray-900 dark:text-white flex-1"><div class="flex items-center gap-2"><!></div></div> <div class="px-3 py-1"><div class=" translate-y-0.5"><!></div></div></button>'),mt=_('<div class="text-xs text-gray-500 mb-1 mx-1"> </div> <div class="mb-3"></div>',1),_t=_('<img class="rounded-2xl w-6 h-6 object-cover flex-shrink-0" alt="user"/>'),ut=_('<div class="font-medium truncate"> </div>'),xt=_('<div><span class="relative flex size-1.5"><span class="absolute inline-flex h-full w-full animate-ping rounded-full bg-green-400 opacity-75"></span> <span class="relative inline-flex size-1.5 rounded-full bg-green-500"></span></span></div>'),pt=_('<button class=" dark:border-gray-850 text-xs flex items-center justify-between w-full" type="button"><div class="px-3 py-1.5 font-medium text-gray-900 dark:text-white flex-1"><div class="flex items-center gap-2"><!> <!> <!></div></div> <div class="px-3 py-1"><div class=" translate-y-0.5"><!></div></div></button>'),gt=_('<div class="scrollbar-hidden relative whitespace-nowrap w-full max-w-full"><div class=" text-sm text-left text-gray-500 dark:text-gray-400 w-full max-w-full"><div class="w-full max-h-96 overflow-y-auto rounded-lg"><!> <div class="text-xs text-gray-500 mb-1 mx-1"> </div> <div></div></div></div></div>'),bt=_('<div class="text-gray-500 text-xs text-center py-5 px-10"> </div>'),ht=_('<!> <!> <div class="flex gap-1 mb-1"><div class=" flex w-full space-x-2"><div class="flex flex-1"><div class=" self-center ml-1 mr-3"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd"></path></svg></div> <input class=" w-full text-sm pr-4 py-1 rounded-r-xl outline-hidden bg-transparent"/></div></div></div> <!>',1),yt=_("<div><!></div>");function Ot(ie,G){Te(G,!1);const g=()=>$e(Ce,"$i18n",Z),J=()=>$e(et,"$_user",Z),[Z,Be]=Ve(),Ce=Xe("i18n");let me=R(G,"includeGroups",8,!0);R(G,"pagination",8,!1);let b=R(G,"groupIds",28,()=>[]),c=R(G,"userIds",28,()=>[]),K=X(null),V=X([]),U=X({}),z=X({}),Ie=1,D=X(null),_e=X(null),E=X(""),ue="name",xe="asc";const Pe=async()=>{try{const d=await at(localStorage.token,e(E),ue,xe,Ie).catch(k=>(Ye.error(`${k}`),null));d&&(F(D,d.users),F(_e,d.total))}catch(d){}};Ze(async()=>{F(K,await it(localStorage.token,!0)),c().length>0&&c().forEach(async d=>{const k=await tt(localStorage.token,d).catch(O=>null);k&&ne(z,e(z)[d]=k)})}),ye(()=>(e(K),e(E)),()=>{F(V,e(K)?e(K).filter(d=>d.name.toLowerCase().includes(e(E).toLowerCase())):[])}),ye(()=>e(E),()=>{e(E)!==null&&ue!==null&&xe!==null&&Pe()}),Oe(),Ke();var le=yt(),Ge=a(le);{var Ne=d=>{var k=lt(),O=a(k);st(O,{className:"size-5"}),t(k),l(d,k)},je=d=>{var k=ht(),O=H(k);{var Ae=o=>{var u=ot(),y=a(u),N=a(y);t(y);var j=n(y,2);se(j,5,b,ke,(S,v)=>{var W=ce(),Q=H(W);{var h=r=>{var f=vt(),$=a(f),B=a($),x=n(B),i=a(x,!0);t(x),t($);var m=n($,2),A=a(m);Ue(A,{className:"size-3"}),t(m),t(f),w(()=>{M(B,`${e(U),e(v),s(()=>e(U)[e(v)].name)??""} `),M(i,(e(U),e(v),s(()=>e(U)[e(v)].member_count)))}),re("click",f,()=>{b(b().filter(T=>T!==e(v))),delete e(U)[e(v)]}),l(r,f)};P(Q,r=>{e(U),e(v),s(()=>e(U)[e(v)])&&r(h)})}l(S,W)}),t(j),t(u),w(S=>M(N,`${q(b()),s(()=>b().length)??""}
					${S??""}`),[()=>(g(),s(()=>g().t("groups")))]),l(o,u)};P(O,o=>{q(b()),s(()=>b().length>0)&&o(Ae)})}var pe=n(O,2);{var Le=o=>{var u=nt(),y=a(u),N=a(y);t(y);var j=n(y,2);se(j,5,c,ke,(S,v)=>{var W=ce(),Q=H(W);{var h=r=>{var f=dt(),$=a(f),B=a($,!0);t($);var x=n($,2),i=a(x);Ue(i,{className:"size-3"}),t(x),t(f),w(()=>M(B,(e(z),e(v),s(()=>e(z)[e(v)].name)))),re("click",f,()=>{c(c().filter(m=>m!==e(v))),delete e(z)[e(v)]}),l(r,f)};P(Q,r=>{e(z),e(v),s(()=>e(z)[e(v)])&&r(h)})}l(S,W)}),t(j),t(u),w(S=>M(N,`${q(c()),s(()=>c().length)??""}
					${S??""}`),[()=>(g(),s(()=>g().t("users")))]),l(o,u)};P(pe,o=>{q(c()),s(()=>c().length>0)&&o(Le)})}var ve=n(pe,2),ge=a(ve),be=a(ge),oe=n(a(be),2);De(oe),t(be),t(ge),t(ve);var qe=n(ve,2);{var Ee=o=>{var u=gt(),y=a(u),N=a(y),j=a(N);{var S=h=>{var r=mt(),f=H(r),$=a(f,!0);t(f);var B=n(f,2);se(B,7,()=>e(V),x=>x.id,(x,i)=>{var m=ft(),A=a(m),T=a(A),Y=a(T);ze(Y,{get content(){return e(i),s(()=>e(i).name)},placement:"top-start",children:(L,he)=>{var p=ct(),C=a(p),I=n(C),de=a(I,!0);t(I),t(p),w(()=>{M(C,`${e(i),s(()=>e(i).name)??""} `),M(de,(e(i),s(()=>e(i).member_count)))}),l(L,p)},$$slots:{default:!0}}),t(T),t(A);var ee=n(A,2),te=a(ee),ae=a(te);{let L=we(()=>(q(b()),e(i),s(()=>(b()??[]).includes(e(i).id)?"checked":"unchecked")));Se(ae,{get state(){return e(L)}})}t(te),t(ee),t(m),re("click",m,()=>{(b()??[]).includes(e(i).id)?(b(b().filter(L=>L!==e(i).id)),delete e(U)[e(i).id]):(b([...b(),e(i).id]),ne(U,e(U)[e(i).id]=e(i)))}),l(x,m)}),t(B),w(x=>M($,x),[()=>(g(),s(()=>g().t("Groups")))]),l(h,r)};P(j,h=>{q(me()),e(V),s(()=>me()&&e(V).length>0)&&h(S)})}var v=n(j,2),W=a(v,!0);t(v);var Q=n(v,2);se(Q,7,()=>e(D),h=>h.id,(h,r)=>{var f=ce(),$=H(f);{var B=x=>{var i=pt(),m=a(i),A=a(m),T=a(A);rt(T,{get user(){return e(r)},side:"right",align:"center",sideOffset:6,children:(p,C)=>{var I=_t();w(()=>fe(I,"src",(q(Me),e(r),s(()=>`${Me}/users/${e(r).id}/profile/image`)))),l(p,I)},$$slots:{default:!0}});var Y=n(T,2);ze(Y,{get content(){return e(r),s(()=>e(r).email)},placement:"top-start",children:(p,C)=>{var I=ut(),de=a(I,!0);t(I),w(()=>M(de,(e(r),s(()=>e(r).name)))),l(p,I)},$$slots:{default:!0}});var ee=n(Y,2);{var te=p=>{var C=xt();l(p,C)};P(ee,p=>{e(r),s(()=>{var C;return(C=e(r))==null?void 0:C.is_active})&&p(te)})}t(A),t(m);var ae=n(m,2),L=a(ae),he=a(L);{let p=we(()=>(q(c()),e(r),s(()=>(c()??[]).includes(e(r).id)?"checked":"unchecked")));Se(he,{get state(){return e(p)}})}t(L),t(ae),t(i),re("click",i,()=>{(c()??[]).includes(e(r).id)?(c(c().filter(p=>p!==e(r).id)),delete e(z)[e(r).id]):(c([...c(),e(r).id]),ne(z,e(z)[e(r).id]=e(r)))}),l(x,i)};P($,x=>{e(r),J(),s(()=>{var i,m;return((i=e(r))==null?void 0:i.id)!==((m=J())==null?void 0:m.id)})&&x(B)})}l(h,f)}),t(Q),t(N),t(y),t(u),w(h=>M(W,h),[()=>(g(),s(()=>g().t("Users")))]),l(o,u)},We=o=>{var u=bt(),y=a(u,!0);t(u),w(N=>M(y,N),[()=>(g(),s(()=>g().t("No users were found.")))]),l(o,u)};P(qe,o=>{e(D),s(()=>e(D).length>0)?o(Ee):o(We,!1)})}w(o=>fe(oe,"placeholder",o),[()=>(g(),s(()=>g().t("Search")))]),Je(oe,()=>e(E),o=>F(E,o)),l(d,k)};P(Ge,d=>{e(D)===null||e(_e)===null?d(Ne):d(je,!1)})}t(le),l(ie,le),Qe(),Be()}var wt=Re('<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"></path></svg>');function Qt(ie,G){let g=R(G,"className",8,"size-3"),J=R(G,"strokeWidth",8,"1.5");var Z=wt();w(()=>{fe(Z,"stroke-width",J()),Fe(Z,0,He(g()))}),l(ie,Z)}export{Ot as M,Qt as U};
//# sourceMappingURL=BTu22fOQ.js.map
