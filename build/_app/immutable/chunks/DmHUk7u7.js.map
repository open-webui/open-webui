{"version":3,"file":"DmHUk7u7.js","sources":["../../../../../../src/lib/components/chat/MessageInput/AttachWebpageModal.svelte"],"sourcesContent":["<script lang=\"ts\">\n\timport { toast } from 'svelte-sonner';\n\n\timport { getContext } from 'svelte';\n\tconst i18n = getContext('i18n');\n\timport { settings } from '$lib/stores';\n\n\timport Modal from '$lib/components/common/Modal.svelte';\n\timport XMark from '$lib/components/icons/XMark.svelte';\n\timport { isValidHttpUrl } from '$lib/utils';\n\n\texport let show = false;\n\texport let onSubmit: (e) => void;\n\n\tlet url = '';\n\n\tconst submitHandler = () => {\n\t\tlet urls = url\n\t\t\t.split('\\n')\n\t\t\t.map((u) => u.trim())\n\t\t\t.filter((u) => u !== '')\n\t\t\t.filter((u) => isValidHttpUrl(u));\n\n\t\turls = [...new Set(urls)];\n\n\t\tif (urls.length === 0) {\n\t\t\ttoast.error($i18n.t('Please enter a valid URL.'));\n\t\t\treturn;\n\t\t}\n\n\t\tonSubmit({ type: 'web', data: urls });\n\t\tshow = false;\n\t\turl = '';\n\t};\n</script>\n\n<Modal bind:show size=\"sm\">\n\t<div class=\"flex flex-col h-full\">\n\t\t<div class=\"flex justify-between items-center dark:text-gray-100 px-5 pt-4 pb-1.5\">\n\t\t\t<h1 class=\"text-lg font-medium self-center font-primary\">\n\t\t\t\t{$i18n.t('Attach Webpage')}\n\t\t\t</h1>\n\t\t\t<button\n\t\t\t\tclass=\"self-center\"\n\t\t\t\taria-label={$i18n.t('Close modal')}\n\t\t\t\ton:click={() => {\n\t\t\t\t\tshow = false;\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<XMark className=\"size-5\" />\n\t\t\t</button>\n\t\t</div>\n\n\t\t<div class=\"px-5 pb-4\">\n\t\t\t<form\n\t\t\t\ton:submit={(e) => {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tsubmitHandler();\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div class=\"flex justify-between mb-0.5\">\n\t\t\t\t\t<label\n\t\t\t\t\t\tfor=\"webpage-url\"\n\t\t\t\t\t\tclass={`text-xs ${($settings?.highContrastMode ?? false) ? 'text-gray-800 dark:text-gray-100' : 'text-gray-500'}`}\n\t\t\t\t\t\t>{$i18n.t('Webpage URLs')}</label\n\t\t\t\t\t>\n\t\t\t\t</div>\n\n\t\t\t\t<textarea\n\t\t\t\t\tid=\"webpage-url\"\n\t\t\t\t\tclass={`w-full flex-1 text-sm bg-transparent ${($settings?.highContrastMode ?? false) ? 'placeholder:text-gray-700 dark:placeholder:text-gray-100' : 'outline-hidden placeholder:text-gray-300 dark:placeholder:text-gray-700'}`}\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tbind:value={url}\n\t\t\t\t\trows=\"3\"\n\t\t\t\t\tplaceholder={'https://example.com'}\n\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\trequired\n\t\t\t\t/>\n\n\t\t\t\t<div class=\"flex justify-end gap-2 pt-3 bg-gray-50 dark:bg-gray-900/50\">\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass=\"px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-800 text-white dark:bg-white dark:text-black dark:hover:bg-gray-200 transition rounded-full\"\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{$i18n.t('Add')}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</div>\n\t</div>\n</Modal>\n"],"names":["i18n","getContext","show","onSubmit","$.prop","$$props","url","submitHandler","urls","$.get","u","isValidHttpUrl","toast","$i18n","$.set","Modal","$$anchor","$$value","div","root_1","div_1","h1","button","$.sibling","node","$.child","XMark","$.reset","div_2","form","div_3","label","text_1","textarea","$.remove_textarea_child","$.set_attribute","div_4","button_1","text_2","$1","$.set_class","$.untrack","_a","$settings","$.event","e"],"mappings":"uwCAAA,yEAIOA,EAAOC,EAAW,MAAM,EAOnB,IAAAC,gBAAO,EAAK,EACZC,EAAqBC,EAAAC,EAAA,WAAA,CAAA,EAE5BC,IAAM,EAAE,EAEN,MAAAC,EAAa,IAAS,CACvB,IAAAC,EAAIC,EAAGH,CAAA,EACT,MAAM;AAAA,CAAI,EACV,IAAKI,GAAMA,EAAE,MAAI,EACjB,OAAQA,GAAMA,IAAM,EAAE,EACtB,OAAQA,GAAMC,GAAeD,CAAC,CAAA,EAI5B,GAFJF,EAAI,CAAA,GAAA,IAAW,IAAIA,CAAI,CAAA,EAEnBA,EAAK,SAAW,EAAG,CACtBI,GAAM,MAAMC,EAAK,EAAC,EAAE,2BAA2B,CAAA,QAEhD,CAEAV,EAAQ,GAAG,KAAM,MAAO,KAAMK,CAAI,CAAA,EAClCN,EAAO,EAAK,EACZY,EAAAR,EAAM,EAAE,CACT,OAGAS,GAAKC,EAAA,eAAC,MAAS,iBAAT,KAASC,EAAA,4BACdC,EAAGC,GAAA,EACFC,IADDF,CAAG,EAEDG,IADDD,CAAG,MACFC,EAAE,EAAA,IAAFA,CAAE,EAGF,IAAAC,EAAAC,EAHAF,EAAE,CAAA,EAGFG,EAAAC,EAAAH,CAAA,EAOCI,GAAKF,EAAA,CAAA,UAAA,QAAA,CAAA,EAPNG,EAAAL,CAAA,IAJDF,CAAG,EAeH,IAAAQ,IAfAR,EAAG,CAAA,EAgBFS,EAAAJ,EADDG,CAAG,EAODE,EAAGL,EANJI,CAAA,EAOEE,EAAAN,EADDK,CAAG,EACFE,EAAAP,EAAAM,EAAA,EAAA,EAAAJ,EAAAI,CAAA,IADDD,CAAG,EAQH,IAAAG,EAAAV,EARAO,EAAG,CAAA,EAQHI,EAAAD,CAAA,EAAAE,EAAAF,EAAA,cAMa,qBAAqB,EAKlC,IAAAG,EAAGb,EAXHU,EAAA,CAAA,EAYCI,EAAAZ,EADDW,CAAG,EACFE,EAAAb,EAAAY,EAAA,EAAA,EAAAV,EAAAU,CAAA,IADDD,CAAG,EAzBJT,EAAAE,CAAA,IADDD,CAAG,IAhBJV,CAAG,uBAKDiB,EAAAb,EAAA,aAAAiB,CAAA,EAmBEC,EAAAT,EAAA,OAEmBU,EAAA,IAAA,OAAA,mBAAAC,EAAAC,EAAS,IAAT,YAAAD,EAAW,mBAAoB,GAAS,mCAAqC,eAAe,GAAA,WAKhHF,EAAAP,EAAA,oEAEgDS,EAAAC,EAAS,IAAT,YAAAD,EAAW,mBAAoB,GAAS,2DAA6D,yEAAyE,GAAA,4BA9B9N7B,EAAK,EAAC,EAAE,gBAAgB,CAAA,kBAIbA,EAAK,EAAC,EAAE,aAAa,CAAA,kBAoB7BA,EAAK,EAAC,EAAE,cAAc,CAAA,kBAoBvBA,EAAK,EAAC,EAAE,KAAK,CAAA,eA1ChBS,EAAA,IAGgB,CACfpB,EAAO,EAAK,CACb,CAAC,IAqBA+B,EAAA,IAAAxB,EAIYH,CAAG,OAAHA,EAAGW,CAAA,CAAA,EAlBhB2B,EAAA,SAAAf,EACYgB,GAAM,CACjBA,EAAE,eAAc,EAChBtC,EAAa,CACd,CAAC,MArBHW,CAAG,6CAHG"}