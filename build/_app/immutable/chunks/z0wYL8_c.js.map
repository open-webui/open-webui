{"version":3,"file":"z0wYL8_c.js","sources":["../../../../../../src/lib/components/workspace/common/ManifestModal.svelte","../../../../../../src/lib/components/ImportModal.svelte"],"sourcesContent":["<script lang=\"ts\">\n\timport { toast } from 'svelte-sonner';\n\timport { createEventDispatcher } from 'svelte';\n\timport { onMount, getContext } from 'svelte';\n\n\timport Modal from '../../common/Modal.svelte';\n\timport XMark from '$lib/components/icons/XMark.svelte';\n\n\tconst i18n = getContext('i18n');\n\tconst dispatch = createEventDispatcher();\n\n\texport let show = false;\n\texport let manifest = {};\n</script>\n\n<Modal size=\"sm\" bind:show>\n\t<div>\n\t\t<div class=\" flex justify-between dark:text-gray-300 px-5 pt-4 pb-2\">\n\t\t\t<div class=\" text-lg font-medium self-center\">{$i18n.t('Show your support!')}</div>\n\t\t\t<button\n\t\t\t\tclass=\"self-center\"\n\t\t\t\ton:click={() => {\n\t\t\t\t\tshow = false;\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<XMark className={'size-5'} />\n\t\t\t</button>\n\t\t</div>\n\n\t\t<div class=\"flex flex-col md:flex-row w-full px-5 pb-4 md:space-x-4 dark:text-gray-200\">\n\t\t\t<div class=\" flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6\">\n\t\t\t\t<form\n\t\t\t\t\tclass=\"flex flex-col w-full\"\n\t\t\t\t\ton:submit|preventDefault={() => {\n\t\t\t\t\t\tshow = false;\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<div class=\"px-1 text-sm\">\n\t\t\t\t\t\t<div class=\"my-2\">\n\t\t\t\t\t\t\t{$i18n.t(\n\t\t\t\t\t\t\t\t'The developers behind this plugin are passionate volunteers from the community. If you find this plugin helpful, please consider contributing to its development.'\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"my-2\">\n\t\t\t\t\t\t\t{$i18n.t(\n\t\t\t\t\t\t\t\t'Your entire contribution will go directly to the plugin developer; Open WebUI does not take any percentage. However, the chosen funding platform might have its own fees.'\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<hr class=\"dark:border-gray-800 my-3\" />\n\t\t\t\t\t\t<div class=\"my-2\">\n\t\t\t\t\t\t\t{$i18n.t('Support this plugin:')}\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\thref={manifest.funding_url}\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\tclass=\"underline text-blue-400 hover:text-blue-300\">{manifest.funding_url}</a\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"flex justify-end pt-3 text-sm font-medium\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass=\"px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full\"\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{$i18n.t('Done')}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</Modal>\n\n<style>\n\tinput::-webkit-outer-spin-button,\n\tinput::-webkit-inner-spin-button {\n\t\t/* display: none; <- Crashes Chrome on hover */\n\t\t-webkit-appearance: none;\n\t\tmargin: 0; /* <-- Apparently some margin are still there even though it's hidden */\n\t}\n\n\t.tabs::-webkit-scrollbar {\n\t\tdisplay: none; /* for Chrome, Safari and Opera */\n\t}\n\n\t.tabs {\n\t\t-ms-overflow-style: none; /* IE and Edge */\n\t\tscrollbar-width: none; /* Firefox */\n\t}\n\n\tinput[type='number'] {\n\t\t-moz-appearance: textfield; /* Firefox */\n\t}\n</style>\n","<script lang=\"ts\">\n\timport { toast } from 'svelte-sonner';\n\timport { getContext, onMount } from 'svelte';\n\tconst i18n = getContext('i18n');\n\n\timport Spinner from '$lib/components/common/Spinner.svelte';\n\timport Modal from '$lib/components/common/Modal.svelte';\n\timport XMark from '$lib/components/icons/XMark.svelte';\n\timport { extractFrontmatter } from '$lib/utils';\n\n\texport let show = false;\n\n\texport let onImport = (e) => {};\n\texport let onClose = () => {};\n\n\texport let loadUrlHandler: Function = () => {};\n\texport let successMessage: string = '';\n\n\tlet loading = false;\n\tlet url = '';\n\n\tconst submitHandler = async () => {\n\t\tloading = true;\n\n\t\tif (!url) {\n\t\t\ttoast.error($i18n.t('Please enter a valid URL'));\n\t\t\tloading = false;\n\t\t\treturn;\n\t\t}\n\n\t\tconst res = await loadUrlHandler(url).catch((err) => {\n\t\t\ttoast.error(`${err}`);\n\t\t\tloading = false;\n\t\t\treturn null;\n\t\t});\n\n\t\tif (res) {\n\t\t\tif (!successMessage) {\n\t\t\t\tsuccessMessage = $i18n.t('Function imported successfully');\n\t\t\t}\n\n\t\t\ttoast.success(successMessage);\n\n\t\t\tlet func = res;\n\t\t\tfunc.id = func.id || func.name.replace(/\\s+/g, '_').toLowerCase();\n\n\t\t\tconst frontmatter = extractFrontmatter(res.content); // Ensure frontmatter is extracted\n\n\t\t\tif (frontmatter?.title) {\n\t\t\t\tfunc.name = frontmatter.title;\n\t\t\t}\n\n\t\t\tfunc.meta = {\n\t\t\t\t...(func.meta ?? {}),\n\t\t\t\tdescription: frontmatter?.description ?? func.name\n\t\t\t};\n\n\t\t\tonImport(func);\n\t\t\tshow = false;\n\t\t}\n\t};\n</script>\n\n<Modal size=\"sm\" bind:show>\n\t<div>\n\t\t<div class=\" flex justify-between dark:text-gray-300 px-5 pt-4 pb-2\">\n\t\t\t<div class=\" text-lg font-medium self-center\">{$i18n.t('Import')}</div>\n\t\t\t<button\n\t\t\t\tclass=\"self-center\"\n\t\t\t\ton:click={() => {\n\t\t\t\t\tshow = false;\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<XMark className={'size-5'} />\n\t\t\t</button>\n\t\t</div>\n\n\t\t<div class=\"flex flex-col md:flex-row w-full px-4 pb-3 md:space-x-4 dark:text-gray-200\">\n\t\t\t<div class=\" flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6\">\n\t\t\t\t<form\n\t\t\t\t\tclass=\"flex flex-col w-full\"\n\t\t\t\t\ton:submit|preventDefault={() => {\n\t\t\t\t\t\tsubmitHandler();\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<div class=\"px-1\">\n\t\t\t\t\t\t<div class=\"flex flex-col w-full\">\n\t\t\t\t\t\t\t<div class=\" mb-1 text-xs text-gray-500\">{$i18n.t('URL')}</div>\n\n\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclass=\"w-full text-sm bg-transparent disabled:text-gray-500 dark:disabled:text-gray-500 outline-hidden\"\n\t\t\t\t\t\t\t\t\ttype=\"url\"\n\t\t\t\t\t\t\t\t\tbind:value={url}\n\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter the URL to import')}\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t<!-- $i18n.t('Enter the URL of the function to import') -->\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"flex justify-end pt-3 text-sm font-medium\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass=\"px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center {loading\n\t\t\t\t\t\t\t\t? ' cursor-not-allowed'\n\t\t\t\t\t\t\t\t: ''}\"\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{$i18n.t('Import')}\n\n\t\t\t\t\t\t\t{#if loading}\n\t\t\t\t\t\t\t\t<div class=\"ml-2 self-center\">\n\t\t\t\t\t\t\t\t\t<Spinner />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</Modal>\n"],"names":["i18n","getContext","createEventDispatcher","show","manifest","$.prop","$$props","Modal","$$anchor","$$value","div","root_1","div_1","div_2","button","$.sibling","node","$.child","XMark","$.reset","div_3","div_4","form","div_5","div_6","div_7","div_8","a","text_3","text_4","div_9","button_1","text_5","$.set_attribute","$.untrack","$i18n","$.preventDefault","onImport","e","loadUrlHandler","successMessage","loading","url","submitHandler","$.set","$.get","toast","res","err","func","frontmatter","extractFrontmatter","input","$.remove_input_defaults","text_2","div_10","root_2","Spinner","node_2","$$render","consequent","$2"],"mappings":"qgDAAA,gDAQOA,EAAOC,EAAW,MAAM,EACbC,GAAqB,EAE3B,IAAAC,gBAAO,EAAK,EACZC,EAAQC,EAAAC,EAAA,WAAA,GAAA,KAAA,CAAA,EAAA,OAGnBC,GAAKC,EAAA,eAAW,MAAS,iBAAT,KAASC,EAAA,4BACxBC,EAAGC,GAAA,EACFC,IADDF,CAAG,EAEDG,IADDD,CAAG,MACFC,EAAG,EAAA,IAAHA,CAAG,EACH,IAAAC,EAAAC,EADAF,EAAG,CAAA,EACHG,EAAAC,EAAAH,CAAA,EAMCI,gBAAiB,QAAQ,CAAA,EAN1BC,EAAAL,CAAA,IAFDF,CAAG,EAYH,IAAAQ,IAZAR,EAAG,CAAA,EAaFS,IADDD,CAAG,EAEDE,EAAAL,EADDI,CAAG,EAODE,EAAGN,EANJK,CAAA,EAOEE,IADDD,CAAG,MACFC,EAAG,EAAA,IAAHA,CAAG,EAMH,IAAAC,IANAD,EAAG,CAAA,MAMHC,EAAG,EAAA,IAAHA,CAAG,EAOH,IAAAC,IAPAD,EAAG,CAAA,MAOHC,CAAG,EAEFC,EAAAZ,EAAAa,CAAA,EAAAC,EAAAZ,EAAAU,EAAA,EAAA,EAAAR,EAAAQ,CAAA,IAFDD,CAAG,IAdJH,CAAG,EAwBH,IAAAO,IAxBAP,EAAG,CAAA,EAyBFQ,EAAAd,EADDa,CAAG,EACFE,EAAAf,EAAAc,EAAA,EAAA,EAAAZ,EAAAY,CAAA,IADDD,CAAG,EA9BJX,EAAAG,CAAA,IADDD,CAAG,IADJD,CAAG,IAbJV,CAAG,yDAqCGuB,GAAAN,EAAA,UAzCIvB,EAAQ,CAAA,EA0CN8B,EAAA,IAAA9B,EAAQ,EAAC,WAAW,WA1CtBA,EAAQ,CAAA,EA4CyC8B,EAAA,IAAA9B,EAAQ,EAAC,WAAW,4BAtC/B+B,EAAK,EAAC,EAAE,oBAAoB,CAAA,kBAqBtEA,IAAM,EACN,mKAAkK,CAAA,kBAKlKA,IAAM,EACN,2KAA0K,CAAA,kBAM1KA,EAAK,EAAC,EAAE,sBAAsB,CAAA,kBAc9BA,EAAK,EAAC,EAAE,MAAM,CAAA,eA/ClBrB,EAAA,IAEgB,CACfX,EAAO,EAAK,CACb,CAAC,aAQAmB,EAAAc,GAAA,IAEgC,CAC/BjC,EAAO,EAAK,CACb,CAAC,CAAA,MAnBJO,CAAG,8CAHG,+0BCbR,gDAGOV,EAAOC,EAAW,MAAM,EAOnB,IAAAE,gBAAO,EAAK,EAEZkC,EAAQhC,EAAAC,EAAA,WAAA,EAAIgC,GAAM,CAAC,CAAC,EACbjC,EAAAC,EAAA,UAAA,EAAA,IAAS,CAAC,CAAC,MAElBiC,EAAwBlC,EAAAC,EAAA,iBAAA,EAAA,IAAS,CAAC,CAAC,EACnCkC,0BAAyB,EAAE,EAElCC,IAAU,EAAK,EACfC,IAAM,EAAE,EAEN,MAAAC,EAAa,SAAe,CAG5B,GAFLC,EAAAH,EAAU,EAAI,EAET,CAAAI,EAAAH,CAAG,EAAE,CACTI,EAAM,MAAMX,EAAK,EAAC,EAAE,0BAA0B,CAAA,EAC9CS,EAAAH,EAAU,EAAK,QAEhB,OAEMM,EAAG,MAASR,IAAcM,EAACH,CAAG,GAAE,MAAOM,IAC5CF,EAAM,MAAK,GAAIE,CAAG,EAAA,EAClBJ,EAAAH,EAAU,EAAK,EACR,KACP,EAEG,GAAAM,EAAK,CACHP,EAAc,GAClBA,EAAiBL,EAAK,EAAC,EAAE,gCAAgC,CAAA,EAG1DW,EAAM,QAAQN,GAAc,EAExB,IAAAS,EAAOF,EACXE,EAAK,GAAKA,EAAK,IAAMA,EAAK,KAAK,QAAQ,OAAQ,GAAG,EAAE,YAAW,EAEzD,MAAAC,EAAcC,GAAmBJ,EAAI,OAAO,EAE9CG,GAAA,MAAAA,EAAa,QAChBD,EAAK,KAAOC,EAAY,OAGzBD,EAAK,KAAI,CACJ,GAAAA,EAAK,MAAI,CAAA,EACb,aAAaC,GAAA,YAAAA,EAAa,cAAeD,EAAK,MAG/CZ,EAAQ,EAACY,CAAI,EACb9C,EAAO,EAAK,CACb,CACD,OAGAI,GAAKC,EAAA,eAAW,MAAS,iBAAT,KAASC,EAAA,4BACxBC,EAAGC,GAAA,EACFC,IADDF,CAAG,EAEDG,IADDD,CAAG,MACFC,EAAG,EAAA,IAAHA,CAAG,EACH,IAAAC,EAAAC,EADAF,EAAG,CAAA,EACHG,EAAAC,EAAAH,CAAA,EAMCI,gBAAiB,QAAQ,CAAA,EAN1BC,EAAAL,CAAA,IAFDF,CAAG,EAYH,IAAAQ,IAZAR,EAAG,CAAA,EAaFS,IADDD,CAAG,EAEDE,EAAAL,EADDI,CAAG,EAODE,EAAGN,EANJK,CAAA,EAOEE,IADDD,CAAG,EAEDE,IADDD,CAAG,MACFC,EAAG,EAAA,IAAHA,CAAG,EAEH,IAAAC,IAFAD,EAAG,CAAA,EAGF2B,EAAAnC,EADDS,CAAG,EACF2B,GAAAD,CAAA,IADD1B,CAAG,IAHJF,CAAG,IADJD,CAAG,EAkBH,IAAAO,IAlBAP,EAAG,CAAA,EAmBFQ,EAAAd,EADDa,CAAG,EACFwB,EAAArC,EAAAc,CAAA,wBAUEwB,EAAGC,GAAA,MAAHD,CAAG,EACFE,GAAOC,EAAA,EAAA,IADRH,CAAG,MAAHA,CAAG,cADAd,CAAO,GAAAkB,EAAAC,CAAA,IATZzC,EAAAY,CAAA,IADDD,CAAG,EAxBJX,EAAAG,CAAA,IADDD,CAAG,IADJD,CAAG,IAbJV,CAAG,gCA0BIuB,GAAAmB,EAAA,cAAAS,CAAA,KAcF9B,EAAA,EAAA,6LAAAc,EACkMJ,CAAA,EAC/L,sBACA,EAAE,EAAA,EAHLV,EAAA,SAAAc,EAKUJ,CAAO,qCA3C0BN,EAAK,EAAC,EAAE,QAAQ,CAAA,kBAqBjBA,EAAK,EAAC,EAAE,KAAK,CAAA,kBAOxCA,IAAM,EAAE,yBAAyB,CAAA,kBAiB/CA,EAAK,EAAC,EAAE,QAAQ,CAAA,eA5CpBrB,EAAA,IAEgB,CACfX,EAAO,EAAK,CACb,CAAC,KAmBIiD,EAAA,IAAAP,EAGYH,CAAG,OAAHA,EAAGjC,CAAA,CAAA,aAdnBa,EAAAc,GAAA,IAEgC,CAC/BO,EAAa,CACd,CAAC,CAAA,MAnBJjC,CAAG,8CAHG"}