{"version":3,"file":"DUmcHkcJ.js","sources":["../../../../../../node_modules/paneforge/dist/internal/utils/lifecycle.js","../../../../../../node_modules/paneforge/dist/internal/utils/store.js","../../../../../../node_modules/paneforge/dist/internal/utils/style.js","../../../../../../node_modules/paneforge/dist/internal/utils/aria.js","../../../../../../node_modules/paneforge/dist/internal/utils/id.js","../../../../../../node_modules/paneforge/dist/internal/constants.js","../../../../../../node_modules/paneforge/dist/internal/utils/storage.js","../../../../../../node_modules/paneforge/dist/internal/utils/object.js","../../../../../../node_modules/paneforge/dist/internal/utils/chain.js","../../../../../../node_modules/paneforge/dist/internal/utils/event.js","../../../../../../node_modules/paneforge/dist/internal/utils/compare.js","../../../../../../node_modules/paneforge/dist/internal/utils/assert.js","../../../../../../node_modules/paneforge/dist/internal/utils/resize.js","../../../../../../node_modules/paneforge/dist/internal/utils/adjust-layout.js","../../../../../../node_modules/paneforge/dist/internal/utils/is.js","../../../../../../node_modules/paneforge/dist/internal/paneforge.js","../../../../../../node_modules/paneforge/dist/components/ctx.js","../../../../../../node_modules/paneforge/dist/components/pane-group.svelte","../../../../../../node_modules/paneforge/dist/components/pane.svelte","../../../../../../node_modules/paneforge/dist/components/pane-resizer.js","../../../../../../node_modules/paneforge/dist/components/pane-resizer.svelte","../../../../../../src/lib/components/common/RichTextInput/suggestions.ts","../../../../../../src/lib/components/icons/Camera.svelte","../../../../../../src/lib/components/icons/Clip.svelte","../../../../../../src/lib/components/chat/MessageInput/InputVariablesModal.svelte","../../../../../../src/lib/components/chat/MessageInput/Commands/Prompts.svelte","../../../../../../src/lib/components/icons/Youtube.svelte","../../../../../../src/lib/components/chat/MessageInput/Commands/Knowledge.svelte","../../../../../../src/lib/components/chat/MessageInput/Commands/Models.svelte","../../../../../../src/lib/components/chat/MessageInput/CommandSuggestionList.svelte"],"sourcesContent":["import { onDestroy } from \"svelte\";\n/**\n * Safely calls `onDestroy` and catches any errors that occur.\n */\nexport function safeOnDestroy(fn) {\n    try {\n        onDestroy(fn);\n    }\n    catch {\n        return fn();\n    }\n}\n","import { isBrowser, safeOnDestroy } from \"./index.js\";\nimport { derived, writable, } from \"svelte/store\";\n/**\n * A utility function that creates a derived store that automatically\n * unsubscribes from its dependencies.\n *\n * Originally written by @tglide for use in Melt UI. <3\n *\n * @template S - The type of the stores object\n * @template T - The type of the derived store\n * @param stores - The stores object to derive from\n * @param fn - The function to derive the store from\n * @returns A derived store that automatically unsubscribes from its dependencies\n */\nexport function derivedWithUnsubscribe(stores, fn) {\n    let unsubscribers = [];\n    const onUnsubscribe = (cb) => {\n        unsubscribers.push(cb);\n    };\n    const unsubscribe = () => {\n        // Call all of the unsubscribe functions from the previous run of the function\n        unsubscribers.forEach((fn) => fn());\n        // Clear the list of unsubscribe functions\n        unsubscribers = [];\n    };\n    const derivedStore = derived(stores, ($storeValues) => {\n        unsubscribe();\n        return fn($storeValues, onUnsubscribe);\n    });\n    safeOnDestroy(unsubscribe);\n    const subscribe = (...args) => {\n        const unsub = derivedStore.subscribe(...args);\n        return () => {\n            unsub();\n            unsubscribe();\n        };\n    };\n    return {\n        ...derivedStore,\n        subscribe,\n    };\n}\n/**\n * A utility function that creates an effect from a set of stores and a function.\n * The effect is automatically cleaned up when the component is destroyed.\n *\n * Originally written by @tglide for use in Melt UI. <3\n *\n * @template S - The type of the stores object\n * @param stores - The stores object to derive from\n * @param fn - The function to run when the stores change\n * @returns A function that can be used to unsubscribe the effect\n */\nexport function clientEffect(stores, fn) {\n    if (!isBrowser)\n        return () => { };\n    // Create a derived store that contains the stores object and an onUnsubscribe function\n    const unsub = derivedWithUnsubscribe(stores, (stores, onUnsubscribe) => {\n        return {\n            stores,\n            onUnsubscribe,\n        };\n    }).subscribe(({ stores, onUnsubscribe }) => {\n        const returned = fn(stores);\n        // If the function returns a cleanup function, call it when the effect is unsubscribed\n        if (returned) {\n            onUnsubscribe(returned);\n        }\n    });\n    // Automatically unsubscribe the effect when the component is destroyed\n    safeOnDestroy(unsub);\n    return unsub;\n}\n/**\n * Given an object of properties, returns an object of writable stores\n * with the same properties and values.\n */\nexport function toWritableStores(properties) {\n    const result = {};\n    Object.keys(properties).forEach((key) => {\n        const propertyKey = key;\n        const value = properties[propertyKey];\n        result[propertyKey] = writable(value);\n    });\n    return result;\n}\n/**\n * Returns a function that can be used to update the values of options\n * in a store based on the modification of a prop.\n */\nexport function getOptionUpdater(options) {\n    return function (key, value) {\n        if (value === undefined)\n            return;\n        const store = options[key];\n        if (store) {\n            store.set(value);\n        }\n    };\n}\n","/**\n * A utility function that converts a style object to a string,\n * which can be used as the value of the `style` attribute for\n * an element.\n *\n * @param style - The style object to convert\n * @returns The style object as a string\n */\nexport function styleToString(style) {\n    return Object.keys(style).reduce((str, key) => {\n        if (style[key] === undefined)\n            return str;\n        return str + `${key}:${style[key]};`;\n    }, \"\");\n}\n/* Global cursor state */\nlet currentState = null;\n/* Global cursor element */\nlet element = null;\n/**\n * Returns the cursor style for a given cursor state.\n */\nexport function getCursorStyle(state) {\n    switch (state) {\n        case \"horizontal\":\n            return \"ew-resize\";\n        case \"horizontal-max\":\n            return \"w-resize\";\n        case \"horizontal-min\":\n            return \"e-resize\";\n        case \"vertical\":\n            return \"ns-resize\";\n        case \"vertical-max\":\n            return \"n-resize\";\n        case \"vertical-min\":\n            return \"s-resize\";\n    }\n}\n/**\n * Resets the global cursor style to the default.\n */\nexport function resetGlobalCursorStyle() {\n    if (element === null)\n        return;\n    document.head.removeChild(element);\n    currentState = null;\n    element = null;\n}\n/**\n * Sets the global cursor style to the given state.\n */\nexport function setGlobalCursorStyle(state) {\n    if (currentState === state)\n        return;\n    currentState = state;\n    const style = getCursorStyle(state);\n    if (element === null) {\n        element = document.createElement(\"style\");\n        document.head.appendChild(element);\n    }\n    element.innerHTML = `*{cursor: ${style}!important;}`;\n}\n/**\n * Computes the flexbox style for a pane given its layout and drag state.\n */\nexport function computePaneFlexBoxStyle({ defaultSize, dragState, layout, paneData, paneIndex, precision = 3, }) {\n    const size = layout[paneIndex];\n    let flexGrow;\n    if (size == null) {\n        // Initial render (before panes have registered themselves)\n        // To support server rendering, fallback to default size\n        flexGrow = defaultSize ?? \"1\";\n    }\n    else if (paneData.length === 1) {\n        //  Single pane group should always fill full width/height\n        flexGrow = \"1\";\n    }\n    else {\n        flexGrow = size.toPrecision(precision);\n    }\n    return styleToString({\n        \"flex-basis\": 0,\n        \"flex-grow\": flexGrow,\n        \"flex-shrink\": 1,\n        // Without this, pane sizes may be unintentionally overridden by their content\n        overflow: \"hidden\",\n        // Disable pointer events inside of a pane during resize\n        // This avoid edge cases like nested iframes\n        \"pointer-events\": dragState !== null ? \"none\" : undefined,\n    });\n}\n","/**\n * A utility function that calculates the `aria-valuemax`, `aria-valuemin`,\n * and `aria-valuenow` values for a pane based on its layout and constraints.\n */\nexport function calculateAriaValues({ layout, panesArray, pivotIndices, }) {\n    let currentMinSize = 0;\n    let currentMaxSize = 100;\n    let totalMinSize = 0;\n    let totalMaxSize = 0;\n    const firstIndex = pivotIndices[0];\n    // A pane's effective min/max sizes also need to account for other pane's sizes.\n    for (let i = 0; i < panesArray.length; i++) {\n        const { constraints } = panesArray[i];\n        const { maxSize = 100, minSize = 0 } = constraints;\n        if (i === firstIndex) {\n            currentMinSize = minSize;\n            currentMaxSize = maxSize;\n        }\n        else {\n            totalMinSize += minSize;\n            totalMaxSize += maxSize;\n        }\n    }\n    const valueMax = Math.min(currentMaxSize, 100 - totalMinSize);\n    const valueMin = Math.max(currentMinSize, 100 - totalMaxSize);\n    const valueNow = layout[firstIndex];\n    return {\n        valueMax,\n        valueMin,\n        valueNow,\n    };\n}\n","import { nanoid } from \"nanoid/non-secure\";\n/**\n * If an id is provided return it, otherwise generate a new id and return that.\n */\nexport function generateId(idFromProps = null) {\n    if (idFromProps == null)\n        return nanoid(10);\n    return idFromProps;\n}\n","export const LOCAL_STORAGE_DEBOUNCE_INTERVAL = 100;\nexport const PRECISION = 10;\n","import { get } from \"svelte/store\";\nimport { LOCAL_STORAGE_DEBOUNCE_INTERVAL } from \"../constants.js\";\n/**\n * Initializes the storage object with the appropriate getItem\n *  and setItem functions depending on the environment (browser or not).\n */\nexport function initializeStorage(storageObject) {\n    try {\n        if (typeof localStorage === \"undefined\") {\n            throw new Error(\"localStorage is not supported in this environment\");\n        }\n        storageObject.getItem = (name) => localStorage.getItem(name);\n        storageObject.setItem = (name, value) => localStorage.setItem(name, value);\n    }\n    catch (err) {\n        // eslint-disable-next-line no-console\n        console.error(err);\n        storageObject.getItem = () => null;\n        storageObject.setItem = () => { };\n    }\n}\n/**\n * Returns the key to use for storing the pane group state in local storage.\n */\nfunction getPaneGroupKey(autoSaveId) {\n    return `paneforge:${autoSaveId}`;\n}\n/**\n * Returns a key to use for storing the pane state in local storage.\n * The key is based on the pane order and constraints.\n */\nfunction getPaneKey(panes) {\n    const sortedPaneIds = panes\n        .map((pane) => {\n        const { constraints, id, idIsFromProps, order } = pane;\n        return idIsFromProps\n            ? id\n            : order\n                ? `${order}:${JSON.stringify(constraints)}`\n                : JSON.stringify(constraints);\n    })\n        .sort()\n        .join(\",\");\n    return sortedPaneIds;\n}\n/**\n * Loads the serialized pane group state from local storage.\n * If the state is not found, returns null.\n */\nfunction loadSerializedPaneGroupState(autoSaveId, storage) {\n    try {\n        const paneGroupKey = getPaneGroupKey(autoSaveId);\n        const serialized = storage.getItem(paneGroupKey);\n        const parsed = JSON.parse(serialized || \"\");\n        if (typeof parsed === \"object\" && parsed !== null) {\n            return parsed;\n        }\n    }\n    catch {\n        // noop\n    }\n    return null;\n}\n/**\n * Loads the pane group state from local storage.\n * If the state is not found, returns null.\n */\nexport function loadPaneGroupState(autoSaveId, panes, storage) {\n    const state = loadSerializedPaneGroupState(autoSaveId, storage) || {};\n    const paneKey = getPaneKey(panes);\n    return state[paneKey] || null;\n}\n/**\n * Saves the pane group state to local storage.\n */\nexport function savePaneGroupState(autoSaveId, panes, paneSizesBeforeCollapse, sizes, storage) {\n    const paneGroupKey = getPaneGroupKey(autoSaveId);\n    const paneKey = getPaneKey(panes);\n    const state = loadSerializedPaneGroupState(autoSaveId, storage) || {};\n    state[paneKey] = {\n        expandToSizes: Object.fromEntries(paneSizesBeforeCollapse.entries()),\n        layout: sizes,\n    };\n    try {\n        storage.setItem(paneGroupKey, JSON.stringify(state));\n    }\n    catch (error) {\n        // eslint-disable-next-line no-console\n        console.error(error);\n    }\n}\nconst debounceMap = {};\n/**\n * Returns a debounced version of the given function.\n */\n// eslint-disable-next-line @typescript-eslint/ban-types\nfunction debounce(callback, durationMs = 10) {\n    let timeoutId = null;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const callable = (...args) => {\n        if (timeoutId !== null) {\n            clearTimeout(timeoutId);\n        }\n        timeoutId = setTimeout(() => {\n            callback(...args);\n        }, durationMs);\n    };\n    return callable;\n}\n/**\n * Updates the values in local storage based on the current state of\n * the pane group.\n * This function is debounced to limit the frequency of local storage writes.\n */\nexport function updateStorageValues({ autoSaveId, layout, storage, paneDataArrayStore, paneSizeBeforeCollapseStore, }) {\n    const $paneDataArray = get(paneDataArrayStore);\n    // If this pane has been configured to persist sizing\n    // information, save sizes to local storage.\n    if (layout.length === 0 || layout.length !== $paneDataArray.length)\n        return;\n    let debouncedSave = debounceMap[autoSaveId];\n    // Limit frequency of local storage writes.\n    if (debouncedSave == null) {\n        debouncedSave = debounce(savePaneGroupState, LOCAL_STORAGE_DEBOUNCE_INTERVAL);\n        debounceMap[autoSaveId] = debouncedSave;\n    }\n    // Clone mutable data before passing to the debounced function,\n    // else we run the risk of saving an incorrect combination of mutable and immutable values to state.\n    const clonedPaneDataArray = [...$paneDataArray];\n    const $paneSizeBeforeCollapse = get(paneSizeBeforeCollapseStore);\n    const clonedPaneSizesBeforeCollapse = new Map($paneSizeBeforeCollapse);\n    debouncedSave(autoSaveId, clonedPaneDataArray, clonedPaneSizesBeforeCollapse, layout, storage);\n}\n","/**\n * Removes all undefined properties from the given object.\n */\nexport function removeUndefined(obj) {\n    const result = {};\n    for (const key in obj) {\n        const value = obj[key];\n        if (value !== undefined) {\n            result[key] = value;\n        }\n    }\n    return result;\n}\n","/**\n * Executes an array of callback functions with the same arguments.\n * @template T The types of the arguments that the callback functions take.\n * @param n array of callback functions to execute.\n * @returns A new function that executes all of the original callback functions with the same arguments.\n */\nexport function chain(...callbacks) {\n    return (...args) => {\n        for (const callback of callbacks) {\n            if (typeof callback === \"function\") {\n                callback(...args);\n            }\n        }\n    };\n}\n","/**\n * Adds an event listener to the specified target element(s) for the given event(s), and returns a function to remove it.\n * @param target The target element(s) to add the event listener to.\n * @param event The event(s) to listen for.\n * @param handler The function to be called when the event is triggered.\n * @param options An optional object that specifies characteristics about the event listener.\n * @returns A function that removes the event listener from the target element(s).\n */\nexport function addEventListener(target, event, handler, options) {\n    const events = Array.isArray(event) ? event : [event];\n    // Add the event listener to each specified event for the target element(s).\n    events.forEach((_event) => target.addEventListener(_event, handler, options));\n    // Return a function that removes the event listener from the target element(s).\n    return () => {\n        events.forEach((_event) => target.removeEventListener(_event, handler, options));\n    };\n}\n","import { PRECISION } from \"../constants.js\";\n/**\n * Compares two numbers for equality with a given fractional precision.\n */\nexport function areNumbersAlmostEqual(actual, expected, fractionDigits = PRECISION) {\n    return compareNumbersWithTolerance(actual, expected, fractionDigits) === 0;\n}\n/**\n * Compares two numbers with a given tolerance.\n *\n * @returns `-1` if `actual` is less than `expected`, `0` if they are equal,\n * and `1` if `actual` is greater than `expected`.\n */\nexport function compareNumbersWithTolerance(actual, expected, fractionDigits = PRECISION) {\n    const roundedActual = roundTo(actual, fractionDigits);\n    const roundedExpected = roundTo(expected, fractionDigits);\n    return Math.sign(roundedActual - roundedExpected);\n}\n/**\n * Compares two arrays for equality.\n */\nexport function areArraysEqual(arrA, arrB) {\n    if (arrA.length !== arrB.length)\n        return false;\n    for (let index = 0; index < arrA.length; index++) {\n        if (arrA[index] !== arrB[index])\n            return false;\n    }\n    return true;\n}\n/**\n * Rounds a number to a given number of decimal places.\n */\nfunction roundTo(value, decimals) {\n    return parseFloat(value.toFixed(decimals));\n}\n","export function assert(\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexpectedCondition, message = \"Assertion failed!\") {\n    if (!expectedCondition) {\n        // eslint-disable-next-line no-console\n        console.error(message);\n        throw Error(message);\n    }\n}\n","import { PRECISION } from \"../constants.js\";\nimport { assert } from \"./assert.js\";\nimport { compareNumbersWithTolerance } from \"./compare.js\";\n/**\n * Resizes a pane based on its constraints.\n */\nexport function resizePane({ paneConstraints: paneConstraintsArray, paneIndex, initialSize, }) {\n    const paneConstraints = paneConstraintsArray[paneIndex];\n    assert(paneConstraints != null, \"Pane constraints should not be null.\");\n    const { collapsedSize = 0, collapsible, maxSize = 100, minSize = 0 } = paneConstraints;\n    let newSize = initialSize;\n    if (compareNumbersWithTolerance(newSize, minSize) < 0) {\n        newSize = getAdjustedSizeForCollapsible(newSize, collapsible, collapsedSize, minSize);\n    }\n    newSize = Math.min(maxSize, newSize);\n    return parseFloat(newSize.toFixed(PRECISION));\n}\n/**\n * Adjusts the size of a pane based on its collapsible state.\n *\n * If the pane is collapsible, the size will be snapped to the collapsed size\n * or the minimum size based on the halfway point.\n */\nfunction getAdjustedSizeForCollapsible(size, collapsible, collapsedSize, minSize) {\n    if (!collapsible)\n        return minSize;\n    // Snap collapsible panes closed or open based on the halfway point.\n    const halfwayPoint = (collapsedSize + minSize) / 2;\n    return compareNumbersWithTolerance(size, halfwayPoint) < 0 ? collapsedSize : minSize;\n}\n","import { assert } from \"./assert.js\";\nimport { compareNumbersWithTolerance, areNumbersAlmostEqual, resizePane, } from \"./index.js\";\n/**\n * Adjusts the layout of panes based on the delta of the resize handle.\n * All units must be in percentages; pixel values should be pre-converted.\n *\n * Credit: https://github.com/bvaughn/react-resizable-panels\n */\nexport function adjustLayoutByDelta({ delta, layout: prevLayout, paneConstraints: paneConstraintsArray, pivotIndices, trigger, }) {\n    if (areNumbersAlmostEqual(delta, 0))\n        return prevLayout;\n    const nextLayout = [...prevLayout];\n    const [firstPivotIndex, secondPivotIndex] = pivotIndices;\n    let deltaApplied = 0;\n    // A resizing pane affects the panes before or after it.\n    //\n    // A negative delta means the pane(s) immediately after the resize handle should grow/expand by decreasing its offset.\n    // Other panes may also need to shrink/contract (and shift) to make room, depending on the min weights.\n    //\n    // A positive delta means the pane(s) immediately before the resize handle should \"expand\".\n    // This is accomplished by shrinking/contracting (and shifting) one or more of the panes after the resize handle.\n    {\n        // If this is a resize triggered by a keyboard event, our logic for expanding/collapsing is different.\n        // We no longer check the halfway threshold because this may prevent the pane from expanding at all.\n        if (trigger === \"keyboard\") {\n            {\n                // Check if we should expand a collapsed pane\n                const index = delta < 0 ? secondPivotIndex : firstPivotIndex;\n                const paneConstraints = paneConstraintsArray[index];\n                assert(paneConstraints);\n                if (paneConstraints.collapsible) {\n                    const prevSize = prevLayout[index];\n                    assert(prevSize != null);\n                    const paneConstraints = paneConstraintsArray[index];\n                    assert(paneConstraints);\n                    const { collapsedSize = 0, minSize = 0 } = paneConstraints;\n                    if (areNumbersAlmostEqual(prevSize, collapsedSize)) {\n                        const localDelta = minSize - prevSize;\n                        //DEBUG.push(`  -> expand delta: ${localDelta}`);\n                        if (compareNumbersWithTolerance(localDelta, Math.abs(delta)) > 0) {\n                            delta = delta < 0 ? 0 - localDelta : localDelta;\n                            //DEBUG.push(`  -> delta: ${delta}`);\n                        }\n                    }\n                }\n            }\n            {\n                // Check if we should collapse a pane at its minimum size\n                const index = delta < 0 ? firstPivotIndex : secondPivotIndex;\n                const paneConstraints = paneConstraintsArray[index];\n                assert(paneConstraints);\n                const { collapsible } = paneConstraints;\n                if (collapsible) {\n                    const prevSize = prevLayout[index];\n                    assert(prevSize != null);\n                    const paneConstraints = paneConstraintsArray[index];\n                    assert(paneConstraints);\n                    const { collapsedSize = 0, minSize = 0 } = paneConstraints;\n                    if (areNumbersAlmostEqual(prevSize, minSize)) {\n                        const localDelta = prevSize - collapsedSize;\n                        if (compareNumbersWithTolerance(localDelta, Math.abs(delta)) > 0) {\n                            delta = delta < 0 ? 0 - localDelta : localDelta;\n                        }\n                    }\n                }\n            }\n        }\n    }\n    {\n        // Pre-calculate max available delta in the opposite direction of our pivot.\n        // This will be the maximum amount we're allowed to expand/contract the panes in the primary direction.\n        // If this amount is less than the requested delta, adjust the requested delta.\n        // If this amount is greater than the requested delta, that's useful information too–\n        // as an expanding pane might change from collapsed to min size.\n        const increment = delta < 0 ? 1 : -1;\n        let index = delta < 0 ? secondPivotIndex : firstPivotIndex;\n        let maxAvailableDelta = 0;\n        // eslint-disable-next-line no-constant-condition\n        while (true) {\n            const prevSize = prevLayout[index];\n            assert(prevSize != null);\n            const maxSafeSize = resizePane({\n                paneConstraints: paneConstraintsArray,\n                paneIndex: index,\n                initialSize: 100,\n            });\n            const delta = maxSafeSize - prevSize;\n            maxAvailableDelta += delta;\n            index += increment;\n            if (index < 0 || index >= paneConstraintsArray.length) {\n                break;\n            }\n        }\n        const minAbsDelta = Math.min(Math.abs(delta), Math.abs(maxAvailableDelta));\n        delta = delta < 0 ? 0 - minAbsDelta : minAbsDelta;\n    }\n    {\n        // Delta added to a pane needs to be subtracted from other panes (within the constraints that those panes allow).\n        const pivotIndex = delta < 0 ? firstPivotIndex : secondPivotIndex;\n        let index = pivotIndex;\n        while (index >= 0 && index < paneConstraintsArray.length) {\n            const deltaRemaining = Math.abs(delta) - Math.abs(deltaApplied);\n            const prevSize = prevLayout[index];\n            assert(prevSize != null);\n            const unsafeSize = prevSize - deltaRemaining;\n            const safeSize = resizePane({\n                paneConstraints: paneConstraintsArray,\n                paneIndex: index,\n                initialSize: unsafeSize,\n            });\n            if (!areNumbersAlmostEqual(prevSize, safeSize)) {\n                deltaApplied += prevSize - safeSize;\n                nextLayout[index] = safeSize;\n                if (deltaApplied.toPrecision(3).localeCompare(Math.abs(delta).toPrecision(3), undefined, {\n                    numeric: true,\n                }) >= 0) {\n                    break;\n                }\n            }\n            if (delta < 0) {\n                index--;\n            }\n            else {\n                index++;\n            }\n        }\n    }\n    // If we were unable to resize any of the panes, return the previous state.\n    // This will essentially bailout and ignore e.g. drags past a pane's boundaries\n    if (areNumbersAlmostEqual(deltaApplied, 0)) {\n        return prevLayout;\n    }\n    {\n        // Now distribute the applied delta to the panes in the other direction\n        const pivotIndex = delta < 0 ? secondPivotIndex : firstPivotIndex;\n        const prevSize = prevLayout[pivotIndex];\n        assert(prevSize != null);\n        const unsafeSize = prevSize + deltaApplied;\n        const safeSize = resizePane({\n            paneConstraints: paneConstraintsArray,\n            paneIndex: pivotIndex,\n            initialSize: unsafeSize,\n        });\n        // Adjust the pivot pane before, but only by the amount that surrounding panes were able to shrink/contract.\n        nextLayout[pivotIndex] = safeSize;\n        // Edge case where expanding or contracting one pane caused another one to change collapsed state\n        if (!areNumbersAlmostEqual(safeSize, unsafeSize)) {\n            let deltaRemaining = unsafeSize - safeSize;\n            const pivotIndex = delta < 0 ? secondPivotIndex : firstPivotIndex;\n            let index = pivotIndex;\n            while (index >= 0 && index < paneConstraintsArray.length) {\n                const prevSize = nextLayout[index];\n                assert(prevSize != null);\n                const unsafeSize = prevSize + deltaRemaining;\n                const safeSize = resizePane({\n                    paneConstraints: paneConstraintsArray,\n                    paneIndex: index,\n                    initialSize: unsafeSize,\n                });\n                if (!areNumbersAlmostEqual(prevSize, safeSize)) {\n                    deltaRemaining -= safeSize - prevSize;\n                    nextLayout[index] = safeSize;\n                }\n                if (areNumbersAlmostEqual(deltaRemaining, 0))\n                    break;\n                delta > 0 ? index-- : index++;\n            }\n        }\n    }\n    const totalSize = nextLayout.reduce((total, size) => size + total, 0);\n    if (!areNumbersAlmostEqual(totalSize, 100))\n        return prevLayout;\n    return nextLayout;\n}\n","export const isBrowser = typeof document !== \"undefined\";\nexport function isHTMLElement(element) {\n    return element instanceof HTMLElement;\n}\nexport function isKeyDown(event) {\n    return event.type === \"keydown\";\n}\nexport function isMouseEvent(event) {\n    return event.type.startsWith(\"mouse\");\n}\nexport function isTouchEvent(event) {\n    return event.type.startsWith(\"touch\");\n}\n","import { initializeStorage, loadPaneGroupState, resizePane, resetGlobalCursorStyle, setGlobalCursorStyle, updateStorageValues, adjustLayoutByDelta, areNumbersAlmostEqual, areArraysEqual, generateId, removeUndefined, clientEffect, toWritableStores, calculateAriaValues, addEventListener, computePaneFlexBoxStyle, styleToString, isBrowser, isHTMLElement, isKeyDown, isMouseEvent, isTouchEvent, } from \"./utils/index.js\";\nimport { derived, get, writable } from \"svelte/store\";\nimport { assert } from \"./utils/assert.js\";\nimport { onMount } from \"svelte\";\nexport const defaultStorage = {\n    getItem: (name) => {\n        initializeStorage(defaultStorage);\n        return defaultStorage.getItem(name);\n    },\n    setItem: (name, value) => {\n        initializeStorage(defaultStorage);\n        defaultStorage.setItem(name, value);\n    },\n};\nconst defaultProps = {\n    id: null,\n    onLayout: null,\n    keyboardResizeBy: null,\n    autoSaveId: null,\n    direction: \"horizontal\",\n    storage: defaultStorage,\n};\nexport function createPaneForge(props) {\n    const withDefaults = {\n        ...defaultProps,\n        ...removeUndefined(props),\n    };\n    const options = toWritableStores(withDefaults);\n    const { autoSaveId, direction, keyboardResizeBy, storage, onLayout } = options;\n    const groupId = writable(generateId());\n    const dragState = writable(null);\n    const layout = writable([]);\n    const paneDataArray = writable([]);\n    const paneDataArrayChanged = writable(false);\n    const paneIdToLastNotifiedSizeMap = writable({});\n    const paneSizeBeforeCollapseMap = writable(new Map());\n    const prevDelta = writable(0);\n    clientEffect([groupId, layout, paneDataArray], ([$groupId, $layout, $paneDataArray]) => {\n        const unsub = updateResizeHandleAriaValues({\n            groupId: $groupId,\n            layout: $layout,\n            paneDataArray: $paneDataArray,\n        });\n        return unsub;\n    });\n    onMount(() => {\n        const unsub = setResizeHandlerEventListeners();\n        return unsub;\n    });\n    clientEffect([autoSaveId, layout, storage], ([$autoSaveId, $layout, $storage]) => {\n        if (!$autoSaveId)\n            return;\n        updateStorageValues({\n            autoSaveId: $autoSaveId,\n            layout: $layout,\n            storage: $storage,\n            paneDataArrayStore: paneDataArray,\n            paneSizeBeforeCollapseStore: paneSizeBeforeCollapseMap,\n        });\n    });\n    function collapsePane(paneData) {\n        const $prevLayout = get(layout);\n        const $paneDataArray = get(paneDataArray);\n        if (!paneData.constraints.collapsible)\n            return;\n        const paneConstraintsArray = $paneDataArray.map((paneData) => paneData.constraints);\n        const { collapsedSize = 0, paneSize, pivotIndices, } = paneDataHelper($paneDataArray, paneData, $prevLayout);\n        assert(paneSize != null);\n        if (paneSize === collapsedSize)\n            return;\n        // Store the size before collapse, which is returned when `expand()` is called\n        paneSizeBeforeCollapseMap.update((curr) => {\n            curr.set(paneData.id, paneSize);\n            return curr;\n        });\n        const isLastPane = findPaneDataIndex($paneDataArray, paneData) === $paneDataArray.length - 1;\n        const delta = isLastPane ? paneSize - collapsedSize : collapsedSize - paneSize;\n        const nextLayout = adjustLayoutByDelta({\n            delta,\n            layout: $prevLayout,\n            paneConstraints: paneConstraintsArray,\n            pivotIndices,\n            trigger: \"imperative-api\",\n        });\n        if (areArraysEqual($prevLayout, nextLayout))\n            return;\n        layout.set(nextLayout);\n        const $onLayout = get(onLayout);\n        if ($onLayout) {\n            $onLayout(nextLayout);\n        }\n        callPaneCallbacks($paneDataArray, nextLayout, get(paneIdToLastNotifiedSizeMap));\n    }\n    function getPaneSize(paneData) {\n        const $layout = get(layout);\n        const $paneDataArray = get(paneDataArray);\n        const { paneSize } = paneDataHelper($paneDataArray, paneData, $layout);\n        return paneSize;\n    }\n    const getPaneStyle = derived([paneDataArray, layout, dragState], ([$paneDataArray, $layout, $dragState]) => {\n        return (paneData, defaultSize) => {\n            const paneIndex = findPaneDataIndex($paneDataArray, paneData);\n            return computePaneFlexBoxStyle({\n                defaultSize,\n                dragState: $dragState,\n                layout: $layout,\n                paneData: $paneDataArray,\n                paneIndex,\n            });\n        };\n    });\n    function isPaneExpanded(paneData) {\n        const $paneDataArray = get(paneDataArray);\n        const $layout = get(layout);\n        const { collapsedSize = 0, collapsible, paneSize, } = paneDataHelper($paneDataArray, paneData, $layout);\n        return !collapsible || paneSize > collapsedSize;\n    }\n    function registerPane(paneData) {\n        paneDataArray.update((curr) => {\n            const newArr = [...curr, paneData];\n            newArr.sort((paneA, paneB) => {\n                const orderA = paneA.order;\n                const orderB = paneB.order;\n                if (orderA == null && orderB == null) {\n                    return 0;\n                }\n                else if (orderA == null) {\n                    return -1;\n                }\n                else if (orderB == null) {\n                    return 1;\n                }\n                else {\n                    return orderA - orderB;\n                }\n            });\n            return newArr;\n        });\n        paneDataArrayChanged.set(true);\n    }\n    clientEffect([paneDataArrayChanged], ([$paneDataArrayChanged]) => {\n        if (!$paneDataArrayChanged)\n            return;\n        paneDataArrayChanged.set(false);\n        const $autoSaveId = get(autoSaveId);\n        const $storage = get(storage);\n        const $prevLayout = get(layout);\n        const $paneDataArray = get(paneDataArray);\n        // If this pane has been configured to persist sizing information,\n        // default size should be restored from local storage if possible.\n        let unsafeLayout = null;\n        if ($autoSaveId) {\n            const state = loadPaneGroupState($autoSaveId, $paneDataArray, $storage);\n            if (state) {\n                paneSizeBeforeCollapseMap.set(new Map(Object.entries(state.expandToSizes)));\n                unsafeLayout = state.layout;\n            }\n        }\n        if (unsafeLayout == null) {\n            unsafeLayout = getUnsafeDefaultLayout({\n                paneDataArray: $paneDataArray,\n            });\n        }\n        // Validate even saved layouts in case something has changed since last render\n        const nextLayout = validatePaneGroupLayout({\n            layout: unsafeLayout,\n            paneConstraints: $paneDataArray.map((paneData) => paneData.constraints),\n        });\n        if (areArraysEqual($prevLayout, nextLayout))\n            return;\n        layout.set(nextLayout);\n        const $onLayout = get(onLayout);\n        if ($onLayout) {\n            $onLayout(nextLayout);\n        }\n        callPaneCallbacks($paneDataArray, nextLayout, get(paneIdToLastNotifiedSizeMap));\n    });\n    function registerResizeHandle(dragHandleId) {\n        return function resizeHandler(event) {\n            event.preventDefault();\n            const $direction = get(direction);\n            const $dragState = get(dragState);\n            const $groupId = get(groupId);\n            const $keyboardResizeBy = get(keyboardResizeBy);\n            const $prevLayout = get(layout);\n            const $paneDataArray = get(paneDataArray);\n            const { initialLayout } = $dragState ?? {};\n            const pivotIndices = getPivotIndices($groupId, dragHandleId);\n            let delta = getDeltaPercentage(event, dragHandleId, $direction, $dragState, $keyboardResizeBy);\n            if (delta === 0)\n                return;\n            // support RTL\n            const isHorizontal = $direction === \"horizontal\";\n            if (document.dir === \"rtl\" && isHorizontal) {\n                delta = -delta;\n            }\n            const paneConstraints = $paneDataArray.map((paneData) => paneData.constraints);\n            const nextLayout = adjustLayoutByDelta({\n                delta,\n                layout: initialLayout ?? $prevLayout,\n                paneConstraints: paneConstraints,\n                pivotIndices,\n                trigger: isKeyDown(event) ? \"keyboard\" : \"mouse-or-touch\",\n            });\n            const layoutChanged = !areArraysEqual($prevLayout, nextLayout);\n            // Only update the cursor for layout changes triggered by touch/mouse events (not keyboard)\n            // Update the cursor even if the layout hasn't changed (we may need to show an invalid cursor state)\n            if (isMouseEvent(event) || isTouchEvent(event)) {\n                // Watch for multiple subsequent deltas; this might occur for tiny cursor movements.\n                // In this case, Pane sizes might not change–\n                // but updating cursor in this scenario would cause a flicker.\n                const $prevDelta = get(prevDelta);\n                if ($prevDelta != delta) {\n                    prevDelta.set(delta);\n                    if (!layoutChanged) {\n                        // If the pointer has moved too far to resize the pane any further,\n                        // update the cursor style for a visual clue.\n                        // This mimics VS Code behavior.\n                        if (isHorizontal) {\n                            setGlobalCursorStyle(delta < 0 ? \"horizontal-min\" : \"horizontal-max\");\n                        }\n                        else {\n                            setGlobalCursorStyle(delta < 0 ? \"vertical-min\" : \"vertical-max\");\n                        }\n                    }\n                    else {\n                        setGlobalCursorStyle(isHorizontal ? \"horizontal\" : \"vertical\");\n                    }\n                }\n            }\n            if (layoutChanged) {\n                layout.set(nextLayout);\n                const $onLayout = get(onLayout);\n                if ($onLayout) {\n                    $onLayout(nextLayout);\n                }\n                callPaneCallbacks($paneDataArray, nextLayout, get(paneIdToLastNotifiedSizeMap));\n            }\n        };\n    }\n    function resizePane(paneData, unsafePaneSize) {\n        const $prevLayout = get(layout);\n        const $paneDataArray = get(paneDataArray);\n        const paneConstraintsArr = $paneDataArray.map((paneData) => paneData.constraints);\n        const { paneSize, pivotIndices } = paneDataHelper($paneDataArray, paneData, $prevLayout);\n        assert(paneSize != null);\n        const isLastPane = findPaneDataIndex($paneDataArray, paneData) === $paneDataArray.length - 1;\n        const delta = isLastPane ? paneSize - unsafePaneSize : unsafePaneSize - paneSize;\n        const nextLayout = adjustLayoutByDelta({\n            delta,\n            layout: $prevLayout,\n            paneConstraints: paneConstraintsArr,\n            pivotIndices,\n            trigger: \"imperative-api\",\n        });\n        if (areArraysEqual($prevLayout, nextLayout))\n            return;\n        layout.set(nextLayout);\n        const $onLayout = get(onLayout);\n        $onLayout?.(nextLayout);\n        callPaneCallbacks($paneDataArray, nextLayout, get(paneIdToLastNotifiedSizeMap));\n    }\n    function startDragging(dragHandleId, event) {\n        const $direction = get(direction);\n        const $layout = get(layout);\n        const handleElement = getResizeHandleElement(dragHandleId);\n        assert(handleElement);\n        const initialCursorPosition = getResizeEventCursorPosition($direction, event);\n        dragState.set({\n            dragHandleId,\n            dragHandleRect: handleElement.getBoundingClientRect(),\n            initialCursorPosition,\n            initialLayout: $layout,\n        });\n    }\n    function stopDragging() {\n        resetGlobalCursorStyle();\n        dragState.set(null);\n    }\n    function unregisterPane(paneData) {\n        const $paneDataArray = get(paneDataArray);\n        const index = findPaneDataIndex($paneDataArray, paneData);\n        if (index < 0)\n            return;\n        paneDataArray.update((curr) => {\n            curr.splice(index, 1);\n            paneIdToLastNotifiedSizeMap.update((curr) => {\n                delete curr[paneData.id];\n                return curr;\n            });\n            paneDataArrayChanged.set(true);\n            return curr;\n        });\n    }\n    function isPaneCollapsed(paneData) {\n        const $paneDataArray = get(paneDataArray);\n        const $layout = get(layout);\n        const { collapsedSize = 0, collapsible, paneSize, } = paneDataHelper($paneDataArray, paneData, $layout);\n        return collapsible === true && paneSize === collapsedSize;\n    }\n    function expandPane(paneData) {\n        const $prevLayout = get(layout);\n        const $paneDataArray = get(paneDataArray);\n        if (!paneData.constraints.collapsible)\n            return;\n        const paneConstraintsArray = $paneDataArray.map((paneData) => paneData.constraints);\n        const { collapsedSize = 0, paneSize, minSize = 0, pivotIndices, } = paneDataHelper($paneDataArray, paneData, $prevLayout);\n        if (paneSize !== collapsedSize)\n            return;\n        // Restore this pane to the size it was before it was collapsed, if possible.\n        const prevPaneSize = get(paneSizeBeforeCollapseMap).get(paneData.id);\n        const baseSize = prevPaneSize != null && prevPaneSize >= minSize ? prevPaneSize : minSize;\n        const isLastPane = findPaneDataIndex($paneDataArray, paneData) === $paneDataArray.length - 1;\n        const delta = isLastPane ? paneSize - baseSize : baseSize - paneSize;\n        const nextLayout = adjustLayoutByDelta({\n            delta,\n            layout: $prevLayout,\n            paneConstraints: paneConstraintsArray,\n            pivotIndices,\n            trigger: \"imperative-api\",\n        });\n        if (areArraysEqual($prevLayout, nextLayout))\n            return;\n        layout.set(nextLayout);\n        const $onLayout = get(onLayout);\n        $onLayout?.(nextLayout);\n        callPaneCallbacks($paneDataArray, nextLayout, get(paneIdToLastNotifiedSizeMap));\n    }\n    const paneGroupStyle = derived([direction], ([$direction]) => {\n        return styleToString({\n            display: \"flex\",\n            \"flex-direction\": $direction === \"horizontal\" ? \"row\" : \"column\",\n            height: \"100%\",\n            overflow: \"hidden\",\n            width: \"100%\",\n        });\n    });\n    const paneGroupSelectors = derived([direction, groupId], ([$direction, $groupId]) => {\n        return {\n            \"data-pane-group\": \"\",\n            \"data-direction\": $direction,\n            \"data-pane-group-id\": $groupId,\n        };\n    });\n    const paneGroupAttrs = derived([paneGroupStyle, paneGroupSelectors], ([$style, $selectors]) => {\n        return {\n            style: $style,\n            ...$selectors,\n        };\n    });\n    function setResizeHandlerEventListeners() {\n        const $groupId = get(groupId);\n        const handles = getResizeHandleElementsForGroup($groupId);\n        const unsubHandlers = handles.map((handle) => {\n            const handleId = handle.getAttribute(\"data-pane-resizer-id\");\n            if (!handleId)\n                return noop;\n            const [idBefore, idAfter] = getResizeHandlePaneIds($groupId, handleId, get(paneDataArray));\n            if (idBefore == null || idAfter == null)\n                return noop;\n            const onKeydown = (e) => {\n                if (e.defaultPrevented || e.key !== \"Enter\")\n                    return;\n                e.preventDefault();\n                const $paneDataArray = get(paneDataArray);\n                const index = $paneDataArray.findIndex((paneData) => paneData.id === idBefore);\n                if (index < 0)\n                    return;\n                const paneData = $paneDataArray[index];\n                assert(paneData);\n                const $layout = get(layout);\n                const size = $layout[index];\n                const { collapsedSize = 0, collapsible, minSize = 0 } = paneData.constraints;\n                if (!(size != null && collapsible))\n                    return;\n                const nextLayout = adjustLayoutByDelta({\n                    delta: areNumbersAlmostEqual(size, collapsedSize) ? minSize - size : collapsedSize - size,\n                    layout: $layout,\n                    paneConstraints: $paneDataArray.map((paneData) => paneData.constraints),\n                    pivotIndices: getPivotIndices($groupId, handleId),\n                    trigger: \"keyboard\",\n                });\n                if ($layout !== nextLayout) {\n                    layout.set(nextLayout);\n                }\n            };\n            const unsubListener = addEventListener(handle, \"keydown\", onKeydown);\n            return () => {\n                unsubListener();\n            };\n        });\n        return () => {\n            unsubHandlers.forEach((unsub) => unsub());\n        };\n    }\n    function setLayout(newLayout) {\n        layout.set(newLayout);\n    }\n    function getLayout() {\n        return get(layout);\n    }\n    return {\n        methods: {\n            collapsePane,\n            expandPane,\n            getSize: getPaneSize,\n            getPaneStyle,\n            isCollapsed: isPaneCollapsed,\n            isExpanded: isPaneExpanded,\n            registerPane,\n            registerResizeHandle,\n            resizePane,\n            startDragging,\n            stopDragging,\n            unregisterPane,\n            setLayout,\n            getLayout,\n        },\n        states: {\n            direction,\n            dragState,\n            groupId,\n            paneGroupAttrs,\n            paneGroupSelectors,\n            paneGroupStyle,\n            layout,\n        },\n        options,\n    };\n}\nfunction updateResizeHandleAriaValues({ groupId, layout, paneDataArray, }) {\n    const resizeHandleElements = getResizeHandleElementsForGroup(groupId);\n    for (let index = 0; index < paneDataArray.length - 1; index++) {\n        const { valueMax, valueMin, valueNow } = calculateAriaValues({\n            layout,\n            panesArray: paneDataArray,\n            pivotIndices: [index, index + 1],\n        });\n        const resizeHandleEl = resizeHandleElements[index];\n        if (isHTMLElement(resizeHandleEl)) {\n            const paneData = paneDataArray[index];\n            resizeHandleEl.setAttribute(\"aria-controls\", paneData.id);\n            resizeHandleEl.setAttribute(\"aria-valuemax\", \"\" + Math.round(valueMax));\n            resizeHandleEl.setAttribute(\"aria-valuemin\", \"\" + Math.round(valueMin));\n            resizeHandleEl.setAttribute(\"aria-valuenow\", valueNow != null ? \"\" + Math.round(valueNow) : \"\");\n        }\n    }\n    return () => {\n        resizeHandleElements.forEach((resizeHandleElement) => {\n            resizeHandleElement.removeAttribute(\"aria-controls\");\n            resizeHandleElement.removeAttribute(\"aria-valuemax\");\n            resizeHandleElement.removeAttribute(\"aria-valuemin\");\n            resizeHandleElement.removeAttribute(\"aria-valuenow\");\n        });\n    };\n}\nexport function getResizeHandleElementsForGroup(groupId) {\n    if (!isBrowser)\n        return [];\n    return Array.from(document.querySelectorAll(`[data-pane-resizer-id][data-pane-group-id=\"${groupId}\"]`));\n}\nfunction getPaneGroupElement(id) {\n    if (!isBrowser)\n        return null;\n    const element = document.querySelector(`[data-pane-group][data-pane-group-id=\"${id}\"]`);\n    if (element) {\n        return element;\n    }\n    return null;\n}\nfunction noop() {\n    // do nothing\n}\nexport function getResizeHandlePaneIds(groupId, handleId, panesArray) {\n    const handle = getResizeHandleElement(handleId);\n    const handles = getResizeHandleElementsForGroup(groupId);\n    const index = handle ? handles.indexOf(handle) : -1;\n    const idBefore = panesArray[index]?.id ?? null;\n    const idAfter = panesArray[index + 1]?.id ?? null;\n    return [idBefore, idAfter];\n}\nexport function getResizeHandleElement(id) {\n    if (!isBrowser)\n        return null;\n    const element = document.querySelector(`[data-pane-resizer-id=\"${id}\"]`);\n    if (element) {\n        return element;\n    }\n    return null;\n}\nexport function getResizeHandleElementIndex(groupId, id) {\n    if (!isBrowser)\n        return null;\n    const handles = getResizeHandleElementsForGroup(groupId);\n    const index = handles.findIndex((handle) => handle.getAttribute(\"data-pane-resizer-id\") === id);\n    return index ?? null;\n}\nfunction getPivotIndices(groupId, dragHandleId) {\n    const index = getResizeHandleElementIndex(groupId, dragHandleId);\n    return index != null ? [index, index + 1] : [-1, -1];\n}\nfunction paneDataHelper(paneDataArray, paneData, layout) {\n    const paneConstraintsArray = paneDataArray.map((paneData) => paneData.constraints);\n    const paneIndex = findPaneDataIndex(paneDataArray, paneData);\n    const paneConstraints = paneConstraintsArray[paneIndex];\n    const isLastPane = paneIndex === paneDataArray.length - 1;\n    const pivotIndices = isLastPane ? [paneIndex - 1, paneIndex] : [paneIndex, paneIndex + 1];\n    const paneSize = layout[paneIndex];\n    return {\n        ...paneConstraints,\n        paneSize,\n        pivotIndices,\n    };\n}\nfunction findPaneDataIndex(paneDataArray, paneData) {\n    return paneDataArray.findIndex((prevPaneData) => prevPaneData.id === paneData.id);\n}\n// Layout should be pre-converted into percentages\nfunction callPaneCallbacks(paneArray, layout, paneIdToLastNotifiedSizeMap) {\n    layout.forEach((size, index) => {\n        const paneData = paneArray[index];\n        assert(paneData);\n        const { callbacks, constraints, id: paneId } = paneData;\n        const { collapsedSize = 0, collapsible } = constraints;\n        const lastNotifiedSize = paneIdToLastNotifiedSizeMap[paneId];\n        // invert the logic from below\n        if (!(lastNotifiedSize == null || size !== lastNotifiedSize))\n            return;\n        paneIdToLastNotifiedSizeMap[paneId] = size;\n        const { onCollapse, onExpand, onResize } = callbacks;\n        onResize?.(size, lastNotifiedSize);\n        if (collapsible && (onCollapse || onExpand)) {\n            if (onExpand &&\n                (lastNotifiedSize == null || lastNotifiedSize === collapsedSize) &&\n                size !== collapsedSize) {\n                onExpand();\n            }\n            if (onCollapse &&\n                (lastNotifiedSize == null || lastNotifiedSize !== collapsedSize) &&\n                size === collapsedSize) {\n                onCollapse();\n            }\n        }\n    });\n}\nfunction getUnsafeDefaultLayout({ paneDataArray }) {\n    const layout = Array(paneDataArray.length);\n    const paneConstraintsArray = paneDataArray.map((paneData) => paneData.constraints);\n    let numPanesWithSizes = 0;\n    let remainingSize = 100;\n    // Distribute default sizes first\n    for (let index = 0; index < paneDataArray.length; index++) {\n        const paneConstraints = paneConstraintsArray[index];\n        assert(paneConstraints);\n        const { defaultSize } = paneConstraints;\n        if (defaultSize != null) {\n            numPanesWithSizes++;\n            layout[index] = defaultSize;\n            remainingSize -= defaultSize;\n        }\n    }\n    // Remaining size should be distributed evenly between panes without default sizes\n    for (let index = 0; index < paneDataArray.length; index++) {\n        const paneConstraints = paneConstraintsArray[index];\n        assert(paneConstraints);\n        const { defaultSize } = paneConstraints;\n        if (defaultSize != null) {\n            continue;\n        }\n        const numRemainingPanes = paneDataArray.length - numPanesWithSizes;\n        const size = remainingSize / numRemainingPanes;\n        numPanesWithSizes++;\n        layout[index] = size;\n        remainingSize -= size;\n    }\n    return layout;\n}\n// All units must be in percentages\nfunction validatePaneGroupLayout({ layout: prevLayout, paneConstraints, }) {\n    const nextLayout = [...prevLayout];\n    const nextLayoutTotalSize = nextLayout.reduce((accumulated, current) => accumulated + current, 0);\n    // Validate layout expectations\n    if (nextLayout.length !== paneConstraints.length) {\n        throw Error(`Invalid ${paneConstraints.length} pane layout: ${nextLayout\n            .map((size) => `${size}%`)\n            .join(\", \")}`);\n    }\n    else if (!areNumbersAlmostEqual(nextLayoutTotalSize, 100)) {\n        for (let index = 0; index < paneConstraints.length; index++) {\n            const unsafeSize = nextLayout[index];\n            assert(unsafeSize != null);\n            const safeSize = (100 / nextLayoutTotalSize) * unsafeSize;\n            nextLayout[index] = safeSize;\n        }\n    }\n    let remainingSize = 0;\n    // First pass: Validate the proposed layout given each pane's constraints\n    for (let index = 0; index < paneConstraints.length; index++) {\n        const unsafeSize = nextLayout[index];\n        assert(unsafeSize != null);\n        const safeSize = resizePane({\n            paneConstraints,\n            paneIndex: index,\n            initialSize: unsafeSize,\n        });\n        if (unsafeSize != safeSize) {\n            remainingSize += unsafeSize - safeSize;\n            nextLayout[index] = safeSize;\n        }\n    }\n    // If there is additional, left over space, assign it to any pane(s) that permits it\n    // (It's not worth taking multiple additional passes to evenly distribute)\n    if (!areNumbersAlmostEqual(remainingSize, 0)) {\n        for (let index = 0; index < paneConstraints.length; index++) {\n            const prevSize = nextLayout[index];\n            assert(prevSize != null);\n            const unsafeSize = prevSize + remainingSize;\n            const safeSize = resizePane({\n                paneConstraints,\n                paneIndex: index,\n                initialSize: unsafeSize,\n            });\n            if (prevSize !== safeSize) {\n                remainingSize -= safeSize - prevSize;\n                nextLayout[index] = safeSize;\n                // Once we've used up the remainder, bail\n                if (areNumbersAlmostEqual(remainingSize, 0)) {\n                    break;\n                }\n            }\n        }\n    }\n    return nextLayout;\n}\n// https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/movementX\nfunction getDeltaPercentage(e, dragHandleId, dir, initialDragState, keyboardResizeBy) {\n    if (isKeyDown(e)) {\n        const isHorizontal = dir === \"horizontal\";\n        let delta = 0;\n        if (e.shiftKey) {\n            delta = 100;\n        }\n        else if (keyboardResizeBy != null) {\n            delta = keyboardResizeBy;\n        }\n        else {\n            delta = 10;\n        }\n        let movement = 0;\n        switch (e.key) {\n            case \"ArrowDown\":\n                movement = isHorizontal ? 0 : delta;\n                break;\n            case \"ArrowLeft\":\n                movement = isHorizontal ? -delta : 0;\n                break;\n            case \"ArrowRight\":\n                movement = isHorizontal ? delta : 0;\n                break;\n            case \"ArrowUp\":\n                movement = isHorizontal ? 0 : -delta;\n                break;\n            case \"End\":\n                movement = 100;\n                break;\n            case \"Home\":\n                movement = -100;\n                break;\n        }\n        return movement;\n    }\n    else {\n        if (initialDragState == null)\n            return 0;\n        return getDragOffsetPercentage(e, dragHandleId, dir, initialDragState);\n    }\n}\nfunction getDragOffsetPercentage(e, dragHandleId, dir, initialDragState) {\n    const isHorizontal = dir === \"horizontal\";\n    const handleElement = getResizeHandleElement(dragHandleId);\n    assert(handleElement);\n    const groupId = handleElement.getAttribute(\"data-pane-group-id\");\n    assert(groupId);\n    const { initialCursorPosition } = initialDragState;\n    const cursorPosition = getResizeEventCursorPosition(dir, e);\n    const groupElement = getPaneGroupElement(groupId);\n    assert(groupElement);\n    const groupRect = groupElement.getBoundingClientRect();\n    const groupSizeInPixels = isHorizontal ? groupRect.width : groupRect.height;\n    const offsetPixels = cursorPosition - initialCursorPosition;\n    const offsetPercentage = (offsetPixels / groupSizeInPixels) * 100;\n    return offsetPercentage;\n}\nfunction getResizeEventCursorPosition(dir, e) {\n    const isHorizontal = dir === \"horizontal\";\n    if (isMouseEvent(e)) {\n        return isHorizontal ? e.clientX : e.clientY;\n    }\n    else if (isTouchEvent(e)) {\n        const firstTouch = e.touches[0];\n        assert(firstTouch);\n        return isHorizontal ? firstTouch.screenX : firstTouch.screenY;\n    }\n    else {\n        throw Error(`Unsupported event type \"${e.type}\"`);\n    }\n}\n","import { createPaneForge } from \"../internal/paneforge.js\";\nimport { getContext, hasContext, setContext } from \"svelte\";\nimport { removeUndefined, getOptionUpdater } from \"../internal/utils/index.js\";\nconst PF_GROUP_CTX = Symbol(\"PF_GROUP_CTX\");\nexport function setCtx(props) {\n    const paneForge = createPaneForge(removeUndefined(props));\n    const updateOption = getOptionUpdater(paneForge.options);\n    const ctxValue = { ...paneForge, updateOption };\n    setContext(PF_GROUP_CTX, ctxValue);\n    return ctxValue;\n}\nexport function getCtx(componentName) {\n    if (!hasContext(PF_GROUP_CTX)) {\n        throw new Error(`${componentName} components must be rendered with a <PaneGroup> container`);\n    }\n    return getContext(PF_GROUP_CTX);\n}\n","<script>import { setCtx } from \"./ctx.js\";\nimport {} from \"../internal/utils/index.js\";\nimport { defaultStorage } from \"../internal/paneforge.js\";\nexport let autoSaveId = null;\nexport let direction;\nexport let id = null;\nexport let keyboardResizeBy = null;\nexport let onLayoutChange = null;\nexport let storage = defaultStorage;\nexport let el = void 0;\nexport let paneGroup = void 0;\nlet styleFromProps = void 0;\nexport { styleFromProps as style };\nconst {\n  states: { paneGroupStyle, paneGroupSelectors, groupId },\n  methods: { setLayout, getLayout },\n  updateOption\n} = setCtx({\n  autoSaveId,\n  direction,\n  id,\n  keyboardResizeBy,\n  onLayout: onLayoutChange,\n  storage\n});\n$:\n  updateOption(\"autoSaveId\", autoSaveId);\n$:\n  updateOption(\"direction\", direction);\n$:\n  updateOption(\"id\", id);\n$:\n  updateOption(\"keyboardResizeBy\", keyboardResizeBy);\n$:\n  updateOption(\"onLayout\", onLayoutChange);\n$:\n  updateOption(\"storage\", storage);\npaneGroup = {\n  getLayout,\n  setLayout,\n  getId: () => $groupId\n};\n$:\n  style = $paneGroupStyle + (styleFromProps ?? \"\");\n</script>\n\n<div bind:this={el} id={$groupId} {...$paneGroupSelectors} {style} {...$$restProps}>\n\t<slot />\n</div>\n","<script>import { generateId } from \"../internal/utils/index.js\";\nimport { onMount } from \"svelte\";\nimport { getCtx } from \"./ctx.js\";\nexport let collapsedSize = void 0;\nexport let collapsible = void 0;\nexport let defaultSize = void 0;\nexport let maxSize = void 0;\nexport let minSize = void 0;\nexport let onCollapse = void 0;\nexport let onExpand = void 0;\nexport let onResize = void 0;\nexport let order = void 0;\nexport let el = void 0;\nexport let pane = void 0;\nlet idFromProps = void 0;\nexport { idFromProps as id };\nlet styleFromProps = void 0;\nexport { styleFromProps as style };\nconst {\n  methods: {\n    getPaneStyle,\n    registerPane,\n    unregisterPane,\n    collapsePane,\n    expandPane,\n    getSize,\n    isCollapsed,\n    isExpanded,\n    resizePane\n  },\n  states: { groupId }\n} = getCtx(\"Pane\");\nconst paneId = generateId(idFromProps);\nlet paneData;\n$:\n  paneData = {\n    callbacks: {\n      onCollapse,\n      onExpand,\n      onResize\n    },\n    constraints: {\n      collapsedSize,\n      collapsible,\n      defaultSize,\n      maxSize,\n      minSize\n    },\n    id: paneId,\n    idIsFromProps: idFromProps !== void 0,\n    order\n  };\npane = {\n  collapse: () => {\n    collapsePane(paneData);\n  },\n  expand: () => expandPane(paneData),\n  getSize: () => getSize(paneData),\n  isCollapsed: () => isCollapsed(paneData),\n  isExpanded: () => isExpanded(paneData),\n  resize: (size) => resizePane(paneData, size),\n  getId: () => paneId\n};\nonMount(() => {\n  registerPane(paneData);\n  return () => {\n    unregisterPane(paneData);\n  };\n});\n$:\n  style = $getPaneStyle(paneData, defaultSize) + (styleFromProps ?? \"\");\n$:\n  attrs = {\n    \"data-pane\": \"\",\n    \"data-pane-id\": paneId,\n    \"data-pane-group-id\": $groupId\n  };\n</script>\n\n<div bind:this={el} {style} {...attrs} {...$$restProps}>\n\t<slot />\n</div>\n","import { chain } from \"../internal/utils/chain.js\";\nimport { addEventListener } from \"../internal/utils/event.js\";\n/**\n * A Svelte action that adds resize handle functionality to an element.\n * This action is used to handle the dragging of a resize handle.\n */\nexport function resizeHandleAction(node, params) {\n    let unsub = () => { };\n    function update(params) {\n        unsub();\n        const { disabled, resizeHandler, isDragging, stopDragging, onDragging = undefined } = params;\n        if (disabled || resizeHandler === null || !isDragging)\n            return;\n        const onMove = (event) => {\n            resizeHandler(event);\n        };\n        const onMouseLeave = (event) => {\n            resizeHandler(event);\n        };\n        const stopDraggingAndBlur = () => {\n            node.blur();\n            stopDragging();\n            if (onDragging) {\n                onDragging(false);\n            }\n        };\n        unsub = chain(addEventListener(document.body, \"contextmenu\", stopDraggingAndBlur), addEventListener(document.body, \"mousemove\", onMove), addEventListener(document.body, \"touchmove\", onMove, { passive: false }), addEventListener(document.body, \"mouseleave\", onMouseLeave), addEventListener(window, \"mouseup\", stopDraggingAndBlur), addEventListener(window, \"touchend\", stopDraggingAndBlur));\n    }\n    update(params);\n    return {\n        update,\n        onDestroy() {\n            unsub();\n        },\n    };\n}\n","<script>import {\n  getResizeHandleElementIndex,\n  getResizeHandleElementsForGroup\n} from \"../internal/paneforge.js\";\nimport { generateId, getCursorStyle, styleToString } from \"../internal/utils/index.js\";\nimport { onMount } from \"svelte\";\nimport { getCtx } from \"./ctx.js\";\nimport { resizeHandleAction } from \"./pane-resizer.js\";\nexport let disabled = false;\nexport let onDraggingChange = void 0;\nexport let tabIndex = 0;\nexport let el = null;\nexport let idFromProps = void 0;\nexport { idFromProps as id };\nexport let styleFromProps = void 0;\nexport { styleFromProps as style };\nconst {\n  methods: { registerResizeHandle, startDragging, stopDragging },\n  states: { direction, dragState, groupId }\n} = getCtx(\"PaneResizer\");\nconst resizeHandleId = generateId(idFromProps);\n$:\n  isDragging = $dragState?.dragHandleId === resizeHandleId;\nlet isFocused = false;\nlet resizeHandler = null;\nfunction stopDraggingAndBlur() {\n  const element = el;\n  if (!element)\n    return;\n  element.blur();\n  stopDragging();\n  onDraggingChange?.(false);\n}\nonMount(() => {\n  if (disabled) {\n    resizeHandler = null;\n  } else {\n    resizeHandler = registerResizeHandle(resizeHandleId);\n  }\n});\n$:\n  if (disabled) {\n    resizeHandler = null;\n  } else {\n    resizeHandler = registerResizeHandle(resizeHandleId);\n  }\nfunction handleKeydown(event) {\n  if (disabled || !resizeHandler || event.defaultPrevented)\n    return;\n  const resizeKeys = [\"ArrowDown\", \"ArrowLeft\", \"ArrowRight\", \"ArrowUp\", \"End\", \"Home\"];\n  if (resizeKeys.includes(event.key)) {\n    event.preventDefault();\n    resizeHandler(event);\n    return;\n  }\n  if (event.key !== \"F6\")\n    return;\n  event.preventDefault();\n  const handles = getResizeHandleElementsForGroup($groupId);\n  const index = getResizeHandleElementIndex($groupId, resizeHandleId);\n  if (index === null)\n    return;\n  const nextIndex = event.shiftKey ? index > 0 ? index - 1 : handles.length - 1 : index + 1 < handles.length ? index + 1 : 0;\n  const nextHandle = handles[nextIndex];\n  nextHandle.focus();\n}\n$:\n  style = styleToString({\n    cursor: getCursorStyle($direction),\n    \"touch-action\": \"none\",\n    \"user-select\": \"none\",\n    \"-webkit-user-select\": \"none\",\n    \"-webkit-touch-callout\": \"none\"\n  }) + styleFromProps;\n$:\n  attrs = {\n    \"data-direction\": $direction,\n    \"data-pane-group-id\": $groupId,\n    \"data-active\": isDragging ? \"pointer\" : isFocused ? \"keyboard\" : void 0,\n    \"data-enabled\": !disabled,\n    \"data-pane-resizer-id\": resizeHandleId,\n    \"data-pane-resizer\": \"\"\n  };\n</script>\n\n<!-- svelte-ignore a11y-no-noninteractive-element-interactions -->\n<!-- eslint-disable-next-line svelte/valid-compile -->\n<!-- svelte-ignore a11y-no-noninteractive-tabindex -->\n<div\n\tbind:this={el}\n\trole=\"separator\"\n\t{style}\n\tuse:resizeHandleAction={{\n\t\tdisabled,\n\t\tresizeHandler,\n\t\tstopDragging,\n\t\tisDragging,\n\t\tonDragging: onDraggingChange,\n\t}}\n\ton:keydown={handleKeydown}\n\ton:blur={() => (isFocused = false)}\n\ton:focus={() => (isFocused = true)}\n\ton:mousedown={(e) => {\n\t\te.preventDefault();\n\t\tstartDragging(resizeHandleId, e);\n\t\tonDraggingChange?.(true);\n\t}}\n\ton:mouseup={stopDraggingAndBlur}\n\ton:touchcancel={stopDraggingAndBlur}\n\ton:touchend={stopDraggingAndBlur}\n\ton:touchstart={(e) => {\n\t\te.preventDefault();\n\t\tstartDragging(resizeHandleId, e);\n\t\tonDraggingChange?.(true);\n\t}}\n\ttabindex={tabIndex}\n\t{...attrs}\n\t{...$$restProps}\n>\n\t<slot />\n</div>\n","import { mount, unmount } from 'svelte';\nimport { createClassComponent } from 'svelte/legacy';\n\nimport tippy from 'tippy.js';\n\nexport function getSuggestionRenderer(Component: any, ComponentProps = {}) {\n\treturn function suggestionRenderer() {\n\t\tlet component = null;\n\t\tlet container: HTMLDivElement | null = null;\n\n\t\tlet popup: TippyInstance | null = null;\n\t\tlet refEl: HTMLDivElement | null = null; // dummy reference\n\n\t\treturn {\n\t\t\tonStart: (props: any) => {\n\t\t\t\tcontainer = document.createElement('div');\n\t\t\t\tcontainer.className = 'suggestion-list-container';\n\t\t\t\tdocument.body.appendChild(container);\n\n\t\t\t\t// mount Svelte component\n\t\t\t\tcomponent = createClassComponent({\n\t\t\t\t\tcomponent: Component,\n\t\t\t\t\ttarget: container,\n\t\t\t\t\tprops: {\n\t\t\t\t\t\tchar: props?.text,\n\t\t\t\t\t\tquery: props?.query,\n\t\t\t\t\t\tcommand: (item) => {\n\t\t\t\t\t\t\tprops.command({ id: item.id, label: item.label });\n\t\t\t\t\t\t},\n\t\t\t\t\t\t...ComponentProps\n\t\t\t\t\t},\n\t\t\t\t\tcontext: new Map<string, any>([['i18n', ComponentProps?.i18n]])\n\t\t\t\t});\n\n\t\t\t\t// Create a tiny reference element so outside taps are truly \"outside\"\n\t\t\t\trefEl = document.createElement('div');\n\t\t\t\tObject.assign(refEl.style, {\n\t\t\t\t\tposition: 'fixed',\n\t\t\t\t\tleft: '0px',\n\t\t\t\t\ttop: '0px',\n\t\t\t\t\twidth: '0px',\n\t\t\t\t\theight: '0px'\n\t\t\t\t});\n\t\t\t\tdocument.body.appendChild(refEl);\n\n\t\t\t\tpopup = tippy(refEl, {\n\t\t\t\t\tgetReferenceClientRect: props.clientRect as any,\n\t\t\t\t\tappendTo: () => document.body,\n\t\t\t\t\tcontent: container,\n\t\t\t\t\tinteractive: true,\n\t\t\t\t\ttrigger: 'manual',\n\t\t\t\t\ttheme: 'transparent',\n\t\t\t\t\tplacement: 'top-start',\n\t\t\t\t\toffset: [-10, -2],\n\t\t\t\t\tarrow: false,\n\t\t\t\t\tpopperOptions: {\n\t\t\t\t\t\tstrategy: 'fixed',\n\t\t\t\t\t\tmodifiers: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: 'preventOverflow',\n\t\t\t\t\t\t\t\toptions: {\n\t\t\t\t\t\t\t\t\tboundary: 'viewport', // keep within the viewport\n\t\t\t\t\t\t\t\t\taltAxis: true, // also prevent overflow on the cross axis (X)\n\t\t\t\t\t\t\t\t\ttether: true,\n\t\t\t\t\t\t\t\t\tpadding: 8\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: 'flip',\n\t\t\t\t\t\t\t\toptions: {\n\t\t\t\t\t\t\t\t\tboundary: 'viewport',\n\t\t\t\t\t\t\t\t\tfallbackPlacements: ['top-end', 'bottom-start', 'bottom-end']\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t// Ensure transforms don’t cause layout widening in some browsers\n\t\t\t\t\t\t\t{ name: 'computeStyles', options: { adaptive: true } }\n\t\t\t\t\t\t]\n\t\t\t\t\t},\n\t\t\t\t\t// Helps avoid accidental focus/hover “linking” from far away elements\n\t\t\t\t\tinteractiveBorder: 8\n\t\t\t\t});\n\t\t\t\tpopup?.show();\n\t\t\t},\n\n\t\t\tonUpdate: (props: any) => {\n\t\t\t\tif (!component) return;\n\n\t\t\t\tcomponent.$set({\n\t\t\t\t\tquery: props.query,\n\t\t\t\t\tcommand: (item) => {\n\t\t\t\t\t\tprops.command({ id: item.id, label: item.label });\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (props.clientRect && popup) {\n\t\t\t\t\tpopup.setProps({ getReferenceClientRect: props.clientRect as any });\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tonKeyDown: (props: any) => {\n\t\t\t\t// forward to the Svelte component’s handler\n\t\t\t\t// (expose this from component as `export function onKeyDown(evt)`)\n\t\t\t\t// @ts-ignore\n\t\t\t\treturn component?._onKeyDown?.(props.event) ?? false;\n\t\t\t},\n\n\t\t\tonExit: () => {\n\t\t\t\tpopup?.destroy();\n\t\t\t\tpopup = null;\n\n\t\t\t\ttry {\n\t\t\t\t\tcomponent.$destroy();\n\t\t\t\t} catch (e) {\n\t\t\t\t\tconsole.error('Error unmounting component:', e);\n\t\t\t\t}\n\n\t\t\t\tcomponent = null;\n\n\t\t\t\tif (container?.parentNode) container.parentNode.removeChild(container);\n\t\t\t\tcontainer = null;\n\n\t\t\t\tif (refEl?.parentNode) refEl.parentNode.removeChild(refEl);\n\t\t\t\trefEl = null;\n\t\t\t}\n\t\t};\n\t};\n}\n","<script lang=\"ts\">\n\texport let className = 'size-4';\n\texport let strokeWidth = '1.5';\n</script>\n\n<svg\n\txmlns=\"http://www.w3.org/2000/svg\"\n\tfill=\"none\"\n\tviewBox=\"0 0 24 24\"\n\tstroke-width={strokeWidth}\n\tstroke=\"currentColor\"\n\tclass={className}\n\t><path\n\t\td=\"M2 19V9C2 7.89543 2.89543 7 4 7H4.5C5.12951 7 5.72229 6.70361 6.1 6.2L8.32 3.24C8.43331 3.08892 8.61115 3 8.8 3H15.2C15.3889 3 15.5667 3.08892 15.68 3.24L17.9 6.2C18.2777 6.70361 18.8705 7 19.5 7H20C21.1046 7 22 7.89543 22 9V19C22 20.1046 21.1046 21 20 21H4C2.89543 21 2 20.1046 2 19Z\"\n\t\tstroke-linecap=\"round\"\n\t\tstroke-linejoin=\"round\"\n\t></path><path\n\t\td=\"M12 17C14.2091 17 16 15.2091 16 13C16 10.7909 14.2091 9 12 9C9.79086 9 8 10.7909 8 13C8 15.2091 9.79086 17 12 17Z\"\n\t\tstroke-linecap=\"round\"\n\t\tstroke-linejoin=\"round\"\n\t></path></svg\n>\n","<script lang=\"ts\">\n\texport let className = 'size-4';\n\texport let strokeWidth = '1.5';\n</script>\n\n<svg\n\txmlns=\"http://www.w3.org/2000/svg\"\n\tfill=\"none\"\n\tviewBox=\"0 0 24 24\"\n\tstroke-width={strokeWidth}\n\tstroke=\"currentColor\"\n\tclass={className}\n\t><path\n\t\td=\"M21.4383 11.6622L12.2483 20.8522C11.1225 21.9781 9.59552 22.6106 8.00334 22.6106C6.41115 22.6106 4.88418 21.9781 3.75834 20.8522C2.63249 19.7264 2 18.1994 2 16.6072C2 15.015 2.63249 13.4881 3.75834 12.3622L12.9483 3.17222C13.6989 2.42166 14.7169 2 15.7783 2C16.8398 2 17.8578 2.42166 18.6083 3.17222C19.3589 3.92279 19.7806 4.94077 19.7806 6.00222C19.7806 7.06368 19.3589 8.08166 18.6083 8.83222L9.40834 18.0222C9.03306 18.3975 8.52406 18.6083 7.99334 18.6083C7.46261 18.6083 6.95362 18.3975 6.57834 18.0222C6.20306 17.6469 5.99222 17.138 5.99222 16.6072C5.99222 16.0765 6.20306 15.5675 6.57834 15.1922L15.0683 6.71222\"\n\t\tstroke-linecap=\"round\"\n\t\tstroke-linejoin=\"round\"\n\t></path></svg\n>\n","<script lang=\"ts\">\n\timport { getContext, onMount, tick } from 'svelte';\n\timport { models, config } from '$lib/stores';\n\n\timport { toast } from 'svelte-sonner';\n\timport { copyToClipboard } from '$lib/utils';\n\n\timport XMark from '$lib/components/icons/XMark.svelte';\n\timport Modal from '$lib/components/common/Modal.svelte';\n\timport Spinner from '$lib/components/common/Spinner.svelte';\n\timport MapSelector from '$lib/components/common/Valves/MapSelector.svelte';\n\n\tconst i18n = getContext('i18n');\n\n\texport let show = false;\n\texport let variables = {};\n\n\texport let onSave = (e) => {};\n\n\tlet loading = false;\n\tlet variableValues = {};\n\n\tconst submitHandler = async () => {\n\t\tonSave(variableValues);\n\t\tshow = false;\n\t};\n\n\tconst init = async () => {\n\t\tloading = true;\n\t\tvariableValues = {};\n\t\tfor (const variable of Object.keys(variables)) {\n\t\t\tif (variables[variable]?.default !== undefined) {\n\t\t\t\tvariableValues[variable] = variables[variable].default;\n\t\t\t} else {\n\t\t\t\tvariableValues[variable] = '';\n\t\t\t}\n\t\t}\n\t\tloading = false;\n\n\t\tawait tick();\n\n\t\tconst firstInputElement = document.getElementById('input-variable-0');\n\t\tif (firstInputElement) {\n\t\t\tconsole.log('Focusing first input element:', firstInputElement);\n\t\t\tfirstInputElement.focus();\n\t\t}\n\t};\n\n\t$: if (show) {\n\t\tinit();\n\t}\n</script>\n\n<Modal bind:show size=\"md\">\n\t<div>\n\t\t<div class=\" flex justify-between dark:text-gray-300 px-5 pt-4 pb-2\">\n\t\t\t<div class=\" text-lg font-medium self-center\">{$i18n.t('Input Variables')}</div>\n\t\t\t<button\n\t\t\t\tclass=\"self-center\"\n\t\t\t\ton:click={() => {\n\t\t\t\t\tshow = false;\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<XMark className={'size-5'} />\n\t\t\t</button>\n\t\t</div>\n\n\t\t<div class=\"flex flex-col md:flex-row w-full px-5 pb-4 md:space-x-4 dark:text-gray-200\">\n\t\t\t<div class=\" flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6\">\n\t\t\t\t<form\n\t\t\t\t\tclass=\"flex flex-col w-full\"\n\t\t\t\t\ton:submit|preventDefault={() => {\n\t\t\t\t\t\tsubmitHandler();\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<div class=\"px-1\">\n\t\t\t\t\t\t{#if !loading}\n\t\t\t\t\t\t\t<div class=\"flex flex-col gap-1\">\n\t\t\t\t\t\t\t\t{#each Object.keys(variables) as variable, idx}\n\t\t\t\t\t\t\t\t\t{@const { type, ...variableAttributes } = variables[variable] ?? {}}\n\n\t\t\t\t\t\t\t\t\t<div class=\" py-0.5 w-full justify-between\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"flex w-full justify-between mb-1.5\">\n\t\t\t\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t\t\t\t\t\t\t\t{variable}\n\n\t\t\t\t\t\t\t\t\t\t\t\t{#if variables[variable]?.required ?? false}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\" text-gray-500\">*{$i18n.t('required')}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t<div class=\"flex mt-0.5 mb-0.5 space-x-2\">\n\t\t\t\t\t\t\t\t\t\t\t<div class=\" flex-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t{#if variables[variable]?.type === 'select'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{@const options = variableAttributes?.options ?? []}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{@const placeholder = variableAttributes?.placeholder ?? ''}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-hidden border border-gray-100/30 dark:border-gray-850/30\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbind:value={variableValues[variable]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"input-variable-{idx}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{#if placeholder}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"\" disabled selected>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{placeholder}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{#each options as option}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value={option} selected={option === variableValues[variable]}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{option}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t\t{:else if variables[variable]?.type === 'checkbox'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"flex items-center space-x-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"relative flex justify-center items-center gap-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbind:checked={variableValues[variable]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"size-3.5 rounded cursor-pointer border border-gray-200 dark:border-gray-700\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"input-variable-{idx}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{...variableAttributes}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for=\"input-variable-{idx}\" class=\"text-sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>{variables[variable]?.label ?? variable}</label\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"flex-1 py-1 text-sm dark:text-gray-300 bg-transparent outline-hidden\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter value (true/false)')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbind:value={variableValues[variable]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired={variables[variable]?.required ?? false}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t{:else if variables[variable]?.type === 'color'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"flex items-center space-x-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"relative size-6\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"color\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"size-6 rounded cursor-pointer border border-gray-200 dark:border-gray-700\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={variableValues[variable]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"input-variable-{idx}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ton:input={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Convert the color value to uppercase immediately\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariableValues[variable] = e.target.value.toUpperCase();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{...variableAttributes}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"flex-1 py-2 text-sm dark:text-gray-300 bg-transparent outline-hidden\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter hex color (e.g. #FF0000)')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbind:value={variableValues[variable]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired={variables[variable]?.required ?? false}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t{:else if variables[variable]?.type === 'date'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-hidden border border-gray-100/30 dark:border-gray-850/30\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={variables[variable]?.placeholder ?? ''}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbind:value={variableValues[variable]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"input-variable-{idx}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired={variables[variable]?.required ?? false}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{...variableAttributes}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t{:else if variables[variable]?.type === 'datetime-local'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"datetime-local\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-hidden border border-gray-100/30 dark:border-gray-850/30\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={variables[variable]?.placeholder ?? ''}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbind:value={variableValues[variable]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"input-variable-{idx}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired={variables[variable]?.required ?? false}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{...variableAttributes}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t{:else if variables[variable]?.type === 'email'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-hidden border border-gray-100/30 dark:border-gray-850/30\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={variables[variable]?.placeholder ?? ''}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbind:value={variableValues[variable]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"input-variable-{idx}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired={variables[variable]?.required ?? false}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{...variableAttributes}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t{:else if variables[variable]?.type === 'month'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"month\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-hidden border border-gray-100/30 dark:border-gray-850/30\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={variables[variable]?.placeholder ?? ''}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbind:value={variableValues[variable]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"input-variable-{idx}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired={variables[variable]?.required ?? false}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{...variableAttributes}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t{:else if variables[variable]?.type === 'number'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-hidden border border-gray-100/30 dark:border-gray-850/30\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={variables[variable]?.placeholder ?? ''}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbind:value={variableValues[variable]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"input-variable-{idx}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired={variables[variable]?.required ?? false}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{...variableAttributes}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t{:else if variables[variable]?.type === 'range'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"flex items-center space-x-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"relative flex justify-center items-center gap-2 flex-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"range\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbind:value={variableValues[variable]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-1 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-hidden border border-gray-100/30 dark:border-gray-850/30\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"input-variable-{idx}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{...variableAttributes}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\" py-1 text-sm dark:text-gray-300 bg-transparent outline-hidden text-right\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter value')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbind:value={variableValues[variable]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired={variables[variable]?.required ?? false}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t<!-- <input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"range\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-hidden border border-gray-100/30 dark:border-gray-850/30\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={variables[variable]?.placeholder ?? ''}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbind:value={variableValues[variable]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"input-variable-{idx}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t\t\t/> -->\n\t\t\t\t\t\t\t\t\t\t\t\t{:else if variables[variable]?.type === 'tel'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"tel\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-hidden border border-gray-100/30 dark:border-gray-850/30\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={variables[variable]?.placeholder ?? ''}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbind:value={variableValues[variable]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"input-variable-{idx}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired={variables[variable]?.required ?? false}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{...variableAttributes}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t{:else if variables[variable]?.type === 'text'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-hidden border border-gray-100/30 dark:border-gray-850/30\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={variables[variable]?.placeholder ?? ''}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbind:value={variableValues[variable]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"input-variable-{idx}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired={variables[variable]?.required ?? false}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{...variableAttributes}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t{:else if variables[variable]?.type === 'time'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"time\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-hidden border border-gray-100/30 dark:border-gray-850/30\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={variables[variable]?.placeholder ?? ''}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbind:value={variableValues[variable]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"input-variable-{idx}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired={variables[variable]?.required ?? false}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{...variableAttributes}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t{:else if variables[variable]?.type === 'url'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"url\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-hidden border border-gray-100/30 dark:border-gray-850/30\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={variables[variable]?.placeholder ?? ''}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbind:value={variableValues[variable]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"input-variable-{idx}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired={variables[variable]?.required ?? false}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{...variableAttributes}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t{:else if variables[variable]?.type === 'map'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<!-- EXPERIMENTAL INPUT TYPE, DO NOT USE IN PRODUCTION -->\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"flex flex-col items-center gap-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MapSelector\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetViewLocation={((variableValues[variable] ?? '').includes(',') ??\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfalse)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? variableValues[variable].split(',')\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: null}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={(value) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariableValues[variable] = value;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\" w-full py-1 text-left text-sm dark:text-gray-300 bg-transparent outline-hidden\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter coordinates (e.g. 51.505, -0.09)')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbind:value={variableValues[variable]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired={variables[variable]?.required ?? false}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-hidden border border-gray-100/30 dark:border-gray-850/30\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={variables[variable]?.placeholder ?? ''}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbind:value={variableValues[variable]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"input-variable-{idx}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired={variables[variable]?.required ?? false}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t<!-- {#if (valvesSpec.properties[property]?.description ?? null) !== null}\n\t\t\t\t\t\t\t\t\t<div class=\"text-xs text-gray-500\">\n\t\t\t\t\t\t\t\t\t\t{valvesSpec.properties[property].description}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{/if} -->\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t<Spinner className=\"size-5\" />\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"flex justify-end pt-3 text-sm font-medium\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass=\"px-3.5 py-1.5 text-sm font-medium bg-white hover:bg-gray-100 text-black dark:bg-black dark:text-white dark:hover:bg-gray-900 transition rounded-full\"\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\tshow = false;\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{$i18n.t('Cancel')}\n\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass=\"px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full\"\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{$i18n.t('Save')}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</Modal>\n","<script lang=\"ts\">\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\n\timport { tick, getContext, onMount, onDestroy } from 'svelte';\n\timport { toast } from 'svelte-sonner';\n\n\tconst i18n = getContext('i18n');\n\n\texport let query = '';\n\texport let prompts = [];\n\texport let onSelect = (e) => {};\n\n\tlet selectedPromptIdx = 0;\n\texport let filteredItems = [];\n\n\t$: filteredItems = prompts\n\t\t.filter((p) => p.command.toLowerCase().includes(query.toLowerCase()))\n\t\t.sort((a, b) => a.title.localeCompare(b.title));\n\n\t$: if (query) {\n\t\tselectedPromptIdx = 0;\n\t}\n\n\texport const selectUp = () => {\n\t\tselectedPromptIdx = Math.max(0, selectedPromptIdx - 1);\n\t};\n\texport const selectDown = () => {\n\t\tselectedPromptIdx = Math.min(selectedPromptIdx + 1, filteredItems.length - 1);\n\t};\n\n\texport const select = async () => {\n\t\tconst command = filteredItems[selectedPromptIdx];\n\t\tif (command) {\n\t\t\tonSelect({ type: 'prompt', data: command });\n\t\t}\n\t};\n</script>\n\n<div class=\"px-2 text-xs text-gray-500 py-1\">\n\t{$i18n.t('Prompts')}\n</div>\n\n{#if filteredItems.length > 0}\n\t<div class=\" space-y-0.5 scrollbar-hidden\">\n\t\t{#each filteredItems as promptItem, promptIdx}\n\t\t\t<Tooltip content={promptItem.title} placement=\"top-start\">\n\t\t\t\t<button\n\t\t\t\t\tclass=\" px-3 py-1 rounded-xl w-full text-left {promptIdx === selectedPromptIdx\n\t\t\t\t\t\t? '  bg-gray-50 dark:bg-gray-800 selected-command-option-button'\n\t\t\t\t\t\t: ''} truncate\"\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\tonSelect({ type: 'prompt', data: promptItem });\n\t\t\t\t\t}}\n\t\t\t\t\ton:mousemove={() => {\n\t\t\t\t\t\tselectedPromptIdx = promptIdx;\n\t\t\t\t\t}}\n\t\t\t\t\ton:focus={() => {}}\n\t\t\t\t\tdata-selected={promptIdx === selectedPromptIdx}\n\t\t\t\t>\n\t\t\t\t\t<span class=\" font-medium text-black dark:text-gray-100\">\n\t\t\t\t\t\t{promptItem.command}\n\t\t\t\t\t</span>\n\n\t\t\t\t\t<span class=\" text-xs text-gray-600 dark:text-gray-100\">\n\t\t\t\t\t\t{promptItem.title}\n\t\t\t\t\t</span>\n\t\t\t\t</button>\n\t\t\t</Tooltip>\n\t\t{/each}\n\t</div>\n{/if}\n","<script lang=\"ts\">\n\texport let className = 'size-4';\n\texport let strokeWidth = '1.5';\n</script>\n\n<svg\n\txmlns=\"http://www.w3.org/2000/svg\"\n\tfill=\"none\"\n\tviewBox=\"0 0 24 24\"\n\tstroke-width={strokeWidth}\n\tstroke=\"currentColor\"\n\tclass={className}\n\t><path d=\"M14 12L10.5 14V10L14 12Z\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path><path\n\t\td=\"M2 12.7075V11.2924C2 8.39705 2 6.94939 2.90549 6.01792C3.81099 5.08645 5.23656 5.04613 8.08769 4.96549C9.43873 4.92728 10.8188 4.8999 12 4.8999C13.1812 4.8999 14.5613 4.92728 15.9123 4.96549C18.7634 5.04613 20.189 5.08645 21.0945 6.01792C22 6.94939 22 8.39705 22 11.2924V12.7075C22 15.6028 22 17.0505 21.0945 17.9819C20.189 18.9134 18.7635 18.9537 15.9124 19.0344C14.5613 19.0726 13.1812 19.1 12 19.1C10.8188 19.1 9.43867 19.0726 8.0876 19.0344C5.23651 18.9537 3.81097 18.9134 2.90548 17.9819C2 17.0505 2 15.6028 2 12.7075Z\"\n\t></path></svg\n>\n","<script lang=\"ts\">\n\timport { toast } from 'svelte-sonner';\n\timport dayjs from 'dayjs';\n\timport relativeTime from 'dayjs/plugin/relativeTime';\n\tdayjs.extend(relativeTime);\n\n\timport { tick, getContext, onMount, onDestroy } from 'svelte';\n\n\timport { folders } from '$lib/stores';\n\timport { getFolders } from '$lib/apis/folders';\n\timport { searchKnowledgeBases, searchKnowledgeFiles } from '$lib/apis/knowledge';\n\timport { removeLastWordFromString, isValidHttpUrl, isYoutubeUrl, decodeString } from '$lib/utils';\n\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\n\timport DocumentPage from '$lib/components/icons/DocumentPage.svelte';\n\timport Database from '$lib/components/icons/Database.svelte';\n\timport GlobeAlt from '$lib/components/icons/GlobeAlt.svelte';\n\timport Youtube from '$lib/components/icons/Youtube.svelte';\n\timport Folder from '$lib/components/icons/Folder.svelte';\n\n\tconst i18n = getContext('i18n');\n\n\texport let query = '';\n\texport let onSelect = (e) => {};\n\n\tlet selectedIdx = 0;\n\tlet items = [];\n\n\texport let filteredItems = [];\n\t$: filteredItems = [\n\t\t...(query.startsWith('http')\n\t\t\t? isYoutubeUrl(query)\n\t\t\t\t? [{ type: 'youtube', name: query, description: query }]\n\t\t\t\t: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'web',\n\t\t\t\t\t\t\tname: query,\n\t\t\t\t\t\t\tdescription: query\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t: []),\n\t\t...items\n\t];\n\n\t$: if (query) {\n\t\tselectedIdx = 0;\n\t}\n\n\texport const selectUp = () => {\n\t\tselectedIdx = Math.max(0, selectedIdx - 1);\n\t};\n\n\texport const selectDown = () => {\n\t\tselectedIdx = Math.min(selectedIdx + 1, filteredItems.length - 1);\n\t};\n\n\texport const select = async () => {\n\t\t// find item with data-selected=true\n\t\tconst item = document.querySelector(`[data-selected=\"true\"]`);\n\t\tif (item) {\n\t\t\t// click the item\n\t\t\titem.click();\n\t\t}\n\t};\n\n\tlet folderItems = [];\n\tlet knowledgeItems = [];\n\tlet fileItems = [];\n\n\t$: items = [...folderItems, ...knowledgeItems, ...fileItems];\n\n\t$: if (query !== null) {\n\t\tgetItems();\n\t}\n\n\tconst getItems = () => {\n\t\tgetFolderItems();\n\t\tgetKnowledgeItems();\n\t\tgetKnowledgeFileItems();\n\t};\n\n\tconst getFolderItems = async () => {\n\t\tfolderItems = $folders\n\t\t\t.map((folder) => ({\n\t\t\t\t...folder,\n\t\t\t\ttype: 'folder',\n\t\t\t\tdescription: $i18n.t('Folder'),\n\t\t\t\ttitle: folder.name\n\t\t\t}))\n\t\t\t.filter((folder) => folder.name.toLowerCase().includes(query.toLowerCase()));\n\t};\n\n\tconst getKnowledgeItems = async () => {\n\t\tconst res = await searchKnowledgeBases(localStorage.token, query).catch(() => {\n\t\t\treturn null;\n\t\t});\n\n\t\tif (res) {\n\t\t\tknowledgeItems = res.items.map((item) => {\n\t\t\t\treturn {\n\t\t\t\t\t...item,\n\t\t\t\t\ttype: 'collection'\n\t\t\t\t};\n\t\t\t});\n\t\t}\n\t};\n\n\tconst getKnowledgeFileItems = async () => {\n\t\tconst res = await searchKnowledgeFiles(localStorage.token, query).catch(() => {\n\t\t\treturn null;\n\t\t});\n\n\t\tif (res) {\n\t\t\tfileItems = res.items.map((item) => {\n\t\t\t\treturn {\n\t\t\t\t\t...item,\n\t\t\t\t\ttype: 'file',\n\t\t\t\t\tname: item.filename,\n\t\t\t\t\tdescription: item.collection ? item.collection.name : ''\n\t\t\t\t};\n\t\t\t});\n\t\t}\n\t};\n\n\tonMount(async () => {\n\t\tif ($folders === null) {\n\t\t\tawait folders.set(await getFolders(localStorage.token));\n\t\t}\n\n\t\tawait tick();\n\t});\n\n\tconst onKeyDown = (e) => {\n\t\tif (e.key === 'Enter') {\n\t\t\te.preventDefault();\n\t\t\tselect();\n\t\t}\n\t};\n\tonMount(() => {\n\t\twindow.addEventListener('keydown', onKeyDown);\n\t});\n\n\tonDestroy(() => {\n\t\twindow.removeEventListener('keydown', onKeyDown);\n\t});\n</script>\n\n{#if filteredItems.length > 0 || query.startsWith('http')}\n\t{#each filteredItems as item, idx}\n\t\t{#if idx === 0 || item?.type !== items[idx - 1]?.type}\n\t\t\t<div class=\"px-2 text-xs text-gray-500 py-1\">\n\t\t\t\t{#if item?.type === 'folder'}\n\t\t\t\t\t{$i18n.t('Folders')}\n\t\t\t\t{:else if item?.type === 'collection'}\n\t\t\t\t\t{$i18n.t('Collections')}\n\t\t\t\t{:else if item?.type === 'file'}\n\t\t\t\t\t{$i18n.t('Files')}\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t{/if}\n\n\t\t{#if !['youtube', 'web'].includes(item.type)}\n\t\t\t<button\n\t\t\t\tclass=\" px-2 py-1 rounded-xl w-full text-left flex justify-between items-center {idx ===\n\t\t\t\tselectedIdx\n\t\t\t\t\t? ' bg-gray-50 dark:bg-gray-800 dark:text-gray-100 selected-command-option-button'\n\t\t\t\t\t: ''}\"\n\t\t\t\ttype=\"button\"\n\t\t\t\ton:click={() => {\n\t\t\t\t\tconsole.log(item);\n\t\t\t\t\tonSelect({\n\t\t\t\t\t\ttype: 'knowledge',\n\t\t\t\t\t\tdata: item\n\t\t\t\t\t});\n\t\t\t\t}}\n\t\t\t\ton:mousemove={() => {\n\t\t\t\t\tselectedIdx = idx;\n\t\t\t\t}}\n\t\t\t\tdata-selected={idx === selectedIdx}\n\t\t\t>\n\t\t\t\t<div class=\"  text-black dark:text-gray-100 flex items-center gap-1\">\n\t\t\t\t\t<Tooltip\n\t\t\t\t\t\tcontent={item?.legacy\n\t\t\t\t\t\t\t? $i18n.t('Legacy')\n\t\t\t\t\t\t\t: item?.type === 'file'\n\t\t\t\t\t\t\t\t? `${item?.collection?.name} > ${$i18n.t('File')}`\n\t\t\t\t\t\t\t\t: item?.type === 'collection'\n\t\t\t\t\t\t\t\t\t? $i18n.t('Collection')\n\t\t\t\t\t\t\t\t\t: ''}\n\t\t\t\t\t\tplacement=\"top\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{#if item?.type === 'collection'}\n\t\t\t\t\t\t\t<Database className=\"size-4\" />\n\t\t\t\t\t\t{:else if item?.type === 'folder'}\n\t\t\t\t\t\t\t<Folder className=\"size-4\" />\n\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t<DocumentPage className=\"size-4\" />\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</Tooltip>\n\n\t\t\t\t\t<Tooltip content={`${decodeString(item?.name)}`} placement=\"top-start\">\n\t\t\t\t\t\t<div class=\"line-clamp-1 flex-1\">\n\t\t\t\t\t\t\t{decodeString(item?.name)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t</div>\n\t\t\t</button>\n\t\t{/if}\n\t{/each}\n\n\t{#if isYoutubeUrl(query)}\n\t\t<button\n\t\t\tclass=\"px-2 py-1 rounded-xl w-full text-left bg-gray-50 dark:bg-gray-800 dark:text-gray-100 selected-command-option-button\"\n\t\t\ttype=\"button\"\n\t\t\tdata-selected={true}\n\t\t\ton:click={() => {\n\t\t\t\tif (isValidHttpUrl(query)) {\n\t\t\t\t\tonSelect({\n\t\t\t\t\t\ttype: 'web',\n\t\t\t\t\t\tdata: query\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\ttoast.error(\n\t\t\t\t\t\t$i18n.t('Oops! Looks like the URL is invalid. Please double-check and try again.')\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}}\n\t\t>\n\t\t\t<div class=\"  text-black dark:text-gray-100 line-clamp-1 flex items-center gap-1\">\n\t\t\t\t<Tooltip content={$i18n.t('YouTube')} placement=\"top\">\n\t\t\t\t\t<Youtube className=\"size-4\" />\n\t\t\t\t</Tooltip>\n\n\t\t\t\t<div class=\"truncate flex-1\">\n\t\t\t\t\t{query}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</button>\n\t{:else if query.startsWith('http')}\n\t\t<button\n\t\t\tclass=\"px-2 py-1 rounded-xl w-full text-left bg-gray-50 dark:bg-gray-800 dark:text-gray-100 selected-command-option-button\"\n\t\t\ttype=\"button\"\n\t\t\tdata-selected={true}\n\t\t\ton:click={() => {\n\t\t\t\tif (isValidHttpUrl(query)) {\n\t\t\t\t\tonSelect({\n\t\t\t\t\t\ttype: 'web',\n\t\t\t\t\t\tdata: query\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\ttoast.error(\n\t\t\t\t\t\t$i18n.t('Oops! Looks like the URL is invalid. Please double-check and try again.')\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}}\n\t\t>\n\t\t\t<div class=\"  text-black dark:text-gray-100 line-clamp-1 flex items-center gap-1\">\n\t\t\t\t<Tooltip content={$i18n.t('Web')} placement=\"top\">\n\t\t\t\t\t<GlobeAlt className=\"size-4\" />\n\t\t\t\t</Tooltip>\n\n\t\t\t\t<div class=\"truncate flex-1\">\n\t\t\t\t\t{query}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</button>\n\t{/if}\n{/if}\n","<script lang=\"ts\">\n\timport Fuse from 'fuse.js';\n\n\timport { createEventDispatcher, onDestroy, onMount } from 'svelte';\n\timport { tick, getContext } from 'svelte';\n\n\timport { models } from '$lib/stores';\n\timport { WEBUI_API_BASE_URL, WEBUI_BASE_URL } from '$lib/constants';\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\n\n\tconst i18n = getContext('i18n');\n\n\texport let query = '';\n\texport let onSelect = (e) => {};\n\n\tlet selectedIdx = 0;\n\texport let filteredItems = [];\n\n\tlet fuse = new Fuse(\n\t\t$models\n\t\t\t.filter((model) => !model?.info?.meta?.hidden)\n\t\t\t.map((model) => {\n\t\t\t\tconst _item = {\n\t\t\t\t\t...model,\n\t\t\t\t\tmodelName: model?.name,\n\t\t\t\t\ttags: model?.info?.meta?.tags?.map((tag) => tag.name).join(' '),\n\t\t\t\t\tdesc: model?.info?.meta?.description\n\t\t\t\t};\n\t\t\t\treturn _item;\n\t\t\t}),\n\t\t{\n\t\t\tkeys: ['value', 'tags', 'modelName'],\n\t\t\tthreshold: 0.5\n\t\t}\n\t);\n\n\t$: filteredItems = query\n\t\t? fuse.search(query).map((e) => {\n\t\t\t\treturn e.item;\n\t\t\t})\n\t\t: $models.filter((model) => !model?.info?.meta?.hidden);\n\n\t$: if (query) {\n\t\tselectedIdx = 0;\n\t}\n\n\texport const selectUp = () => {\n\t\tselectedIdx = Math.max(0, selectedIdx - 1);\n\t};\n\n\texport const selectDown = () => {\n\t\tselectedIdx = Math.min(selectedIdx + 1, filteredItems.length - 1);\n\t};\n\n\texport const select = async () => {\n\t\tconst model = filteredItems[selectedIdx];\n\t\tif (model) {\n\t\t\tonSelect({ type: 'model', data: model });\n\t\t}\n\t};\n</script>\n\n<div class=\"px-2 text-xs text-gray-500 py-1\">\n\t{$i18n.t('Models')}\n</div>\n\n{#if filteredItems.length > 0}\n\t{#each filteredItems as model, modelIdx}\n\t\t<Tooltip content={model.id} placement=\"top-start\">\n\t\t\t<button\n\t\t\t\tclass=\"px-2.5 py-1.5 rounded-xl w-full text-left {modelIdx === selectedIdx\n\t\t\t\t\t? 'bg-gray-50 dark:bg-gray-800 selected-command-option-button'\n\t\t\t\t\t: ''}\"\n\t\t\t\ttype=\"button\"\n\t\t\t\ton:click={() => {\n\t\t\t\t\tonSelect({ type: 'model', data: model });\n\t\t\t\t}}\n\t\t\t\ton:mousemove={() => {\n\t\t\t\t\tselectedIdx = modelIdx;\n\t\t\t\t}}\n\t\t\t\ton:focus={() => {}}\n\t\t\t\tdata-selected={modelIdx === selectedIdx}\n\t\t\t>\n\t\t\t\t<div class=\"flex text-black dark:text-gray-100 line-clamp-1\">\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={`${WEBUI_API_BASE_URL}/models/model/profile/image?id=${model.id}&lang=${$i18n.language}`}\n\t\t\t\t\t\talt={model?.name ?? model.id}\n\t\t\t\t\t\tclass=\"rounded-full size-5 items-center mr-2\"\n\t\t\t\t\t/>\n\t\t\t\t\t<div class=\"truncate\">\n\t\t\t\t\t\t{model.name}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</button>\n\t\t</Tooltip>\n\t{/each}\n{/if}\n","<script lang=\"ts\">\n\timport { knowledge, prompts } from '$lib/stores';\n\n\timport { getPrompts } from '$lib/apis/prompts';\n\timport { getKnowledgeBases } from '$lib/apis/knowledge';\n\n\timport Prompts from './Commands/Prompts.svelte';\n\timport Knowledge from './Commands/Knowledge.svelte';\n\timport Models from './Commands/Models.svelte';\n\timport Spinner from '$lib/components/common/Spinner.svelte';\n\n\timport { onMount } from 'svelte';\n\n\texport let char = '';\n\texport let query = '';\n\texport let command: (payload: { id: string; label: string }) => void;\n\n\texport let onSelect = (e) => {};\n\texport let onUpload = (e) => {};\n\texport let insertTextHandler = (text) => {};\n\n\tlet suggestionElement = null;\n\tlet loading = false;\n\tlet filteredItems = [];\n\n\tconst init = async () => {\n\t\tloading = true;\n\t\tawait Promise.all([\n\t\t\t(async () => {\n\t\t\t\tprompts.set(await getPrompts(localStorage.token));\n\t\t\t})()\n\t\t]);\n\t\tloading = false;\n\t};\n\n\tonMount(() => {\n\t\tinit();\n\t});\n\n\tconst onKeyDown = (event: KeyboardEvent) => {\n\t\tif (!['ArrowUp', 'ArrowDown', 'Enter', 'Tab', 'Escape'].includes(event.key)) return false;\n\n\t\tif (event.key === 'ArrowUp') {\n\t\t\tsuggestionElement?.selectUp();\n\t\t\tconst item = document.querySelector(`[data-selected=\"true\"]`);\n\t\t\titem?.scrollIntoView({ block: 'center', inline: 'nearest', behavior: 'instant' });\n\t\t\treturn true;\n\t\t}\n\t\tif (event.key === 'ArrowDown') {\n\t\t\tsuggestionElement?.selectDown();\n\t\t\tconst item = document.querySelector(`[data-selected=\"true\"]`);\n\t\t\titem?.scrollIntoView({ block: 'center', inline: 'nearest', behavior: 'instant' });\n\t\t\treturn true;\n\t\t}\n\t\tif (event.key === 'Enter' || event.key === 'Tab') {\n\t\t\tsuggestionElement?.select();\n\n\t\t\tif (event.key === 'Enter') {\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t\tif (event.key === 'Escape') {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t};\n\n\t// This method will be called from the suggestion renderer\n\t// @ts-ignore\n\texport function _onKeyDown(event: KeyboardEvent) {\n\t\treturn onKeyDown(event);\n\t}\n</script>\n\n<div\n\tclass=\"{(filteredItems ?? []).length > 0\n\t\t? ''\n\t\t: 'hidden'} rounded-2xl shadow-lg border border-gray-200 dark:border-gray-800 flex flex-col bg-white dark:bg-gray-850 w-72 p-1\"\n\tid=\"suggestions-container\"\n>\n\t<div class=\"overflow-y-auto scrollbar-thin max-h-60\">\n\t\t{#if !loading}\n\t\t\t{#if char === '/'}\n\t\t\t\t<Prompts\n\t\t\t\t\tbind:this={suggestionElement}\n\t\t\t\t\t{query}\n\t\t\t\t\tbind:filteredItems\n\t\t\t\t\tprompts={$prompts ?? []}\n\t\t\t\t\tonSelect={(e) => {\n\t\t\t\t\t\tconst { type, data } = e;\n\n\t\t\t\t\t\tif (type === 'prompt') {\n\t\t\t\t\t\t\tinsertTextHandler(data.content);\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t{:else if char === '#'}\n\t\t\t\t<Knowledge\n\t\t\t\t\tbind:this={suggestionElement}\n\t\t\t\t\t{query}\n\t\t\t\t\tbind:filteredItems\n\t\t\t\t\tonSelect={(e) => {\n\t\t\t\t\t\tconst { type, data } = e;\n\n\t\t\t\t\t\tif (type === 'knowledge') {\n\t\t\t\t\t\t\tinsertTextHandler('');\n\n\t\t\t\t\t\t\tonUpload({\n\t\t\t\t\t\t\t\ttype: 'file',\n\t\t\t\t\t\t\t\tdata: data\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else if (type === 'web') {\n\t\t\t\t\t\t\tinsertTextHandler('');\n\n\t\t\t\t\t\t\tonUpload({\n\t\t\t\t\t\t\t\ttype: 'web',\n\t\t\t\t\t\t\t\tdata: data\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t{:else if char === '@'}\n\t\t\t\t<Models\n\t\t\t\t\tbind:this={suggestionElement}\n\t\t\t\t\t{query}\n\t\t\t\t\tbind:filteredItems\n\t\t\t\t\tonSelect={(e) => {\n\t\t\t\t\t\tconst { type, data } = e;\n\n\t\t\t\t\t\tif (type === 'model') {\n\t\t\t\t\t\t\tinsertTextHandler('');\n\n\t\t\t\t\t\t\tonSelect({\n\t\t\t\t\t\t\t\ttype: 'model',\n\t\t\t\t\t\t\t\tdata: data\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t{/if}\n\t\t{:else}\n\t\t\t<div class=\"py-4 flex flex-col w-full rounded-xl text-gray-700 dark:text-gray-300\">\n\t\t\t\t<Spinner />\n\t\t\t</div>\n\t\t{/if}\n\t</div>\n</div>\n"],"names":["safeOnDestroy","fn","onDestroy","derivedWithUnsubscribe","stores","unsubscribers","onUnsubscribe","cb","unsubscribe","derivedStore","derived","$storeValues","args","unsub","clientEffect","isBrowser","returned","toWritableStores","properties","result","key","propertyKey","value","writable","getOptionUpdater","options","store","styleToString","style","str","currentState","element","getCursorStyle","state","resetGlobalCursorStyle","setGlobalCursorStyle","computePaneFlexBoxStyle","defaultSize","dragState","layout","paneData","paneIndex","precision","size","flexGrow","calculateAriaValues","panesArray","pivotIndices","currentMinSize","currentMaxSize","totalMinSize","totalMaxSize","firstIndex","i","constraints","maxSize","minSize","valueMax","valueMin","valueNow","generateId","idFromProps","nanoid","LOCAL_STORAGE_DEBOUNCE_INTERVAL","PRECISION","initializeStorage","storageObject","name","err","getPaneGroupKey","autoSaveId","getPaneKey","panes","pane","id","idIsFromProps","order","loadSerializedPaneGroupState","storage","paneGroupKey","serialized","parsed","loadPaneGroupState","paneKey","savePaneGroupState","paneSizesBeforeCollapse","sizes","error","debounceMap","debounce","callback","durationMs","timeoutId","updateStorageValues","paneDataArrayStore","paneSizeBeforeCollapseStore","$paneDataArray","get","debouncedSave","clonedPaneDataArray","$paneSizeBeforeCollapse","clonedPaneSizesBeforeCollapse","removeUndefined","obj","chain","callbacks","addEventListener","target","event","handler","events","_event","areNumbersAlmostEqual","actual","expected","fractionDigits","compareNumbersWithTolerance","roundedActual","roundTo","roundedExpected","areArraysEqual","arrA","arrB","index","decimals","assert","expectedCondition","message","resizePane","paneConstraintsArray","initialSize","paneConstraints","collapsedSize","collapsible","newSize","getAdjustedSizeForCollapsible","halfwayPoint","adjustLayoutByDelta","delta","prevLayout","trigger","nextLayout","firstPivotIndex","secondPivotIndex","deltaApplied","prevSize","localDelta","increment","maxAvailableDelta","minAbsDelta","deltaRemaining","unsafeSize","safeSize","pivotIndex","totalSize","total","isHTMLElement","isKeyDown","isMouseEvent","isTouchEvent","defaultStorage","defaultProps","createPaneForge","props","withDefaults","direction","keyboardResizeBy","onLayout","groupId","paneDataArray","paneDataArrayChanged","paneIdToLastNotifiedSizeMap","paneSizeBeforeCollapseMap","prevDelta","$groupId","$layout","updateResizeHandleAriaValues","onMount","setResizeHandlerEventListeners","$autoSaveId","$storage","collapsePane","$prevLayout","paneSize","paneDataHelper","curr","findPaneDataIndex","$onLayout","callPaneCallbacks","getPaneSize","getPaneStyle","$dragState","isPaneExpanded","registerPane","newArr","paneA","paneB","orderA","orderB","$paneDataArrayChanged","unsafeLayout","getUnsafeDefaultLayout","validatePaneGroupLayout","registerResizeHandle","dragHandleId","$direction","$keyboardResizeBy","initialLayout","getPivotIndices","getDeltaPercentage","isHorizontal","layoutChanged","unsafePaneSize","paneConstraintsArr","startDragging","handleElement","getResizeHandleElement","initialCursorPosition","getResizeEventCursorPosition","stopDragging","unregisterPane","isPaneCollapsed","expandPane","prevPaneSize","baseSize","paneGroupStyle","paneGroupSelectors","paneGroupAttrs","$style","$selectors","unsubHandlers","getResizeHandleElementsForGroup","handle","handleId","noop","idBefore","idAfter","getResizeHandlePaneIds","unsubListener","e","setLayout","newLayout","getLayout","resizeHandleElements","resizeHandleEl","resizeHandleElement","getPaneGroupElement","handles","_a","_b","getResizeHandleElementIndex","prevPaneData","paneArray","paneId","lastNotifiedSize","onCollapse","onExpand","onResize","numPanesWithSizes","remainingSize","numRemainingPanes","nextLayoutTotalSize","accumulated","current","dir","initialDragState","movement","getDragOffsetPercentage","cursorPosition","groupElement","groupRect","groupSizeInPixels","firstTouch","PF_GROUP_CTX","setCtx","paneForge","updateOption","ctxValue","setContext","getCtx","componentName","hasContext","getContext","$.prop","$$props","onLayoutChange","el","paneGroup","styleFromProps","$.set","$paneGroupStyle","div","root","$paneGroupSelectors","$$restProps","$$value","getSize","isCollapsed","isExpanded","$.mutable_source","$.get","$getPaneStyle","attrs","$.attribute_effect","resizeHandleAction","node","params","update","disabled","resizeHandler","isDragging","onDragging","onMove","onMouseLeave","stopDraggingAndBlur","onDraggingChange","tabIndex","resizeHandleId","isFocused","handleKeydown","nextIndex","$.child","$.reset","$.action","$$node","$$action_arg","$.effect","$.event","$.append","$$anchor","getSuggestionRenderer","Component","ComponentProps","component","container","popup","refEl","createClassComponent","item","tippy","className","strokeWidth","svg","$.set_attribute","$.set_class","$.clsx","i18n","show","variables","onSave","loading","variableValues","submitHandler","init","variable","$.mutate","tick","firstInputElement","Modal","root_1","div_1","div_2","button","$.sibling","XMark","div_3","div_4","form","div_5","div_6","root_2","idx","type","variableAttributes","$.untrack","div_7","root_3","div_8","div_9","span","root_4","$i18n","div_10","div_11","$.derived_safe_equal","computed_const","placeholder","select","root_5","node_4","option_1","root_6","$$render","consequent_1","$.each","node_5","option","option_2","root_7","div_12","root_9","div_13","input","label","input_1","$.remove_input_defaults","$0","div_14","root_11","div_15","input_2","input_3","input_4","root_13","input_5","root_15","input_6","root_17","input_7","root_19","input_8","root_21","div_16","root_23","div_17","input_9","input_10","input_11","root_25","input_12","root_27","input_13","root_29","input_14","root_31","div_18","root_33","MapSelector","node_19","input_15","textarea","root_34","$.remove_textarea_child","Spinner","alternate_14","consequent_16","div_19","button_1","text_6","button_2","text_7","$.preventDefault","query","prompts","onSelect","selectedPromptIdx","filteredItems","selectUp","selectDown","command","p","a","b","$.first_child","fragment","$.index","promptItem","promptIdx","Tooltip","span_1","dayjs","relativeTime","selectedIdx","items","folderItems","knowledgeItems","fileItems","getItems","getFolderItems","getKnowledgeItems","getKnowledgeFileItems","$folders","folder","res","searchKnowledgeBases","searchKnowledgeFiles","folders","getFolders","onKeyDown","isYoutubeUrl","node_1","consequent_2","consequent","alternate_1","node_7","Database","Folder","DocumentPage","consequent_5","alternate_2","decodeString","node_10","root_16","node_12","Youtube","isValidHttpUrl","toast","node_14","GlobeAlt","fuse","Fuse","$models","model","_c","tag","_e","_d","modelIdx","img","WEBUI_API_BASE_URL","char","onUpload","insertTextHandler","text","suggestionElement","getPrompts","_onKeyDown","$prompts","Prompts","data","Knowledge","Models","alternate","consequent_3","$.template_effect"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]}