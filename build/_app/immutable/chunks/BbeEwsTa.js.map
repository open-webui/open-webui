{"version":3,"file":"BbeEwsTa.js","sources":["../../../../../../src/lib/components/common/Banner.svelte"],"sourcesContent":["<script lang=\"ts\">\n\timport type { Banner } from '$lib/types';\n\timport { onMount, createEventDispatcher, getContext } from 'svelte';\n\timport { fade } from 'svelte/transition';\n\timport DOMPurify from 'dompurify';\n\timport { marked } from 'marked';\n\timport { WEBUI_BASE_URL } from '$lib/constants';\n\n\tconst dispatch = createEventDispatcher();\n\tconst i18n = getContext('i18n');\n\n\texport let banner: Banner = {\n\t\tid: '',\n\t\ttype: 'info',\n\t\ttitle: '',\n\t\tcontent: '',\n\t\turl: '',\n\t\tdismissible: true,\n\t\ttimestamp: Math.floor(Date.now() / 1000)\n\t};\n\texport let className = 'mx-2 px-2 rounded-lg';\n\n\texport let dismissed = false;\n\n\tlet mounted = false;\n\n\tconst classNames: Record<string, string> = {\n\t\tinfo: 'bg-blue-500/20 text-blue-700 dark:text-blue-200 ',\n\t\tsuccess: 'bg-green-500/20 text-green-700 dark:text-green-200',\n\t\twarning: 'bg-yellow-500/20 text-yellow-700 dark:text-yellow-200',\n\t\terror: 'bg-red-500/20 text-red-700 dark:text-red-200'\n\t};\n\n\tconst dismiss = (id) => {\n\t\tdismissed = true;\n\t\tdispatch('dismiss', id);\n\t};\n\n\tonMount(() => {\n\t\tmounted = true;\n\n\t\tconsole.log('Banner mounted:', banner);\n\t});\n</script>\n\n{#if !dismissed}\n\t{#if mounted}\n\t\t<div\n\t\t\tclass=\"{className} top-0 left-0 right-0 py-1 flex justify-center items-center relative border border-transparent text-gray-800 dark:text-gary-100 bg-transparent backdrop-blur-xl z-30\"\n\t\t\ttransition:fade={{ delay: 100, duration: 300 }}\n\t\t>\n\t\t\t<div class=\" flex flex-col md:flex-row md:items-center flex-1 text-sm w-fit gap-1.5\">\n\t\t\t\t<div class=\"flex justify-between self-start\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass=\" text-xs font-semibold {classNames[banner.type] ??\n\t\t\t\t\t\t\tclassNames['info']}  w-fit px-2 rounded-sm uppercase line-clamp-1 mr-0.5\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{#if banner.type.toLowerCase() === 'info'}\n\t\t\t\t\t\t\t{$i18n.t('Info')}\n\t\t\t\t\t\t{:else if banner.type.toLowerCase() === 'warning'}\n\t\t\t\t\t\t\t{$i18n.t('Warning')}\n\t\t\t\t\t\t{:else if banner.type.toLowerCase() === 'error'}\n\t\t\t\t\t\t\t{$i18n.t('Error')}\n\t\t\t\t\t\t{:else if banner.type.toLowerCase() === 'success'}\n\t\t\t\t\t\t\t{$i18n.t('Success')}\n\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t{banner.type}\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{#if banner.url}\n\t\t\t\t\t\t<div class=\"flex md:hidden group w-fit md:items-center\">\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\tclass=\"text-gray-700 dark:text-white text-xs font-semibold underline\"\n\t\t\t\t\t\t\t\thref=\"{WEBUI_BASE_URL}/assets/files/whitepaper.pdf\"\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{$i18n.t('Learn More')}\n\t\t\t\t\t\t\t</a>\n\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclass=\" ml-1 text-gray-400 group-hover:text-gray-600 dark:group-hover:text-white\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<!--  -->\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\n\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t\td=\"M4.22 11.78a.75.75 0 0 1 0-1.06L9.44 5.5H5.75a.75.75 0 0 1 0-1.5h5.5a.75.75 0 0 1 .75.75v5.5a.75.75 0 0 1-1.5 0V6.56l-5.22 5.22a.75.75 0 0 1-1.06 0Z\"\n\t\t\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{/if}\n\t\t\t\t</div>\n\t\t\t\t<div class=\"flex-1 text-xs text-gray-700 dark:text-white max-h-60 overflow-y-auto\">\n\t\t\t\t\t{@html marked.parse(DOMPurify.sanitize((banner?.content ?? '').replace(/\\n/g, '<br>')))}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{#if banner.url}\n\t\t\t\t<div class=\"hidden md:flex group w-fit md:items-center\">\n\t\t\t\t\t<a\n\t\t\t\t\t\tclass=\"text-gray-700 dark:text-white text-xs font-semibold underline\"\n\t\t\t\t\t\thref=\"/\"\n\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{$i18n.t('Learn More')}\n\t\t\t\t\t</a>\n\n\t\t\t\t\t<div class=\" ml-1 text-gray-400 group-hover:text-gray-600 dark:group-hover:text-white\">\n\t\t\t\t\t\t<!--  -->\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\n\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\tclass=\"size-4\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\t\t\t\td=\"M4.22 11.78a.75.75 0 0 1 0-1.06L9.44 5.5H5.75a.75.75 0 0 1 0-1.5h5.5a.75.75 0 0 1 .75.75v5.5a.75.75 0 0 1-1.5 0V6.56l-5.22 5.22a.75.75 0 0 1-1.06 0Z\"\n\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t{/if}\n\t\t\t<div class=\"flex self-start\">\n\t\t\t\t<button\n\t\t\t\t\taria-label={$i18n.t('Close Banner')}\n\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\tdismiss(banner.id);\n\t\t\t\t\t}}\n\t\t\t\t\tclass=\"  -mt-1 -mb-2 -translate-y-[1px] ml-1.5 mr-1 text-gray-400 dark:hover:text-white\"\n\t\t\t\t\t>&times;</button\n\t\t\t\t>\n\t\t\t</div>\n\t\t</div>\n\t{/if}\n{/if}\n"],"names":["dispatch","createEventDispatcher","i18n","getContext","banner","$.prop","$$props","className","dismissed","mounted","classNames","dismiss","id","onMount","$.set","div","root_2","div_1","$.child","div_2","div_3","node_2","$i18n","$.untrack","$.reset","node_6","$.sibling","div_4","root_11","a","text_5","$.set_attribute","WEBUI_BASE_URL","$$render","consequent_4","div_5","marked","DOMPurify","_a","div_6","root_12","a_1","text_6","consequent_5","div_7","node_8","button","$.set_class","$0","$.transition","fade","$.append","$$anchor","consequent_6","consequent_7"],"mappings":"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"}