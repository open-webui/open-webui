{"version":3,"file":"l5Bi75JT.js","sources":["../../../../../../src/lib/components/common/Loader.svelte"],"sourcesContent":["<script lang=\"ts\">\n\timport { createEventDispatcher, onDestroy, onMount } from 'svelte';\n\tconst dispatch = createEventDispatcher();\n\n\tlet loaderElement: HTMLElement;\n\n\tlet observer;\n\tlet intervalId;\n\n\tonMount(() => {\n\t\tobserver = new IntersectionObserver(\n\t\t\t(entries, observer) => {\n\t\t\t\tentries.forEach((entry) => {\n\t\t\t\t\tif (entry.isIntersecting) {\n\t\t\t\t\t\tintervalId = setInterval(() => {\n\t\t\t\t\t\t\tdispatch('visible');\n\t\t\t\t\t\t}, 100);\n\t\t\t\t\t\t// dispatch('visible');\n\t\t\t\t\t\t// observer.unobserve(loaderElement); // Stop observing until content is loaded\n\t\t\t\t\t} else {\n\t\t\t\t\t\tclearInterval(intervalId);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\t{\n\t\t\t\troot: null, // viewport\n\t\t\t\trootMargin: '0px',\n\t\t\t\tthreshold: 0.1 // When 10% of the loader is visible\n\t\t\t}\n\t\t);\n\n\t\tobserver.observe(loaderElement);\n\t});\n\n\tonDestroy(() => {\n\t\tif (observer) {\n\t\t\tobserver.disconnect();\n\t\t}\n\n\t\tif (intervalId) {\n\t\t\tclearInterval(intervalId);\n\t\t}\n\t});\n</script>\n\n<div bind:this={loaderElement}>\n\t<slot />\n</div>\n"],"names":["dispatch","createEventDispatcher","loaderElement","$.mutable_source","observer","intervalId","onMount","entries","entry","$.get","onDestroy","div","root","$$value","$.set"],"mappings":"2SAAA,SAEO,MAAAA,EAAWC,EAAqB,MAElCC,EAA0BC,EAAA,EAE1BC,EACAC,EAEJC,EAAO,IAAO,CACbF,MAAe,sBACbG,EAASH,IAAa,CACtBG,EAAQ,QAASC,GAAU,CACtBA,EAAM,eACTH,EAAa,YAAkB,IAAA,CAC9BL,EAAS,SAAS,CACnB,EAAG,KAIH,cAAcK,CAAU,CAE1B,CAAC,CACF,GAEC,KAAM,KACN,WAAY,MACZ,UAAW,KAIbD,EAAS,QAAOK,EAACP,CAAa,CAAA,CAC/B,CAAC,EAEDQ,EAAS,IAAO,CACXN,GACHA,EAAS,WAAU,EAGhBC,GACH,cAAcA,CAAU,CAE1B,CAAC,UAGDM,EAAGC,EAAA,MAAHD,CAAG,6BAAHA,CAAG,IAAHA,EAAGE,GAAAC,EAAYZ,EAAaW,CAAA,EAAA,IAAAJ,EAAbP,CAAa,CAAA,MAA5BS,CAAG,KAFI"}