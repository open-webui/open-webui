{"version":3,"file":"CfUGEAnO.js","sources":["../../../../../../src/lib/components/admin/Functions/FunctionEditor.svelte"],"sourcesContent":["<script>\n\timport { getContext, onMount, tick } from 'svelte';\n\timport { goto } from '$app/navigation';\n\n\tconst i18n = getContext('i18n');\n\n\timport CodeEditor from '$lib/components/common/CodeEditor.svelte';\n\timport ConfirmDialog from '$lib/components/common/ConfirmDialog.svelte';\n\timport Badge from '$lib/components/common/Badge.svelte';\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\n\timport ChevronLeft from '$lib/components/icons/ChevronLeft.svelte';\n\n\tlet formElement = null;\n\tlet loading = false;\n\tlet showConfirm = false;\n\n\texport let onSave = () => {};\n\n\texport let edit = false;\n\texport let clone = false;\n\n\texport let id = '';\n\texport let name = '';\n\texport let meta = {\n\t\tdescription: ''\n\t};\n\texport let content = '';\n\tlet _content = '';\n\n\t$: if (content) {\n\t\tupdateContent();\n\t}\n\n\tconst updateContent = () => {\n\t\t_content = content;\n\t};\n\n\t$: if (name && !edit && !clone) {\n\t\tid = name.replace(/\\s+/g, '_').toLowerCase();\n\t}\n\n\tlet codeEditor;\n\tlet boilerplate = `\"\"\"\ntitle: Example Filter\nauthor: open-webui\nauthor_url: https://github.com/open-webui\nfunding_url: https://github.com/open-webui\nversion: 0.1\n\"\"\"\n\nfrom pydantic import BaseModel, Field\nfrom typing import Optional\n\n\nclass Filter:\n    class Valves(BaseModel):\n        priority: int = Field(\n            default=0, description=\"Priority level for the filter operations.\"\n        )\n        max_turns: int = Field(\n            default=8, description=\"Maximum allowable conversation turns for a user.\"\n        )\n        pass\n\n    class UserValves(BaseModel):\n        max_turns: int = Field(\n            default=4, description=\"Maximum allowable conversation turns for a user.\"\n        )\n        pass\n\n    def __init__(self):\n        # Indicates custom file handling logic. This flag helps disengage default routines in favor of custom\n        # implementations, informing the WebUI to defer file-related operations to designated methods within this class.\n        # Alternatively, you can remove the files directly from the body in from the inlet hook\n        # self.file_handler = True\n\n        # Initialize 'valves' with specific configurations. Using 'Valves' instance helps encapsulate settings,\n        # which ensures settings are managed cohesively and not confused with operational flags like 'file_handler'.\n        self.valves = self.Valves()\n        pass\n\n    def inlet(self, body: dict, __user__: Optional[dict] = None) -> dict:\n        # Modify the request body or validate it before processing by the chat completion API.\n        # This function is the pre-processor for the API where various checks on the input can be performed.\n        # It can also modify the request before sending it to the API.\n        print(f\"inlet:{__name__}\")\n        print(f\"inlet:body:{body}\")\n        print(f\"inlet:user:{__user__}\")\n\n        if __user__.get(\"role\", \"admin\") in [\"user\", \"admin\"]:\n            messages = body.get(\"messages\", [])\n\n            max_turns = min(__user__[\"valves\"].max_turns, self.valves.max_turns)\n            if len(messages) > max_turns:\n                raise Exception(\n                    f\"Conversation turn limit exceeded. Max turns: {max_turns}\"\n                )\n\n        return body\n\n    def outlet(self, body: dict, __user__: Optional[dict] = None) -> dict:\n        # Modify or analyze the response body after processing by the API.\n        # This function is the post-processor for the API, which can be used to modify the response\n        # or perform additional checks and analytics.\n        print(f\"outlet:{__name__}\")\n        print(f\"outlet:body:{body}\")\n        print(f\"outlet:user:{__user__}\")\n\n        return body\n`;\n\n\tconst _boilerplate = `from pydantic import BaseModel\nfrom typing import Optional, Union, Generator, Iterator\nfrom open_webui.utils.misc import get_last_user_message\n\nimport os\nimport requests\n\n\n# Filter Class: This class is designed to serve as a pre-processor and post-processor\n# for request and response modifications. It checks and transforms requests and responses\n# to ensure they meet specific criteria before further processing or returning to the user.\nclass Filter:\n    class Valves(BaseModel):\n        max_turns: int = 4\n        pass\n\n    def __init__(self):\n        # Indicates custom file handling logic. This flag helps disengage default routines in favor of custom\n        # implementations, informing the WebUI to defer file-related operations to designated methods within this class.\n        # Alternatively, you can remove the files directly from the body in from the inlet hook\n        self.file_handler = True\n\n        # Initialize 'valves' with specific configurations. Using 'Valves' instance helps encapsulate settings,\n        # which ensures settings are managed cohesively and not confused with operational flags like 'file_handler'.\n        self.valves = self.Valves(**{\"max_turns\": 2})\n        pass\n\n    def inlet(self, body: dict, user: Optional[dict] = None) -> dict:\n        # Modify the request body or validate it before processing by the chat completion API.\n        # This function is the pre-processor for the API where various checks on the input can be performed.\n        # It can also modify the request before sending it to the API.\n        print(f\"inlet:{__name__}\")\n        print(f\"inlet:body:{body}\")\n        print(f\"inlet:user:{user}\")\n\n        if user.get(\"role\", \"admin\") in [\"user\", \"admin\"]:\n            messages = body.get(\"messages\", [])\n            if len(messages) > self.valves.max_turns:\n                raise Exception(\n                    f\"Conversation turn limit exceeded. Max turns: {self.valves.max_turns}\"\n                )\n\n        return body\n\n    def outlet(self, body: dict, user: Optional[dict] = None) -> dict:\n        # Modify or analyze the response body after processing by the API.\n        # This function is the post-processor for the API, which can be used to modify the response\n        # or perform additional checks and analytics.\n        print(f\"outlet:{__name__}\")\n        print(f\"outlet:body:{body}\")\n        print(f\"outlet:user:{user}\")\n\n        messages = [\n            {\n                **message,\n                \"content\": f\"{message['content']} - @@Modified from Filter Outlet\",\n            }\n            for message in body.get(\"messages\", [])\n        ]\n\n        return {\"messages\": messages}\n\n\n\n# Pipe Class: This class functions as a customizable pipeline.\n# It can be adapted to work with any external or internal models,\n# making it versatile for various use cases outside of just OpenAI models.\nclass Pipe:\n    class Valves(BaseModel):\n        OPENAI_API_BASE_URL: str = \"https://api.openai.com/v1\"\n        OPENAI_API_KEY: str = \"your-key\"\n        pass\n\n    def __init__(self):\n        self.type = \"manifold\"\n        self.valves = self.Valves()\n        self.pipes = self.get_openai_models()\n        pass\n\n    def get_openai_models(self):\n        if self.valves.OPENAI_API_KEY:\n            try:\n                headers = {}\n                headers[\"Authorization\"] = f\"Bearer {self.valves.OPENAI_API_KEY}\"\n                headers[\"Content-Type\"] = \"application/json\"\n\n                r = requests.get(\n                    f\"{self.valves.OPENAI_API_BASE_URL}/models\", headers=headers\n                )\n\n                models = r.json()\n                return [\n                    {\n                        \"id\": model[\"id\"],\n                        \"name\": model[\"name\"] if \"name\" in model else model[\"id\"],\n                    }\n                    for model in models[\"data\"]\n                    if \"gpt\" in model[\"id\"]\n                ]\n\n            except Exception as e:\n\n                print(f\"Error: {e}\")\n                return [\n                    {\n                        \"id\": \"error\",\n                        \"name\": \"Could not fetch models from OpenAI, please update the API Key in the valves.\",\n                    },\n                ]\n        else:\n            return []\n\n    def pipe(self, body: dict) -> Union[str, Generator, Iterator]:\n        # This is where you can add your custom pipelines like RAG.\n        print(f\"pipe:{__name__}\")\n\n        if \"user\" in body:\n            print(body[\"user\"])\n            del body[\"user\"]\n\n        headers = {}\n        headers[\"Authorization\"] = f\"Bearer {self.valves.OPENAI_API_KEY}\"\n        headers[\"Content-Type\"] = \"application/json\"\n\n        model_id = body[\"model\"][body[\"model\"].find(\".\") + 1 :]\n        payload = {**body, \"model\": model_id}\n        print(payload)\n\n        try:\n            r = requests.post(\n                url=f\"{self.valves.OPENAI_API_BASE_URL}/chat/completions\",\n                json=payload,\n                headers=headers,\n                stream=True,\n            )\n\n            r.raise_for_status()\n\n            if body[\"stream\"]:\n                return r.iter_lines()\n            else:\n                return r.json()\n        except Exception as e:\n            return f\"Error: {e}\"\n`;\n\n\tconst saveHandler = async () => {\n\t\tloading = true;\n\t\tonSave({\n\t\t\tid,\n\t\t\tname,\n\t\t\tmeta,\n\t\t\tcontent\n\t\t});\n\t};\n\n\tconst submitHandler = async () => {\n\t\tif (codeEditor) {\n\t\t\tcontent = _content;\n\t\t\tawait tick();\n\n\t\t\tconst res = await codeEditor.formatPythonCodeHandler();\n\t\t\tawait tick();\n\n\t\t\tcontent = _content;\n\t\t\tawait tick();\n\n\t\t\tif (res) {\n\t\t\t\tconsole.info('Code formatted successfully');\n\n\t\t\t\tsaveHandler();\n\t\t\t}\n\t\t}\n\t};\n</script>\n\n<div class=\" flex flex-col justify-between w-full overflow-y-auto h-full\">\n\t<div class=\"mx-auto w-full md:px-0 h-full\">\n\t\t<form\n\t\t\tbind:this={formElement}\n\t\t\tclass=\" flex flex-col max-h-[100dvh] h-full\"\n\t\t\ton:submit|preventDefault={() => {\n\t\t\t\tif (edit) {\n\t\t\t\t\tsubmitHandler();\n\t\t\t\t} else {\n\t\t\t\t\tshowConfirm = true;\n\t\t\t\t}\n\t\t\t}}\n\t\t>\n\t\t\t<div class=\"flex flex-col flex-1 overflow-auto h-0 rounded-lg\">\n\t\t\t\t<div class=\"w-full mb-2 flex flex-col gap-0.5\">\n\t\t\t\t\t<div class=\"flex w-full items-center\">\n\t\t\t\t\t\t<div class=\" shrink-0 mr-2\">\n\t\t\t\t\t\t\t<Tooltip content={$i18n.t('Back')}>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclass=\"w-full text-left text-sm py-1.5 px-1 rounded-lg dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-gray-850\"\n\t\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\t\tgoto('/admin/functions');\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<ChevronLeft strokeWidth=\"2.5\" />\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t<Tooltip content={$i18n.t('e.g. My Filter')} placement=\"top-start\">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclass=\"w-full text-2xl font-medium bg-transparent outline-hidden font-primary\"\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Function Name')}\n\t\t\t\t\t\t\t\t\tbind:value={name}\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Badge type=\"muted\" content={$i18n.t('Function')} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\" flex gap-2 px-1 items-center\">\n\t\t\t\t\t\t{#if edit}\n\t\t\t\t\t\t\t<div class=\"text-sm text-gray-500 shrink-0\">\n\t\t\t\t\t\t\t\t{id}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t<Tooltip className=\"w-full\" content={$i18n.t('e.g. my_filter')} placement=\"top-start\">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclass=\"w-full text-sm disabled:text-gray-500 bg-transparent outline-hidden\"\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Function ID')}\n\t\t\t\t\t\t\t\t\tbind:value={id}\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\tdisabled={edit}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t{/if}\n\n\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\tclassName=\"w-full self-center items-center flex\"\n\t\t\t\t\t\t\tcontent={$i18n.t('e.g. A filter to remove profanity from text')}\n\t\t\t\t\t\t\tplacement=\"top-start\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tclass=\"w-full text-sm bg-transparent outline-hidden\"\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Function Description')}\n\t\t\t\t\t\t\t\tbind:value={meta.description}\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"mb-2 flex-1 overflow-auto h-0 rounded-lg\">\n\t\t\t\t\t<CodeEditor\n\t\t\t\t\t\tbind:this={codeEditor}\n\t\t\t\t\t\tvalue={content}\n\t\t\t\t\t\tlang=\"python\"\n\t\t\t\t\t\t{boilerplate}\n\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t_content = e;\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonSave={async () => {\n\t\t\t\t\t\t\tif (formElement) {\n\t\t\t\t\t\t\t\tformElement.requestSubmit();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"pb-3 flex justify-between\">\n\t\t\t\t\t<div class=\"flex-1 pr-3\">\n\t\t\t\t\t\t<div class=\"text-xs text-gray-500 line-clamp-2\">\n\t\t\t\t\t\t\t<span class=\" font-semibold dark:text-gray-200\">{$i18n.t('Warning:')}</span>\n\t\t\t\t\t\t\t{$i18n.t('Functions allow arbitrary code execution.')} <br />â€”\n\t\t\t\t\t\t\t<span class=\" font-medium dark:text-gray-400\"\n\t\t\t\t\t\t\t\t>{$i18n.t(`don't install random functions from sources you don't trust.`)}</span\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass=\"px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full\"\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{$i18n.t('Save')}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</form>\n\t</div>\n</div>\n\n<ConfirmDialog\n\tbind:show={showConfirm}\n\ton:confirm={() => {\n\t\tsubmitHandler();\n\t}}\n>\n\t<div class=\"text-sm text-gray-500\">\n\t\t<div class=\" bg-yellow-500/20 text-yellow-700 dark:text-yellow-200 rounded-lg px-4 py-3\">\n\t\t\t<div>{$i18n.t('Please carefully review the following warnings:')}</div>\n\n\t\t\t<ul class=\" mt-1 list-disc pl-4 text-xs\">\n\t\t\t\t<li>{$i18n.t('Functions allow arbitrary code execution.')}</li>\n\t\t\t\t<li>{$i18n.t('Do not install functions from sources you do not fully trust.')}</li>\n\t\t\t</ul>\n\t\t</div>\n\n\t\t<div class=\"my-3\">\n\t\t\t{$i18n.t(\n\t\t\t\t'I acknowledge that I have read and I understand the implications of my action. I am aware of the risks associated with executing arbitrary code and I have verified the trustworthiness of the source.'\n\t\t\t)}\n\t\t</div>\n\t</div>\n</ConfirmDialog>\n"],"names":["i18n","getContext","formElement","showConfirm","onSave","$.prop","$$props","edit","clone","id","name","meta","content","_content","updateContent","$.set","codeEditor","$.mutable_source","boilerplate","saveHandler","submitHandler","$.get","tick","res","div","$.first_child","fragment","div_1","form","$.child","div_2","div_3","div_4","div_5","$i18n","Tooltip","node","button","root_1","node_1","ChevronLeft","$.reset","goto","$.append","$$anchor","div_6","node_2","input","root_2","$.remove_input_defaults","$.template_effect","$0","$.set_attribute","$.untrack","$.bind_value","div_7","Badge","node_3","div_8","div_9","root_3","input_1","root_5","$$render","consequent","alternate","node_5","input_2","root_6","$$value","div_10","CodeEditor","node_6","e","div_11","div_12","div_13","span","span_1","$.sibling","text_2","button_1","text_4","ConfirmDialog","node_7","div_14","root_7","div_15","div_16","ul","li","li_1","div_17","$.preventDefault"],"mappings":"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"}