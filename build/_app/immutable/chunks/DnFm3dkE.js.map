{"version":3,"file":"DnFm3dkE.js","sources":["../../../../../../src/lib/apis/models/index.ts"],"sourcesContent":["import { WEBUI_API_BASE_URL } from '$lib/constants';\n\nexport const getModelItems = async (\n\ttoken: string = '',\n\tquery,\n\tviewOption,\n\tselectedTag,\n\torderBy,\n\tdirection,\n\tpage\n) => {\n\tlet error = null;\n\n\tconst searchParams = new URLSearchParams();\n\tif (query) {\n\t\tsearchParams.append('query', query);\n\t}\n\tif (viewOption) {\n\t\tsearchParams.append('view_option', viewOption);\n\t}\n\tif (selectedTag) {\n\t\tsearchParams.append('tag', selectedTag);\n\t}\n\tif (orderBy) {\n\t\tsearchParams.append('order_by', orderBy);\n\t}\n\tif (direction) {\n\t\tsearchParams.append('direction', direction);\n\t}\n\tif (page) {\n\t\tsearchParams.append('page', page.toString());\n\t}\n\n\tconst res = await fetch(`${WEBUI_API_BASE_URL}/models/list?${searchParams.toString()}`, {\n\t\tmethod: 'GET',\n\t\theaders: {\n\t\t\tAccept: 'application/json',\n\t\t\t'Content-Type': 'application/json',\n\t\t\tauthorization: `Bearer ${token}`\n\t\t}\n\t})\n\t\t.then(async (res) => {\n\t\t\tif (!res.ok) throw await res.json();\n\t\t\treturn res.json();\n\t\t})\n\t\t.then((json) => {\n\t\t\treturn json;\n\t\t})\n\t\t.catch((err) => {\n\t\t\terror = err;\n\t\t\tconsole.error(err);\n\t\t\treturn null;\n\t\t});\n\n\tif (error) {\n\t\tthrow error;\n\t}\n\n\treturn res;\n};\n\nexport const getModelTags = async (token: string = '') => {\n\tlet error = null;\n\n\tconst res = await fetch(`${WEBUI_API_BASE_URL}/models/tags`, {\n\t\tmethod: 'GET',\n\t\theaders: {\n\t\t\tAccept: 'application/json',\n\t\t\t'Content-Type': 'application/json',\n\t\t\tauthorization: `Bearer ${token}`\n\t\t}\n\t})\n\t\t.then(async (res) => {\n\t\t\tif (!res.ok) throw await res.json();\n\t\t\treturn res.json();\n\t\t})\n\t\t.then((json) => {\n\t\t\treturn json;\n\t\t})\n\t\t.catch((err) => {\n\t\t\terror = err;\n\t\t\tconsole.error(err);\n\t\t\treturn null;\n\t\t});\n\n\tif (error) {\n\t\tthrow error;\n\t}\n\n\treturn res;\n};\n\nexport const importModels = async (token: string, models: object[]) => {\n\tlet error = null;\n\n\tconst res = await fetch(`${WEBUI_API_BASE_URL}/models/import`, {\n\t\tmethod: 'POST',\n\t\theaders: {\n\t\t\t'Content-Type': 'application/json',\n\t\t\tauthorization: `Bearer ${token}`\n\t\t},\n\t\tbody: JSON.stringify({ models: models })\n\t})\n\t\t.then(async (res) => {\n\t\t\tif (!res.ok) throw await res.json();\n\t\t\treturn res.json();\n\t\t})\n\t\t.catch((err) => {\n\t\t\terror = err;\n\t\t\tconsole.error(err);\n\t\t\treturn null;\n\t\t});\n\n\tif (error) {\n\t\tthrow error;\n\t}\n\n\treturn res;\n};\n\nexport const getBaseModels = async (token: string = '') => {\n\tlet error = null;\n\n\tconst res = await fetch(`${WEBUI_API_BASE_URL}/models/base`, {\n\t\tmethod: 'GET',\n\t\theaders: {\n\t\t\tAccept: 'application/json',\n\t\t\t'Content-Type': 'application/json',\n\t\t\tauthorization: `Bearer ${token}`\n\t\t}\n\t})\n\t\t.then(async (res) => {\n\t\t\tif (!res.ok) throw await res.json();\n\t\t\treturn res.json();\n\t\t})\n\t\t.then((json) => {\n\t\t\treturn json;\n\t\t})\n\t\t.catch((err) => {\n\t\t\terror = err;\n\t\t\tconsole.error(err);\n\t\t\treturn null;\n\t\t});\n\n\tif (error) {\n\t\tthrow error;\n\t}\n\n\treturn res;\n};\n\nexport const createNewModel = async (token: string, model: object) => {\n\tlet error = null;\n\n\tconst res = await fetch(`${WEBUI_API_BASE_URL}/models/create`, {\n\t\tmethod: 'POST',\n\t\theaders: {\n\t\t\tAccept: 'application/json',\n\t\t\t'Content-Type': 'application/json',\n\t\t\tauthorization: `Bearer ${token}`\n\t\t},\n\t\tbody: JSON.stringify(model)\n\t})\n\t\t.then(async (res) => {\n\t\t\tif (!res.ok) throw await res.json();\n\t\t\treturn res.json();\n\t\t})\n\t\t.catch((err) => {\n\t\t\terror = err.detail;\n\t\t\tconsole.error(err);\n\t\t\treturn null;\n\t\t});\n\n\tif (error) {\n\t\tthrow error;\n\t}\n\n\treturn res;\n};\n\nexport const getModelById = async (token: string, id: string) => {\n\tlet error = null;\n\n\tconst searchParams = new URLSearchParams();\n\tsearchParams.append('id', id);\n\n\tconst res = await fetch(`${WEBUI_API_BASE_URL}/models/model?${searchParams.toString()}`, {\n\t\tmethod: 'GET',\n\t\theaders: {\n\t\t\tAccept: 'application/json',\n\t\t\t'Content-Type': 'application/json',\n\t\t\tauthorization: `Bearer ${token}`\n\t\t}\n\t})\n\t\t.then(async (res) => {\n\t\t\tif (!res.ok) throw await res.json();\n\t\t\treturn res.json();\n\t\t})\n\t\t.then((json) => {\n\t\t\treturn json;\n\t\t})\n\t\t.catch((err) => {\n\t\t\terror = err;\n\n\t\t\tconsole.error(err);\n\t\t\treturn null;\n\t\t});\n\n\tif (error) {\n\t\tthrow error;\n\t}\n\n\treturn res;\n};\n\nexport const toggleModelById = async (token: string, id: string) => {\n\tlet error = null;\n\n\tconst searchParams = new URLSearchParams();\n\tsearchParams.append('id', id);\n\n\tconst res = await fetch(`${WEBUI_API_BASE_URL}/models/model/toggle?${searchParams.toString()}`, {\n\t\tmethod: 'POST',\n\t\theaders: {\n\t\t\tAccept: 'application/json',\n\t\t\t'Content-Type': 'application/json',\n\t\t\tauthorization: `Bearer ${token}`\n\t\t}\n\t})\n\t\t.then(async (res) => {\n\t\t\tif (!res.ok) throw await res.json();\n\t\t\treturn res.json();\n\t\t})\n\t\t.then((json) => {\n\t\t\treturn json;\n\t\t})\n\t\t.catch((err) => {\n\t\t\terror = err;\n\n\t\t\tconsole.error(err);\n\t\t\treturn null;\n\t\t});\n\n\tif (error) {\n\t\tthrow error;\n\t}\n\n\treturn res;\n};\n\nexport const updateModelById = async (token: string, id: string, model: object) => {\n\tlet error = null;\n\n\tconst res = await fetch(`${WEBUI_API_BASE_URL}/models/model/update`, {\n\t\tmethod: 'POST',\n\t\theaders: {\n\t\t\tAccept: 'application/json',\n\t\t\t'Content-Type': 'application/json',\n\t\t\tauthorization: `Bearer ${token}`\n\t\t},\n\t\tbody: JSON.stringify({ ...model, id })\n\t})\n\t\t.then(async (res) => {\n\t\t\tif (!res.ok) throw await res.json();\n\t\t\treturn res.json();\n\t\t})\n\t\t.then((json) => {\n\t\t\treturn json;\n\t\t})\n\t\t.catch((err) => {\n\t\t\terror = err;\n\n\t\t\tconsole.error(err);\n\t\t\treturn null;\n\t\t});\n\n\tif (error) {\n\t\tthrow error;\n\t}\n\n\treturn res;\n};\n\nexport const deleteModelById = async (token: string, id: string) => {\n\tlet error = null;\n\n\tconst res = await fetch(`${WEBUI_API_BASE_URL}/models/model/delete`, {\n\t\tmethod: 'POST',\n\t\theaders: {\n\t\t\tAccept: 'application/json',\n\t\t\t'Content-Type': 'application/json',\n\t\t\tauthorization: `Bearer ${token}`\n\t\t},\n\t\tbody: JSON.stringify({ id })\n\t})\n\t\t.then(async (res) => {\n\t\t\tif (!res.ok) throw await res.json();\n\t\t\treturn res.json();\n\t\t})\n\t\t.then((json) => {\n\t\t\treturn json;\n\t\t})\n\t\t.catch((err) => {\n\t\t\terror = err.detail;\n\n\t\t\tconsole.error(err);\n\t\t\treturn null;\n\t\t});\n\n\tif (error) {\n\t\tthrow error;\n\t}\n\n\treturn res;\n};\n\nexport const deleteAllModels = async (token: string) => {\n\tlet error = null;\n\n\tconst res = await fetch(`${WEBUI_API_BASE_URL}/models/delete/all`, {\n\t\tmethod: 'DELETE',\n\t\theaders: {\n\t\t\tAccept: 'application/json',\n\t\t\t'Content-Type': 'application/json',\n\t\t\tauthorization: `Bearer ${token}`\n\t\t}\n\t})\n\t\t.then(async (res) => {\n\t\t\tif (!res.ok) throw await res.json();\n\t\t\treturn res.json();\n\t\t})\n\t\t.then((json) => {\n\t\t\treturn json;\n\t\t})\n\t\t.catch((err) => {\n\t\t\terror = err;\n\n\t\t\tconsole.error(err);\n\t\t\treturn null;\n\t\t});\n\n\tif (error) {\n\t\tthrow error;\n\t}\n\n\treturn res;\n};\n"],"names":["getModelItems","token","query","viewOption","selectedTag","orderBy","direction","page","error","searchParams","res","WEBUI_API_BASE_URL","json","err","getModelTags","importModels","models","getBaseModels","createNewModel","model","getModelById","id","toggleModelById","updateModelById","deleteModelById","deleteAllModels"],"mappings":"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"}