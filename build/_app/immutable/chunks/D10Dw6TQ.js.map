{"version":3,"file":"D10Dw6TQ.js","sources":["../../../../../../src/lib/components/layout/ChatsModal.svelte","../../../../../../src/lib/components/chat/Settings/Account/UserProfileImage.svelte"],"sourcesContent":["<script lang=\"ts\">\n\timport { toast } from 'svelte-sonner';\n\timport { getContext } from 'svelte';\n\n\timport dayjs from 'dayjs';\n\timport localizedFormat from 'dayjs/plugin/localizedFormat';\n\timport calendar from 'dayjs/plugin/calendar';\n\n\tdayjs.extend(localizedFormat);\n\tdayjs.extend(calendar);\n\n\timport { deleteChatById } from '$lib/apis/chats';\n\n\timport Modal from '$lib/components/common/Modal.svelte';\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\n\timport ConfirmDialog from '$lib/components/common/ConfirmDialog.svelte';\n\n\timport Spinner from '../common/Spinner.svelte';\n\timport Loader from '../common/Loader.svelte';\n\timport XMark from '../icons/XMark.svelte';\n\timport ChevronUp from '../icons/ChevronUp.svelte';\n\timport ChevronDown from '../icons/ChevronDown.svelte';\n\n\tconst i18n = getContext('i18n');\n\n\texport let show = false;\n\n\texport let title = 'Chats';\n\texport let emptyPlaceholder = '';\n\texport let shareUrl = false;\n\n\texport let query = '';\n\n\texport let orderBy = 'updated_at';\n\texport let direction = 'desc'; // 'asc' or 'desc'\n\n\texport let chatList = null;\n\texport let allChatsLoaded = false;\n\texport let chatListLoading = false;\n\n\tlet selectedChatId = null;\n\tlet selectedIdx = 0;\n\tlet showDeleteConfirmDialog = false;\n\n\texport let onUpdate = () => {};\n\n\texport let loadHandler: null | Function = null;\n\texport let unarchiveHandler: null | Function = null;\n\n\tconst setSortKey = (key) => {\n\t\tif (orderBy === key) {\n\t\t\tdirection = direction === 'asc' ? 'desc' : 'asc';\n\t\t} else {\n\t\t\torderBy = key;\n\t\t\tdirection = 'asc';\n\t\t}\n\t};\n\n\tconst deleteHandler = async (chatId) => {\n\t\tconst res = await deleteChatById(localStorage.token, chatId).catch((error) => {\n\t\t\ttoast.error(`${error}`);\n\t\t});\n\n\t\tonUpdate();\n\t};\n</script>\n\n<ConfirmDialog\n\tbind:show={showDeleteConfirmDialog}\n\ton:confirm={() => {\n\t\tif (selectedChatId) {\n\t\t\tdeleteHandler(selectedChatId);\n\t\t\tselectedChatId = null;\n\t\t}\n\t}}\n/>\n\n<Modal size=\"lg\" bind:show>\n\t<div>\n\t\t<div class=\" flex justify-between dark:text-gray-300 px-5 pt-4 pb-1\">\n\t\t\t<div class=\" text-lg font-medium self-center\">{title}</div>\n\t\t\t<button\n\t\t\t\tclass=\"self-center\"\n\t\t\t\ton:click={() => {\n\t\t\t\t\tshow = false;\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<svg\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\tviewBox=\"0 0 20 20\"\n\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\tclass=\"w-5 h-5\"\n\t\t\t\t>\n\t\t\t\t\t<path\n\t\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\t\td=\"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z\"\n\t\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t\t/>\n\t\t\t\t</svg>\n\t\t\t</button>\n\t\t</div>\n\n\t\t<div class=\"flex flex-col w-full px-5 pb-4 dark:text-gray-200\">\n\t\t\t<div class=\" flex w-full space-x-2 mb-0.5\">\n\t\t\t\t<div class=\"flex flex-1\">\n\t\t\t\t\t<div class=\" self-center ml-1 mr-3\">\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\tviewBox=\"0 0 20 20\"\n\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\t\t\t\td=\"M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z\"\n\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</div>\n\t\t\t\t\t<input\n\t\t\t\t\t\tclass=\" w-full text-sm pr-4 py-1 rounded-r-xl outline-hidden bg-transparent\"\n\t\t\t\t\t\tbind:value={query}\n\t\t\t\t\t\tplaceholder={$i18n.t('Search Chats')}\n\t\t\t\t\t\tmaxlength=\"500\"\n\t\t\t\t\t/>\n\n\t\t\t\t\t{#if query}\n\t\t\t\t\t\t<div class=\"self-center pl-1.5 pr-1 translate-y-[0.5px] rounded-l-xl bg-transparent\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\"p-0.5 rounded-full hover:bg-gray-100 dark:hover:bg-gray-900 transition\"\n\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\tquery = '';\n\t\t\t\t\t\t\t\t\tselectedIdx = 0;\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<XMark className=\"size-3\" strokeWidth=\"2\" />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{/if}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\" flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6\">\n\t\t\t\t{#if chatList}\n\t\t\t\t\t<div class=\"w-full\">\n\t\t\t\t\t\t{#if chatList.length > 0}\n\t\t\t\t\t\t\t<div class=\"flex text-xs font-medium mb-1.5\">\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclass=\"px-1.5 py-1 cursor-pointer select-none basis-3/5\"\n\t\t\t\t\t\t\t\t\ton:click={() => setSortKey('title')}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div class=\"flex gap-1.5 items-center\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Title')}\n\n\t\t\t\t\t\t\t\t\t\t{#if orderBy === 'title'}\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"font-normal\"\n\t\t\t\t\t\t\t\t\t\t\t\t>{#if direction === 'asc'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ChevronUp className=\"size-2\" />\n\t\t\t\t\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ChevronDown className=\"size-2\" />\n\t\t\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"invisible\">\n\t\t\t\t\t\t\t\t\t\t\t\t<ChevronUp className=\"size-2\" />\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclass=\"px-1.5 py-1 cursor-pointer select-none hidden sm:flex sm:basis-2/5 justify-end\"\n\t\t\t\t\t\t\t\t\ton:click={() => setSortKey('updated_at')}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div class=\"flex gap-1.5 items-center\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Updated at')}\n\n\t\t\t\t\t\t\t\t\t\t{#if orderBy === 'updated_at'}\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"font-normal\"\n\t\t\t\t\t\t\t\t\t\t\t\t>{#if direction === 'asc'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ChevronUp className=\"size-2\" />\n\t\t\t\t\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ChevronDown className=\"size-2\" />\n\t\t\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"invisible\">\n\t\t\t\t\t\t\t\t\t\t\t\t<ChevronUp className=\"size-2\" />\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t<div class=\"text-left text-sm w-full mb-3 max-h-[22rem] overflow-y-scroll\">\n\t\t\t\t\t\t\t{#if chatList.length === 0}\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclass=\"text-xs text-gray-500 dark:text-gray-400 text-center px-5 min-h-20 w-full h-full flex justify-center items-center\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{$i18n.t('No results found')}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{/if}\n\n\t\t\t\t\t\t\t{#each chatList as chat, idx (chat.id)}\n\t\t\t\t\t\t\t\t{#if (idx === 0 || (idx > 0 && chat.time_range !== chatList[idx - 1].time_range)) && chat?.time_range}\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full text-xs text-gray-500 dark:text-gray-500 font-medium {idx === 0\n\t\t\t\t\t\t\t\t\t\t\t? ''\n\t\t\t\t\t\t\t\t\t\t\t: 'pt-5'} pb-2 px-2\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{$i18n.t(chat.time_range)}\n\t\t\t\t\t\t\t\t\t\t<!-- localisation keys for time_range to be recognized from the i18next parser (so they don't get automatically removed):\n\t\t\t\t\t\t\t{$i18n.t('Today')}\n\t\t\t\t\t\t\t{$i18n.t('Yesterday')}\n\t\t\t\t\t\t\t{$i18n.t('Previous 7 days')}\n\t\t\t\t\t\t\t{$i18n.t('Previous 30 days')}\n\t\t\t\t\t\t\t{$i18n.t('January')}\n\t\t\t\t\t\t\t{$i18n.t('February')}\n\t\t\t\t\t\t\t{$i18n.t('March')}\n\t\t\t\t\t\t\t{$i18n.t('April')}\n\t\t\t\t\t\t\t{$i18n.t('May')}\n\t\t\t\t\t\t\t{$i18n.t('June')}\n\t\t\t\t\t\t\t{$i18n.t('July')}\n\t\t\t\t\t\t\t{$i18n.t('August')}\n\t\t\t\t\t\t\t{$i18n.t('September')}\n\t\t\t\t\t\t\t{$i18n.t('October')}\n\t\t\t\t\t\t\t{$i18n.t('November')}\n\t\t\t\t\t\t\t{$i18n.t('December')}\n\t\t\t\t\t\t\t-->\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{/if}\n\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclass=\" w-full flex justify-between items-center rounded-lg text-sm py-2 px-3 hover:bg-gray-50 dark:hover:bg-gray-850\"\n\t\t\t\t\t\t\t\t\tdraggable=\"false\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\tclass=\" basis-3/5\"\n\t\t\t\t\t\t\t\t\t\thref={shareUrl ? `/s/${chat.id}` : `/c/${chat.id}`}\n\t\t\t\t\t\t\t\t\t\ton:click={() => (show = false)}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<div class=\"text-ellipsis line-clamp-1 w-full\">\n\t\t\t\t\t\t\t\t\t\t\t{chat?.title}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</a>\n\n\t\t\t\t\t\t\t\t\t<div class=\"basis-2/5 flex items-center justify-end\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"hidden sm:flex text-gray-500 dark:text-gray-400 text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t{$i18n.t(\n\t\t\t\t\t\t\t\t\t\t\t\tdayjs(chat?.updated_at * 1000).calendar(null, {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsameDay: '[Today]',\n\t\t\t\t\t\t\t\t\t\t\t\t\tnextDay: '[Tomorrow]',\n\t\t\t\t\t\t\t\t\t\t\t\t\tnextWeek: 'dddd',\n\t\t\t\t\t\t\t\t\t\t\t\t\tlastDay: '[Yesterday]',\n\t\t\t\t\t\t\t\t\t\t\t\t\tlastWeek: '[Last] dddd',\n\t\t\t\t\t\t\t\t\t\t\t\t\tsameElse: 'L' // use localized format, otherwise dayjs.calendar() defaults to DD/MM/YYYY\n\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t<div class=\"flex justify-end pl-2.5 text-gray-600 dark:text-gray-300\">\n\t\t\t\t\t\t\t\t\t\t\t{#if unarchiveHandler}\n\t\t\t\t\t\t\t\t\t\t\t\t<Tooltip content={$i18n.t('Unarchive Chat')}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"self-center w-fit px-1 text-sm rounded-xl\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ton:click={async (e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tunarchiveHandler(chat.id);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-width=\"1.5\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"size-4\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M9 8.25H7.5a2.25 2.25 0 0 0-2.25 2.25v9a2.25 2.25 0 0 0 2.25 2.25h9a2.25 2.25 0 0 0 2.25-2.25v-9a2.25 2.25 0 0 0-2.25-2.25H15m0-3-3-3m0 0-3 3m3-3V15\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t\t\t{/if}\n\n\t\t\t\t\t\t\t\t\t\t\t<Tooltip content={$i18n.t('Delete Chat')}>\n\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"self-center w-fit px-1 text-sm rounded-xl\"\n\t\t\t\t\t\t\t\t\t\t\t\t\ton:click={async (e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tselectedChatId = chat.id;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tshowDeleteConfirmDialog = true;\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-width=\"1.5\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\td=\"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{/each}\n\n\t\t\t\t\t\t\t{#if !allChatsLoaded && loadHandler}\n\t\t\t\t\t\t\t\t<Loader\n\t\t\t\t\t\t\t\t\ton:visible={(e) => {\n\t\t\t\t\t\t\t\t\t\tif (!chatListLoading) {\n\t\t\t\t\t\t\t\t\t\t\tloadHandler();\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full flex justify-center py-1 text-xs animate-pulse items-center gap-2\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Spinner className=\" size-4\" />\n\t\t\t\t\t\t\t\t\t\t<div class=\" \">{$i18n.t('Loading...')}</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</Loader>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{#if query === ''}\n\t\t\t\t\t\t\t<slot name=\"footer\"></slot>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</div>\n\t\t\t\t{:else}\n\t\t\t\t\t<div class=\"w-full h-full flex justify-center items-center min-h-20\">\n\t\t\t\t\t\t<Spinner className=\"size-5\" />\n\t\t\t\t\t</div>\n\t\t\t\t{/if}\n\n\t\t\t\t<!-- {#if chats !== null}\n\t\t\t\t\t{#if chats.length > 0}\n\t\t\t\t\t\t<div class=\"w-full\">\n\t\t\t\t\t\t\t<div class=\"text-left text-sm w-full mb-3 max-h-[22rem] overflow-y-scroll\">\n\t\t\t\t\t\t\t\t<div class=\"relative overflow-x-auto\">\n\t\t\t\t\t\t\t\t\t<table\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full text-sm text-left text-gray-600 dark:text-gray-400 table-auto\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<thead\n\t\t\t\t\t\t\t\t\t\t\tclass=\"text-xs text-gray-700 uppercase bg-transparent dark:text-gray-200 border-b-1 border-gray-50 dark:border-gray-850/30\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<th scope=\"col\" class=\"px-3 py-2\"> {$i18n.t('Name')} </th>\n\t\t\t\t\t\t\t\t\t\t\t\t<th scope=\"col\" class=\"px-3 py-2 hidden md:flex\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('Created At')}\n\t\t\t\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t\t\t\t<th scope=\"col\" class=\"px-3 py-2 text-right\" />\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t\t\t{#each chats as chat, idx}\n\t\t\t\t\t\t\t\t\t\t\t\t<tr\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"bg-transparent {idx !== chats.length - 1 &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'border-b'} dark:bg-gray-900 border-gray-50 dark:border-gray-850/30 text-xs\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"px-3 py-1 w-2/3\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a href=\"/c/{chat.id}\" target=\"_blank\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\" hover:underline line-clamp-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{chat.title}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\" px-3 py-1 hidden md:flex h-[2.5rem]\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"my-auto\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{dayjs(chat.created_at * 1000).format('LLL')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"px-3 py-1 text-right\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"flex justify-end w-full\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{#if unarchiveHandler}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Tooltip content={$i18n.t('Unarchive Chat')}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ton:click={async () => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tunarchiveHandler(chat.id);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-width=\"1.5\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"size-4\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M9 8.25H7.5a2.25 2.25 0 0 0-2.25 2.25v9a2.25 2.25 0 0 0 2.25 2.25h9a2.25 2.25 0 0 0 2.25-2.25v-9a2.25 2.25 0 0 0-2.25-2.25H15m0-3-3-3m0 0-3 3m3-3V15\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/if}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Tooltip content={$i18n.t('Delete Chat')}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ton:click={async () => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdeleteHandler(chat.id);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-width=\"1.5\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\td=\"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<slot name=\"footer\"></slot>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{:else}\n\t\t\t\t\t\t<div class=\"text-left text-sm w-full mb-8\">\n\t\t\t\t\t\t\t{emptyPlaceholder || $i18n.t('No chats found.')}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{/if}\n\t\t\t\t{:else}\n\t\t\t\t\t<div class=\"w-full h-full\">\n\t\t\t\t\t\t<Spinner />\n\t\t\t\t\t</div>\n\t\t\t\t{/if} -->\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</Modal>\n","<script lang=\"ts\">\n\timport { toast } from 'svelte-sonner';\n\timport { getContext } from 'svelte';\n\n\tconst i18n = getContext('i18n');\n\n\timport { getGravatarUrl } from '$lib/apis/utils';\n\timport { canvasPixelTest, generateInitialsImage } from '$lib/utils';\n\n\timport { WEBUI_BASE_URL } from '$lib/constants';\n\n\texport let profileImageUrl;\n\texport let user = null;\n\n\texport let imageClassName = 'size-14 md:size-18';\n\n\tlet profileImageInputElement;\n</script>\n\n<input\n\tid=\"profile-image-input\"\n\tbind:this={profileImageInputElement}\n\ttype=\"file\"\n\thidden\n\taccept=\"image/*\"\n\ton:change={(e) => {\n\t\tconst files = profileImageInputElement.files ?? [];\n\t\tlet reader = new FileReader();\n\t\treader.onload = (event) => {\n\t\t\tlet originalImageUrl = `${event.target.result}`;\n\n\t\t\tconst img = new Image();\n\t\t\timg.src = originalImageUrl;\n\n\t\t\timg.onload = function () {\n\t\t\t\tconst canvas = document.createElement('canvas');\n\t\t\t\tconst ctx = canvas.getContext('2d');\n\n\t\t\t\t// Calculate the aspect ratio of the image\n\t\t\t\tconst aspectRatio = img.width / img.height;\n\n\t\t\t\t// Calculate the new width and height to fit within 250x250\n\t\t\t\tlet newWidth, newHeight;\n\t\t\t\tif (aspectRatio > 1) {\n\t\t\t\t\tnewWidth = 250 * aspectRatio;\n\t\t\t\t\tnewHeight = 250;\n\t\t\t\t} else {\n\t\t\t\t\tnewWidth = 250;\n\t\t\t\t\tnewHeight = 250 / aspectRatio;\n\t\t\t\t}\n\n\t\t\t\t// Set the canvas size\n\t\t\t\tcanvas.width = 250;\n\t\t\t\tcanvas.height = 250;\n\n\t\t\t\t// Calculate the position to center the image\n\t\t\t\tconst offsetX = (250 - newWidth) / 2;\n\t\t\t\tconst offsetY = (250 - newHeight) / 2;\n\n\t\t\t\t// Draw the image on the canvas\n\t\t\t\tctx.drawImage(img, offsetX, offsetY, newWidth, newHeight);\n\n\t\t\t\t// Get the base64 representation of the compressed image\n\t\t\t\tconst compressedSrc = canvas.toDataURL('image/webp', 0.8);\n\n\t\t\t\t// Display the compressed image\n\t\t\t\tprofileImageUrl = compressedSrc;\n\n\t\t\t\tprofileImageInputElement.files = null;\n\t\t\t};\n\t\t};\n\n\t\tif (\n\t\t\tfiles.length > 0 &&\n\t\t\t['image/gif', 'image/webp', 'image/jpeg', 'image/png'].includes(files[0]['type'])\n\t\t) {\n\t\t\treader.readAsDataURL(files[0]);\n\t\t}\n\t}}\n/>\n\n<div class=\"flex flex-col self-start group\">\n\t<div class=\"self-center flex\">\n\t\t<button\n\t\t\tclass=\"relative rounded-full dark:bg-gray-700\"\n\t\t\ttype=\"button\"\n\t\t\ton:click={() => {\n\t\t\t\tprofileImageInputElement.click();\n\t\t\t}}\n\t\t>\n\t\t\t<img\n\t\t\t\tsrc={profileImageUrl !== '' ? profileImageUrl : generateInitialsImage(user?.name)}\n\t\t\t\talt=\"profile\"\n\t\t\t\tclass=\" rounded-full {imageClassName} object-cover\"\n\t\t\t/>\n\n\t\t\t<div class=\"absolute bottom-0 right-0 opacity-0 group-hover:opacity-100 transition\">\n\t\t\t\t<div class=\"p-1 rounded-full bg-white text-black border-gray-100 shadow\">\n\t\t\t\t\t<svg\n\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\tviewBox=\"0 0 20 20\"\n\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\tclass=\"size-3\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<path\n\t\t\t\t\t\t\td=\"m2.695 14.762-1.262 3.155a.5.5 0 0 0 .65.65l3.155-1.262a4 4 0 0 0 1.343-.886L17.5 5.501a2.121 2.121 0 0 0-3-3L3.58 13.419a4 4 0 0 0-.885 1.343Z\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</svg>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</button>\n\t</div>\n\t<div class=\"flex flex-col w-full justify-center mt-2\">\n\t\t<button\n\t\t\tclass=\" text-xs text-center text-gray-500 rounded-lg py-0.5 opacity-0 group-hover:opacity-100 transition-all\"\n\t\t\ttype=\"button\"\n\t\t\ton:click={async () => {\n\t\t\t\tprofileImageUrl = `${WEBUI_BASE_URL}/user.png`;\n\t\t\t}}>{$i18n.t('Remove')}</button\n\t\t>\n\n\t\t<button\n\t\t\tclass=\" text-xs text-center text-gray-800 dark:text-gray-400 rounded-lg py-0.5 opacity-0 group-hover:opacity-100 transition-all\"\n\t\t\ttype=\"button\"\n\t\t\ton:click={async () => {\n\t\t\t\tif (canvasPixelTest()) {\n\t\t\t\t\tprofileImageUrl = generateInitialsImage(user?.name);\n\t\t\t\t} else {\n\t\t\t\t\ttoast.info(\n\t\t\t\t\t\t$i18n.t(\n\t\t\t\t\t\t\t'Fingerprint spoofing detected: Unable to use initials as avatar. Defaulting to default profile image.'\n\t\t\t\t\t\t),\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tduration: 1000 * 10\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}}>{$i18n.t('Initials')}</button\n\t\t>\n\n\t\t<button\n\t\t\tclass=\" text-xs text-center text-gray-800 dark:text-gray-400 rounded-lg py-0.5 opacity-0 group-hover:opacity-100 transition-all\"\n\t\t\ttype=\"button\"\n\t\t\ton:click={async () => {\n\t\t\t\tconst url = await getGravatarUrl(localStorage.token, user?.email);\n\n\t\t\t\tprofileImageUrl = url;\n\t\t\t}}>{$i18n.t('Gravatar')}</button\n\t\t>\n\t</div>\n</div>\n"],"names":["dayjs","localizedFormat","calendar","i18n","getContext","show","title","shareUrl","query","orderBy","direction","chatList","allChatsLoaded","chatListLoading","selectedChatId","selectedIdx","showDeleteConfirmDialog","onUpdate","$.prop","$$props","loadHandler","unarchiveHandler","setSortKey","key","deleteHandler","chatId","deleteChatById","error","toast","ConfirmDialog","node","$$value","$.get","$.set","Modal","node_1","div","root_1","div_1","div_2","button","$.sibling","div_3","div_4","div_5","input","$.child","$.remove_input_defaults","node_2","div_6","root_2","button_1","node_3","XMark","$.reset","$$render","consequent","div_7","div_8","root_3","div_9","root_4","button_2","div_10","span","root_5","ChevronUp","$$anchor","ChevronDown","consequent_1","alternate","span_1","root_8","node_8","consequent_2","alternate_1","button_3","div_11","span_2","root_9","consequent_3","alternate_2","span_3","root_12","node_11","consequent_4","alternate_3","$i18n","div_12","node_5","div_13","root_13","text_3","$.append","$.each","node_13","chat","idx","div_14","root_15","text_4","$.set_class","$.untrack","div_15","node_14","a","div_16","div_17","div_18","div_19","Tooltip","button_4","root_17","$.event","e","consequent_8","node_16","button_5","root_18","$.set_attribute","Loader","div_20","root_20","node_18","Spinner","div_21","consequent_9","consequent_10","div_22","root_22","node_21","consequent_11","alternate_4","$0","$.bind_value","profileImageUrl","user","imageClassName","profileImageInputElement","$.mutable_source","$.first_child","fragment","img_1","text","text_1","text_2","generateInitialsImage","_a","files","reader","event","originalImageUrl","img","canvas","ctx","aspectRatio","newWidth","newHeight","offsetX","offsetY","compressedSrc","$.mutate","WEBUI_BASE_URL","canvasPixelTest","url","getGravatarUrl"],"mappings":"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"}