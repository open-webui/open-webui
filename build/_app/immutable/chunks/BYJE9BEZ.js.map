{"version":3,"file":"BYJE9BEZ.js","sources":["../../../../../../src/lib/components/icons/ArrowUpTray.svelte","../../../../../../src/lib/components/chat/ModelSelector/ModelItemMenu.svelte","../../../../../../src/lib/components/icons/Tag.svelte","../../../../../../src/lib/components/chat/ModelSelector/ModelItem.svelte","../../../../../../src/lib/components/chat/ModelSelector/Selector.svelte"],"sourcesContent":["<script lang=\"ts\">\n\texport let className = 'size-4';\n\texport let strokeWidth = '1.5';\n</script>\n\n<svg\n\txmlns=\"http://www.w3.org/2000/svg\"\n\tfill=\"none\"\n\tviewBox=\"0 0 24 24\"\n\tstroke-width={strokeWidth}\n\tstroke=\"currentColor\"\n\tclass={className}\n>\n\t<path\n\t\tstroke-linecap=\"round\"\n\t\tstroke-linejoin=\"round\"\n\t\td=\"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5\"\n\t/>\n</svg>\n","<script lang=\"ts\">\n\timport { DropdownMenu } from 'bits-ui';\n\timport { flyAndScale } from '$lib/utils/transitions';\n\n\timport { getContext } from 'svelte';\n\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\n\timport Pin from '$lib/components/icons/Pin.svelte';\n\timport PinSlash from '$lib/components/icons/PinSlash.svelte';\n\timport DocumentDuplicate from '$lib/components/icons/DocumentDuplicate.svelte';\n\timport Link from '$lib/components/icons/Link.svelte';\n\timport { settings } from '$lib/stores';\n\n\tconst i18n = getContext('i18n');\n\n\texport let show = false;\n\texport let model;\n\n\texport let pinModelHandler: (modelId: string) => void = () => {};\n\texport let copyLinkHandler: Function = () => {};\n\n\texport let onClose: Function = () => {};\n</script>\n\n<DropdownMenu.Root\n\tbind:open={show}\n\tcloseFocus={false}\n\tonOpenChange={(state) => {\n\t\tif (state === false) {\n\t\t\tonClose();\n\t\t}\n\t}}\n\ttypeahead={false}\n>\n\t<DropdownMenu.Trigger>\n\t\t<Tooltip\n\t\t\tcontent={$i18n.t('More')}\n\t\t\tclassName={($settings?.highContrastMode ?? false)\n\t\t\t\t? ''\n\t\t\t\t: 'group-hover/item:opacity-100 opacity-0'}\n\t\t>\n\t\t\t<slot />\n\t\t</Tooltip>\n\t</DropdownMenu.Trigger>\n\n\t<DropdownMenu.Content\n\t\tstrategy=\"fixed\"\n\t\tclass=\"w-full max-w-[180px] text-sm rounded-2xl p-1 z-[9999999] bg-white dark:bg-gray-850 dark:text-white shadow-lg border border-gray-100  dark:border-gray-800\"\n\t\tsideOffset={-2}\n\t\tside=\"bottom\"\n\t\talign=\"end\"\n\t\ttransition={flyAndScale}\n\t>\n\t\t<DropdownMenu.Item\n\t\t\ttype=\"button\"\n\t\t\taria-pressed={($settings?.pinnedModels ?? []).includes(model?.id)}\n\t\t\tclass=\"flex rounded-xl py-1.5 px-3 w-full hover:bg-gray-50 dark:hover:bg-gray-800 transition items-center gap-2\"\n\t\t\ton:click={(e) => {\n\t\t\t\te.stopPropagation();\n\t\t\t\te.preventDefault();\n\n\t\t\t\tpinModelHandler(model?.id);\n\t\t\t\tshow = false;\n\t\t\t}}\n\t\t>\n\t\t\t{#if ($settings?.pinnedModels ?? []).includes(model?.id)}\n\t\t\t\t<PinSlash />\n\t\t\t{:else}\n\t\t\t\t<Pin />\n\t\t\t{/if}\n\n\t\t\t<div class=\"flex items-center\">\n\t\t\t\t{#if ($settings?.pinnedModels ?? []).includes(model?.id)}\n\t\t\t\t\t{$i18n.t('Hide from Sidebar')}\n\t\t\t\t{:else}\n\t\t\t\t\t{$i18n.t('Keep in Sidebar')}\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t</DropdownMenu.Item>\n\n\t\t<DropdownMenu.Item\n\t\t\ttype=\"button\"\n\t\t\tclass=\"flex rounded-xl py-1.5 px-3 w-full hover:bg-gray-50 dark:hover:bg-gray-800 transition items-center gap-2\"\n\t\t\ton:click={(e) => {\n\t\t\t\te.stopPropagation();\n\t\t\t\te.preventDefault();\n\n\t\t\t\tcopyLinkHandler();\n\t\t\t\tshow = false;\n\t\t\t}}\n\t\t>\n\t\t\t<Link />\n\n\t\t\t<div class=\"flex items-center\">{$i18n.t('Copy Link')}</div>\n\t\t</DropdownMenu.Item>\n\t</DropdownMenu.Content>\n</DropdownMenu.Root>\n","<script lang=\"ts\">\n\texport let className = 'size-4';\n\texport let strokeWidth = '1.8';\n</script>\n\n<svg\n\txmlns=\"http://www.w3.org/2000/svg\"\n\tfill=\"none\"\n\tviewBox=\"0 0 24 24\"\n\tstroke-width={strokeWidth}\n\tstroke=\"currentColor\"\n\tclass={className}\n>\n\t<!-- Tag body with pointed end -->\n\t<path d=\"M4 12 L8 7 H21 V17 H8 L4 12 Z\" stroke=\"currentColor\" fill=\"none\" />\n\n\t<!-- Tag hole -->\n\t<circle cx=\"10\" cy=\"12\" r=\"0.75\" fill=\"currentColor\" stroke=\"currentColor\" />\n</svg>\n","<script lang=\"ts\">\n\timport { marked } from 'marked';\n\n\timport { getContext, tick } from 'svelte';\n\timport dayjs from '$lib/dayjs';\n\n\timport { mobile, settings, user } from '$lib/stores';\n\timport { WEBUI_API_BASE_URL, WEBUI_BASE_URL } from '$lib/constants';\n\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\n\timport { copyToClipboard, sanitizeResponseContent } from '$lib/utils';\n\timport ArrowUpTray from '$lib/components/icons/ArrowUpTray.svelte';\n\timport Check from '$lib/components/icons/Check.svelte';\n\timport ModelItemMenu from './ModelItemMenu.svelte';\n\timport EllipsisHorizontal from '$lib/components/icons/EllipsisHorizontal.svelte';\n\timport { toast } from 'svelte-sonner';\n\timport Tag from '$lib/components/icons/Tag.svelte';\n\timport Label from '$lib/components/icons/Label.svelte';\n\n\tconst i18n = getContext('i18n');\n\n\texport let selectedModelIdx: number = -1;\n\texport let item: any = {};\n\texport let index: number = -1;\n\texport let value: string = '';\n\n\texport let unloadModelHandler: (modelValue: string) => void = () => {};\n\texport let pinModelHandler: (modelId: string) => void = () => {};\n\n\texport let onClick: () => void = () => {};\n\n\tconst copyLinkHandler = async (model) => {\n\t\tconst baseUrl = window.location.origin;\n\t\tconst res = await copyToClipboard(`${baseUrl}/?model=${encodeURIComponent(model.id)}`);\n\n\t\tif (res) {\n\t\t\ttoast.success($i18n.t('Copied link to clipboard'));\n\t\t} else {\n\t\t\ttoast.error($i18n.t('Failed to copy link'));\n\t\t}\n\t};\n\n\tlet showMenu = false;\n</script>\n\n<button\n\taria-roledescription=\"model-item\"\n\taria-label={item.label}\n\tclass=\"flex group/item w-full text-left font-medium line-clamp-1 select-none items-center rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-xl cursor-pointer data-highlighted:bg-muted {index ===\n\tselectedModelIdx\n\t\t? 'bg-gray-100 dark:bg-gray-800 group-hover:bg-transparent'\n\t\t: ''}\"\n\tdata-arrow-selected={index === selectedModelIdx}\n\tdata-value={item.value}\n\ton:click={() => {\n\t\tonClick();\n\t}}\n>\n\t<div class=\"flex flex-col flex-1 gap-1.5\">\n\t\t<!-- {#if (item?.model?.tags ?? []).length > 0}\n\t\t\t<div\n\t\t\t\tclass=\"flex gap-0.5 self-center items-start h-full w-full translate-y-[0.5px] overflow-x-auto scrollbar-none\"\n\t\t\t>\n\t\t\t\t{#each item.model?.tags.sort((a, b) => a.name.localeCompare(b.name)) as tag}\n\t\t\t\t\t<Tooltip content={tag.name} className=\"flex-shrink-0\">\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclass=\" text-xs font-semibold px-1 rounded-sm uppercase bg-gray-500/20 text-gray-700 dark:text-gray-200\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{tag.name}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t{/each}\n\t\t\t</div>\n\t\t{/if} -->\n\n\t\t<div class=\"flex items-center gap-2\">\n\t\t\t<div class=\"flex items-center min-w-fit\">\n\t\t\t\t<Tooltip content={$user?.role === 'admin' ? (item?.value ?? '') : ''} placement=\"top-start\">\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={`${WEBUI_API_BASE_URL}/models/model/profile/image?id=${item.model.id}&lang=${$i18n.language}`}\n\t\t\t\t\t\talt=\"Model\"\n\t\t\t\t\t\tclass=\"rounded-full size-5 flex items-center\"\n\t\t\t\t\t\tloading=\"lazy\"\n\t\t\t\t\t/>\n\t\t\t\t</Tooltip>\n\t\t\t</div>\n\n\t\t\t<div class=\"flex items-center\">\n\t\t\t\t<Tooltip content={`${item.label} (${item.value})`} placement=\"top-start\">\n\t\t\t\t\t<div class=\"line-clamp-1\">\n\t\t\t\t\t\t{item.label}\n\t\t\t\t\t</div>\n\t\t\t\t</Tooltip>\n\t\t\t</div>\n\n\t\t\t<div class=\" shrink-0 flex items-center gap-2\">\n\t\t\t\t{#if item.model.owned_by === 'ollama'}\n\t\t\t\t\t{#if (item.model.ollama?.details?.parameter_size ?? '') !== ''}\n\t\t\t\t\t\t<div class=\"flex items-center translate-y-[0.5px]\">\n\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\tcontent={`${\n\t\t\t\t\t\t\t\t\titem.model.ollama?.details?.quantization_level\n\t\t\t\t\t\t\t\t\t\t? item.model.ollama?.details?.quantization_level + ' '\n\t\t\t\t\t\t\t\t\t\t: ''\n\t\t\t\t\t\t\t\t}${\n\t\t\t\t\t\t\t\t\titem.model.ollama?.size\n\t\t\t\t\t\t\t\t\t\t? `(${(item.model.ollama?.size / 1024 ** 3).toFixed(1)}GB)`\n\t\t\t\t\t\t\t\t\t\t: ''\n\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\tclassName=\"self-end\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<span class=\" text-xs font-medium text-gray-600 dark:text-gray-400 line-clamp-1\"\n\t\t\t\t\t\t\t\t\t>{item.model.ollama?.details?.parameter_size ?? ''}</span\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{/if}\n\t\t\t\t\t{#if item.model.ollama?.expires_at && new Date(item.model.ollama?.expires_at * 1000) > new Date()}\n\t\t\t\t\t\t<div class=\"flex items-center translate-y-[0.5px] px-0.5\">\n\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\tcontent={`${$i18n.t('Unloads {{FROM_NOW}}', {\n\t\t\t\t\t\t\t\t\tFROM_NOW: dayjs(item.model.ollama?.expires_at * 1000).fromNow()\n\t\t\t\t\t\t\t\t})}`}\n\t\t\t\t\t\t\t\tclassName=\"self-end\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div class=\" flex items-center\">\n\t\t\t\t\t\t\t\t\t<span class=\"relative flex size-2\">\n\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\tclass=\"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<span class=\"relative inline-flex rounded-full size-2 bg-green-500\" />\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{/if}\n\t\t\t\t{/if}\n\n\t\t\t\t<!-- {JSON.stringify(item.info)} -->\n\n\t\t\t\t{#if (item?.model?.tags ?? []).length > 0}\n\t\t\t\t\t{#key item.model.id}\n\t\t\t\t\t\t<Tooltip elementId=\"tags-{item.model.id}\">\n\t\t\t\t\t\t\t<div slot=\"tooltip\" id=\"tags-{item.model.id}\">\n\t\t\t\t\t\t\t\t{#each item.model?.tags.sort((a, b) => a.name.localeCompare(b.name)) as tag}\n\t\t\t\t\t\t\t\t\t<Tooltip content={tag.name} className=\"flex-shrink-0\">\n\t\t\t\t\t\t\t\t\t\t<div class=\" text-xs font-medium rounded-sm uppercase text-white\">\n\t\t\t\t\t\t\t\t\t\t\t{tag.name}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"translate-y-[1px]\">\n\t\t\t\t\t\t\t\t<Tag />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t{/key}\n\t\t\t\t{/if}\n\n\t\t\t\t{#if item.model?.direct}\n\t\t\t\t\t<Tooltip content={`${$i18n.t('Direct')}`}>\n\t\t\t\t\t\t<div class=\"translate-y-[1px]\">\n\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\n\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\tclass=\"size-3\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\t\t\t\t\td=\"M2 2.75A.75.75 0 0 1 2.75 2C8.963 2 14 7.037 14 13.25a.75.75 0 0 1-1.5 0c0-5.385-4.365-9.75-9.75-9.75A.75.75 0 0 1 2 2.75Zm0 4.5a.75.75 0 0 1 .75-.75 6.75 6.75 0 0 1 6.75 6.75.75.75 0 0 1-1.5 0C8 10.35 5.65 8 2.75 8A.75.75 0 0 1 2 7.25ZM3.5 11a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Z\"\n\t\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t{:else if item.model.connection_type === 'external'}\n\t\t\t\t\t<Tooltip content={`${$i18n.t('External')}`}>\n\t\t\t\t\t\t<div class=\"translate-y-[1px]\">\n\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\n\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\tclass=\"size-3\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\t\t\t\t\td=\"M8.914 6.025a.75.75 0 0 1 1.06 0 3.5 3.5 0 0 1 0 4.95l-2 2a3.5 3.5 0 0 1-5.396-4.402.75.75 0 0 1 1.251.827 2 2 0 0 0 3.085 2.514l2-2a2 2 0 0 0 0-2.828.75.75 0 0 1 0-1.06Z\"\n\t\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\t\t\t\t\td=\"M7.086 9.975a.75.75 0 0 1-1.06 0 3.5 3.5 0 0 1 0-4.95l2-2a3.5 3.5 0 0 1 5.396 4.402.75.75 0 0 1-1.251-.827 2 2 0 0 0-3.085-2.514l-2 2a2 2 0 0 0 0 2.828.75.75 0 0 1 0 1.06Z\"\n\t\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t{/if}\n\n\t\t\t\t{#if item.model?.info?.meta?.description}\n\t\t\t\t\t<Tooltip\n\t\t\t\t\t\tcontent={`${marked.parse(\n\t\t\t\t\t\t\tsanitizeResponseContent(item.model?.info?.meta?.description).replaceAll('\\n', '<br>')\n\t\t\t\t\t\t)}`}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div class=\" translate-y-[1px]\">\n\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\tstroke-width=\"1.5\"\n\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\t\t\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t\t\t\t\t\t\td=\"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n\t<div class=\"ml-auto pl-2 pr-1 flex items-center gap-1.5 shrink-0\">\n\t\t{#if $user?.role === 'admin' && item.model.owned_by === 'ollama' && item.model.ollama?.expires_at && new Date(item.model.ollama?.expires_at * 1000) > new Date()}\n\t\t\t<Tooltip\n\t\t\t\tcontent={`${$i18n.t('Eject')}`}\n\t\t\t\tclassName=\"flex-shrink-0 group-hover/item:opacity-100 opacity-0 \"\n\t\t\t>\n\t\t\t\t<button\n\t\t\t\t\tclass=\"flex\"\n\t\t\t\t\ton:click={(e) => {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\tunloadModelHandler(item.value);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<ArrowUpTray className=\"size-3\" />\n\t\t\t\t</button>\n\t\t\t</Tooltip>\n\t\t{/if}\n\n\t\t<ModelItemMenu\n\t\t\tbind:show={showMenu}\n\t\t\tmodel={item.model}\n\t\t\t{pinModelHandler}\n\t\t\tcopyLinkHandler={() => {\n\t\t\t\tcopyLinkHandler(item.model);\n\t\t\t}}\n\t\t>\n\t\t\t<button\n\t\t\t\taria-label={`${$i18n.t('More Options')}`}\n\t\t\t\tclass=\"flex\"\n\t\t\t\ton:click={(e) => {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\tshowMenu = !showMenu;\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<EllipsisHorizontal />\n\t\t\t</button>\n\t\t</ModelItemMenu>\n\n\t\t{#if value === item.value}\n\t\t\t<div>\n\t\t\t\t<Check className=\"size-3\" />\n\t\t\t</div>\n\t\t{/if}\n\t</div>\n</button>\n","<script lang=\"ts\">\n\timport { DropdownMenu } from 'bits-ui';\n\timport { marked } from 'marked';\n\timport Fuse from 'fuse.js';\n\n\timport dayjs from '$lib/dayjs';\n\timport relativeTime from 'dayjs/plugin/relativeTime';\n\tdayjs.extend(relativeTime);\n\n\timport Spinner from '$lib/components/common/Spinner.svelte';\n\timport { flyAndScale } from '$lib/utils/transitions';\n\timport { createEventDispatcher, onMount, getContext, tick } from 'svelte';\n\timport { goto } from '$app/navigation';\n\n\timport { deleteModel, getOllamaVersion, pullModel, unloadModel } from '$lib/apis/ollama';\n\n\timport {\n\t\tuser,\n\t\tMODEL_DOWNLOAD_POOL,\n\t\tmodels,\n\t\tmobile,\n\t\ttemporaryChatEnabled,\n\t\tsettings,\n\t\tconfig\n\t} from '$lib/stores';\n\timport { toast } from 'svelte-sonner';\n\timport { capitalizeFirstLetter, sanitizeResponseContent, splitStream } from '$lib/utils';\n\timport { getModels } from '$lib/apis';\n\n\timport ChevronDown from '$lib/components/icons/ChevronDown.svelte';\n\timport Check from '$lib/components/icons/Check.svelte';\n\timport Search from '$lib/components/icons/Search.svelte';\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\n\timport Switch from '$lib/components/common/Switch.svelte';\n\timport ChatBubbleOval from '$lib/components/icons/ChatBubbleOval.svelte';\n\n\timport ModelItem from './ModelItem.svelte';\n\n\tconst i18n = getContext('i18n');\n\tconst dispatch = createEventDispatcher();\n\n\texport let id = '';\n\texport let value = '';\n\texport let placeholder = $i18n.t('Select a model');\n\texport let searchEnabled = true;\n\texport let searchPlaceholder = $i18n.t('Search a model');\n\n\texport let items: {\n\t\tlabel: string;\n\t\tvalue: string;\n\t\tmodel: Model;\n\t\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\t\t[key: string]: any;\n\t}[] = [];\n\n\texport let className = 'w-[32rem]';\n\texport let triggerClassName = 'text-lg';\n\n\texport let pinModelHandler: (modelId: string) => void = () => {};\n\n\tlet tagsContainerElement;\n\n\tlet show = false;\n\tlet tags = [];\n\n\tlet selectedModel = '';\n\t$: selectedModel = items.find((item) => item.value === value) ?? '';\n\n\tlet searchValue = '';\n\n\tlet selectedTag = '';\n\tlet selectedConnectionType = '';\n\n\tlet ollamaVersion = null;\n\tlet selectedModelIdx = 0;\n\n\tconst fuse = new Fuse(\n\t\titems.map((item) => {\n\t\t\tconst _item = {\n\t\t\t\t...item,\n\t\t\t\tmodelName: item.model?.name,\n\t\t\t\ttags: (item.model?.tags ?? []).map((tag) => tag.name).join(' '),\n\t\t\t\tdesc: item.model?.info?.meta?.description\n\t\t\t};\n\t\t\treturn _item;\n\t\t}),\n\t\t{\n\t\t\tkeys: ['value', 'tags', 'modelName'],\n\t\t\tthreshold: 0.4\n\t\t}\n\t);\n\n\tconst updateFuse = () => {\n\t\tif (fuse) {\n\t\t\tfuse.setCollection(\n\t\t\t\titems.map((item) => {\n\t\t\t\t\tconst _item = {\n\t\t\t\t\t\t...item,\n\t\t\t\t\t\tmodelName: item.model?.name,\n\t\t\t\t\t\ttags: (item.model?.tags ?? []).map((tag) => tag.name).join(' '),\n\t\t\t\t\t\tdesc: item.model?.info?.meta?.description\n\t\t\t\t\t};\n\t\t\t\t\treturn _item;\n\t\t\t\t})\n\t\t\t);\n\t\t}\n\t};\n\n\t$: if (items) {\n\t\tupdateFuse();\n\t}\n\n\t$: filteredItems = (\n\t\tsearchValue\n\t\t\t? fuse\n\t\t\t\t\t.search(searchValue)\n\t\t\t\t\t.map((e) => {\n\t\t\t\t\t\treturn e.item;\n\t\t\t\t\t})\n\t\t\t\t\t.filter((item) => {\n\t\t\t\t\t\tif (selectedTag === '') {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn (item.model?.tags ?? [])\n\t\t\t\t\t\t\t.map((tag) => tag.name.toLowerCase())\n\t\t\t\t\t\t\t.includes(selectedTag.toLowerCase());\n\t\t\t\t\t})\n\t\t\t\t\t.filter((item) => {\n\t\t\t\t\t\tif (selectedConnectionType === '') {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t} else if (selectedConnectionType === 'local') {\n\t\t\t\t\t\t\treturn item.model?.connection_type === 'local';\n\t\t\t\t\t\t} else if (selectedConnectionType === 'external') {\n\t\t\t\t\t\t\treturn item.model?.connection_type === 'external';\n\t\t\t\t\t\t} else if (selectedConnectionType === 'direct') {\n\t\t\t\t\t\t\treturn item.model?.direct;\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t: items\n\t\t\t\t\t.filter((item) => {\n\t\t\t\t\t\tif (selectedTag === '') {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn (item.model?.tags ?? [])\n\t\t\t\t\t\t\t.map((tag) => tag.name.toLowerCase())\n\t\t\t\t\t\t\t.includes(selectedTag.toLowerCase());\n\t\t\t\t\t})\n\t\t\t\t\t.filter((item) => {\n\t\t\t\t\t\tif (selectedConnectionType === '') {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t} else if (selectedConnectionType === 'local') {\n\t\t\t\t\t\t\treturn item.model?.connection_type === 'local';\n\t\t\t\t\t\t} else if (selectedConnectionType === 'external') {\n\t\t\t\t\t\t\treturn item.model?.connection_type === 'external';\n\t\t\t\t\t\t} else if (selectedConnectionType === 'direct') {\n\t\t\t\t\t\t\treturn item.model?.direct;\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t).filter((item) => !(item.model?.info?.meta?.hidden ?? false));\n\n\t$: if (selectedTag || selectedConnectionType) {\n\t\tresetView();\n\t} else {\n\t\tresetView();\n\t}\n\n\tconst resetView = async () => {\n\t\tawait tick();\n\n\t\tconst selectedInFiltered = filteredItems.findIndex((item) => item.value === value);\n\n\t\tif (selectedInFiltered >= 0) {\n\t\t\t// The selected model is visible in the current filter\n\t\t\tselectedModelIdx = selectedInFiltered;\n\t\t} else {\n\t\t\t// The selected model is not visible, default to first item in filtered list\n\t\t\tselectedModelIdx = 0;\n\t\t}\n\n\t\tawait tick();\n\t\tconst item = document.querySelector(`[data-arrow-selected=\"true\"]`);\n\t\titem?.scrollIntoView({ block: 'center', inline: 'nearest', behavior: 'instant' });\n\t};\n\n\tconst pullModelHandler = async () => {\n\t\tconst sanitizedModelTag = searchValue.trim().replace(/^ollama\\s+(run|pull)\\s+/, '');\n\n\t\tconsole.log($MODEL_DOWNLOAD_POOL);\n\t\tif ($MODEL_DOWNLOAD_POOL[sanitizedModelTag]) {\n\t\t\ttoast.error(\n\t\t\t\t$i18n.t(`Model '{{modelTag}}' is already in queue for downloading.`, {\n\t\t\t\t\tmodelTag: sanitizedModelTag\n\t\t\t\t})\n\t\t\t);\n\t\t\treturn;\n\t\t}\n\t\tif (Object.keys($MODEL_DOWNLOAD_POOL).length === 3) {\n\t\t\ttoast.error(\n\t\t\t\t$i18n.t('Maximum of 3 models can be downloaded simultaneously. Please try again later.')\n\t\t\t);\n\t\t\treturn;\n\t\t}\n\n\t\tconst [res, controller] = await pullModel(localStorage.token, sanitizedModelTag, '0').catch(\n\t\t\t(error) => {\n\t\t\t\ttoast.error(`${error}`);\n\t\t\t\treturn null;\n\t\t\t}\n\t\t);\n\n\t\tif (res) {\n\t\t\tconst reader = res.body\n\t\t\t\t.pipeThrough(new TextDecoderStream())\n\t\t\t\t.pipeThrough(splitStream('\\n'))\n\t\t\t\t.getReader();\n\n\t\t\tMODEL_DOWNLOAD_POOL.set({\n\t\t\t\t...$MODEL_DOWNLOAD_POOL,\n\t\t\t\t[sanitizedModelTag]: {\n\t\t\t\t\t...$MODEL_DOWNLOAD_POOL[sanitizedModelTag],\n\t\t\t\t\tabortController: controller,\n\t\t\t\t\treader,\n\t\t\t\t\tdone: false\n\t\t\t\t}\n\t\t\t});\n\n\t\t\twhile (true) {\n\t\t\t\ttry {\n\t\t\t\t\tconst { value, done } = await reader.read();\n\t\t\t\t\tif (done) break;\n\n\t\t\t\t\tlet lines = value.split('\\n');\n\n\t\t\t\t\tfor (const line of lines) {\n\t\t\t\t\t\tif (line !== '') {\n\t\t\t\t\t\t\tlet data = JSON.parse(line);\n\t\t\t\t\t\t\tconsole.log(data);\n\t\t\t\t\t\t\tif (data.error) {\n\t\t\t\t\t\t\t\tthrow data.error;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (data.detail) {\n\t\t\t\t\t\t\t\tthrow data.detail;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (data.status) {\n\t\t\t\t\t\t\t\tif (data.digest) {\n\t\t\t\t\t\t\t\t\tlet downloadProgress = 0;\n\t\t\t\t\t\t\t\t\tif (data.completed) {\n\t\t\t\t\t\t\t\t\t\tdownloadProgress = Math.round((data.completed / data.total) * 1000) / 10;\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tdownloadProgress = 100;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tMODEL_DOWNLOAD_POOL.set({\n\t\t\t\t\t\t\t\t\t\t...$MODEL_DOWNLOAD_POOL,\n\t\t\t\t\t\t\t\t\t\t[sanitizedModelTag]: {\n\t\t\t\t\t\t\t\t\t\t\t...$MODEL_DOWNLOAD_POOL[sanitizedModelTag],\n\t\t\t\t\t\t\t\t\t\t\tpullProgress: downloadProgress,\n\t\t\t\t\t\t\t\t\t\t\tdigest: data.digest\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\ttoast.success(data.status);\n\n\t\t\t\t\t\t\t\t\tMODEL_DOWNLOAD_POOL.set({\n\t\t\t\t\t\t\t\t\t\t...$MODEL_DOWNLOAD_POOL,\n\t\t\t\t\t\t\t\t\t\t[sanitizedModelTag]: {\n\t\t\t\t\t\t\t\t\t\t\t...$MODEL_DOWNLOAD_POOL[sanitizedModelTag],\n\t\t\t\t\t\t\t\t\t\t\tdone: data.status === 'success'\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t\tif (typeof error !== 'string') {\n\t\t\t\t\t\terror = error.message;\n\t\t\t\t\t}\n\n\t\t\t\t\ttoast.error(`${error}`);\n\t\t\t\t\t// opts.callback({ success: false, error, modelName: opts.modelName });\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ($MODEL_DOWNLOAD_POOL[sanitizedModelTag].done) {\n\t\t\t\ttoast.success(\n\t\t\t\t\t$i18n.t(`Model '{{modelName}}' has been successfully downloaded.`, {\n\t\t\t\t\t\tmodelName: sanitizedModelTag\n\t\t\t\t\t})\n\t\t\t\t);\n\n\t\t\t\tmodels.set(\n\t\t\t\t\tawait getModels(\n\t\t\t\t\t\tlocalStorage.token,\n\t\t\t\t\t\t$config?.features?.enable_direct_connections && ($settings?.directConnections ?? null)\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\ttoast.error($i18n.t('Download canceled'));\n\t\t\t}\n\n\t\t\tdelete $MODEL_DOWNLOAD_POOL[sanitizedModelTag];\n\n\t\t\tMODEL_DOWNLOAD_POOL.set({\n\t\t\t\t...$MODEL_DOWNLOAD_POOL\n\t\t\t});\n\t\t}\n\t};\n\n\tconst setOllamaVersion = async () => {\n\t\tollamaVersion = await getOllamaVersion(localStorage.token).catch((error) => false);\n\t};\n\n\tonMount(async () => {\n\t\tif (items) {\n\t\t\ttags = items\n\t\t\t\t.filter((item) => !(item.model?.info?.meta?.hidden ?? false))\n\t\t\t\t.flatMap((item) => item.model?.tags ?? [])\n\t\t\t\t.map((tag) => tag.name.toLowerCase());\n\t\t\t// Remove duplicates and sort\n\t\t\ttags = Array.from(new Set(tags)).sort((a, b) => a.localeCompare(b));\n\t\t}\n\t});\n\n\t$: if (show) {\n\t\tsetOllamaVersion();\n\t}\n\n\tconst cancelModelPullHandler = async (model: string) => {\n\t\tconst { reader, abortController } = $MODEL_DOWNLOAD_POOL[model];\n\t\tif (abortController) {\n\t\t\tabortController.abort();\n\t\t}\n\t\tif (reader) {\n\t\t\tawait reader.cancel();\n\t\t\tdelete $MODEL_DOWNLOAD_POOL[model];\n\t\t\tMODEL_DOWNLOAD_POOL.set({\n\t\t\t\t...$MODEL_DOWNLOAD_POOL\n\t\t\t});\n\t\t\tawait deleteModel(localStorage.token, model);\n\t\t\ttoast.success($i18n.t('{{model}} download has been canceled', { model: model }));\n\t\t}\n\t};\n\n\tconst unloadModelHandler = async (model: string) => {\n\t\tconst res = await unloadModel(localStorage.token, model).catch((error) => {\n\t\t\ttoast.error($i18n.t('Error unloading model: {{error}}', { error }));\n\t\t});\n\n\t\tif (res) {\n\t\t\ttoast.success($i18n.t('Model unloaded successfully'));\n\t\t\tmodels.set(\n\t\t\t\tawait getModels(\n\t\t\t\t\tlocalStorage.token,\n\t\t\t\t\t$config?.features?.enable_direct_connections && ($settings?.directConnections ?? null)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t};\n</script>\n\n<DropdownMenu.Root\n\tbind:open={show}\n\tonOpenChange={async () => {\n\t\tsearchValue = '';\n\t\twindow.setTimeout(() => document.getElementById('model-search-input')?.focus(), 0);\n\n\t\tresetView();\n\t}}\n\tcloseFocus={false}\n>\n\t<DropdownMenu.Trigger\n\t\tclass=\"relative w-full {($settings?.highContrastMode ?? false)\n\t\t\t? ''\n\t\t\t: 'outline-hidden focus:outline-hidden'}\"\n\t\taria-label={placeholder}\n\t\tid=\"model-selector-{id}-button\"\n\t>\n\t\t<div\n\t\t\tclass=\"flex w-full text-left px-0.5 bg-transparent truncate {triggerClassName} justify-between {($settings?.highContrastMode ??\n\t\t\tfalse)\n\t\t\t\t? 'dark:placeholder-gray-100 placeholder-gray-800'\n\t\t\t\t: 'placeholder-gray-400'}\"\n\t\t\ton:mouseenter={async () => {\n\t\t\t\tmodels.set(\n\t\t\t\t\tawait getModels(\n\t\t\t\t\t\tlocalStorage.token,\n\t\t\t\t\t\t$config?.features?.enable_direct_connections && ($settings?.directConnections ?? null)\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}}\n\t\t>\n\t\t\t{#if selectedModel}\n\t\t\t\t{selectedModel.label}\n\t\t\t{:else}\n\t\t\t\t{placeholder}\n\t\t\t{/if}\n\t\t\t<ChevronDown className=\" self-center ml-2 size-3\" strokeWidth=\"2.5\" />\n\t\t</div>\n\t</DropdownMenu.Trigger>\n\n\t<DropdownMenu.Content\n\t\tclass=\" z-40 {$mobile\n\t\t\t? `w-full`\n\t\t\t: `${className}`} max-w-[calc(100vw-1rem)] justify-start rounded-2xl  bg-white dark:bg-gray-850 dark:text-white shadow-lg  outline-hidden\"\n\t\ttransition={flyAndScale}\n\t\tside={$mobile ? 'bottom' : 'bottom-start'}\n\t\tsideOffset={2}\n\t\talignOffset={-1}\n\t>\n\t\t<slot>\n\t\t\t{#if searchEnabled}\n\t\t\t\t<div class=\"flex items-center gap-2.5 px-4.5 mt-3.5 mb-1.5\">\n\t\t\t\t\t<Search className=\"size-4\" strokeWidth=\"2.5\" />\n\n\t\t\t\t\t<input\n\t\t\t\t\t\tid=\"model-search-input\"\n\t\t\t\t\t\tbind:value={searchValue}\n\t\t\t\t\t\tclass=\"w-full text-sm bg-transparent outline-hidden\"\n\t\t\t\t\t\tplaceholder={searchPlaceholder}\n\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\taria-label={$i18n.t('Search In Models')}\n\t\t\t\t\t\ton:keydown={(e) => {\n\t\t\t\t\t\t\tif (e.code === 'Enter' && filteredItems.length > 0) {\n\t\t\t\t\t\t\t\tvalue = filteredItems[selectedModelIdx].value;\n\t\t\t\t\t\t\t\tshow = false;\n\t\t\t\t\t\t\t\treturn; // dont need to scroll on selection\n\t\t\t\t\t\t\t} else if (e.code === 'ArrowDown') {\n\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t\tselectedModelIdx = Math.min(selectedModelIdx + 1, filteredItems.length - 1);\n\t\t\t\t\t\t\t} else if (e.code === 'ArrowUp') {\n\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t\tselectedModelIdx = Math.max(selectedModelIdx - 1, 0);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// if the user types something, reset to the top selection.\n\t\t\t\t\t\t\t\tselectedModelIdx = 0;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tconst item = document.querySelector(`[data-arrow-selected=\"true\"]`);\n\t\t\t\t\t\t\titem?.scrollIntoView({ block: 'center', inline: 'nearest', behavior: 'instant' });\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t{/if}\n\n\t\t\t<div class=\"px-2\">\n\t\t\t\t{#if tags && items.filter((item) => !(item.model?.info?.meta?.hidden ?? false)).length > 0}\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass=\" flex w-full bg-white dark:bg-gray-850 overflow-x-auto scrollbar-none font-[450] mb-0.5\"\n\t\t\t\t\t\ton:wheel={(e) => {\n\t\t\t\t\t\t\tif (e.deltaY !== 0) {\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\te.currentTarget.scrollLeft += e.deltaY;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclass=\"flex gap-1 w-fit text-center text-sm rounded-full bg-transparent px-1.5 whitespace-nowrap\"\n\t\t\t\t\t\t\tbind:this={tagsContainerElement}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{#if items.find((item) => item.model?.connection_type === 'local') || items.find((item) => item.model?.connection_type === 'external') || items.find((item) => item.model?.direct) || tags.length > 0}\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclass=\"min-w-fit outline-none px-1.5 py-0.5 {selectedTag === '' &&\n\t\t\t\t\t\t\t\t\tselectedConnectionType === ''\n\t\t\t\t\t\t\t\t\t\t? ''\n\t\t\t\t\t\t\t\t\t\t: 'text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white'} transition capitalize\"\n\t\t\t\t\t\t\t\t\taria-pressed={selectedTag === '' && selectedConnectionType === ''}\n\t\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\t\tselectedConnectionType = '';\n\t\t\t\t\t\t\t\t\t\tselectedTag = '';\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{$i18n.t('All')}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t{/if}\n\n\t\t\t\t\t\t\t{#if items.find((item) => item.model?.connection_type === 'local')}\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclass=\"min-w-fit outline-none px-1.5 py-0.5 {selectedConnectionType === 'local'\n\t\t\t\t\t\t\t\t\t\t? ''\n\t\t\t\t\t\t\t\t\t\t: 'text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white'} transition capitalize\"\n\t\t\t\t\t\t\t\t\taria-pressed={selectedConnectionType === 'local'}\n\t\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\t\tselectedTag = '';\n\t\t\t\t\t\t\t\t\t\tselectedConnectionType = 'local';\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{$i18n.t('Local')}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t{/if}\n\n\t\t\t\t\t\t\t{#if items.find((item) => item.model?.connection_type === 'external')}\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclass=\"min-w-fit outline-none px-1.5 py-0.5 {selectedConnectionType === 'external'\n\t\t\t\t\t\t\t\t\t\t? ''\n\t\t\t\t\t\t\t\t\t\t: 'text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white'} transition capitalize\"\n\t\t\t\t\t\t\t\t\taria-pressed={selectedConnectionType === 'external'}\n\t\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\t\tselectedTag = '';\n\t\t\t\t\t\t\t\t\t\tselectedConnectionType = 'external';\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{$i18n.t('External')}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t{/if}\n\n\t\t\t\t\t\t\t{#if items.find((item) => item.model?.direct)}\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclass=\"min-w-fit outline-none px-1.5 py-0.5 {selectedConnectionType === 'direct'\n\t\t\t\t\t\t\t\t\t\t? ''\n\t\t\t\t\t\t\t\t\t\t: 'text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white'} transition capitalize\"\n\t\t\t\t\t\t\t\t\taria-pressed={selectedConnectionType === 'direct'}\n\t\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\t\tselectedTag = '';\n\t\t\t\t\t\t\t\t\t\tselectedConnectionType = 'direct';\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{$i18n.t('Direct')}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t{/if}\n\n\t\t\t\t\t\t\t{#each tags as tag}\n\t\t\t\t\t\t\t\t<Tooltip content={tag}>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclass=\"min-w-fit outline-none px-1.5 py-0.5 {selectedTag === tag\n\t\t\t\t\t\t\t\t\t\t\t? ''\n\t\t\t\t\t\t\t\t\t\t\t: 'text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white'} transition capitalize\"\n\t\t\t\t\t\t\t\t\t\taria-pressed={selectedTag === tag}\n\t\t\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\t\t\tselectedConnectionType = '';\n\t\t\t\t\t\t\t\t\t\t\tselectedTag = tag;\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{tag.length > 16 ? `${tag.slice(0, 16)}...` : tag}\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t{/if}\n\t\t\t</div>\n\n\t\t\t<div class=\"px-2.5 max-h-64 overflow-y-auto group relative\">\n\t\t\t\t{#each filteredItems as item, index}\n\t\t\t\t\t<ModelItem\n\t\t\t\t\t\t{selectedModelIdx}\n\t\t\t\t\t\t{item}\n\t\t\t\t\t\t{index}\n\t\t\t\t\t\t{value}\n\t\t\t\t\t\t{pinModelHandler}\n\t\t\t\t\t\t{unloadModelHandler}\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tvalue = item.value;\n\t\t\t\t\t\t\tselectedModelIdx = index;\n\n\t\t\t\t\t\t\tshow = false;\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t{:else}\n\t\t\t\t\t<div class=\"\">\n\t\t\t\t\t\t<div class=\"block px-3 py-2 text-sm text-gray-700 dark:text-gray-100\">\n\t\t\t\t\t\t\t{$i18n.t('No results found')}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t{/each}\n\n\t\t\t\t{#if !(searchValue.trim() in $MODEL_DOWNLOAD_POOL) && searchValue && ollamaVersion && $user?.role === 'admin'}\n\t\t\t\t\t<Tooltip\n\t\t\t\t\t\tcontent={$i18n.t(`Pull \"{{searchValue}}\" from Ollama.com`, {\n\t\t\t\t\t\t\tsearchValue: searchValue\n\t\t\t\t\t\t})}\n\t\t\t\t\t\tplacement=\"top-start\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass=\"flex w-full font-medium line-clamp-1 select-none items-center rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-xl cursor-pointer data-highlighted:bg-muted\"\n\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\tpullModelHandler();\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div class=\" truncate\">\n\t\t\t\t\t\t\t\t{$i18n.t(`Pull \"{{searchValue}}\" from Ollama.com`, { searchValue: searchValue })}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t{/if}\n\n\t\t\t\t{#each Object.keys($MODEL_DOWNLOAD_POOL) as model}\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass=\"flex w-full justify-between font-medium select-none rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 rounded-xl cursor-pointer data-highlighted:bg-muted\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div class=\"flex\">\n\t\t\t\t\t\t\t<div class=\"mr-2.5 translate-y-0.5\">\n\t\t\t\t\t\t\t\t<Spinner />\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"flex flex-col self-start\">\n\t\t\t\t\t\t\t\t<div class=\"flex gap-1\">\n\t\t\t\t\t\t\t\t\t<div class=\"line-clamp-1\">\n\t\t\t\t\t\t\t\t\t\tDownloading \"{model}\"\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div class=\"shrink-0\">\n\t\t\t\t\t\t\t\t\t\t{'pullProgress' in $MODEL_DOWNLOAD_POOL[model]\n\t\t\t\t\t\t\t\t\t\t\t? `(${$MODEL_DOWNLOAD_POOL[model].pullProgress}%)`\n\t\t\t\t\t\t\t\t\t\t\t: ''}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t{#if 'digest' in $MODEL_DOWNLOAD_POOL[model] && $MODEL_DOWNLOAD_POOL[model].digest}\n\t\t\t\t\t\t\t\t\t<div class=\"-mt-1 h-fit text-[0.7rem] dark:text-gray-500 line-clamp-1\">\n\t\t\t\t\t\t\t\t\t\t{$MODEL_DOWNLOAD_POOL[model].digest}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"mr-2 ml-1 translate-y-0.5\">\n\t\t\t\t\t\t\t<Tooltip content={$i18n.t('Cancel')}>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclass=\"text-gray-800 dark:text-gray-100\"\n\t\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\t\tcancelModelPullHandler(model);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4 text-gray-800 dark:text-white\"\n\t\t\t\t\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\twidth=\"24\"\n\t\t\t\t\t\t\t\t\t\theight=\"24\"\n\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstroke-width=\"2\"\n\t\t\t\t\t\t\t\t\t\t\td=\"M6 18 17.94 6M18 18 6.06 6\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t{/each}\n\t\t\t</div>\n\n\t\t\t<div class=\"mb-2.5\"></div>\n\n\t\t\t<div class=\"hidden w-[42rem]\" />\n\t\t\t<div class=\"hidden w-[32rem]\" />\n\t\t</slot>\n\t</DropdownMenu.Content>\n</DropdownMenu.Root>\n"],"names":["className","strokeWidth","svg","root","$.set_attribute","$.set_class","$.clsx","$.append","$$anchor","i18n","getContext","show","model","$.prop","$$props","pinModelHandler","copyLinkHandler","onClose","state","$$value","$i18n","$.untrack","_a","$settings","Tooltip","flyAndScale","_b","e","PinSlash","Pin","div","$.sibling","node_4","Link","node_7","div_1","selectedModelIdx","item","index","value","unloadModelHandler","onClick","baseUrl","copyToClipboard","toast","showMenu","button","$.child","div_2","$user","node","img","root_1","$.template_effect","WEBUI_API_BASE_URL","div_3","node_1","div_4","root_2","div_5","div_6","root_4","_d","_c","_e","_f","span","root_5","div_7","root_6","dayjs","node_6","div_8","root_7","$.key","node_8","$.deep_read_state","div_9","root_10","Tag","node_9","div_10","root_11","a","b","tag","$.get","div_11","root_13","div_12","root_15","div_13","root_18","marked","sanitizeResponseContent","div_14","root_20","div_15","button_1","root_22","node_14","ArrowUpTray","$.reset","$.event","ModelItemMenu","node_15","button_2","root_23","node_16","EllipsisHorizontal","$0","$.set","div_16","root_24","Check","node_18","relativeTime","createEventDispatcher","id","placeholder","searchEnabled","searchPlaceholder","items","triggerClassName","tagsContainerElement","$.mutable_source","tags","selectedModel","searchValue","selectedTag","selectedConnectionType","ollamaVersion","fuse","Fuse","updateFuse","resetView","tick","selectedInFiltered","filteredItems","pullModelHandler","sanitizedModelTag","$MODEL_DOWNLOAD_POOL","res","controller","pullModel","error","reader","splitStream","MODEL_DOWNLOAD_POOL","done","lines","line","data","downloadProgress","models","getModels","$config","setOllamaVersion","getOllamaVersion","onMount","cancelModelPullHandler","abortController","deleteModel","unloadModel","$$render","consequent","alternate","ChevronDown","node_2","$.derived_safe_equal","$mobile","Search","input","$.remove_input_defaults","consequent_1","node_5","root_8","root_9","text_2","text_3","text_4","button_3","root_12","text_5","$.each","node_12","button_4","root_14","text_6","ModelItem","root_16","button_5","root_19","Spinner","div_17","button_6","root_21"],"mappings":"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"}