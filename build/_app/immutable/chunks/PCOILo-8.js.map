{"version":3,"file":"PCOILo-8.js","sources":["../../../../../../src/lib/stores/index.ts"],"sourcesContent":["import { APP_NAME } from '$lib/constants';\nimport { type Writable, writable } from 'svelte/store';\nimport type { ModelConfig } from '$lib/apis';\nimport type { Banner } from '$lib/types';\nimport type { Socket } from 'socket.io-client';\n\nimport emojiShortCodes from '$lib/emoji-shortcodes.json';\n\n// Backend\nexport const WEBUI_NAME = writable(APP_NAME);\n\nexport const WEBUI_VERSION = writable(null);\nexport const WEBUI_DEPLOYMENT_ID = writable(null);\n\nexport const config: Writable<Config | undefined> = writable(undefined);\nexport const user: Writable<SessionUser | undefined> = writable(undefined);\n\n// Electron App\nexport const isApp = writable(false);\nexport const appInfo = writable(null);\nexport const appData = writable(null);\n\n// Frontend\nexport const MODEL_DOWNLOAD_POOL = writable({});\n\nexport const mobile = writable(false);\n\nexport const socket: Writable<null | Socket> = writable(null);\nexport const activeUserIds: Writable<null | string[]> = writable(null);\nexport const USAGE_POOL: Writable<null | string[]> = writable(null);\n\nexport const theme = writable('system');\n\nexport const shortCodesToEmojis = writable(\n\tObject.entries(emojiShortCodes).reduce((acc, [key, value]) => {\n\t\tif (typeof value === 'string') {\n\t\t\tacc[value] = key;\n\t\t} else {\n\t\t\tfor (const v of value) {\n\t\t\t\tacc[v] = key;\n\t\t\t}\n\t\t}\n\n\t\treturn acc;\n\t}, {})\n);\n\nexport const TTSWorker = writable(null);\n\nexport const chatId = writable('');\nexport const chatTitle = writable('');\n\nexport const channels = writable([]);\nexport const channelId = writable(null);\n\nexport const chats = writable(null);\nexport const pinnedChats = writable([]);\nexport const tags = writable([]);\nexport const folders = writable([]);\n\nexport const selectedFolder = writable(null);\n\nexport const models: Writable<Model[]> = writable([]);\n\nexport const prompts: Writable<null | Prompt[]> = writable(null);\nexport const knowledge: Writable<null | Document[]> = writable(null);\nexport const tools = writable(null);\nexport const functions = writable(null);\n\nexport const toolServers = writable([]);\n\nexport const banners: Writable<Banner[]> = writable([]);\n\nexport const settings: Writable<Settings> = writable({});\n\nexport const audioQueue = writable(null);\n\nexport const sidebarWidth = writable(260);\n\nexport const showSidebar = writable(false);\nexport const showSearch = writable(false);\nexport const showSettings = writable(false);\nexport const showShortcuts = writable(false);\nexport const showArchivedChats = writable(false);\nexport const showChangelog = writable(false);\n\nexport const showControls = writable(false);\nexport const showEmbeds = writable(false);\nexport const showOverview = writable(false);\nexport const showArtifacts = writable(false);\nexport const showCallOverlay = writable(false);\n\nexport const artifactCode = writable(null);\nexport const artifactContents = writable(null);\n\nexport const embed = writable(null);\n\nexport const temporaryChatEnabled = writable(false);\nexport const scrollPaginationEnabled = writable(false);\nexport const currentChatPage = writable(1);\n\nexport const isLastActiveTab = writable(true);\nexport const playingNotificationSound = writable(false);\n\nexport type Model = OpenAIModel | OllamaModel;\n\ntype BaseModel = {\n\tid: string;\n\tname: string;\n\tinfo?: ModelConfig;\n\towned_by: 'ollama' | 'openai' | 'arena';\n};\n\nexport interface OpenAIModel extends BaseModel {\n\towned_by: 'openai';\n\texternal: boolean;\n\tsource?: string;\n}\n\nexport interface OllamaModel extends BaseModel {\n\towned_by: 'ollama';\n\tdetails: OllamaModelDetails;\n\tsize: number;\n\tdescription: string;\n\tmodel: string;\n\tmodified_at: string;\n\tdigest: string;\n\tollama?: {\n\t\tname?: string;\n\t\tmodel?: string;\n\t\tmodified_at: string;\n\t\tsize?: number;\n\t\tdigest?: string;\n\t\tdetails?: {\n\t\t\tparent_model?: string;\n\t\t\tformat?: string;\n\t\t\tfamily?: string;\n\t\t\tfamilies?: string[];\n\t\t\tparameter_size?: string;\n\t\t\tquantization_level?: string;\n\t\t};\n\t\turls?: number[];\n\t};\n}\n\ntype OllamaModelDetails = {\n\tparent_model: string;\n\tformat: string;\n\tfamily: string;\n\tfamilies: string[] | null;\n\tparameter_size: string;\n\tquantization_level: string;\n};\n\ntype Settings = {\n\tpinnedModels?: never[];\n\ttoolServers?: never[];\n\tdetectArtifacts?: boolean;\n\tshowUpdateToast?: boolean;\n\tshowChangelog?: boolean;\n\tshowEmojiInCall?: boolean;\n\tvoiceInterruption?: boolean;\n\tcollapseCodeBlocks?: boolean;\n\texpandDetails?: boolean;\n\tnotificationSound?: boolean;\n\tnotificationSoundAlways?: boolean;\n\tstylizedPdfExport?: boolean;\n\tnotifications?: any;\n\timageCompression?: boolean;\n\timageCompressionSize?: any;\n\ttextScale?: number;\n\twidescreenMode?: null;\n\tlargeTextAsFile?: boolean;\n\tpromptAutocomplete?: boolean;\n\thapticFeedback?: boolean;\n\tresponseAutoCopy?: any;\n\trichTextInput?: boolean;\n\tparams?: any;\n\tuserLocation?: any;\n\twebSearch?: any;\n\tmemory?: boolean;\n\tautoTags?: boolean;\n\tautoFollowUps?: boolean;\n\tsplitLargeChunks?(body: any, splitLargeChunks: any): unknown;\n\tbackgroundImageUrl?: null;\n\tlandingPageMode?: string;\n\tiframeSandboxAllowForms?: boolean;\n\tiframeSandboxAllowSameOrigin?: boolean;\n\tscrollOnBranchChange?: boolean;\n\tdirectConnections?: null;\n\tchatBubble?: boolean;\n\tcopyFormatted?: boolean;\n\tmodels?: string[];\n\tconversationMode?: boolean;\n\tspeechAutoSend?: boolean;\n\tresponseAutoPlayback?: boolean;\n\taudio?: AudioSettings;\n\tshowUsername?: boolean;\n\tnotificationEnabled?: boolean;\n\thighContrastMode?: boolean;\n\ttitle?: TitleSettings;\n\tshowChatTitleInTab?: boolean;\n\tsplitLargeDeltas?: boolean;\n\tchatDirection?: 'LTR' | 'RTL' | 'auto';\n\tctrlEnterToSend?: boolean;\n\n\tsystem?: string;\n\tseed?: number;\n\ttemperature?: string;\n\trepeat_penalty?: string;\n\ttop_k?: string;\n\ttop_p?: string;\n\tnum_ctx?: string;\n\tnum_batch?: string;\n\tnum_keep?: string;\n\toptions?: ModelOptions;\n};\n\ntype ModelOptions = {\n\tstop?: boolean;\n};\n\ntype AudioSettings = {\n\tstt: any;\n\ttts: any;\n\tSTTEngine?: string;\n\tTTSEngine?: string;\n\tspeaker?: string;\n\tmodel?: string;\n\tnonLocalVoices?: boolean;\n};\n\ntype TitleSettings = {\n\tauto?: boolean;\n\tmodel?: string;\n\tmodelExternal?: string;\n\tprompt?: string;\n};\n\ntype Prompt = {\n\tcommand: string;\n\tuser_id: string;\n\ttitle: string;\n\tcontent: string;\n\ttimestamp: number;\n};\n\ntype Document = {\n\tcollection_name: string;\n\tfilename: string;\n\tname: string;\n\ttitle: string;\n};\n\ntype Config = {\n\tlicense_metadata: any;\n\tstatus: boolean;\n\tname: string;\n\tversion: string;\n\tdefault_locale: string;\n\tdefault_models: string;\n\tdefault_prompt_suggestions: PromptSuggestion[];\n\tfeatures: {\n\t\tauth: boolean;\n\t\tauth_trusted_header: boolean;\n\t\tenable_api_keys: boolean;\n\t\tenable_signup: boolean;\n\t\tenable_login_form: boolean;\n\t\tenable_web_search?: boolean;\n\t\tenable_google_drive_integration: boolean;\n\t\tenable_onedrive_integration: boolean;\n\t\tenable_image_generation: boolean;\n\t\tenable_admin_export: boolean;\n\t\tenable_admin_chat_access: boolean;\n\t\tenable_community_sharing: boolean;\n\t\tenable_memories: boolean;\n\t\tenable_autocomplete_generation: boolean;\n\t\tenable_direct_connections: boolean;\n\t\tenable_version_update_check: boolean;\n\t\tfolder_max_file_count?: number;\n\t};\n\toauth: {\n\t\tproviders: {\n\t\t\t[key: string]: string;\n\t\t};\n\t};\n\tui?: {\n\t\tpending_user_overlay_title?: string;\n\t\tpending_user_overlay_content?: string;\n\t};\n};\n\ntype PromptSuggestion = {\n\tcontent: string;\n\ttitle: [string, string];\n};\n\nexport type SessionUser = {\n\tpermissions: any;\n\tid: string;\n\temail: string;\n\tname: string;\n\trole: string;\n\tprofile_image_url: string;\n};\n"],"names":["WEBUI_NAME","writable","APP_NAME","WEBUI_VERSION","WEBUI_DEPLOYMENT_ID","config","user","isApp","appInfo","MODEL_DOWNLOAD_POOL","mobile","socket","theme","shortCodesToEmojis","emojiShortCodes","acc","key","value","v","TTSWorker","chatId","chatTitle","channels","channelId","chats","pinnedChats","tags","folders","selectedFolder","models","prompts","tools","functions","toolServers","banners","settings","audioQueue","sidebarWidth","showSidebar","showSearch","showSettings","showShortcuts","showArchivedChats","showChangelog","showControls","showEmbeds","showOverview","showArtifacts","showCallOverlay","artifactCode","artifactContents","embed","temporaryChatEnabled","scrollPaginationEnabled","currentChatPage","isLastActiveTab","playingNotificationSound"],"mappings":"op9CASaA,EAAaC,EAASC,CAAQ,EAE9BC,EAAgBF,EAAS,IAAI,EAC7BG,EAAsBH,EAAS,IAAI,EAEnCI,EAAuCJ,EAAS,MAAS,EACzDK,EAA0CL,EAAS,MAAS,EAG5DM,EAAQN,EAAS,EAAK,EACtBO,EAAUP,EAAS,IAAI,EAIvBQ,EAAsBR,EAAS,CAAA,CAAE,EAEjCS,EAAST,EAAS,EAAK,EAEvBU,EAAkCV,EAAS,IAAI,EAI/CW,EAAQX,EAAS,QAAQ,EAEzBY,EAAqBZ,EACjC,OAAO,QAAQa,CAAe,EAAE,OAAO,CAACC,EAAK,CAACC,EAAKC,CAAK,IAAM,CAC7D,GAAI,OAAOA,GAAU,SACpBF,EAAIE,CAAK,EAAID,MAEb,WAAWE,KAAKD,EACfF,EAAIG,CAAC,EAAIF,EAIX,OAAOD,CACR,EAAG,CAAA,CAAE,CACN,EAEaI,EAAYlB,EAAS,IAAI,EAEzBmB,EAASnB,EAAS,EAAE,EACpBoB,EAAYpB,EAAS,EAAE,EAEvBqB,EAAWrB,EAAS,CAAA,CAAE,EACtBsB,EAAYtB,EAAS,IAAI,EAEzBuB,EAAQvB,EAAS,IAAI,EACrBwB,EAAcxB,EAAS,CAAA,CAAE,EACzByB,EAAOzB,EAAS,CAAA,CAAE,EAClB0B,EAAU1B,EAAS,CAAA,CAAE,EAErB2B,EAAiB3B,EAAS,IAAI,EAE9B4B,EAA4B5B,EAAS,CAAA,CAAE,EAEvC6B,EAAqC7B,EAAS,IAAI,EAElD8B,EAAQ9B,EAAS,IAAI,EACrB+B,EAAY/B,EAAS,IAAI,EAEzBgC,EAAchC,EAAS,CAAA,CAAE,EAEzBiC,EAA8BjC,EAAS,CAAA,CAAE,EAEzCkC,EAA+BlC,EAAS,CAAA,CAAE,EAE1CmC,EAAanC,EAAS,IAAI,EAE1BoC,EAAepC,EAAS,GAAG,EAE3BqC,EAAcrC,EAAS,EAAK,EAC5BsC,EAAatC,EAAS,EAAK,EAC3BuC,EAAevC,EAAS,EAAK,EAC7BwC,EAAgBxC,EAAS,EAAK,EAC9ByC,EAAoBzC,EAAS,EAAK,EAClC0C,EAAgB1C,EAAS,EAAK,EAE9B2C,EAAe3C,EAAS,EAAK,EAC7B4C,EAAa5C,EAAS,EAAK,EAC3B6C,EAAe7C,EAAS,EAAK,EAC7B8C,EAAgB9C,EAAS,EAAK,EAC9B+C,EAAkB/C,EAAS,EAAK,EAEhCgD,EAAehD,EAAS,IAAI,EAC5BiD,EAAmBjD,EAAS,IAAI,EAEhCkD,EAAQlD,EAAS,IAAI,EAErBmD,GAAuBnD,EAAS,EAAK,EACrCoD,GAA0BpD,EAAS,EAAK,EACxCqD,GAAkBrD,EAAS,CAAC,EAE5BsD,GAAkBtD,EAAS,EAAI,EAC/BuD,GAA2BvD,EAAS,EAAK"}