import"./CWj6FrbW.js";import"./69_IOA4Y.js";import{B as fa,t as p,a as c,p as xa,g as pa,o as ma,q as va,i as o,j as t,m as q,u as Ze,v as ba,f as k,c as r,r as a,k as n,w as l,l as pe,n as Se,aP as ca,s as v,b as ga,z as We,e as me,d as He,aR as Da}from"./0WpKKl27.js";import{i as $}from"./Cmf4RC8y.js";import{e as Ia,i as Ja}from"./u5Cnd4mY.js";import{a as ce,s as b,c as _a,r as Ue,d as ua}from"./CZ1y6KaE.js";import{b as Je}from"./kb1CvZ3a.js";import{i as ha}from"./C3k0oZ3o.js";import{p as le}from"./DpN1w328.js";import{a as Rt,s as ya}from"./BVrWTcfB.js";import{t as B}from"./DYdr9DjX.js";import{b as ka}from"./PCOILo-8.js";import{v as Ha}from"./Bp8N0x0r.js";import{v as za}from"./DyQj18XO.js";import{M as wa}from"./CcreKc1w.js";import{P as La}from"./BonmQdqt.js";import{S as $a}from"./B41Ah4PR.js";import{T as ze}from"./Db0gdTVr.js";import{S as Ca}from"./NOxjCBoP.js";import{T as Ra}from"./DluZzLRt.js";import{S as Sa}from"./BO1efK8r.js";import{X as Ma}from"./CZmZoefv.js";import{T as Oa}from"./CWXf-F9t.js";import{C as Ea}from"./ByHAJgVC.js";import{b as qa}from"./Bo3ZTtFv.js";import{f as Ta}from"./CsWaRabF.js";import{b as Wa}from"./B6gyXX6T.js";import{v as Ua,r as Va}from"./DbVsO-UY.js";import{A as Ba}from"./DlVfwdnV.js";var Fa=fa('<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" aria-hidden="true" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"></path><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"></path></svg>');function Xa(Pe,T){let e=le(T,"className",8,"w-4 h-4"),s=le(T,"strokeWidth",8,"1.5");var ue=Fa();p(()=>{ce(ue,"stroke-width",s()),b(ue,0,_a(e()))}),c(Pe,ue)}var Ka=fa('<svg xmlns="http://www.w3.org/2000/svg" fill="none" aria-hidden="true" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M5 12h14"></path></svg>');function Za(Pe,T){let e=le(T,"className",8,"w-4 h-4"),s=le(T,"strokeWidth",8,"1.5");var ue=Ka();p(()=>{ce(ue,"stroke-width",s()),b(ue,0,_a(e()))}),c(Pe,ue)}var Ga=k('<div class="flex gap-2"><div class="flex w-full justify-between items-center"><div class=" text-xs text-gray-500"> </div> <div><button type="button" class=" text-xs text-gray-700 dark:text-gray-300"><!></button></div></div></div>'),Qa=k('<button class="self-center p-1 bg-transparent hover:bg-gray-100 dark:bg-gray-900 dark:hover:bg-gray-850 rounded-lg transition" type="button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" class="w-4 h-4"><path fill-rule="evenodd" d="M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z" clip-rule="evenodd"></path></svg></button>'),Ya=k("<option> </option>"),er=k("<option> </option> <!>",1),tr=k("<option> </option> <!>",1),ar=k("<div> </div>"),rr=k("<div> </div>"),lr=k("<div> </div>"),or=k("<div> </div>"),ir=k('<div class="flex gap-2 mt-2"><div class="flex flex-col w-full"><label for="headers-input"> </label> <div class="flex-1"><!></div></div></div>'),sr=k('<input type="text" id="prefix-id-input" autocomplete="off"/>'),nr=k('<div class="flex flex-row justify-between items-center w-full mt-2"><label for="prefix-id-input"> </label> <div><button type="button" class=" text-xs text-gray-700 dark:text-gray-300"> </button></div></div>'),dr=k('<div class="flex gap-2 mt-2"><div class="flex flex-col w-full"><label for="api-version-input"> </label> <div class="flex-1"><input id="api-version-input" type="text" autocomplete="off" required/></div></div></div>'),vr=k('<li class=" flex gap-2 w-full justify-between items-center"><div class=" text-sm flex-1 py-1 rounded-lg"> </div> <div class="shrink-0"><button type="button"><!></button></div></li>'),cr=k('<ul class="flex flex-col"></ul>'),ur=k("<div><!></div>"),fr=k('<button class="px-3.5 py-1.5 text-sm font-medium dark:bg-black dark:hover:bg-gray-900 dark:text-white bg-white text-black hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center" type="button"> </button>'),xr=k('<div class="ml-2 self-center"><!></div>'),pr=k('<div><div class=" flex justify-between dark:text-gray-100 px-5 pt-4 pb-1.5"><h1 class="text-lg font-medium self-center font-primary"><!></h1> <button class="self-center"><!></button></div> <div class="flex flex-col md:flex-row w-full px-4 pb-4 md:space-x-4 dark:text-gray-200"><div class=" flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"><form class="flex flex-col w-full"><div class="px-1"><!> <div class="flex gap-2 mt-1.5"><div class="flex flex-col w-full"><label for="url-input"> </label> <div class="flex-1"><input id="url-input" type="text" autocomplete="off" required/></div></div> <!> <div class="flex flex-col shrink-0 self-end"><label class="sr-only" for="toggle-connection"> </label> <!></div></div> <div class="flex gap-2 mt-2"><div class="flex flex-col w-full"><label for="select-bearer-or-session"> </label> <div class="flex gap-2"><div class="flex-shrink-0 self-start"><select id="select-bearer-or-session"><option> </option><option> </option><!></select></div> <div class="flex flex-1 items-center"><!></div></div></div></div> <!> <div class="flex gap-2 mt-2"><div class="flex flex-col w-full"><label for="prefix-id-input"> </label> <div class="flex-1"><!></div></div></div> <!> <!> <div class="flex flex-col w-full mt-2"><div class="mb-1 flex justify-between"><div> </div></div> <!></div> <div class="flex items-center"><label class="sr-only" for="add-model-id-input"> </label> <input id="add-model-id-input"/> <div><button type="button"><!></button></div></div></div> <div class="flex gap-2 mt-2"><div class="flex flex-col w-full"><div> </div> <div class="flex-1 mt-0.5"><!></div></div></div> <div class="flex justify-end pt-3 text-sm font-medium gap-1.5"><!> <button type="submit"> <!></button></div></form></div></div></div>');function kl(Pe,T){xa(T,!1);const e=()=>Rt($t,"$i18n",ue),s=()=>Rt(ka,"$settings",ue),[ue,wt]=ya(),$t=pa("i18n");let Ct=le(T,"onSubmit",8,()=>{}),fe=le(T,"onDelete",8,()=>{}),De=le(T,"show",12,!1),$e=le(T,"edit",8,!1),be=le(T,"ollama",8,!1),ge=le(T,"direct",8,!1),D=le(T,"connection",8,null),F=q(""),E=q(""),H=q("bearer"),ee=q("external"),G=q(!1),I=q(""),X=q(!0),ie=q(""),j=q(""),ne=q([]),ke=q(""),K=q([]),se=q(!1);const oe=async()=>{o(F,t(F).replace(/\/$/,"")),await za(localStorage.token,{url:t(F),key:t(E)}).catch(we=>{B.error(`${we}`)})&&B.success(e().t("Server connection verified"))},V=async()=>{o(F,t(F).replace(/\/$/,""));let te=null;if(t(j))try{if(te=JSON.parse(t(j)),typeof te!="object"||Array.isArray(te))throw te=null,new Error("Headers must be a valid JSON object");o(j,JSON.stringify(te,null,2))}catch{B.error(e().t("Headers must be a valid JSON object"));return}await Ha(localStorage.token,{url:t(F),key:t(E),config:{auth_type:t(H),azure:t(G),api_version:t(ie),...te?{headers:te}:{}}},ge()).catch(Ie=>{B.error(`${Ie}`)})&&B.success(e().t("Server connection verified"))},de=()=>{be()?oe():V()},_e=()=>{t(ke)&&(o(K,[...t(K),t(ke)]),o(ke,""))},St=async()=>{if(o(se,!0),!be()&&!t(F)){o(se,!1),B.error(e().t("URL is required"));return}if(t(G)){if(!t(ie)){o(se,!1),B.error(e().t("API Version is required"));return}if(!t(E)&&!["azure_ad","microsoft_entra_id"].includes(t(H))){o(se,!1),B.error(e().t("Key is required"));return}if(t(K).length===0){o(se,!1),B.error(e().t("Deployment names are required for Azure OpenAI"));return}}if(t(j))try{const we=JSON.parse(t(j));if(typeof we!="object"||Array.isArray(we))throw new Error("Headers must be a valid JSON object");o(j,JSON.stringify(we,null,2))}catch{B.error(e().t("Headers must be a valid JSON object"));return}o(F,t(F).replace(/\/$/,""));const te={url:t(F),key:t(E),config:{enable:t(X),tags:t(ne),prefix_id:t(I),model_ids:t(K),connection_type:t(ee),auth_type:t(H),headers:t(j)?JSON.parse(t(j)):void 0,...!be()&&t(G)?{azure:!0,api_version:t(ie)}:{}}};await Ct()(te),o(se,!1),De(!1),o(F,""),o(E,""),o(H,"bearer"),o(I,""),o(ne,[]),o(K,[])},Le=()=>{var te,we,Ie,Ve,P,re,Ce,Me,he;D()&&(o(F,D().url),o(E,D().key),o(H,D().config.auth_type??"bearer"),o(j,(te=D().config)!=null&&te.headers?JSON.stringify(D().config.headers,null,2):""),o(X,((we=D().config)==null?void 0:we.enable)??!0),o(ne,((Ie=D().config)==null?void 0:Ie.tags)??[]),o(I,((Ve=D().config)==null?void 0:Ve.prefix_id)??""),o(K,((P=D().config)==null?void 0:P.model_ids)??[]),be()?o(ee,((re=D().config)==null?void 0:re.connection_type)??"local"):(o(ee,((Ce=D().config)==null?void 0:Ce.connection_type)??"external"),o(G,((Me=D().config)==null?void 0:Me.azure)??!1),o(ie,((he=D().config)==null?void 0:he.api_version)??"")))};ma(()=>{Le()}),va(()=>(t(F),Ze(ge())),()=>{o(G,!!((t(F).includes("azure.")||t(F).includes("cognitive.microsoft.com"))&&!ge()))}),va(()=>Ze(De()),()=>{De()&&Le()}),ba(),ha(),wa(Pe,{size:"sm",get show(){return De()},set show(te){De(te)},children:(te,we)=>{var Ie=pr(),Ve=r(Ie),P=r(Ve),re=r(P);{var Ce=i=>{var d=We();p(x=>v(d,x),[()=>(e(),l(()=>e().t("Edit Connection")))]),c(i,d)},Me=i=>{var d=We();p(x=>v(d,x),[()=>(e(),l(()=>e().t("Add Connection")))]),c(i,d)};$(re,i=>{$e()?i(Ce):i(Me,!1)})}a(P);var he=n(P,2),J=r(he);Ma(J,{className:"size-5"}),a(he),a(Ve);var at=n(Ve,2),rt=r(at),Be=r(rt),Re=r(Be),Ee=r(Re);{var ct=i=>{var d=Ga(),x=r(d),h=r(x),M=r(h,!0);a(h);var g=n(h,2),_=r(g),S=r(_);{var O=f=>{var m=We();p(A=>v(m,A),[()=>(e(),l(()=>e().t("Local")))]),c(f,m)},N=f=>{var m=We();p(A=>v(m,A),[()=>(e(),l(()=>e().t("External")))]),c(f,m)};$(S,f=>{t(ee)==="local"?f(O):f(N,!1)})}a(_),a(g),a(x),a(d),p(f=>v(M,f),[()=>(e(),l(()=>e().t("Connection Type")))]),pe("click",_,()=>{o(ee,t(ee)==="local"?"external":"local")}),c(i,d)};$(Ee,i=>{ge()||i(ct)})}var qe=n(Ee,2),Ge=r(qe),Fe=r(Ge),Qt=r(Fe,!0);a(Fe);var Mt=n(Fe,2),lt=r(Mt);Ue(lt),a(Mt),a(Ge);var ut=n(Ge,2);{let i=Se(()=>(e(),l(()=>e().t("Verify Connection"))));ze(ut,{get content(){return t(i)},className:"self-end -mb-1",children:(d,x)=>{var h=Qa();p(M=>ce(h,"aria-label",M),[()=>(e(),l(()=>e().t("Verify Connection")))]),pe("click",h,()=>{de()}),c(d,h)},$$slots:{default:!0}})}var ft=n(ut,2),ot=r(ft),Et=r(ot,!0);a(ot);var Yt=n(ot,2);{let i=Se(()=>(t(X),e(),l(()=>t(X)?e().t("Enabled"):e().t("Disabled"))));ze(Yt,{get content(){return t(i)},children:(d,x)=>{Ca(d,{id:"toggle-connection",get state(){return t(X)},set state(h){o(X,h)},$$legacy:!0})},$$slots:{default:!0}})}a(ft),a(qe);var it=n(qe,2),Ot=r(it),Qe=r(Ot),Nt=r(Qe,!0);a(Qe);var qt=n(Qe,2),xt=r(qt),Te=r(xt);p(()=>{t(H),ca(()=>{s(),e(),be(),ge(),t(G)})});var Ye=r(Te),ea=r(Ye,!0);a(Ye),Ye.value=Ye.__value="none";var et=n(Ye),ta=r(et,!0);a(et),et.value=et.__value="bearer";var At=n(et);{var Tt=i=>{var d=tr(),x=me(d),h=r(x,!0);a(x),x.value=x.__value="session";var M=n(x,2);{var g=_=>{var S=er(),O=me(S),N=r(O,!0);a(O),O.value=O.__value="system_oauth";var f=n(O,2);{var m=A=>{var R=Ya(),w=r(R,!0);a(R),R.value=R.__value="microsoft_entra_id",p(ve=>v(w,ve),[()=>(e(),l(()=>e().t("Entra ID")))]),c(A,R)};$(f,A=>{t(G)&&A(m)})}p(A=>v(N,A),[()=>(e(),l(()=>e().t("OAuth")))]),c(_,S)};$(M,_=>{ge()||_(g)})}p(_=>v(h,_),[()=>(e(),l(()=>e().t("Session")))]),c(i,d)};$(At,i=>{be()||i(Tt)})}a(Te),a(xt);var pt=n(xt,2),jt=r(pt);{var Pt=i=>{{let d=Se(()=>(e(),l(()=>e().t("API Key"))));$a(i,{get placeholder(){return t(d)},required:!1,get value(){return t(E)},set value(x){o(E,x)},$$legacy:!0})}},aa=i=>{var d=He(),x=me(d);{var h=g=>{var _=ar(),S=r(_,!0);a(_),p(O=>{b(_,1,(s(),l(()=>{var N;return`text-xs self-center translate-y-[1px] ${((N=s())==null?void 0:N.highContrastMode)??!1?"text-gray-800 dark:text-gray-100":"text-gray-500"}`}))),v(S,O)},[()=>(e(),l(()=>e().t("No authentication")))]),c(g,_)},M=g=>{var _=He(),S=me(_);{var O=f=>{var m=rr(),A=r(m,!0);a(m),p(R=>{b(m,1,(s(),l(()=>{var w;return`text-xs self-center translate-y-[1px] ${((w=s())==null?void 0:w.highContrastMode)??!1?"text-gray-800 dark:text-gray-100":"text-gray-500"}`}))),v(A,R)},[()=>(e(),l(()=>e().t("Forwards system user session credentials to authenticate")))]),c(f,m)},N=f=>{var m=He(),A=me(m);{var R=ve=>{var xe=lr(),Ne=r(xe,!0);a(xe),p(Oe=>{b(xe,1,(s(),l(()=>{var Ae;return`text-xs self-center translate-y-[1px] ${((Ae=s())==null?void 0:Ae.highContrastMode)??!1?"text-gray-800 dark:text-gray-100":"text-gray-500"}`}))),v(Ne,Oe)},[()=>(e(),l(()=>e().t("Forwards system user OAuth access token to authenticate")))]),c(ve,xe)},w=ve=>{var xe=He(),Ne=me(xe);{var Oe=Ae=>{var Ke=or(),je=r(Ke,!0);a(Ke),p(Kt=>{b(Ke,1,(s(),l(()=>{var Zt;return`text-xs self-center translate-y-[1px] ${((Zt=s())==null?void 0:Zt.highContrastMode)??!1?"text-gray-800 dark:text-gray-100":"text-gray-500"}`}))),v(je,Kt)},[()=>(e(),l(()=>e().t("Uses DefaultAzureCredential to authenticate")))]),c(Ae,Ke)};$(Ne,Ae=>{t(H),l(()=>["azure_ad","microsoft_entra_id"].includes(t(H)))&&Ae(Oe)},!0)}c(ve,xe)};$(A,ve=>{t(H)==="system_oauth"?ve(R):ve(w,!1)},!0)}c(f,m)};$(S,f=>{t(H)==="session"?f(O):f(N,!1)},!0)}c(g,_)};$(x,g=>{t(H)==="none"?g(h):g(M,!1)},!0)}c(i,d)};$(jt,i=>{t(H)==="bearer"?i(Pt):i(aa,!1)})}a(pt),a(qt),a(Ot),a(it);var Wt=n(it,2);{var ra=i=>{var d=ir(),x=r(d),h=r(x),M=r(h,!0);a(h);var g=n(h,2),_=r(g);{let S=Se(()=>(e(),l(()=>e().t('Enter additional headers in JSON format (e.g. {"X-Custom-Header": "value"}'))));ze(_,{get content(){return t(S)},children:(O,N)=>{{let f=Se(()=>(e(),l(()=>e().t("Enter additional headers in JSON format"))));Oa(O,{className:"w-full text-sm outline-hidden",get placeholder(){return t(f)},required:!1,minSize:30,get value(){return t(j)},set value(m){o(j,m)},$$legacy:!0})}},$$slots:{default:!0}})}a(g),a(x),a(d),p(S=>{b(h,1,(s(),l(()=>{var O;return`mb-0.5 text-xs text-gray-500
								${((O=s())==null?void 0:O.highContrastMode)??!1?"text-gray-800 dark:text-gray-100":""}`}))),v(M,S)},[()=>(e(),l(()=>e().t("Headers")))]),c(i,d)};$(Wt,i=>{!be()&&!ge()&&i(ra)})}var gt=n(Wt,2),_t=r(gt),Xe=r(_t),st=r(Xe,!0);a(Xe);var Ut=n(Xe,2),nt=r(Ut);{let i=Se(()=>(e(),l(()=>e().t("Prefix ID is used to avoid conflicts with other connections by adding a prefix to the model IDs - leave empty to disable"))));ze(nt,{get content(){return t(i)},children:(d,x)=>{var h=sr();Ue(h),p(M=>{b(h,1,(s(),l(()=>{var g;return`w-full text-sm bg-transparent ${((g=s())==null?void 0:g.highContrastMode)??!1?"placeholder:text-gray-700 dark:placeholder:text-gray-100":"outline-hidden placeholder:text-gray-300 dark:placeholder:text-gray-700"}`}))),ce(h,"placeholder",M)},[()=>(e(),l(()=>e().t("Prefix ID")))]),Je(h,()=>t(I),M=>o(I,M)),c(d,h)},$$slots:{default:!0}})}a(Ut),a(_t),a(gt);var Vt=n(gt,2);{var dt=i=>{var d=nr(),x=r(d),h=r(x,!0);a(x);var M=n(x,2),g=r(M),_=r(g,!0);a(g),a(M),a(d),p((S,O)=>{b(x,1,(s(),l(()=>{var N;return`mb-0.5 text-xs text-gray-500
								${((N=s())==null?void 0:N.highContrastMode)??!1?"text-gray-800 dark:text-gray-100":""}`}))),v(h,S),v(_,O)},[()=>(e(),l(()=>e().t("Provider Type"))),()=>(t(G),e(),l(()=>t(G)?e().t("Azure OpenAI"):e().t("OpenAI")))]),pe("click",g,()=>{o(G,!t(G))}),c(i,d)};$(Vt,i=>{!be()&&!ge()&&i(dt)})}var Bt=n(Vt,2);{var la=i=>{var d=dr(),x=r(d),h=r(x),M=r(h,!0);a(h);var g=n(h,2),_=r(g);Ue(_),a(g),a(x),a(d),p((S,O)=>{b(h,1,(s(),l(()=>{var N;return`mb-0.5 text-xs text-gray-500
								${((N=s())==null?void 0:N.highContrastMode)??!1?"text-gray-800 dark:text-gray-100":""}`}))),v(M,S),b(_,1,(s(),l(()=>{var N;return`w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 ${((N=s())==null?void 0:N.highContrastMode)??!1?"placeholder:text-gray-700 dark:placeholder:text-gray-100":"outline-hidden placeholder:text-gray-300 dark:placeholder:text-gray-700"}`}))),ce(_,"placeholder",O)},[()=>(e(),l(()=>e().t("API Version"))),()=>(e(),l(()=>e().t("API Version")))]),Je(_,()=>t(ie),S=>o(ie,S)),c(i,d)};$(Bt,i=>{t(G)&&i(la)})}var Dt=n(Bt,2),ht=r(Dt),It=r(ht),oa=r(It,!0);a(It),a(ht);var ia=n(ht,2);{var sa=i=>{var d=cr();Ia(d,5,()=>t(K),Ja,(x,h,M,g)=>{var _=vr(),S=r(_),O=r(S,!0);a(S);var N=n(S,2),f=r(N),m=r(f);Za(m,{strokeWidth:"2",className:"size-3.5"}),a(f),a(N),a(_),p(A=>{v(O,t(h)),ce(f,"aria-label",A)},[()=>(e(),t(h),l(()=>e().t("Remove {{MODELID}} from list.",{MODELID:t(h)})))]),pe("click",f,()=>{o(K,t(K).filter((A,R)=>R!==M))}),c(x,_)}),a(d),c(i,d)},na=i=>{var d=ur(),x=r(d);{var h=g=>{var _=We();p(S=>v(_,S),[()=>(e(),t(F),l(()=>e().t('Leave empty to include all models from "{{url}}/api/tags" endpoint',{url:t(F)})))]),c(g,_)},M=g=>{var _=He(),S=me(_);{var O=f=>{var m=We();p(A=>v(m,A),[()=>(e(),l(()=>e().t("Deployment names are required for Azure OpenAI")))]),c(f,m)},N=f=>{var m=We();p(A=>v(m,A),[()=>(e(),t(F),l(()=>e().t('Leave empty to include all models from "{{url}}/models" endpoint',{url:t(F)})))]),c(f,m)};$(S,f=>{t(G)?f(O):f(N,!1)},!0)}c(g,_)};$(x,g=>{be()?g(h):g(M,!1)})}a(d),p(()=>b(d,1,(s(),l(()=>{var g;return`text-gray-500 text-xs text-center py-2 px-10
								${((g=s())==null?void 0:g.highContrastMode)??!1?"text-gray-800 dark:text-gray-100":""}`})))),c(i,d)};$(ia,i=>{t(K),l(()=>t(K).length>0)?i(sa):i(na,!1)})}a(Dt);var Jt=n(Dt,2),Ht=r(Jt),Ft=r(Ht,!0);a(Ht);var tt=n(Ht,2);Ue(tt);var zt=n(tt,2),yt=r(zt),mt=r(yt);La(mt,{className:"size-3.5",strokeWidth:"2"}),a(yt),a(zt),a(Jt),a(Re);var bt=n(Re,2),Xt=r(bt),kt=r(Xt),u=r(kt,!0);a(kt);var y=n(kt,2),C=r(y);Ra(C,{get tags(){return t(ne)},set tags(i){o(ne,i)},$$events:{add:i=>{o(ne,[...t(ne),{name:i.detail}])},delete:i=>{o(ne,t(ne).filter(d=>d.name!==i.detail))}},$$legacy:!0}),a(y),a(Xt),a(bt);var W=n(bt,2),ae=r(W);{var Q=i=>{var d=fr(),x=r(d,!0);a(d),p(h=>v(x,h),[()=>(e(),l(()=>e().t("Delete")))]),pe("click",d,()=>{fe()(),De(!1)}),c(i,d)};$(ae,i=>{$e()&&i(Q)})}var z=n(ae,2),L=r(z),U=n(L);{var Z=i=>{var d=xr(),x=r(d);Sa(x,{}),a(d),c(i,d)};$(U,i=>{t(se)&&i(Z)})}a(z),a(W),a(Be),a(rt),a(at),a(Ie),p((i,d,x,h,M,g,_,S,O,N,f,m,A,R)=>{ce(he,"aria-label",i),b(Fe,1,(s(),l(()=>{var w;return`mb-0.5 text-xs text-gray-500
								${((w=s())==null?void 0:w.highContrastMode)??!1?"text-gray-800 dark:text-gray-100":""}`}))),v(Qt,d),b(lt,1,(s(),l(()=>{var w;return`w-full text-sm bg-transparent ${((w=s())==null?void 0:w.highContrastMode)??!1?"placeholder:text-gray-700 dark:placeholder:text-gray-100":"outline-hidden placeholder:text-gray-300 dark:placeholder:text-gray-700"}`}))),ce(lt,"placeholder",x),v(Et,h),b(Qe,1,(s(),l(()=>{var w;return`text-xs ${((w=s())==null?void 0:w.highContrastMode)??!1?"text-gray-800 dark:text-gray-100":"text-gray-500"}`}))),v(Nt,M),b(Te,1,(s(),l(()=>{var w;return`dark:bg-gray-900 w-full text-sm bg-transparent pr-5 ${((w=s())==null?void 0:w.highContrastMode)??!1?"placeholder:text-gray-700 dark:placeholder:text-gray-100":"outline-hidden placeholder:text-gray-300 dark:placeholder:text-gray-700"}`}))),v(ea,g),v(ta,_),b(Xe,1,(s(),l(()=>{var w;return`mb-0.5 text-xs text-gray-500
								${((w=s())==null?void 0:w.highContrastMode)??!1?"text-gray-800 dark:text-gray-100":""}`}))),v(st,S),b(It,1,(s(),l(()=>{var w;return`mb-0.5 text-xs text-gray-500
								${((w=s())==null?void 0:w.highContrastMode)??!1?"text-gray-800 dark:text-gray-100":""}`}))),v(oa,O),v(Ft,N),b(tt,1,`w-full py-1 text-sm rounded-lg bg-transparent ${t(ke)?"":"text-gray-500"} ${s(),l(()=>{var w;return((w=s())==null?void 0:w.highContrastMode)??!1?"dark:placeholder:text-gray-100 placeholder:text-gray-700":"placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-hidden"})??""}`),ce(tt,"placeholder",f),ce(yt,"aria-label",m),b(kt,1,(s(),l(()=>{var w;return`mb-0.5 text-xs text-gray-500
								${((w=s())==null?void 0:w.highContrastMode)??!1?"text-gray-800 dark:text-gray-100":""}`}))),v(u,A),b(z,1,`px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center ${t(se)?" cursor-not-allowed":""}`),z.disabled=t(se),v(L,`${R??""} `)},[()=>(e(),l(()=>e().t("Close modal"))),()=>(e(),l(()=>e().t("URL"))),()=>(e(),l(()=>e().t("API Base URL"))),()=>(e(),l(()=>e().t("Toggle whether current connection is active."))),()=>(e(),l(()=>e().t("Auth"))),()=>(e(),l(()=>e().t("None"))),()=>(e(),l(()=>e().t("Bearer"))),()=>(e(),l(()=>e().t("Prefix ID"))),()=>(e(),l(()=>e().t("Model IDs"))),()=>(e(),l(()=>e().t("Add a model ID"))),()=>(e(),l(()=>e().t("Add a model ID"))),()=>(e(),l(()=>e().t("Add"))),()=>(e(),l(()=>e().t("Tags"))),()=>(e(),l(()=>e().t("Save")))]),pe("click",he,()=>{De(!1)}),Je(lt,()=>t(F),i=>o(F,i)),ua(Te,()=>t(H),i=>o(H,i)),Je(tt,()=>t(ke),i=>o(ke,i)),pe("click",yt,()=>{_e()}),pe("submit",Be,i=>{i.preventDefault(),St()}),c(te,Ie)},$$slots:{default:!0},$$legacy:!0}),ga(),wt()}var gr=k(' <span class="text-gray-500"> </span>',1),_r=k('<div class="flex gap-2 mb-1.5"><div class="flex w-full justify-between items-center"><div class=" text-xs text-gray-500"> </div> <div><button type="button" class=" text-xs text-gray-700 dark:text-gray-300"><!></button></div></div></div>'),hr=k('<button class="self-center p-1 bg-transparent hover:bg-gray-100 dark:bg-gray-900 dark:hover:bg-gray-850 rounded-lg transition" type="button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4" aria-hidden="true"><path fill-rule="evenodd" d="M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z" clip-rule="evenodd"></path></svg></button>'),yr=k('<div class="flex-1 flex items-center"><label for="url-or-path" class="sr-only"> </label> <input type="text" id="url-or-path" autocomplete="off" required/></div>'),mr=k('<div><label for="url-or-path" class="sr-only"> </label> <textarea autocomplete="off" required rows="5"></textarea></div>'),br=k("<div> </div>"),kr=k('<div class="flex gap-2 mt-2"><div class="flex flex-col w-full"><div class="flex justify-between items-center mb-0.5"><div class="flex gap-2 items-center"><div for="select-bearer-or-session"> </div></div></div> <div class="flex gap-2"><div class="flex-shrink-0 self-start"><select id="select-bearer-or-session"><option> </option><option> </option></select></div> <div class="flex flex-1 items-center"><!></div></div> <!></div></div>'),wr=k('<button class=" text-xs underline dark:text-gray-500 dark:hover:text-gray-200 text-gray-700 hover:text-gray-900 transition" type="button"> </button>'),$r=k('<div class="text-xs font-medium px-1.5 rounded-md bg-yellow-500/20 text-yellow-700 dark:text-yellow-200"> </div>'),Cr=k('<div class="text-xs font-medium px-1.5 rounded-md bg-green-500/20 text-green-700 dark:text-green-200"> </div>'),Sr=k('<div class="flex items-center gap-2"><div class="flex flex-col justify-end items-center shrink-0"><!></div> <!></div>'),Mr=k("<option> </option>"),Or=k("<option> </option> <!>",1),Nr=k("<div> </div>"),Ar=k("<div> </div>"),jr=k("<div> </div>"),Pr=k("<div> </div>"),Dr=k('<span class="text-xs text-gray-200 dark:text-gray-800 ml-0.5"> </span>'),Ir=k('<div class="flex gap-2 mt-2"><div class="flex flex-col w-full"><label for="headers-input"> </label> <div class="flex-1"><!></div></div></div> <hr class=" border-gray-100 dark:border-gray-700/10 my-2.5 w-full"/> <div class="flex gap-2"><div class="flex flex-col w-full"><label for="enter-id"> <!></label> <div class="flex-1"><input id="enter-id" type="text" autocomplete="off"/></div></div></div> <div class="flex gap-2 mt-2"><div class="flex flex-col w-full"><label for="enter-name"> </label> <div class="flex-1"><input id="enter-name" type="text" autocomplete="off" required/></div></div></div> <div class="flex flex-col w-full mt-2"><label for="description"> </label> <div class="flex-1"><input id="description" type="text" autocomplete="off"/></div></div> <div class="flex flex-col w-full mt-2"><label for="function-name-filter-list"> </label> <div class="flex-1"><input id="function-name-filter-list" type="text" autocomplete="off"/></div></div> <hr class=" border-gray-100 dark:border-gray-700/10 my-2.5 w-full"/> <div class="my-2"><!></div>',1),Jr=k('<div class=" bg-yellow-500/20 text-yellow-700 dark:text-yellow-200 rounded-2xl text-xs px-4 py-3 mb-2"><span class="font-medium"> </span> <a class="font-medium underline" href="https://docs.openwebui.com/features/mcp" target="_blank"> </a></div>'),Hr=k('<button class="px-3.5 py-1.5 text-sm font-medium dark:bg-black dark:hover:bg-gray-900 dark:text-white bg-white text-black hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center" type="button"> </button>'),zr=k('<div class="ml-2 self-center"><!></div>'),Lr=k('<div><div class=" flex justify-between dark:text-gray-100 px-5 pt-4 pb-2"><h1 class=" text-lg font-medium self-center font-primary"><!></h1> <div class="flex items-center gap-3"><div class="flex gap-1.5 text-xs justify-end"><button class=" hover:underline" type="button"> </button> <button class=" hover:underline" type="button"> </button></div> <button class="self-center"><!></button></div></div> <div class="flex flex-col md:flex-row w-full px-4 pb-4 md:space-x-4 dark:text-gray-200"><div class=" flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"><input type="file" hidden="" accept=".json"/> <form class="flex flex-col w-full"><div class="px-1"><!> <div class="flex gap-2"><div class="flex flex-col w-full"><div class="flex justify-between mb-0.5"><label for="api-base-url"> </label></div> <div class="flex flex-1 items-center"><input id="api-base-url" type="text" autocomplete="off" required/> <!> <!></div></div></div> <!> <div class="flex gap-2 mt-2"><div class="flex flex-col w-full"><div class="flex justify-between items-center"><div class="flex gap-2 items-center"><div for="select-bearer-or-session"> </div></div> <!></div> <div class="flex gap-2"><div class="flex-shrink-0 self-start"><select id="select-bearer-or-session"><option> </option><option> </option><option> </option><!></select></div> <div class="flex flex-1 items-center"><!></div></div></div></div> <!></div> <!> <div class="flex justify-between pt-3 text-sm font-medium gap-1.5"><div></div> <div class="flex gap-1.5"><!> <button type="submit"> <!></button></div></div></form></div></div></div>');function Rr(Pe,T){xa(T,!1);const e=()=>Rt(Ct,"$i18n",ue),s=()=>Rt(ka,"$settings",ue),[ue,wt]=ya(),{saveAs:$t}=Ta,Ct=pa("i18n");let fe=le(T,"onSubmit",8,()=>{}),De=le(T,"onDelete",8,()=>{}),$e=le(T,"show",12,!1),be=le(T,"edit",8,!1),ge=le(T,"direct",8,!1),D=le(T,"connection",8,null),F=q(null),E=q("openapi"),H=q(""),ee=q("url"),G=q(""),I=q("openapi.json"),X=q("bearer"),ie=q(""),j=q(""),ne=q(""),ke=q({}),K=q(""),se=q(""),oe=q(""),V=q(null),de=q(!0),_e=q(!1);const St=async()=>{if(t(H)===""){B.error(e().t("Please enter a valid URL"));return}if(t(K)===""){B.error(e().t("Please enter a valid ID"));return}const P=await Va(localStorage.token,{url:t(H),client_id:t(K)},"mcp").catch(re=>(B.error(e().t("Registration failed")),null));P&&(B.warning(e().t("Please save the connection to persist the OAuth client information and do not change the ID")),B.success(e().t("Registration successful")),o(V,(P==null?void 0:P.oauth_client_info)??null))},Le=async()=>{if(t(H)===""){B.error(e().t("Please enter a valid URL"));return}if(["openapi",""].includes(t(E))){if(t(ee)==="json"&&t(G)===""){B.error(e().t("Please enter a valid JSON spec"));return}if(t(ee)==="url"&&t(I)===""){B.error(e().t("Please enter a valid path"));return}}if(t(j))try{let P=JSON.parse(t(j));if(typeof P!="object"||Array.isArray(P))throw P=null,new Error("Headers must be a valid JSON object");o(j,JSON.stringify(P,null,2))}catch{B.error(e().t("Headers must be a valid JSON object"));return}if(ge()){const P=await Wa(t(X)==="bearer"?t(ie):localStorage.token,t(I).includes("://")?t(I):`${t(H)}${t(I).startsWith("/")?"":"/"}${t(I)}`).catch(re=>{B.error(e().t("Connection failed"))});P&&B.success(e().t("Connection successful"))}else{const P=await Ua(localStorage.token,{url:t(H),path:t(I),type:t(E),auth_type:t(X),headers:t(j)?JSON.parse(t(j)):void 0,key:t(ie),config:{enable:t(de),access_control:t(ke)},info:{id:t(K),name:t(se),description:t(oe)}}).catch(re=>{B.error(e().t("Connection failed"))});P&&B.success(e().t("Connection successful"))}},te=async P=>{const re=P.target.files[0];if(!re)return;const Ce=new FileReader;Ce.onload=Me=>{const he=Me.target.result;try{let J=JSON.parse(he);if(Array.isArray(J)){if(J.length===0){B.error(e().t("Please select a valid JSON file"));return}J=J[0]}J.type&&o(E,J.type),J.url&&o(H,J.url),J.spec_type&&o(ee,J.spec_type),J.spec&&o(G,J.spec),J.path&&o(I,J.path),J.auth_type&&o(X,J.auth_type),J.headers&&o(j,JSON.stringify(J.headers,null,2)),J.key&&o(ie,J.key),J.info&&(o(K,J.info.id??""),o(se,J.info.name??""),o(oe,J.info.description??"")),J.config&&(o(de,J.config.enable??!0),o(ke,J.config.access_control??{})),B.success(e().t("Import successful"))}catch{B.error(e().t("Please select a valid JSON file"))}},Ce.readAsText(re)},we=async()=>{const P=JSON.stringify([{type:t(E),url:t(H),spec_type:t(ee),spec:t(G),path:t(I),auth_type:t(X),headers:t(j)?JSON.parse(t(j)):void 0,key:t(ie),info:{id:t(K),name:t(se),description:t(oe)}}]),re=new Blob([P],{type:"application/json"});$t(re,`tool-server-${t(K)||t(se)||"export"}.json`)},Ie=async()=>{if(o(_e,!0),o(H,t(H).replace(/\/$/,"")),t(K).includes(":")||t(K).includes("|")){B.error(e().t('ID cannot contain ":" or "|" characters')),o(_e,!1);return}if(t(E)==="mcp"&&t(X)==="oauth_2.1"&&!t(V)){B.error(e().t("Please register the OAuth client")),o(_e,!1);return}if(t(ee)==="json")try{const re=JSON.parse(t(G));o(G,JSON.stringify(re,null,2))}catch{B.error(e().t("Please enter a valid JSON spec")),o(_e,!1);return}if(t(j))try{const re=JSON.parse(t(j));if(typeof re!="object"||Array.isArray(re))throw new Error("Headers must be a valid JSON object");o(j,JSON.stringify(re,null,2))}catch{B.error(e().t("Headers must be a valid JSON object")),o(_e,!1);return}const P={type:t(E),url:t(H),spec_type:t(ee),spec:t(G),path:t(I),auth_type:t(X),headers:t(j)?JSON.parse(t(j)):void 0,key:t(ie),config:{enable:t(de),function_name_filter_list:t(ne),access_control:t(ke)},info:{id:t(K),name:t(se),description:t(oe),...t(V)?{oauth_client_info:t(V)}:{}}};await fe()(P),o(_e,!1),$e(!1),o(E,"openapi"),o(H,""),o(ee,"url"),o(G,""),o(I,"openapi.json"),o(ie,""),o(X,"bearer"),o(K,""),o(se,""),o(oe,""),o(V,null),o(de,!0),o(ne,""),o(ke,null)},Ve=()=>{var P,re,Ce,Me,he,J,at,rt,Be,Re,Ee,ct,qe,Ge;D()&&(o(E,((P=D())==null?void 0:P.type)??"openapi"),o(H,D().url),o(ee,((re=D())==null?void 0:re.spec_type)??"url"),o(G,((Ce=D())==null?void 0:Ce.spec)??""),o(I,((Me=D())==null?void 0:Me.path)??"openapi.json"),o(X,((he=D())==null?void 0:he.auth_type)??"bearer"),o(j,(J=D())!=null&&J.headers?JSON.stringify(D().headers,null,2):""),o(ie,((at=D())==null?void 0:at.key)??""),o(K,((rt=D().info)==null?void 0:rt.id)??""),o(se,((Be=D().info)==null?void 0:Be.name)??""),o(oe,((Re=D().info)==null?void 0:Re.description)??""),o(V,((Ee=D().info)==null?void 0:Ee.oauth_client_info)??null),o(de,((ct=D().config)==null?void 0:ct.enable)??!0),o(ne,((qe=D().config)==null?void 0:qe.function_name_filter_list)??""),o(ke,((Ge=D().config)==null?void 0:Ge.access_control)??null))};ma(()=>{Ve()}),va(()=>Ze($e()),()=>{$e()&&Ve()}),ba(),ha(),wa(Pe,{size:"sm",get show(){return $e()},set show(P){$e(P)},children:(P,re)=>{var Ce=Lr(),Me=r(Ce),he=r(Me),J=r(he);{var at=u=>{var y=We();p(C=>v(y,C),[()=>(e(),l(()=>e().t("Edit Connection")))]),c(u,y)},rt=u=>{var y=We();p(C=>v(y,C),[()=>(e(),l(()=>e().t("Add Connection")))]),c(u,y)};$(J,u=>{be()?u(at):u(rt,!1)})}a(he);var Be=n(he,2),Re=r(Be),Ee=r(Re),ct=r(Ee,!0);a(Ee);var qe=n(Ee,2),Ge=r(qe,!0);a(qe),a(Re);var Fe=n(Re,2),Qt=r(Fe);Ma(Qt,{className:"size-5"}),a(Fe),a(Be),a(Me);var Mt=n(Me,2),lt=r(Mt),ut=r(lt);qa(ut,u=>o(F,u),()=>t(F));var ft=n(ut,2),ot=r(ft),Et=r(ot);{var Yt=u=>{var y=_r(),C=r(y),W=r(C),ae=r(W,!0);a(W);var Q=n(W,2),z=r(Q),L=r(z);{var U=i=>{var d=We();p(x=>v(d,x),[()=>(e(),l(()=>e().t("OpenAPI")))]),c(i,d)},Z=i=>{var d=He(),x=me(d);{var h=M=>{var g=gr(),_=me(g),S=n(_),O=r(S,!0);a(S),p((N,f)=>{v(_,`${N??""} `),v(O,f)},[()=>(e(),l(()=>e().t("MCP"))),()=>(e(),l(()=>e().t("Streamable HTTP")))]),c(M,g)};$(x,M=>{t(E)==="mcp"&&M(h)},!0)}c(i,d)};$(L,i=>{t(E),l(()=>["","openapi"].includes(t(E)))?i(U):i(Z,!1)})}a(z),a(Q),a(C),a(y),p(i=>v(ae,i),[()=>(e(),l(()=>e().t("Type")))]),pe("click",z,()=>{o(E,["","openapi"].includes(t(E))?"mcp":"openapi")}),c(u,y)};$(Et,u=>{ge()||u(Yt)})}var it=n(Et,2),Ot=r(it),Qe=r(Ot),Nt=r(Qe),qt=r(Nt,!0);a(Nt),a(Qe);var xt=n(Qe,2),Te=r(xt);Ue(Te);var Ye=n(Te,2);{let u=Se(()=>(e(),l(()=>e().t("Verify Connection"))));ze(Ye,{get content(){return t(u)},className:"shrink-0 flex items-center mr-1",children:(y,C)=>{var W=hr();p(ae=>ce(W,"aria-label",ae),[()=>(e(),l(()=>e().t("Verify Connection")))]),pe("click",W,()=>{Le()}),c(y,W)},$$slots:{default:!0}})}var ea=n(Ye,2);{let u=Se(()=>(t(de),e(),l(()=>t(de)?e().t("Enabled"):e().t("Disabled"))));ze(ea,{get content(){return t(u)},children:(y,C)=>{Ca(y,{get state(){return t(de)},set state(W){o(de,W)},$$legacy:!0})},$$slots:{default:!0}})}a(xt),a(Ot),a(it);var et=n(it,2);{var ta=u=>{var y=kr(),C=r(y),W=r(C),ae=r(W),Q=r(ae),z=r(Q,!0);a(Q),a(ae),a(W);var L=n(W,2),U=r(L),Z=r(U);p(()=>{t(ee),ca(()=>{s(),e()})});var i=r(Z),d=r(i,!0);a(i),i.value=i.__value="url";var x=n(i),h=r(x,!0);a(x),x.value=x.__value="json",a(Z),a(U);var M=n(U,2),g=r(M);{var _=f=>{var m=yr(),A=r(m),R=r(A,!0);a(A);var w=n(A,2);Ue(w),a(m),p((ve,xe)=>{v(R,ve),b(w,1,(s(),l(()=>{var Ne;return`w-full text-sm bg-transparent ${((Ne=s())==null?void 0:Ne.highContrastMode)??!1?"placeholder:text-gray-700 dark:placeholder:text-gray-100":"outline-hidden placeholder:text-gray-300 dark:placeholder:text-gray-700"}`}))),ce(w,"placeholder",xe)},[()=>(e(),l(()=>e().t("openapi.json URL or Path"))),()=>(e(),l(()=>e().t("openapi.json URL or Path")))]),Je(w,()=>t(I),ve=>o(I,ve)),c(f,m)},S=f=>{var m=He(),A=me(m);{var R=w=>{var ve=mr(),xe=r(ve),Ne=r(xe,!0);a(xe);var Oe=n(xe,2);Da(Oe),a(ve),p((Ae,Ke)=>{b(ve,1,(s(),l(()=>{var je;return`text-xs w-full self-center translate-y-[1px] ${((je=s())==null?void 0:je.highContrastMode)??!1?"text-gray-800 dark:text-gray-100":"text-gray-500"}`}))),v(Ne,Ae),b(Oe,1,(s(),l(()=>{var je;return`w-full text-sm bg-transparent ${((je=s())==null?void 0:je.highContrastMode)??!1?"placeholder:text-gray-700 dark:placeholder:text-gray-100":"outline-hidden placeholder:text-gray-300 dark:placeholder:text-gray-700 text-black dark:text-white"}`}))),ce(Oe,"placeholder",Ke)},[()=>(e(),l(()=>e().t("JSON Spec"))),()=>(e(),l(()=>e().t("JSON Spec")))]),Je(Oe,()=>t(G),Ae=>o(G,Ae)),c(w,ve)};$(A,w=>{t(ee)==="json"&&w(R)},!0)}c(f,m)};$(g,f=>{t(ee)==="url"?f(_):f(S,!1)})}a(M),a(L);var O=n(L,2);{var N=f=>{var m=br(),A=r(m,!0);a(m),p(R=>{b(m,1,(s(),l(()=>{var w;return`text-xs mt-1 ${((w=s())==null?void 0:w.highContrastMode)??!1?"text-gray-800 dark:text-gray-100":"text-gray-500"}`}))),v(A,R)},[()=>(e(),t(I),t(H),l(()=>e().t('WebUI will make requests to "{{url}}"',{url:t(I).includes("://")?t(I):`${t(H)}${t(I).startsWith("/")?"":"/"}${t(I)}`})))]),c(f,m)};$(O,f=>{t(ee),l(()=>["","url"].includes(t(ee)))&&f(N)})}a(C),a(y),p((f,m,A)=>{b(Q,1,(s(),l(()=>{var R;return`text-xs ${((R=s())==null?void 0:R.highContrastMode)??!1?"text-gray-800 dark:text-gray-100":"text-gray-500"}`}))),v(z,f),b(Z,1,(s(),l(()=>{var R;return`dark:bg-gray-900 w-full text-sm bg-transparent pr-5 ${((R=s())==null?void 0:R.highContrastMode)??!1?"placeholder:text-gray-700 dark:placeholder:text-gray-100":"outline-hidden placeholder:text-gray-300 dark:placeholder:text-gray-700"}`}))),v(d,m),v(h,A)},[()=>(e(),l(()=>e().t("OpenAPI Spec"))),()=>(e(),l(()=>e().t("URL"))),()=>(e(),l(()=>e().t("JSON")))]),ua(Z,()=>t(ee),f=>o(ee,f)),c(u,y)};$(et,u=>{t(E),l(()=>["","openapi"].includes(t(E)))&&u(ta)})}var At=n(et,2),Tt=r(At),pt=r(Tt),jt=r(pt),Pt=r(jt),aa=r(Pt,!0);a(Pt),a(jt);var Wt=n(jt,2);{var ra=u=>{var y=Sr(),C=r(y),W=r(C);{let L=Se(()=>(t(V),e(),l(()=>t(V)?e().t("Register Again"):e().t("Register Client"))));ze(W,{get content(){return t(L)},children:(U,Z)=>{var i=wr(),d=r(i,!0);a(i),p(x=>v(d,x),[()=>(e(),l(()=>e().t("Register Client")))]),pe("click",i,()=>{St()}),c(U,i)},$$slots:{default:!0}})}a(C);var ae=n(C,2);{var Q=L=>{var U=$r(),Z=r(U,!0);a(U),p(i=>v(Z,i),[()=>(e(),l(()=>e().t("Not Registered")))]),c(L,U)},z=L=>{var U=Cr(),Z=r(U,!0);a(U),p(i=>v(Z,i),[()=>(e(),l(()=>e().t("Registered")))]),c(L,U)};$(ae,L=>{t(V)?L(z,!1):L(Q)})}a(y),c(u,y)};$(Wt,u=>{t(X)==="oauth_2.1"&&u(ra)})}a(pt);var gt=n(pt,2),_t=r(gt),Xe=r(_t);p(()=>{t(X),ca(()=>{s(),e(),ge(),t(E)})});var st=r(Xe),Ut=r(st,!0);a(st),st.value=st.__value="none";var nt=n(st),Vt=r(nt,!0);a(nt),nt.value=nt.__value="bearer";var dt=n(nt),Bt=r(dt,!0);a(dt),dt.value=dt.__value="session";var la=n(dt);{var Dt=u=>{var y=Or(),C=me(y),W=r(C,!0);a(C),C.value=C.__value="system_oauth";var ae=n(C,2);{var Q=z=>{var L=Mr(),U=r(L,!0);a(L),L.value=L.__value="oauth_2.1",p(Z=>v(U,Z),[()=>(e(),l(()=>e().t("OAuth 2.1")))]),c(z,L)};$(ae,z=>{t(E)==="mcp"&&z(Q)})}p(z=>v(W,z),[()=>(e(),l(()=>e().t("OAuth")))]),c(u,y)};$(la,u=>{ge()||u(Dt)})}a(Xe),a(_t);var ht=n(_t,2),It=r(ht);{var oa=u=>{{let y=Se(()=>(e(),l(()=>e().t("API Key"))));$a(u,{get placeholder(){return t(y)},required:!1,get value(){return t(ie)},set value(C){o(ie,C)},$$legacy:!0})}},ia=u=>{var y=He(),C=me(y);{var W=Q=>{var z=Nr(),L=r(z,!0);a(z),p(U=>{b(z,1,(s(),l(()=>{var Z;return`text-xs self-center translate-y-[1px] ${((Z=s())==null?void 0:Z.highContrastMode)??!1?"text-gray-800 dark:text-gray-100":"text-gray-500"}`}))),v(L,U)},[()=>(e(),l(()=>e().t("No authentication")))]),c(Q,z)},ae=Q=>{var z=He(),L=me(z);{var U=i=>{var d=Ar(),x=r(d,!0);a(d),p(h=>{b(d,1,(s(),l(()=>{var M;return`text-xs self-center translate-y-[1px] ${((M=s())==null?void 0:M.highContrastMode)??!1?"text-gray-800 dark:text-gray-100":"text-gray-500"}`}))),v(x,h)},[()=>(e(),l(()=>e().t("Forwards system user session credentials to authenticate")))]),c(i,d)},Z=i=>{var d=He(),x=me(d);{var h=g=>{var _=jr(),S=r(_,!0);a(_),p(O=>{b(_,1,(s(),l(()=>{var N;return`text-xs self-center translate-y-[1px] ${((N=s())==null?void 0:N.highContrastMode)??!1?"text-gray-800 dark:text-gray-100":"text-gray-500"}`}))),v(S,O)},[()=>(e(),l(()=>e().t("Forwards system user OAuth access token to authenticate")))]),c(g,_)},M=g=>{var _=He(),S=me(_);{var O=N=>{var f=Pr(),m=r(f,!0);a(f),p(A=>{b(f,1,(s(),l(()=>{var R;return`flex items-center text-xs self-center translate-y-[1px] ${((R=s())==null?void 0:R.highContrastMode)??!1?"text-gray-800 dark:text-gray-100":"text-gray-500"}`}))),v(m,A)},[()=>(e(),l(()=>e().t("Uses OAuth 2.1 Dynamic Client Registration")))]),c(N,f)};$(S,N=>{t(X)==="oauth_2.1"&&N(O)},!0)}c(g,_)};$(x,g=>{t(X)==="system_oauth"?g(h):g(M,!1)},!0)}c(i,d)};$(L,i=>{t(X)==="session"?i(U):i(Z,!1)},!0)}c(Q,z)};$(C,Q=>{t(X)==="none"?Q(W):Q(ae,!1)},!0)}c(u,y)};$(It,u=>{t(X)==="bearer"?u(oa):u(ia,!1)})}a(ht),a(gt),a(Tt),a(At);var sa=n(At,2);{var na=u=>{var y=Ir(),C=me(y),W=r(C),ae=r(W),Q=r(ae,!0);a(ae);var z=n(ae,2),L=r(z);{let ye=Se(()=>(e(),l(()=>e().t('Enter additional headers in JSON format (e.g. {"X-Custom-Header": "value"}'))));ze(L,{get content(){return t(ye)},children:(vt,Gt)=>{{let Lt=Se(()=>(e(),l(()=>e().t("Enter additional headers in JSON format"))));Oa(vt,{className:"w-full text-sm outline-hidden",get placeholder(){return t(Lt)},required:!1,minSize:30,get value(){return t(j)},set value(da){o(j,da)},$$legacy:!0})}},$$slots:{default:!0}})}a(z),a(W),a(C);var U=n(C,4),Z=r(U),i=r(Z),d=r(i),x=n(d);{var h=ye=>{var vt=Dr(),Gt=r(vt,!0);a(vt),p(Lt=>v(Gt,Lt),[()=>(e(),l(()=>e().t("Optional")))]),c(ye,vt)};$(x,ye=>{t(E)!=="mcp"&&ye(h)})}a(i);var M=n(i,2),g=r(M);Ue(g),a(M),a(Z),a(U);var _=n(U,2),S=r(_),O=r(S),N=r(O,!0);a(O);var f=n(O,2),m=r(f);Ue(m),a(f),a(S),a(_);var A=n(_,2),R=r(A),w=r(R,!0);a(R);var ve=n(R,2),xe=r(ve);Ue(xe),a(ve),a(A);var Ne=n(A,2),Oe=r(Ne),Ae=r(Oe,!0);a(Oe);var Ke=n(Oe,2),je=r(Ke);Ue(je),a(Ke),a(Ne);var Kt=n(Ne,4),Zt=r(Kt);Ba(Zt,{get accessControl(){return t(ke)},set accessControl(ye){o(ke,ye)},$$legacy:!0}),a(Kt),p((ye,vt,Gt,Lt,da,Na,Aa,ja,Pa)=>{b(ae,1,(s(),l(()=>{var Y;return`mb-0.5 text-xs text-gray-500
								${((Y=s())==null?void 0:Y.highContrastMode)??!1?"text-gray-800 dark:text-gray-100":""}`}))),v(Q,ye),b(i,1,(s(),l(()=>{var Y;return`mb-0.5 text-xs ${((Y=s())==null?void 0:Y.highContrastMode)??!1?"text-gray-800 dark:text-gray-100":"text-gray-500"}`}))),v(d,`${vt??""} `),b(g,1,(s(),l(()=>{var Y;return`w-full text-sm bg-transparent ${((Y=s())==null?void 0:Y.highContrastMode)??!1?"placeholder:text-gray-700 dark:placeholder:text-gray-100":"outline-hidden placeholder:text-gray-300 dark:placeholder:text-gray-700"}`}))),ce(g,"placeholder",Gt),g.required=t(E)==="mcp",b(O,1,(s(),l(()=>{var Y;return`mb-0.5 text-xs ${((Y=s())==null?void 0:Y.highContrastMode)??!1?"text-gray-800 dark:text-gray-100":"text-gray-500"}`}))),v(N,Lt),b(m,1,(s(),l(()=>{var Y;return`w-full text-sm bg-transparent ${((Y=s())==null?void 0:Y.highContrastMode)??!1?"placeholder:text-gray-700 dark:placeholder:text-gray-100":"outline-hidden placeholder:text-gray-300 dark:placeholder:text-gray-700"}`}))),ce(m,"placeholder",da),b(R,1,(s(),l(()=>{var Y;return`mb-1 text-xs ${((Y=s())==null?void 0:Y.highContrastMode)??!1?"text-gray-800 dark:text-gray-100 placeholder:text-gray-700 dark:placeholder:text-gray-100":"outline-hidden placeholder:text-gray-300 dark:placeholder:text-gray-700 text-gray-500"}`}))),v(w,Na),b(xe,1,(s(),l(()=>{var Y;return`w-full text-sm bg-transparent ${((Y=s())==null?void 0:Y.highContrastMode)??!1?"placeholder:text-gray-700 dark:placeholder:text-gray-100":"outline-hidden placeholder:text-gray-300 dark:placeholder:text-gray-700"}`}))),ce(xe,"placeholder",Aa),b(Oe,1,(s(),l(()=>{var Y;return`mb-1 text-xs ${((Y=s())==null?void 0:Y.highContrastMode)??!1?"text-gray-800 dark:text-gray-100 placeholder:text-gray-700 dark:placeholder:text-gray-100":"outline-hidden placeholder:text-gray-300 dark:placeholder:text-gray-700 text-gray-500"}`}))),v(Ae,ja),b(je,1,(s(),l(()=>{var Y;return`w-full text-sm bg-transparent ${((Y=s())==null?void 0:Y.highContrastMode)??!1?"placeholder:text-gray-700 dark:placeholder:text-gray-100":"outline-hidden placeholder:text-gray-300 dark:placeholder:text-gray-700"}`}))),ce(je,"placeholder",Pa)},[()=>(e(),l(()=>e().t("Headers"))),()=>(e(),l(()=>e().t("ID"))),()=>(e(),l(()=>e().t("Enter ID"))),()=>(e(),l(()=>e().t("Name"))),()=>(e(),l(()=>e().t("Enter name"))),()=>(e(),l(()=>e().t("Description"))),()=>(e(),l(()=>e().t("Enter description"))),()=>(e(),l(()=>e().t("Function Name Filter List"))),()=>(e(),l(()=>e().t("Enter function name filter list (e.g. func1, !func2)")))]),Je(g,()=>t(K),ye=>o(K,ye)),Je(m,()=>t(se),ye=>o(se,ye)),Je(xe,()=>t(oe),ye=>o(oe,ye)),Je(je,()=>t(ne),ye=>o(ne,ye)),c(u,y)};$(sa,u=>{ge()||u(na)})}a(ot);var Jt=n(ot,2);{var Ht=u=>{var y=Jr(),C=r(y),W=r(C);a(C);var ae=n(C),Q=n(ae),z=r(Q,!0);a(Q),a(y),p((L,U,Z)=>{v(W,`${L??""}:`),v(ae,` ${U??""} `),v(z,Z)},[()=>(e(),l(()=>e().t("Warning"))),()=>(e(),l(()=>e().t("MCP support is experimental and its specification changes often, which can lead to incompatibilities. OpenAPI specification support is directly maintained by the Open WebUI team, making it the more reliable option for compatibility."))),()=>(e(),l(()=>e().t("Read more â†’")))]),c(u,y)};$(Jt,u=>{t(E)==="mcp"&&u(Ht)})}var Ft=n(Jt,2),tt=n(r(Ft),2),zt=r(tt);{var yt=u=>{var y=Hr(),C=r(y,!0);a(y),p(W=>v(C,W),[()=>(e(),l(()=>e().t("Delete")))]),pe("click",y,()=>{De()(),$e(!1)}),c(u,y)};$(zt,u=>{be()&&u(yt)})}var mt=n(zt,2),bt=r(mt),Xt=n(bt);{var kt=u=>{var y=zr(),C=r(y);Sa(C,{}),a(y),c(u,y)};$(Xt,u=>{t(_e)&&u(kt)})}a(mt),a(tt),a(Ft),a(ft),a(lt),a(Mt),a(Ce),p((u,y,C,W,ae,Q,z,L,U,Z)=>{v(ct,u),v(Ge,y),ce(Fe,"aria-label",C),b(Nt,1,(s(),l(()=>{var i;return`text-xs ${((i=s())==null?void 0:i.highContrastMode)??!1?"text-gray-800 dark:text-gray-100":"text-gray-500"}`}))),v(qt,W),b(Te,1,(s(),l(()=>{var i;return`w-full flex-1 text-sm bg-transparent ${((i=s())==null?void 0:i.highContrastMode)??!1?"placeholder:text-gray-700 dark:placeholder:text-gray-100":"outline-hidden placeholder:text-gray-300 dark:placeholder:text-gray-700"}`}))),ce(Te,"placeholder",ae),b(Pt,1,(s(),l(()=>{var i;return`text-xs ${((i=s())==null?void 0:i.highContrastMode)??!1?"text-gray-800 dark:text-gray-100":"text-gray-500"}`}))),v(aa,Q),b(Xe,1,(s(),l(()=>{var i;return`dark:bg-gray-900 w-full text-sm bg-transparent pr-5 ${((i=s())==null?void 0:i.highContrastMode)??!1?"placeholder:text-gray-700 dark:placeholder:text-gray-100":"outline-hidden placeholder:text-gray-300 dark:placeholder:text-gray-700"}`}))),v(Ut,z),v(Vt,L),v(Bt,U),b(mt,1,`px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center ${t(_e)?" cursor-not-allowed":""}`),mt.disabled=t(_e),v(bt,`${Z??""} `)},[()=>(e(),l(()=>e().t("Import"))),()=>(e(),l(()=>e().t("Export"))),()=>(e(),l(()=>e().t("Close Configure Connection Modal"))),()=>(e(),l(()=>e().t("URL"))),()=>(e(),l(()=>e().t("API Base URL"))),()=>(e(),l(()=>e().t("Auth"))),()=>(e(),l(()=>e().t("None"))),()=>(e(),l(()=>e().t("Bearer"))),()=>(e(),l(()=>e().t("Session"))),()=>(e(),l(()=>e().t("Save")))]),pe("click",Ee,()=>{var u;(u=t(F))==null||u.click()}),pe("click",qe,we),pe("click",Fe,()=>{$e(!1)}),pe("change",ut,u=>{te(u)}),Je(Te,()=>t(H),u=>o(H,u)),ua(Xe,()=>t(X),u=>o(X,u)),pe("submit",ft,u=>{u.preventDefault(),Ie()}),c(P,Ce)},$$slots:{default:!0},$$legacy:!0}),ga(),wt()}var Er=fa('<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M10.0503 10.6066L2.97923 17.6777C2.19818 18.4587 2.19818 19.725 2.97923 20.5061V20.5061C3.76027 21.2871 5.0266 21.2871 5.80765 20.5061L12.8787 13.435" stroke-linecap="round" stroke-linejoin="round"></path><path d="M10.0502 10.6066C9.20638 8.45358 9.37134 5.6286 11.1109 3.88909C12.8504 2.14957 16.0606 1.76777 17.8284 2.82843L14.7877 5.8691L14.5051 8.98014L17.6161 8.69753L20.6568 5.65685C21.7175 7.42462 21.3357 10.6349 19.5961 12.3744C17.8566 14.1139 15.0316 14.2789 12.8786 13.435" stroke-linecap="round" stroke-linejoin="round"></path></svg>');function qr(Pe,T){let e=le(T,"className",8,"w-4 h-4"),s=le(T,"strokeWidth",8,"1.5");var ue=Er();p(()=>{b(ue,0,_a(e())),ce(ue,"stroke-width",s())}),c(Pe,ue)}var Tr=k('<div class=" capitalize outline-hidden w-full bg-transparent"> <span class="text-gray-500"> </span></div>'),Wr=k("<div> </div>"),Ur=k('<div class="flex w-full"><div><!> <!></div></div>'),Vr=k('<button class="self-center p-1 bg-transparent hover:bg-gray-100 dark:bg-gray-900 dark:hover:bg-gray-850 rounded-lg transition" type="button"><!></button>'),Br=k('<!> <!> <div class="flex w-full gap-2 items-center"><!> <div class="flex gap-1"><!></div></div>',1);function wl(Pe,T){xa(T,!1);const e=()=>Rt(wt,"$i18n",s),[s,ue]=ya(),wt=pa("i18n");let $t=le(T,"onDelete",8,()=>{}),Ct=le(T,"onSubmit",8,()=>{}),fe=le(T,"connection",12,null),De=le(T,"direct",8,!1),$e=q(!1),be=q(!1);ha();var ge=Br(),D=me(ge);Rr(D,{edit:!0,get direct(){return De()},get connection(){return fe()},onDelete:()=>{o(be,!0)},onSubmit:I=>{fe(I),Ct()(I)},get show(){return t($e)},set show(I){o($e,I)},$$legacy:!0});var F=n(D,2);Ea(F,{get show(){return t(be)},set show(I){o(be,I)},$$events:{confirm:()=>{$t()(),o($e,!1)}},$$legacy:!0});var E=n(F,2),H=r(E);ze(H,{className:"w-full relative",content:"",placement:"top-start",children:(I,X)=>{var ie=Ur(),j=r(ie),ne=r(j);{let oe=Se(()=>(Ze(fe()),e(),l(()=>{var V;return((V=fe())==null?void 0:V.type)==="mcp"?e().t("MCP"):e().t("OpenAPI")})));ze(ne,{get content(){return t(oe)},children:(V,de)=>{qr(V,{})},$$slots:{default:!0}})}var ke=n(ne,2);{var K=oe=>{var V=Tr(),de=r(V),_e=n(de),St=r(_e,!0);a(_e),a(V),p(()=>{v(de,`${Ze(fe()),l(()=>{var Le,te,we;return((te=(Le=fe())==null?void 0:Le.info)==null?void 0:te.name)??((we=fe())==null?void 0:we.url)})??""} `),v(St,(Ze(fe()),l(()=>{var Le,te;return((te=(Le=fe())==null?void 0:Le.info)==null?void 0:te.id)??""})))}),c(oe,V)},se=oe=>{var V=Wr(),de=r(V,!0);a(V),p(()=>v(de,(Ze(fe()),l(()=>{var _e;return(_e=fe())==null?void 0:_e.url})))),c(oe,V)};$(ke,oe=>{Ze(fe()),l(()=>{var V,de;return(de=(V=fe())==null?void 0:V.info)==null?void 0:de.name})?oe(K):oe(se,!1)})}a(j),a(ie),p(()=>b(j,1,`flex-1 relative flex gap-1.5 items-center ${Ze(fe()),l(()=>{var oe,V;return((V=(oe=fe())==null?void 0:oe.config)==null?void 0:V.enable)??!0?"":"opacity-50"})??""}`)),c(I,ie)},$$slots:{default:!0}});var ee=n(H,2),G=r(ee);{let I=Se(()=>(e(),l(()=>e().t("Configure"))));ze(G,{get content(){return t(I)},className:"self-start",children:(X,ie)=>{var j=Vr(),ne=r(j);Xa(ne,{}),a(j),pe("click",j,()=>{o($e,!0)}),c(X,j)},$$slots:{default:!0}})}a(ee),a(E),c(Pe,ge),ga(),ue()}export{kl as A,Xa as C,Za as M,qr as W,Rr as a,wl as b};
//# sourceMappingURL=G8umJYZj.js.map
