{"version":3,"file":"fZxlt1qL.js","sources":["../../../../../../node_modules/svelte/src/internal/client/dom/blocks/key.js"],"sourcesContent":["/** @import { TemplateNode } from '#client' */\nimport { is_runes } from '../../context.js';\nimport { block } from '../../reactivity/effects.js';\nimport { hydrate_next, hydrating } from '../hydration.js';\nimport { BranchManager } from './branches.js';\n\n/**\n * @template V\n * @param {TemplateNode} node\n * @param {() => V} get_key\n * @param {(anchor: Node) => TemplateNode | void} render_fn\n * @returns {void}\n */\nexport function key(node, get_key, render_fn) {\n\tif (hydrating) {\n\t\thydrate_next();\n\t}\n\n\tvar branches = new BranchManager(node);\n\n\tvar legacy = !is_runes();\n\n\tblock(() => {\n\t\tvar key = get_key();\n\n\t\t// key blocks in Svelte <5 had stupid semantics\n\t\tif (legacy && key !== null && typeof key === 'object') {\n\t\t\tkey = /** @type {V} */ ({});\n\t\t}\n\n\t\tbranches.ensure(key, render_fn);\n\t});\n}\n"],"names":["key","node","get_key","render_fn","hydrating","hydrate_next","branches","BranchManager","legacy","is_runes","block"],"mappings":"0FAaO,SAASA,EAAIC,EAAMC,EAASC,EAAW,CACzCC,GACHC,EAAY,EAGb,IAAIC,EAAW,IAAIC,EAAcN,CAAI,EAEjCO,EAAS,CAACC,EAAQ,EAEtBC,EAAM,IAAM,CACX,IAAIV,EAAME,EAAO,EAGbM,GAAUR,IAAQ,MAAQ,OAAOA,GAAQ,WAC5CA,EAAwB,CAAA,GAGzBM,EAAS,OAAON,EAAKG,CAAS,CAC/B,CAAC,CACF","x_google_ignoreList":[0]}