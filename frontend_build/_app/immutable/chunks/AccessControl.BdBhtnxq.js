import{s as xe,e as m,t as F,k as U,c as b,a as g,b as Q,d,o as H,I as ge,f as o,C as te,i as z,g as c,P as le,u as se,h as J,p as Ce,j as Oe,q as Ne,Q as Se,R as Ve,S as Te,E as re,F as ne,n as me,l as be,H as je}from"./scheduler.Dg_Xn4WQ.js";import{S as Be,i as Re,t as G,g as de,a as L,c as fe,b as ae,d as ie,m as oe,e as ce}from"./index.gNonUo3Z.js";import{e as ue}from"./each.dwVHsGX8.js";import{g as Ae}from"./index.DDr3Vn07.js";import"./marked.esm._0_gBwjO.js";import{U as Pe}from"./UserCircleSolid.D2pzmK0r.js";import{X as Me}from"./XMark.B1BmN65L.js";import{B as De}from"./Badge.DCgPuNVo.js";function ke(n,e,t){const l=n.slice();return l[14]=e[t],l}function we(n,e,t){const l=n.slice();return l[14]=e[t],l}function he(n){const e=n.slice(),t=e[3].filter(l=>e[0].read.group_ids.includes(l.id));return e[13]=t,e}function Ge(n){let e,t;return{c(){e=re("svg"),t=re("path"),this.h()},l(l){e=ne(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var s=g(e);t=ne(s,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),g(t).forEach(d),s.forEach(d),this.h()},h(){o(t,"stroke-linecap","round"),o(t,"stroke-linejoin","round"),o(t,"d","M6.115 5.19l.319 1.913A6 6 0 008.11 10.36L9.75 12l-.387.775c-.217.433-.132.956.21 1.298l1.348 1.348c.21.21.329.497.329.795v1.089c0 .426.24.815.622 1.006l.153.076c.433.217.956.132 1.298-.21l.723-.723a8.7 8.7 0 002.288-4.042 1.087 1.087 0 00-.358-1.099l-1.33-1.108c-.251-.21-.582-.299-.905-.245l-1.17.195a1.125 1.125 0 01-.98-.314l-.295-.295a1.125 1.125 0 010-1.591l.13-.132a1.125 1.125 0 011.3-.21l.603.302a.809.809 0 001.086-1.086L14.25 7.5l1.256-.837a4.5 4.5 0 001.528-1.732l.146-.292M6.115 5.19A9 9 0 1017.18 4.64M6.115 5.19A8.965 8.965 0 0112 3c1.929 0 3.716.607 5.18 1.64"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke-width","1.5"),o(e,"stroke","currentColor"),o(e,"class","w-5 h-5")},m(l,s){z(l,e,s),c(e,t)},d(l){l&&d(e)}}}function Le(n){let e,t;return{c(){e=re("svg"),t=re("path"),this.h()},l(l){e=ne(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var s=g(e);t=ne(s,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),g(t).forEach(d),s.forEach(d),this.h()},h(){o(t,"stroke-linecap","round"),o(t,"stroke-linejoin","round"),o(t,"d","M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke-width","1.5"),o(e,"stroke","currentColor"),o(e,"class","w-5 h-5")},m(l,s){z(l,e,s),c(e,t)},d(l){l&&d(e)}}}function Ue(n){let e=n[4].t("Accessible to all users")+"",t;return{c(){t=F(e)},l(l){t=Q(l,e)},m(l,s){z(l,t,s)},p(l,s){s&16&&e!==(e=l[4].t("Accessible to all users")+"")&&J(t,e)},d(l){l&&d(t)}}}function He(n){let e=n[4].t("Only select users and groups with permission can access")+"",t;return{c(){t=F(e)},l(l){t=Q(l,e)},m(l,s){z(l,t,s)},p(l,s){s&16&&e!==(e=l[4].t("Only select users and groups with permission can access")+"")&&J(t,e)},d(l){l&&d(t)}}}function Ee(n){let e,t,l,s,f=n[4].t("Groups")+"",a,r,u,I,N,E,k,_,D=n[4].t("Select a group")+"",x,h,S,P,j,M,C,B,R,W,X,A=ue(n[3].filter(n[8])),v=[];for(let i=0;i<A.length;i+=1)v[i]=ye(we(n,A,i));const O=[ze,qe],w=[];function y(i,p){return i[13].length>0?0:1}return C=y(n),B=w[C]=O[C](n),{c(){e=m("div"),t=m("div"),l=m("div"),s=m("div"),a=F(f),r=U(),u=m("div"),I=m("div"),N=m("div"),E=m("div"),k=m("select"),_=m("option"),x=F(D);for(let i=0;i<v.length;i+=1)v[i].c();S=U(),P=m("hr"),j=U(),M=m("div"),B.c(),this.h()},l(i){e=b(i,"DIV",{});var p=g(e);t=b(p,"DIV",{class:!0});var V=g(t);l=b(V,"DIV",{class:!0});var T=g(l);s=b(T,"DIV",{class:!0});var q=g(s);a=Q(q,f),q.forEach(d),T.forEach(d),r=H(V),u=b(V,"DIV",{class:!0});var $=g(u);I=b($,"DIV",{class:!0});var ee=g(I);N=b(ee,"DIV",{class:!0});var K=g(N);E=b(K,"DIV",{class:!0});var Y=g(E);k=b(Y,"SELECT",{class:!0});var Z=g(k);_=b(Z,"OPTION",{class:!0});var ve=g(_);x=Q(ve,D),ve.forEach(d);for(let _e=0;_e<v.length;_e+=1)v[_e].l(Z);Z.forEach(d),Y.forEach(d),K.forEach(d),ee.forEach(d),$.forEach(d),S=H(V),P=b(V,"HR",{class:!0}),j=H(V),M=b(V,"DIV",{class:!0});var pe=g(M);B.l(pe),pe.forEach(d),V.forEach(d),p.forEach(d),this.h()},h(){o(s,"class","text-sm font-semibold"),o(l,"class","flex justify-between mb-1.5"),o(_,"class","text-gray-700"),_.__value="",te(_,_.__value),_.disabled=!0,_.selected=!0,o(k,"class",h="outline-none bg-transparent text-sm rounded-lg block w-full pr-10 max-w-full "+(n[2]?"":"text-gray-500")+" dark:placeholder-gray-500"),n[2]===void 0&&Se(()=>n[9].call(k)),o(E,"class","w-full px-0.5"),o(N,"class","flex flex-1 items-center"),o(I,"class","flex w-full"),o(u,"class","mb-1"),o(P,"class","border-gray-100 dark:border-gray-700/10 mt-1.5 mb-2.5 w-full"),o(M,"class","flex flex-col gap-2 mb-1 px-0.5"),o(t,"class","")},m(i,p){z(i,e,p),c(e,t),c(t,l),c(l,s),c(s,a),c(t,r),c(t,u),c(u,I),c(I,N),c(N,E),c(E,k),c(k,_),c(_,x);for(let V=0;V<v.length;V+=1)v[V]&&v[V].m(k,null);le(k,n[2],!0),c(t,S),c(t,P),c(t,j),c(t,M),w[C].m(M,null),R=!0,W||(X=se(k,"change",n[9]),W=!0)},p(i,p){if((!R||p&16)&&f!==(f=i[4].t("Groups")+"")&&J(a,f),(!R||p&16)&&D!==(D=i[4].t("Select a group")+"")&&J(x,D),p&9){A=ue(i[3].filter(i[8]));let T;for(T=0;T<A.length;T+=1){const q=we(i,A,T);v[T]?v[T].p(q,p):(v[T]=ye(q),v[T].c(),v[T].m(k,null))}for(;T<v.length;T+=1)v[T].d(1);v.length=A.length}(!R||p&13&&h!==(h="outline-none bg-transparent text-sm rounded-lg block w-full pr-10 max-w-full "+(i[2]?"":"text-gray-500")+" dark:placeholder-gray-500"))&&o(k,"class",h),p&13&&le(k,i[2]);let V=C;C=y(i),C===V?w[C].p(i,p):(de(),L(w[V],1,1,()=>{w[V]=null}),fe(),B=w[C],B?B.p(i,p):(B=w[C]=O[C](i),B.c()),G(B,1),B.m(M,null))},i(i){R||(G(B),R=!0)},o(i){L(B),R=!1},d(i){i&&d(e),Ve(v,i),w[C].d(),W=!1,X()}}}function ye(n){let e,t=n[14].name+"",l,s;return{c(){e=m("option"),l=F(t),this.h()},l(f){e=b(f,"OPTION",{class:!0});var a=g(e);l=Q(a,t),a.forEach(d),this.h()},h(){o(e,"class","text-gray-700"),e.__value=s=n[14].id,te(e,e.__value)},m(f,a){z(f,e,a),c(e,l)},p(f,a){a&9&&t!==(t=f[14].name+"")&&J(l,t),a&9&&s!==(s=f[14].id)&&(e.__value=s,te(e,e.__value))},d(f){f&&d(e)}}}function qe(n){let e,t,l=n[4].t("No groups with access, add a group to grant access")+"",s;return{c(){e=m("div"),t=m("div"),s=F(l),this.h()},l(f){e=b(f,"DIV",{class:!0});var a=g(e);t=b(a,"DIV",{class:!0});var r=g(t);s=Q(r,l),r.forEach(d),a.forEach(d),this.h()},h(){o(t,"class","text-gray-500 text-xs text-center py-2 px-10"),o(e,"class","flex items-center justify-center")},m(f,a){z(f,e,a),c(e,t),c(t,s)},p(f,a){a&16&&l!==(l=f[4].t("No groups with access, add a group to grant access")+"")&&J(s,l)},i:me,o:me,d(f){f&&d(e)}}}function ze(n){let e,t,l=ue(n[13]),s=[];for(let a=0;a<l.length;a+=1)s[a]=Ie(ke(n,l,a));const f=a=>L(s[a],1,1,()=>{s[a]=null});return{c(){for(let a=0;a<s.length;a+=1)s[a].c();e=be()},l(a){for(let r=0;r<s.length;r+=1)s[r].l(a);e=be()},m(a,r){for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(a,r);z(a,e,r),t=!0},p(a,r){if(r&27){l=ue(a[13]);let u;for(u=0;u<l.length;u+=1){const I=ke(a,l,u);s[u]?(s[u].p(I,r),G(s[u],1)):(s[u]=Ie(I),s[u].c(),G(s[u],1),s[u].m(e.parentNode,e))}for(de(),u=l.length;u<s.length;u+=1)f(u);fe()}},i(a){if(!t){for(let r=0;r<l.length;r+=1)G(s[r]);t=!0}},o(a){s=s.filter(Boolean);for(let r=0;r<s.length;r+=1)L(s[r]);t=!1},d(a){a&&d(e),Ve(s,a)}}}function We(n){let e,t;return e=new De({props:{type:"info",content:n[4].t("Read")}}),{c(){ae(e.$$.fragment)},l(l){ie(e.$$.fragment,l)},m(l,s){oe(e,l,s),t=!0},p(l,s){const f={};s&16&&(f.content=l[4].t("Read")),e.$set(f)},i(l){t||(G(e.$$.fragment,l),t=!0)},o(l){L(e.$$.fragment,l),t=!1},d(l){ce(e,l)}}}function Xe(n){let e,t;return e=new De({props:{type:"success",content:n[4].t("Write")}}),{c(){ae(e.$$.fragment)},l(l){ie(e.$$.fragment,l)},m(l,s){oe(e,l,s),t=!0},p(l,s){const f={};s&16&&(f.content=l[4].t("Write")),e.$set(f)},i(l){t||(G(e.$$.fragment,l),t=!0)},o(l){L(e.$$.fragment,l),t=!1},d(l){ce(e,l)}}}function Ie(n){let e,t,l,s,f,a,r=n[14].name+"",u,I,N,E,k,_,D,x,h,S,P,j,M,C;s=new Pe({props:{className:"size-4"}});const B=[Xe,We],R=[];function W(v,O){return O&9&&(k=null),k==null&&(k=!!v[0].write.group_ids.includes(v[14].id)),k?0:1}_=W(n,-1),D=R[_]=B[_](n);function X(){return n[10](n[14])}S=new Me({});function A(){return n[11](n[14])}return{c(){e=m("div"),t=m("div"),l=m("div"),ae(s.$$.fragment),f=U(),a=m("div"),u=F(r),I=U(),N=m("div"),E=m("button"),D.c(),x=U(),h=m("button"),ae(S.$$.fragment),P=U(),this.h()},l(v){e=b(v,"DIV",{class:!0});var O=g(e);t=b(O,"DIV",{class:!0});var w=g(t);l=b(w,"DIV",{});var y=g(l);ie(s.$$.fragment,y),y.forEach(d),f=H(w),a=b(w,"DIV",{});var i=g(a);u=Q(i,r),i.forEach(d),w.forEach(d),I=H(O),N=b(O,"DIV",{class:!0});var p=g(N);E=b(p,"BUTTON",{class:!0,type:!0});var V=g(E);D.l(V),V.forEach(d),x=H(p),h=b(p,"BUTTON",{class:!0,type:!0});var T=g(h);ie(S.$$.fragment,T),T.forEach(d),p.forEach(d),P=H(O),O.forEach(d),this.h()},h(){o(t,"class","flex items-center gap-1.5 w-full font-medium"),o(E,"class",""),o(E,"type","button"),o(h,"class","rounded-full p-1 hover:bg-gray-100 dark:hover:bg-gray-850 transition"),o(h,"type","button"),o(N,"class","w-full flex justify-end items-center gap-0.5"),o(e,"class","flex items-center gap-3 justify-between text-xs w-full transition")},m(v,O){z(v,e,O),c(e,t),c(t,l),oe(s,l,null),c(t,f),c(t,a),c(a,u),c(e,I),c(e,N),c(N,E),R[_].m(E,null),c(N,x),c(N,h),oe(S,h,null),c(e,P),j=!0,M||(C=[se(E,"click",X),se(h,"click",A)],M=!0)},p(v,O){n=v,(!j||O&9)&&r!==(r=n[14].name+"")&&J(u,r);let w=_;_=W(n,O),_===w?R[_].p(n,O):(de(),L(R[w],1,1,()=>{R[w]=null}),fe(),D=R[_],D?D.p(n,O):(D=R[_]=B[_](n),D.c()),G(D,1),D.m(E,null))},i(v){j||(G(s.$$.fragment,v),G(D),G(S.$$.fragment,v),j=!0)},o(v){L(s.$$.fragment,v),L(D),L(S.$$.fragment,v),j=!1},d(v){v&&d(e),ce(s),R[_].d(),ce(S),M=!1,je(C)}}}function Fe(n){let e,t,l,s=n[4].t("Visibility")+"",f,a,r,u,I,N,E,k,_,D="Private",x,h="Public",S,P,j,M,C,B,R;function W(i,p){return i[0]!==null?Le:Ge}let X=W(n),A=X(n);function v(i,p){return i[0]!==null?He:Ue}let O=v(n),w=O(n),y=n[0]!==null&&Ee(he(n));return{c(){e=m("div"),t=m("div"),l=m("div"),f=F(s),a=U(),r=m("div"),u=m("div"),I=m("div"),A.c(),N=U(),E=m("div"),k=m("select"),_=m("option"),_.textContent=D,x=m("option"),x.textContent=h,P=U(),j=m("div"),w.c(),M=U(),y&&y.c(),this.h()},l(i){e=b(i,"DIV",{class:!0});var p=g(e);t=b(p,"DIV",{class:!0});var V=g(t);l=b(V,"DIV",{class:!0});var T=g(l);f=Q(T,s),T.forEach(d),a=H(V),r=b(V,"DIV",{class:!0});var q=g(r);u=b(q,"DIV",{});var $=g(u);I=b($,"DIV",{class:!0});var ee=g(I);A.l(ee),ee.forEach(d),$.forEach(d),N=H(q),E=b(q,"DIV",{});var K=g(E);k=b(K,"SELECT",{id:!0,class:!0});var Y=g(k);_=b(Y,"OPTION",{class:!0,"data-svelte-h":!0}),ge(_)!=="svelte-vsb5yp"&&(_.textContent=D),x=b(Y,"OPTION",{class:!0,"data-svelte-h":!0}),ge(x)!=="svelte-152o619"&&(x.textContent=h),Y.forEach(d),P=H(K),j=b(K,"DIV",{class:!0});var Z=g(j);w.l(Z),Z.forEach(d),K.forEach(d),q.forEach(d),V.forEach(d),M=H(p),y&&y.l(p),p.forEach(d),this.h()},h(){o(l,"class","text-sm font-semibold mb-1"),o(I,"class","p-2 bg-black/5 dark:bg-white/5 rounded-full"),o(_,"class","text-gray-700"),_.__value="private",te(_,_.__value),_.selected=!0,o(x,"class","text-gray-700"),x.__value="public",te(x,x.__value),x.selected=!0,o(k,"id","models"),o(k,"class","outline-none bg-transparent text-sm font-medium rounded-lg block w-fit pr-10 max-w-full placeholder-gray-400"),o(j,"class","text-xs text-gray-400 font-medium"),o(r,"class","flex gap-2.5 items-center mb-1"),o(t,"class",""),o(e,"class","rounded-lg flex flex-col gap-2")},m(i,p){z(i,e,p),c(e,t),c(t,l),c(l,f),c(t,a),c(t,r),c(r,u),c(u,I),A.m(I,null),c(r,N),c(r,E),c(E,k),c(k,_),c(k,x),le(k,n[0]!==null?"private":"public"),c(E,P),c(E,j),w.m(j,null),c(e,M),y&&y.m(e,null),C=!0,B||(R=se(k,"change",n[7]),B=!0)},p(i,[p]){(!C||p&16)&&s!==(s=i[4].t("Visibility")+"")&&J(f,s),X!==(X=W(i))&&(A.d(1),A=X(i),A&&(A.c(),A.m(I,null))),(!C||p&1&&S!==(S=i[0]!==null?"private":"public"))&&le(k,i[0]!==null?"private":"public"),O===(O=v(i))&&w?w.p(i,p):(w.d(1),w=O(i),w&&(w.c(),w.m(j,null))),i[0]!==null?y?(y.p(he(i),p),p&1&&G(y,1)):(y=Ee(he(i)),y.c(),G(y,1),y.m(e,null)):y&&(de(),L(y,1,1,()=>{y=null}),fe())},i(i){C||(G(y),C=!0)},o(i){L(y),C=!1},d(i){i&&d(e),A.d(),w.d(),y&&y.d(),B=!1,R()}}}function Qe(n,e,t){let l;const s=Ce("i18n");Oe(n,s,h=>t(4,l=h));let{onChange:f=()=>{}}=e,{accessRoles:a=["read"]}=e,{accessControl:r=null}=e,u="",I=[];Ne(async()=>{var h,S,P,j;t(3,I=await Ae(localStorage.token)),r===null?t(0,r=null):t(0,r={read:{group_ids:((h=r==null?void 0:r.read)==null?void 0:h.group_ids)??[],user_ids:((S=r==null?void 0:r.read)==null?void 0:S.user_ids)??[]},write:{group_ids:((P=r==null?void 0:r.write)==null?void 0:P.group_ids)??[],user_ids:((j=r==null?void 0:r.write)==null?void 0:j.user_ids)??[]}})});const N=()=>{u!==""&&(t(0,r.read.group_ids=[...r.read.group_ids,u],r),t(2,u=""))},E=h=>{h.target.value==="public"?t(0,r=null):t(0,r={read:{group_ids:[]},write:{group_ids:[]}})},k=h=>!r.read.group_ids.includes(h.id);function _(){u=Te(this),t(2,u),t(3,I),t(0,r)}const D=h=>{a.includes("write")&&(r.write.group_ids.includes(h.id)?t(0,r.write.group_ids=r.write.group_ids.filter(S=>S!==h.id),r):t(0,r.write.group_ids=[...r.write.group_ids,h.id],r))},x=h=>{t(0,r.read.group_ids=r.read.group_ids.filter(S=>S!==h.id),r)};return n.$$set=h=>{"onChange"in h&&t(6,f=h.onChange),"accessRoles"in h&&t(1,a=h.accessRoles),"accessControl"in h&&t(0,r=h.accessControl)},n.$$.update=()=>{n.$$.dirty&65&&f(r),n.$$.dirty&4&&u&&N()},[r,a,u,I,l,s,f,E,k,_,D,x]}class st extends Be{constructor(e){super(),Re(this,e,Qe,Fe,xe,{onChange:6,accessRoles:1,accessControl:0})}}export{st as A};
//# sourceMappingURL=AccessControl.BdBhtnxq.js.map
