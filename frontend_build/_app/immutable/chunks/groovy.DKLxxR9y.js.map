{"version":3,"file":"groovy.DKLxxR9y.js","sources":["../../../../../../node_modules/@codemirror/legacy-modes/mode/groovy.js"],"sourcesContent":["function words(str) {\n  var obj = {}, words = str.split(\" \");\n  for (var i = 0; i < words.length; ++i) obj[words[i]] = true;\n  return obj;\n}\nvar keywords = words(\n  \"abstract as assert boolean break byte case catch char class const continue def default \" +\n    \"do double else enum extends final finally float for goto if implements import in \" +\n    \"instanceof int interface long native new package private protected public return \" +\n    \"short static strictfp super switch synchronized threadsafe throw throws trait transient \" +\n    \"try void volatile while\");\nvar blockKeywords = words(\"catch class def do else enum finally for if interface switch trait try while\");\nvar standaloneKeywords = words(\"return break continue\");\nvar atoms = words(\"null true false this\");\n\nvar curPunc;\nfunction tokenBase(stream, state) {\n  var ch = stream.next();\n  if (ch == '\"' || ch == \"'\") {\n    return startString(ch, stream, state);\n  }\n  if (/[\\[\\]{}\\(\\),;\\:\\.]/.test(ch)) {\n    curPunc = ch;\n    return null;\n  }\n  if (/\\d/.test(ch)) {\n    stream.eatWhile(/[\\w\\.]/);\n    if (stream.eat(/eE/)) { stream.eat(/\\+\\-/); stream.eatWhile(/\\d/); }\n    return \"number\";\n  }\n  if (ch == \"/\") {\n    if (stream.eat(\"*\")) {\n      state.tokenize.push(tokenComment);\n      return tokenComment(stream, state);\n    }\n    if (stream.eat(\"/\")) {\n      stream.skipToEnd();\n      return \"comment\";\n    }\n    if (expectExpression(state.lastToken, false)) {\n      return startString(ch, stream, state);\n    }\n  }\n  if (ch == \"-\" && stream.eat(\">\")) {\n    curPunc = \"->\";\n    return null;\n  }\n  if (/[+\\-*&%=<>!?|\\/~]/.test(ch)) {\n    stream.eatWhile(/[+\\-*&%=<>|~]/);\n    return \"operator\";\n  }\n  stream.eatWhile(/[\\w\\$_]/);\n  if (ch == \"@\") { stream.eatWhile(/[\\w\\$_\\.]/); return \"meta\"; }\n  if (state.lastToken == \".\") return \"property\";\n  if (stream.eat(\":\")) { curPunc = \"proplabel\"; return \"property\"; }\n  var cur = stream.current();\n  if (atoms.propertyIsEnumerable(cur)) { return \"atom\"; }\n  if (keywords.propertyIsEnumerable(cur)) {\n    if (blockKeywords.propertyIsEnumerable(cur)) curPunc = \"newstatement\";\n    else if (standaloneKeywords.propertyIsEnumerable(cur)) curPunc = \"standalone\";\n    return \"keyword\";\n  }\n  return \"variable\";\n}\ntokenBase.isBase = true;\n\nfunction startString(quote, stream, state) {\n  var tripleQuoted = false;\n  if (quote != \"/\" && stream.eat(quote)) {\n    if (stream.eat(quote)) tripleQuoted = true;\n    else return \"string\";\n  }\n  function t(stream, state) {\n    var escaped = false, next, end = !tripleQuoted;\n    while ((next = stream.next()) != null) {\n      if (next == quote && !escaped) {\n        if (!tripleQuoted) { break; }\n        if (stream.match(quote + quote)) { end = true; break; }\n      }\n      if (quote == '\"' && next == \"$\" && !escaped) {\n        if (stream.eat(\"{\")) {\n          state.tokenize.push(tokenBaseUntilBrace());\n          return \"string\";\n        } else if (stream.match(/^\\w/, false)) {\n          state.tokenize.push(tokenVariableDeref);\n          return \"string\";\n        }\n      }\n      escaped = !escaped && next == \"\\\\\";\n    }\n    if (end) state.tokenize.pop();\n    return \"string\";\n  }\n  state.tokenize.push(t);\n  return t(stream, state);\n}\n\nfunction tokenBaseUntilBrace() {\n  var depth = 1;\n  function t(stream, state) {\n    if (stream.peek() == \"}\") {\n      depth--;\n      if (depth == 0) {\n        state.tokenize.pop();\n        return state.tokenize[state.tokenize.length-1](stream, state);\n      }\n    } else if (stream.peek() == \"{\") {\n      depth++;\n    }\n    return tokenBase(stream, state);\n  }\n  t.isBase = true;\n  return t;\n}\n\nfunction tokenVariableDeref(stream, state) {\n  var next = stream.match(/^(\\.|[\\w\\$_]+)/)\n  if (!next) {\n    state.tokenize.pop()\n    return state.tokenize[state.tokenize.length-1](stream, state)\n  }\n  return next[0] == \".\" ? null : \"variable\"\n}\n\nfunction tokenComment(stream, state) {\n  var maybeEnd = false, ch;\n  while (ch = stream.next()) {\n    if (ch == \"/\" && maybeEnd) {\n      state.tokenize.pop();\n      break;\n    }\n    maybeEnd = (ch == \"*\");\n  }\n  return \"comment\";\n}\n\nfunction expectExpression(last, newline) {\n  return !last || last == \"operator\" || last == \"->\" || /[\\.\\[\\{\\(,;:]/.test(last) ||\n    last == \"newstatement\" || last == \"keyword\" || last == \"proplabel\" ||\n    (last == \"standalone\" && !newline);\n}\n\nfunction Context(indented, column, type, align, prev) {\n  this.indented = indented;\n  this.column = column;\n  this.type = type;\n  this.align = align;\n  this.prev = prev;\n}\nfunction pushContext(state, col, type) {\n  return state.context = new Context(state.indented, col, type, null, state.context);\n}\nfunction popContext(state) {\n  var t = state.context.type;\n  if (t == \")\" || t == \"]\" || t == \"}\")\n    state.indented = state.context.indented;\n  return state.context = state.context.prev;\n}\n\n// Interface\n\nexport const groovy = {\n  name: \"groovy\",\n  startState: function(indentUnit) {\n    return {\n      tokenize: [tokenBase],\n      context: new Context(-indentUnit, 0, \"top\", false),\n      indented: 0,\n      startOfLine: true,\n      lastToken: null\n    };\n  },\n\n  token: function(stream, state) {\n    var ctx = state.context;\n    if (stream.sol()) {\n      if (ctx.align == null) ctx.align = false;\n      state.indented = stream.indentation();\n      state.startOfLine = true;\n      // Automatic semicolon insertion\n      if (ctx.type == \"statement\" && !expectExpression(state.lastToken, true)) {\n        popContext(state); ctx = state.context;\n      }\n    }\n    if (stream.eatSpace()) return null;\n    curPunc = null;\n    var style = state.tokenize[state.tokenize.length-1](stream, state);\n    if (style == \"comment\") return style;\n    if (ctx.align == null) ctx.align = true;\n\n    if ((curPunc == \";\" || curPunc == \":\") && ctx.type == \"statement\") popContext(state);\n    // Handle indentation for {x -> \\n ... }\n    else if (curPunc == \"->\" && ctx.type == \"statement\" && ctx.prev.type == \"}\") {\n      popContext(state);\n      state.context.align = false;\n    }\n    else if (curPunc == \"{\") pushContext(state, stream.column(), \"}\");\n    else if (curPunc == \"[\") pushContext(state, stream.column(), \"]\");\n    else if (curPunc == \"(\") pushContext(state, stream.column(), \")\");\n    else if (curPunc == \"}\") {\n      while (ctx.type == \"statement\") ctx = popContext(state);\n      if (ctx.type == \"}\") ctx = popContext(state);\n      while (ctx.type == \"statement\") ctx = popContext(state);\n    }\n    else if (curPunc == ctx.type) popContext(state);\n    else if (ctx.type == \"}\" || ctx.type == \"top\" || (ctx.type == \"statement\" && curPunc == \"newstatement\"))\n      pushContext(state, stream.column(), \"statement\");\n    state.startOfLine = false;\n    state.lastToken = curPunc || style;\n    return style;\n  },\n\n  indent: function(state, textAfter, cx) {\n    if (!state.tokenize[state.tokenize.length-1].isBase) return null;\n    var firstChar = textAfter && textAfter.charAt(0), ctx = state.context;\n    if (ctx.type == \"statement\" && !expectExpression(state.lastToken, true)) ctx = ctx.prev;\n    var closing = firstChar == ctx.type;\n    if (ctx.type == \"statement\") return ctx.indented + (firstChar == \"{\" ? 0 : cx.unit);\n    else if (ctx.align) return ctx.column + (closing ? 0 : 1);\n    else return ctx.indented + (closing ? 0 : cx.unit);\n  },\n\n  languageData: {\n    indentOnInput: /^\\s*[{}]$/,\n    commentTokens: {line: \"//\", block: {open: \"/*\", close: \"*/\"}},\n    closeBrackets: {brackets: [\"(\", \"[\", \"{\", \"'\", '\"', \"'''\", '\"\"\"']}\n  }\n};\n"],"names":["words","str","obj","keywords","blockKeywords","standaloneKeywords","atoms","curPunc","tokenBase","stream","state","ch","startString","tokenComment","expectExpression","cur","quote","tripleQuoted","t","escaped","next","end","tokenBaseUntilBrace","tokenVariableDeref","depth","maybeEnd","last","newline","Context","indented","column","type","align","prev","pushContext","col","popContext","groovy","indentUnit","ctx","style","textAfter","cx","firstChar","closing"],"mappings":"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","x_google_ignoreList":[0]}