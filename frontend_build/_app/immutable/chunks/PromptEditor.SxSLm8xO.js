import{s as ut,y as He,k as x,e as c,t as k,o as N,c as u,a as p,d as i,b as y,f as n,i as Ee,g as e,u as be,z as dt,A as Ze,h as F,p as ft,j as mt,q as ht,D as vt,N as nt,C as ge,H as pt}from"./scheduler.CRl-z1y4.js";import{S as _t,i as gt,f as Fe,b as we,d as ke,m as ye,t as Ce,a as Ae,e as De}from"./index.Ci9MLlfz.js";import{T as bt}from"./Textarea.ZjkPNBRh.js";import{t as wt}from"./Toaster.svelte_svelte_type_style_lang.CQ9dEDgo.js";import{T as kt}from"./Tooltip.DuavYtFf.js";import{A as yt,L as Ct}from"./AccessControlModal.G05MVtqd.js";function At(a){let l,r,d,I,A,o,_,g,D,v,w=a[7].t("Access")+"",C,T,E,j,M="/",q,f,L,P,m,R;return g=new Ct({props:{strokeWidth:"2.5",className:"size-3.5"}}),{c(){l=c("div"),r=c("div"),d=c("input"),A=x(),o=c("div"),_=c("button"),we(g.$$.fragment),D=x(),v=c("div"),C=k(w),T=x(),E=c("div"),j=c("div"),j.textContent=M,q=x(),f=c("input"),this.h()},l(s){l=u(s,"DIV",{class:!0});var b=p(l);r=u(b,"DIV",{class:!0});var W=p(r);d=u(W,"INPUT",{class:!0,placeholder:!0}),A=N(W),o=u(W,"DIV",{class:!0});var B=p(o);_=u(B,"BUTTON",{class:!0,type:!0});var G=p(_);ke(g.$$.fragment,G),D=N(G),v=u(G,"DIV",{class:!0});var J=p(v);C=y(J,w),J.forEach(i),G.forEach(i),B.forEach(i),W.forEach(i),T=N(b),E=u(b,"DIV",{class:!0});var U=p(E);j=u(U,"DIV",{class:!0,"data-svelte-h":!0}),nt(j)!=="svelte-1x25scu"&&(j.textContent=M),q=N(U),f=u(U,"INPUT",{class:!0,placeholder:!0}),U.forEach(i),b.forEach(i),this.h()},h(){n(d,"class","text-2xl font-semibold w-full bg-transparent outline-none"),n(d,"placeholder",I=a[7].t("Title")),d.required=!0,n(v,"class","text-sm font-medium flex-shrink-0"),n(_,"class","bg-gray-50 hover:bg-gray-100 text-black dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-white transition px-2 py-1 rounded-full flex gap-1 items-center"),n(_,"type","button"),n(o,"class","self-center flex-shrink-0"),n(r,"class","flex items-center"),n(j,"class",""),n(f,"class","w-full bg-transparent outline-none"),n(f,"placeholder",L=a[7].t("Command")),f.required=!0,f.disabled=a[0],n(E,"class","flex gap-0.5 items-center text-xs text-gray-500"),n(l,"class","flex flex-col w-full")},m(s,b){Ee(s,l,b),e(l,r),e(r,d),ge(d,a[1]),e(r,A),e(r,o),e(o,_),ye(g,_,null),e(_,D),e(_,v),e(v,C),e(l,T),e(l,E),e(E,j),e(E,q),e(E,f),ge(f,a[3]),P=!0,m||(R=[be(d,"input",a[14]),be(_,"click",a[15]),be(f,"input",a[16])],m=!0)},p(s,b){(!P||b&128&&I!==(I=s[7].t("Title")))&&n(d,"placeholder",I),b&2&&d.value!==s[1]&&ge(d,s[1]),(!P||b&128)&&w!==(w=s[7].t("Access")+"")&&F(C,w),(!P||b&128&&L!==(L=s[7].t("Command")))&&n(f,"placeholder",L),(!P||b&1)&&(f.disabled=s[0]),b&8&&f.value!==s[3]&&ge(f,s[3])},i(s){P||(Ce(g.$$.fragment,s),P=!0)},o(s){Ae(g.$$.fragment,s),P=!1},d(s){s&&i(l),De(g),m=!1,pt(R)}}}function rt(a){let l,r=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
									transform-origin: center;
									animation: spinner_AtaB 0.75s infinite linear;
								}
								@keyframes spinner_AtaB {
									100% {
										transform: rotate(360deg);
									}
								}
							</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){l=c("div"),l.innerHTML=r,this.h()},l(d){l=u(d,"DIV",{class:!0,"data-svelte-h":!0}),nt(l)!=="svelte-qf5fty"&&(l.innerHTML=r),this.h()},h(){n(l,"class","ml-1.5 self-center")},m(d,I){Ee(d,l,I)},d(d){d&&i(l)}}}function Dt(a){let l,r,d,I,A,o,_,g,D,v,w,C,T=a[7].t("Prompt Content")+"",E,j,M,q,f,L,P,m,R,s=a[7].t("Format your variables using brackets like this:")+"",b,W,B,G="{{",J,U=a[7].t("variable")+"",ce,Re="}}",Ie,Me,se=a[7].t("Make sure to enclose them with")+"",ue,Ve,K,We="{{",xe,Ne,le=a[7].t("and")+"",de,Te,Q,Ye="}}",Pe,Se,Oe,Z,re=a[7].t("Utilize")+"",fe,X,Ge=" {{CLIPBOARD}}",je,ze,ne=a[7].t("variable to have them replaced with clipboard content.")+"",me,qe,$,z,ee,oe=a[7].t("Save & Create")+"",he,Be,ve,S,Le,Je;function ot(t){a[12](t)}function it(t){a[13](t)}let Ue={accessRoles:["read","write"]};a[6]!==void 0&&(Ue.show=a[6]),a[5]!==void 0&&(Ue.accessControl=a[5]),l=new yt({props:Ue}),He.push(()=>Fe(l,"show",ot)),He.push(()=>Fe(l,"accessControl",it)),g=new kt({props:{content:`${a[7].t("Only alphanumeric characters and hyphens are allowed")} - ${a[7].t('Activate this command by typing "/{{COMMAND}}" to chat input.',{COMMAND:a[3]})}`,placement:"bottom-start",$$slots:{default:[At]},$$scope:{ctx:a}}});function ct(t){a[17](t)}let Ke={className:"text-sm w-full bg-transparent outline-none overflow-y-hidden resize-none",placeholder:a[7].t("Write a summary in 50 words that summarizes [topic or keyword]."),rows:6,required:!0};a[4]!==void 0&&(Ke.value=a[4]),f=new bt({props:Ke}),He.push(()=>Fe(f,"value",ct));let V=a[2]&&rt();return{c(){we(l.$$.fragment),I=x(),A=c("div"),o=c("form"),_=c("div"),we(g.$$.fragment),D=x(),v=c("div"),w=c("div"),C=c("div"),E=k(T),j=x(),M=c("div"),q=c("div"),we(f.$$.fragment),P=x(),m=c("div"),R=k("ⓘ "),b=k(s),W=k(" "),B=c("span"),J=k(G),ce=k(U),Ie=k(Re),Me=k(`.
					`),ue=k(se),Ve=x(),K=c("span"),xe=k(We),Ne=x(),de=k(le),Te=x(),Q=c("span"),Pe=k(Ye),Se=k("."),Oe=x(),Z=c("div"),fe=k(re),X=c("span"),je=k(Ge),ze=x(),me=k(ne),qe=x(),$=c("div"),z=c("button"),ee=c("div"),he=k(oe),Be=x(),V&&V.c(),this.h()},l(t){ke(l.$$.fragment,t),I=N(t),A=u(t,"DIV",{class:!0});var h=p(A);o=u(h,"FORM",{class:!0});var H=p(o);_=u(H,"DIV",{class:!0});var te=p(_);ke(g.$$.fragment,te),te.forEach(i),D=N(H),v=u(H,"DIV",{class:!0});var Y=p(v);w=u(Y,"DIV",{class:!0});var Qe=p(w);C=u(Qe,"DIV",{class:!0});var Xe=p(C);E=y(Xe,T),Xe.forEach(i),Qe.forEach(i),j=N(Y),M=u(Y,"DIV",{class:!0});var ae=p(M);q=u(ae,"DIV",{});var $e=p(q);ke(f.$$.fragment,$e),$e.forEach(i),P=N(ae),m=u(ae,"DIV",{class:!0});var O=p(m);R=y(O,"ⓘ "),b=y(O,s),W=y(O," "),B=u(O,"SPAN",{class:!0});var pe=p(B);J=y(pe,G),ce=y(pe,U),Ie=y(pe,Re),pe.forEach(i),Me=y(O,`.
					`),ue=y(O,se),Ve=N(O),K=u(O,"SPAN",{class:!0});var et=p(K);xe=y(et,We),et.forEach(i),Ne=N(O),de=y(O,le),Te=N(O),Q=u(O,"SPAN",{class:!0});var tt=p(Q);Pe=y(tt,Ye),tt.forEach(i),Se=y(O,"."),O.forEach(i),Oe=N(ae),Z=u(ae,"DIV",{class:!0});var ie=p(Z);fe=y(ie,re),X=u(ie,"SPAN",{class:!0});var at=p(X);je=y(at,Ge),at.forEach(i),ze=N(ie),me=y(ie,ne),ie.forEach(i),ae.forEach(i),Y.forEach(i),qe=N(H),$=u(H,"DIV",{class:!0});var st=p($);z=u(st,"BUTTON",{class:!0,type:!0});var _e=p(z);ee=u(_e,"DIV",{class:!0});var lt=p(ee);he=y(lt,oe),lt.forEach(i),Be=N(_e),V&&V.l(_e),_e.forEach(i),st.forEach(i),H.forEach(i),h.forEach(i),this.h()},h(){n(_,"class","my-2"),n(C,"class","self-center text-sm font-semibold"),n(w,"class","flex w-full justify-between"),n(B,"class","text-gray-600 dark:text-gray-300 font-medium"),n(K,"class","text-gray-600 dark:text-gray-300 font-medium"),n(Q,"class","text-gray-600 dark:text-gray-300 font-medium"),n(m,"class","text-xs text-gray-400 dark:text-gray-500"),n(X,"class","text-gray-600 dark:text-gray-300 font-medium"),n(Z,"class","text-xs text-gray-400 dark:text-gray-500"),n(M,"class","mt-2"),n(v,"class","my-2"),n(ee,"class","self-center font-medium"),n(z,"class",ve="text-sm w-full lg:w-fit px-4 py-2 transition rounded-lg "+(a[2]?" cursor-not-allowed bg-black hover:bg-gray-900 text-white dark:bg-white dark:hover:bg-gray-100 dark:text-black":"bg-black hover:bg-gray-900 text-white dark:bg-white dark:hover:bg-gray-100 dark:text-black")+" flex w-full justify-center"),n(z,"type","submit"),z.disabled=a[2],n($,"class","my-4 flex justify-end pb-20"),n(o,"class","flex flex-col w-full mb-10"),n(A,"class","w-full max-h-full flex justify-center")},m(t,h){ye(l,t,h),Ee(t,I,h),Ee(t,A,h),e(A,o),e(o,_),ye(g,_,null),e(o,D),e(o,v),e(v,w),e(w,C),e(C,E),e(v,j),e(v,M),e(M,q),ye(f,q,null),e(M,P),e(M,m),e(m,R),e(m,b),e(m,W),e(m,B),e(B,J),e(B,ce),e(B,Ie),e(m,Me),e(m,ue),e(m,Ve),e(m,K),e(K,xe),e(m,Ne),e(m,de),e(m,Te),e(m,Q),e(Q,Pe),e(m,Se),e(M,Oe),e(M,Z),e(Z,fe),e(Z,X),e(X,je),e(Z,ze),e(Z,me),e(o,qe),e(o,$),e($,z),e(z,ee),e(ee,he),e(z,Be),V&&V.m(z,null),S=!0,Le||(Je=be(o,"submit",dt(a[18])),Le=!0)},p(t,[h]){const H={};!r&&h&64&&(r=!0,H.show=t[6],Ze(()=>r=!1)),!d&&h&32&&(d=!0,H.accessControl=t[5],Ze(()=>d=!1)),l.$set(H);const te={};h&136&&(te.content=`${t[7].t("Only alphanumeric characters and hyphens are allowed")} - ${t[7].t('Activate this command by typing "/{{COMMAND}}" to chat input.',{COMMAND:t[3]})}`),h&1048779&&(te.$$scope={dirty:h,ctx:t}),g.$set(te),(!S||h&128)&&T!==(T=t[7].t("Prompt Content")+"")&&F(E,T);const Y={};h&128&&(Y.placeholder=t[7].t("Write a summary in 50 words that summarizes [topic or keyword].")),!L&&h&16&&(L=!0,Y.value=t[4],Ze(()=>L=!1)),f.$set(Y),(!S||h&128)&&s!==(s=t[7].t("Format your variables using brackets like this:")+"")&&F(b,s),(!S||h&128)&&U!==(U=t[7].t("variable")+"")&&F(ce,U),(!S||h&128)&&se!==(se=t[7].t("Make sure to enclose them with")+"")&&F(ue,se),(!S||h&128)&&le!==(le=t[7].t("and")+"")&&F(de,le),(!S||h&128)&&re!==(re=t[7].t("Utilize")+"")&&F(fe,re),(!S||h&128)&&ne!==(ne=t[7].t("variable to have them replaced with clipboard content.")+"")&&F(me,ne),(!S||h&128)&&oe!==(oe=t[7].t("Save & Create")+"")&&F(he,oe),t[2]?V||(V=rt(),V.c(),V.m(z,null)):V&&(V.d(1),V=null),(!S||h&4&&ve!==(ve="text-sm w-full lg:w-fit px-4 py-2 transition rounded-lg "+(t[2]?" cursor-not-allowed bg-black hover:bg-gray-900 text-white dark:bg-white dark:hover:bg-gray-100 dark:text-black":"bg-black hover:bg-gray-900 text-white dark:bg-white dark:hover:bg-gray-100 dark:text-black")+" flex w-full justify-center"))&&n(z,"class",ve),(!S||h&4)&&(z.disabled=t[2])},i(t){S||(Ce(l.$$.fragment,t),Ce(g.$$.fragment,t),Ce(f.$$.fragment,t),S=!0)},o(t){Ae(l.$$.fragment,t),Ae(g.$$.fragment,t),Ae(f.$$.fragment,t),S=!1},d(t){t&&(i(I),i(A)),De(l,t),De(g),De(f),V&&V.d(),Le=!1,Je()}}}function Et(a,l,r){let d,{onSubmit:I}=l,{edit:A=!1}=l,{prompt:o=null}=l;const _=ft("i18n");mt(a,_,s=>r(7,d=s));let g=!1,D="",v="",w="",C=null,T=!1;const E=async()=>{r(2,g=!0),j(v)?await I({title:D,command:v,content:w,access_control:C}):wt.error(d.t("Only alphanumeric characters and hyphens are allowed in the command string.")),r(2,g=!1)},j=s=>/^[a-zA-Z0-9-]+$/.test(s);ht(async()=>{o&&(r(1,D=o.title),await vt(),r(3,v=o.command.at(0)==="/"?o.command.slice(1):o.command),r(4,w=o.content),r(5,C=(o==null?void 0:o.access_control)??null))});function M(s){T=s,r(6,T)}function q(s){C=s,r(5,C)}function f(){D=this.value,r(1,D)}const L=()=>{r(6,T=!0)};function P(){v=this.value,r(3,v),r(0,A),r(1,D)}function m(s){w=s,r(4,w)}const R=()=>{E()};return a.$$set=s=>{"onSubmit"in s&&r(10,I=s.onSubmit),"edit"in s&&r(0,A=s.edit),"prompt"in s&&r(11,o=s.prompt)},a.$$.update=()=>{a.$$.dirty&3&&(A||r(3,v=D!==""?`${D.replace(/\s+/g,"-").toLowerCase()}`:""))},[A,D,g,v,w,C,T,d,_,E,I,o,M,q,f,L,P,m,R]}class Pt extends _t{constructor(l){super(),gt(this,l,Et,Dt,ut,{onSubmit:10,edit:0,prompt:11})}}export{Pt as P};
//# sourceMappingURL=PromptEditor.SxSLm8xO.js.map
