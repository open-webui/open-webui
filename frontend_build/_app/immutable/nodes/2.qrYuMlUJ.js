import{s as at,y as lt,k as A,o as C,i as M,A as dt,d as f,B as At,p as kt,j as Te,e as m,t as U,c as p,a as g,b as H,I as Fe,f as u,g as c,C as je,u as le,h as x,H as rt,n as Ce,R as $t,E as bt,F as wt,r as Ql,v as es,w as ts,x as ls,l as ut,J as yt,q as Ct,O as ss,D as Al,Y as rc,Q as Ml,a0 as Si,ai as ac,aj as oc,z as Bl,T as Tn,P as ol,S as Es,G as Vn,ao as ql}from"../chunks/scheduler.Dg_Xn4WQ.js";import{S as ot,i as it,f as ht,b as ae,d as oe,m as ie,t as W,a as Z,e as ce,g as Qe,c as et,h as $i}from"../chunks/index.gNonUo3Z.js";import{t as Le}from"../chunks/Toaster.svelte_svelte_type_style_lang.CM0nbnqF.js";import{f as Vs}from"../chunks/FileSaver.min.CimDdHIv.js";import{g as gl}from"../chunks/entry.C1o6s8Km.js";import{p as hr}from"../chunks/stores.C9kw2blP.js";import{f as Ni}from"../chunks/index.nST1YYiD.js";import{b as ns,g as rr,z as rl,h as An,J as ic,B as nl,K as Cn,q as Ts,s as Lt,u as Cl,E as Xn,r as cc,o as fc,l as En,e as rs,L as Fa,N as Is,c as uc,k as Ht,P as dc,W as Oi,a as il,Q as In,y as hc,m as Li,j as Qn,H as mc,t as pc}from"../chunks/index.C2zJs1dP.js";import{o as Mi,g as Bi,p as _c}from"../chunks/index.ttVds5UM.js";import{l as Ui,b as Ya,v as vc,k as Ds,y as gc,m as Za,c as ar,a as bc,z as wc,A as kc}from"../chunks/index.bquoJ5FE.js";import{g as yc}from"../chunks/index.DOfUwrRA.js";import{S as Hi,g as Ec}from"../chunks/index.CX1ppP1i.js";import{f as Ic,h as Pi,i as Dc}from"../chunks/index.BGh32guZ.js";import{e as st,u as $n,o as Nn}from"../chunks/each.dwVHsGX8.js";import{m as kn,n as or,k as ji,o as Tc,t as ir,f as Ol,p as Vc,u as Ac,i as Ll,q as cr,r as Cc,d as Sn,v as Sc,w as Dn,x as fr,y as er,z as $c,A as Nc,B as Oc,C as Ga}from"../chunks/index.PGXp80Wq.js";import{d as Xl}from"../chunks/relativeTime.BDz4fsXT.js";import{M as Ul}from"../chunks/Modal.DLh1UrlN.js";import{T as Ot}from"../chunks/Tooltip.FP-CxtJW.js";import{C as On}from"../chunks/ConfirmDialog.BuoJh2qp.js";import{A as Ri,U as Lc}from"../chunks/UserMenu.BoHsYg9D.js";import"../chunks/updater.B0HmoELl.js";import{M as Mc,T as Bc,a as Uc,b as Hc,S as Pc,P as jc,c as Rc,u as xc,g as yn,d as zc,e as Wc}from"../chunks/index.CSe4xJLs.js";import{D as xi,M as Ut}from"../chunks/Dropdown.TmwXbC8a.js";import{b as zi}from"../chunks/menu-trigger.qJyZyepX.js";import{f as mr}from"../chunks/index.BFuekP1B.js";import{G as pr}from"../chunks/GarbageBin.C8M1SI2a.js";import{P as Wi}from"../chunks/Pencil.BaGPMNIs.js";import{D as Fc,S as Yc}from"../chunks/DocumentDuplicate.CbixP_2L.js";import{a as Zc,g as Gc}from"../chunks/index.DWJsyPmW.js";import{C as Jc}from"../chunks/Check.CByLijz6.js";import{X as Fi}from"../chunks/XMark.B1BmN65L.js";import{S as Yi}from"../chunks/Spinner.C_k6OlPC.js";import{L as Kc}from"../chunks/Loader.o4ZrhuUY.js";import{C as Zi}from"../chunks/ChevronDown.CTso00xK.js";import{C as Gi}from"../chunks/ChevronRight.BEWpFLO1.js";import{C as Ji}from"../chunks/Collapsible.B_qz9Oj5.js";import{P as Ki}from"../chunks/Plus.BU_HhSNR.js";import{p as Ja}from"../chunks/marked.esm._0_gBwjO.js";import{F as qc}from"../chunks/FolderOpen.Dd20vIpV.js";import{E as Xc}from"../chunks/EllipsisHorizontal.Dc0c2jlw.js";import{e as Qc,f as ef,h as tf,i as lf}from"../chunks/index.Csa-Y-Xe.js";import{A as sf}from"../chunks/AccessControl.BdBhtnxq.js";import{C as nf}from"../chunks/Cog6.G_rLffPC.js";import{k as rf,m as af,n as of,o as cf,p as ff}from"../chunks/index.CUVzHynD.js";import{g as uf}from"../chunks/index.C97N7eDD.js";import{g as df}from"../chunks/index.BY4RBC6S.js";import{A as hf}from"../chunks/AdvancedParams.D4jxmpS0.js";import{b as mf}from"../chunks/index.CftsCmmZ.js";import{S as qi}from"../chunks/Switch.BbmWI4o0.js";import{U as pf}from"../chunks/User.Dak73R9E.js";import{S as _f}from"../chunks/Search.x77u7Tsb.js";const vf=(n,e)=>e.some(t=>n instanceof t);let Ka,qa;function gf(){return Ka||(Ka=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bf(){return qa||(qa=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Xi=new WeakMap,ur=new WeakMap,Qi=new WeakMap,tr=new WeakMap,_r=new WeakMap;function wf(n){const e=new Promise((t,l)=>{const s=()=>{n.removeEventListener("success",r),n.removeEventListener("error",o)},r=()=>{t(vl(n.result)),s()},o=()=>{l(n.error),s()};n.addEventListener("success",r),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&Xi.set(t,n)}).catch(()=>{}),_r.set(e,n),e}function kf(n){if(ur.has(n))return;const e=new Promise((t,l)=>{const s=()=>{n.removeEventListener("complete",r),n.removeEventListener("error",o),n.removeEventListener("abort",o)},r=()=>{t(),s()},o=()=>{l(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",r),n.addEventListener("error",o),n.addEventListener("abort",o)});ur.set(n,e)}let dr={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return ur.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Qi.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return vl(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function yf(n){dr=n(dr)}function Ef(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const l=n.call(lr(this),e,...t);return Qi.set(l,e.sort?e.sort():[e]),vl(l)}:bf().includes(n)?function(...e){return n.apply(lr(this),e),vl(Xi.get(this))}:function(...e){return vl(n.apply(lr(this),e))}}function If(n){return typeof n=="function"?Ef(n):(n instanceof IDBTransaction&&kf(n),vf(n,gf())?new Proxy(n,dr):n)}function vl(n){if(n instanceof IDBRequest)return wf(n);if(tr.has(n))return tr.get(n);const e=If(n);return e!==n&&(tr.set(n,e),_r.set(e,n)),e}const lr=n=>_r.get(n);function Df(n,e,{blocked:t,upgrade:l,blocking:s,terminated:r}={}){const o=indexedDB.open(n,e),a=vl(o);return l&&o.addEventListener("upgradeneeded",i=>{l(vl(o.result),i.oldVersion,i.newVersion,vl(o.transaction),i)}),t&&o.addEventListener("blocked",i=>t(i.oldVersion,i.newVersion,i)),a.then(i=>{r&&i.addEventListener("close",()=>r()),s&&i.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}function Xa(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",l=>e(l.oldVersion,l)),vl(t).then(()=>{})}const Tf=["get","getKey","getAll","getAllKeys","count"],Vf=["put","add","delete","clear"],sr=new Map;function Qa(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(sr.get(e))return sr.get(e);const t=e.replace(/FromIndex$/,""),l=e!==t,s=Vf.includes(t);if(!(t in(l?IDBIndex:IDBObjectStore).prototype)||!(s||Tf.includes(t)))return;const r=async function(o,...a){const i=this.transaction(o,s?"readwrite":"readonly");let d=i.store;return l&&(d=d.index(a.shift())),(await Promise.all([d[t](...a),s&&i.done]))[0]};return sr.set(e,r),r}yf(n=>({...n,get:(e,t,l)=>Qa(e,t)||n.get(e,t,l),has:(e,t)=>!!Qa(e,t)||n.has(e,t)}));const Af=async(n,e)=>{let t=null;const l=await fetch(`${ns}/folders/`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",authorization:`Bearer ${n}`},body:JSON.stringify({name:e})}).then(async s=>{if(!s.ok)throw await s.json();return s.json()}).catch(s=>(t=s.detail,null));if(t)throw t;return l},Cf=async(n="")=>{let e=null;const t=await fetch(`${ns}/folders/`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",authorization:`Bearer ${n}`}}).then(async l=>{if(!l.ok)throw await l.json();return l.json()}).then(l=>l).catch(l=>(e=l.detail,console.log(l),null));if(e)throw e;return t},Sf=async(n,e,t)=>{let l=null;const s=await fetch(`${ns}/folders/${e}/update`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",authorization:`Bearer ${n}`},body:JSON.stringify({name:t})}).then(async r=>{if(!r.ok)throw await r.json();return r.json()}).then(r=>r).catch(r=>(l=r.detail,console.log(r),null));if(l)throw l;return s},$f=async(n,e,t)=>{let l=null;const s=await fetch(`${ns}/folders/${e}/update/expanded`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",authorization:`Bearer ${n}`},body:JSON.stringify({is_expanded:t})}).then(async r=>{if(!r.ok)throw await r.json();return r.json()}).then(r=>r).catch(r=>(l=r.detail,console.log(r),null));if(l)throw l;return s},ec=async(n,e,t)=>{let l=null;const s=await fetch(`${ns}/folders/${e}/update/parent`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",authorization:`Bearer ${n}`},body:JSON.stringify({parent_id:t})}).then(async r=>{if(!r.ok)throw await r.json();return r.json()}).then(r=>r).catch(r=>(l=r.detail,console.log(r),null));if(l)throw l;return s},Nf=async(n,e)=>{let t=null;const l=await fetch(`${ns}/folders/${e}`,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",authorization:`Bearer ${n}`}}).then(async s=>{if(!s.ok)throw await s.json();return s.json()}).then(s=>s).catch(s=>(t=s.detail,console.log(s),null));if(t)throw t;return l};function eo(n,e,t){const l=n.slice();return l[22]=e[t],l[24]=t,l}function Of(n){let e,t=n[4].t("You have no archived conversations.")+"",l;return{c(){e=m("div"),l=U(t),this.h()},l(s){e=p(s,"DIV",{class:!0});var r=g(e);l=H(r,t),r.forEach(f),this.h()},h(){u(e,"class","text-left text-sm w-full mb-8")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r&16&&t!==(t=s[4].t("You have no archived conversations.")+"")&&x(l,t)},i:Ce,o:Ce,d(s){s&&f(e)}}}function Lf(n){let e,t,l,s,r,o,a,i=n[4].t("Name")+"",d,h,_,v=n[4].t("Created At")+"",b,w,y,k,V,P,I,E,D=n[4].t("Unarchive All Archived Chats")+"",$,T,L,N=n[4].t("Export All Archived Chats")+"",S,F,q,O,B=st(n[1].filter(n[14])),Y=[];for(let G=0;G<B.length;G+=1)Y[G]=to(eo(n,B,G));const J=G=>Z(Y[G],1,1,()=>{Y[G]=null});return{c(){e=m("div"),t=m("div"),l=m("div"),s=m("table"),r=m("thead"),o=m("tr"),a=m("th"),d=U(i),h=A(),_=m("th"),b=U(v),w=A(),y=m("th"),k=A(),V=m("tbody");for(let G=0;G<Y.length;G+=1)Y[G].c();P=A(),I=m("div"),E=m("button"),$=U(D),T=A(),L=m("button"),S=U(N),this.h()},l(G){e=p(G,"DIV",{class:!0});var R=g(e);t=p(R,"DIV",{class:!0});var j=g(t);l=p(j,"DIV",{class:!0});var z=g(l);s=p(z,"TABLE",{class:!0});var X=g(s);r=p(X,"THEAD",{class:!0});var K=g(r);o=p(K,"TR",{});var te=g(o);a=p(te,"TH",{scope:!0,class:!0});var se=g(a);d=H(se,i),se.forEach(f),h=C(te),_=p(te,"TH",{scope:!0,class:!0});var ue=g(_);b=H(ue,v),ue.forEach(f),w=C(te),y=p(te,"TH",{scope:!0,class:!0}),g(y).forEach(f),te.forEach(f),K.forEach(f),k=C(X),V=p(X,"TBODY",{});var he=g(V);for(let ke=0;ke<Y.length;ke+=1)Y[ke].l(he);he.forEach(f),X.forEach(f),z.forEach(f),j.forEach(f),P=C(R),I=p(R,"DIV",{class:!0});var me=g(I);E=p(me,"BUTTON",{class:!0});var pe=g(E);$=H(pe,D),pe.forEach(f),T=C(me),L=p(me,"BUTTON",{class:!0});var de=g(L);S=H(de,N),de.forEach(f),me.forEach(f),R.forEach(f),this.h()},h(){u(a,"scope","col"),u(a,"class","px-3 py-2"),u(_,"scope","col"),u(_,"class","px-3 py-2 hidden md:flex"),u(y,"scope","col"),u(y,"class","px-3 py-2 text-right"),u(r,"class","text-xs text-gray-700 uppercase bg-transparent dark:text-gray-200 border-b-2 dark:border-gray-800"),u(s,"class","w-full text-sm text-left text-gray-600 dark:text-gray-400 table-auto"),u(l,"class","relative overflow-x-auto"),u(t,"class","text-left text-sm w-full mb-3 max-h-[22rem] overflow-y-scroll"),u(E,"class","px-3.5 py-1.5 font-medium hover:bg-black/5 dark:hover:bg-white/5 outline outline-1 outline-gray-300 dark:outline-gray-800 rounded-3xl"),u(L,"class","px-3.5 py-1.5 font-medium hover:bg-black/5 dark:hover:bg-white/5 outline outline-1 outline-gray-300 dark:outline-gray-800 rounded-3xl"),u(I,"class","flex flex-wrap text-sm font-medium gap-1.5 mt-2 m-1 justify-end w-full"),u(e,"class","w-full")},m(G,R){M(G,e,R),c(e,t),c(t,l),c(l,s),c(s,r),c(r,o),c(o,a),c(a,d),c(o,h),c(o,_),c(_,b),c(o,w),c(o,y),c(s,k),c(s,V);for(let j=0;j<Y.length;j+=1)Y[j]&&Y[j].m(V,null);c(e,P),c(e,I),c(I,E),c(E,$),c(I,T),c(I,L),c(L,S),F=!0,q||(O=[le(E,"click",n[17]),le(L,"click",n[18])],q=!0)},p(G,R){if((!F||R&16)&&i!==(i=G[4].t("Name")+"")&&x(d,i),(!F||R&16)&&v!==(v=G[4].t("Created At")+"")&&x(b,v),R&214){B=st(G[1].filter(G[14]));let j;for(j=0;j<B.length;j+=1){const z=eo(G,B,j);Y[j]?(Y[j].p(z,R),W(Y[j],1)):(Y[j]=to(z),Y[j].c(),W(Y[j],1),Y[j].m(V,null))}for(Qe(),j=B.length;j<Y.length;j+=1)J(j);et()}(!F||R&16)&&D!==(D=G[4].t("Unarchive All Archived Chats")+"")&&x($,D),(!F||R&16)&&N!==(N=G[4].t("Export All Archived Chats")+"")&&x(S,N)},i(G){if(!F){for(let R=0;R<B.length;R+=1)W(Y[R]);F=!0}},o(G){Y=Y.filter(Boolean);for(let R=0;R<Y.length;R+=1)Z(Y[R]);F=!1},d(G){G&&f(e),$t(Y,G),q=!1,rt(O)}}}function Mf(n){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-4"><path stroke-linecap="round" stroke-linejoin="round" d="M9 8.25H7.5a2.25 2.25 0 0 0-2.25 2.25v9a2.25 2.25 0 0 0 2.25 2.25h9a2.25 2.25 0 0 0 2.25-2.25v-9a2.25 2.25 0 0 0-2.25-2.25H15m0-3-3-3m0 0-3 3m3-3V15"></path></svg>',l,s;function r(){return n[15](n[22])}return{c(){e=m("button"),e.innerHTML=t,this.h()},l(o){e=p(o,"BUTTON",{class:!0,"data-svelte-h":!0}),Fe(e)!=="svelte-1x4djqv"&&(e.innerHTML=t),this.h()},h(){u(e,"class","self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl")},m(o,a){M(o,e,a),l||(s=le(e,"click",r),l=!0)},p(o,a){n=o},d(o){o&&f(e),l=!1,s()}}}function Bf(n){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"></path></svg>',l,s;function r(){return n[16](n[22])}return{c(){e=m("button"),e.innerHTML=t,this.h()},l(o){e=p(o,"BUTTON",{class:!0,"data-svelte-h":!0}),Fe(e)!=="svelte-1pagubv"&&(e.innerHTML=t),this.h()},h(){u(e,"class","self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl")},m(o,a){M(o,e,a),l||(s=le(e,"click",r),l=!0)},p(o,a){n=o},d(o){o&&f(e),l=!1,s()}}}function to(n){let e,t,l,s,r=n[22].title+"",o,a,i,d,h,_=Xl(n[22].created_at*1e3).format("LLL")+"",v,b,w,y,k,V,P,I,E,D;return k=new Ot({props:{content:n[4].t("Unarchive Chat"),$$slots:{default:[Mf]},$$scope:{ctx:n}}}),P=new Ot({props:{content:n[4].t("Delete Chat"),$$slots:{default:[Bf]},$$scope:{ctx:n}}}),{c(){e=m("tr"),t=m("td"),l=m("a"),s=m("div"),o=U(r),i=A(),d=m("td"),h=m("div"),v=U(_),b=A(),w=m("td"),y=m("div"),ae(k.$$.fragment),V=A(),ae(P.$$.fragment),I=A(),this.h()},l($){e=p($,"TR",{class:!0});var T=g(e);t=p(T,"TD",{class:!0});var L=g(t);l=p(L,"A",{href:!0,target:!0});var N=g(l);s=p(N,"DIV",{class:!0});var S=g(s);o=H(S,r),S.forEach(f),N.forEach(f),L.forEach(f),i=C(T),d=p(T,"TD",{class:!0});var F=g(d);h=p(F,"DIV",{class:!0});var q=g(h);v=H(q,_),q.forEach(f),F.forEach(f),b=C(T),w=p(T,"TD",{class:!0});var O=g(w);y=p(O,"DIV",{class:!0});var B=g(y);oe(k.$$.fragment,B),V=C(B),oe(P.$$.fragment,B),B.forEach(f),O.forEach(f),I=C(T),T.forEach(f),this.h()},h(){u(s,"class","underline line-clamp-1"),u(l,"href",a="/c/"+n[22].id),u(l,"target","_blank"),u(t,"class","px-3 py-1 w-2/3"),u(h,"class","my-auto"),u(d,"class","px-3 py-1 hidden md:flex h-[2.5rem]"),u(y,"class","flex justify-end w-full"),u(w,"class","px-3 py-1 text-right"),u(e,"class",E="bg-transparent "+(n[24]!==n[1].length-1&&"border-b")+" dark:bg-gray-900 dark:border-gray-850 text-xs")},m($,T){M($,e,T),c(e,t),c(t,l),c(l,s),c(s,o),c(e,i),c(e,d),c(d,h),c(h,v),c(e,b),c(e,w),c(w,y),ie(k,y,null),c(y,V),ie(P,y,null),c(e,I),D=!0},p($,T){(!D||T&6)&&r!==(r=$[22].title+"")&&x(o,r),(!D||T&6&&a!==(a="/c/"+$[22].id))&&u(l,"href",a),(!D||T&6)&&_!==(_=Xl($[22].created_at*1e3).format("LLL")+"")&&x(v,_);const L={};T&16&&(L.content=$[4].t("Unarchive Chat")),T&33554438&&(L.$$scope={dirty:T,ctx:$}),k.$set(L);const N={};T&16&&(N.content=$[4].t("Delete Chat")),T&33554438&&(N.$$scope={dirty:T,ctx:$}),P.$set(N),(!D||T&2&&E!==(E="bg-transparent "+($[24]!==$[1].length-1&&"border-b")+" dark:bg-gray-900 dark:border-gray-850 text-xs"))&&u(e,"class",E)},i($){D||(W(k.$$.fragment,$),W(P.$$.fragment,$),D=!0)},o($){Z(k.$$.fragment,$),Z(P.$$.fragment,$),D=!1},d($){$&&f(e),ce(k),ce(P)}}}function Uf(n){let e,t,l,s=n[4].t("Archived Chats")+"",r,o,a,i='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path fill-rule="evenodd" d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z" clip-rule="evenodd"></path></svg>',d,h,_,v,b,w='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd"></path></svg>',y,k,V,P,I,E,D,$,T,L,N,S;const F=[Lf,Of],q=[];function O(B,Y){return B[1].length>0?0:1}return $=O(n),T=q[$]=F[$](n),{c(){e=m("div"),t=m("div"),l=m("div"),r=U(s),o=A(),a=m("button"),a.innerHTML=i,d=A(),h=m("div"),_=m("div"),v=m("div"),b=m("div"),b.innerHTML=w,y=A(),k=m("input"),P=A(),I=m("hr"),E=A(),D=m("div"),T.c(),this.h()},l(B){e=p(B,"DIV",{});var Y=g(e);t=p(Y,"DIV",{class:!0});var J=g(t);l=p(J,"DIV",{class:!0});var G=g(l);r=H(G,s),G.forEach(f),o=C(J),a=p(J,"BUTTON",{class:!0,"data-svelte-h":!0}),Fe(a)!=="svelte-i7w487"&&(a.innerHTML=i),J.forEach(f),d=C(Y),h=p(Y,"DIV",{class:!0});var R=g(h);_=p(R,"DIV",{class:!0});var j=g(_);v=p(j,"DIV",{class:!0});var z=g(v);b=p(z,"DIV",{class:!0,"data-svelte-h":!0}),Fe(b)!=="svelte-kinl2y"&&(b.innerHTML=w),y=C(z),k=p(z,"INPUT",{class:!0,placeholder:!0}),z.forEach(f),j.forEach(f),P=C(R),I=p(R,"HR",{class:!0}),E=C(R),D=p(R,"DIV",{class:!0});var X=g(D);T.l(X),X.forEach(f),R.forEach(f),Y.forEach(f),this.h()},h(){u(l,"class","text-lg font-medium self-center"),u(a,"class","self-center"),u(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4 pb-1"),u(b,"class","self-center ml-1 mr-3"),u(k,"class","w-full text-sm pr-4 py-1 rounded-r-xl outline-none bg-transparent"),u(k,"placeholder",V=n[4].t("Search Chats")),u(v,"class","flex flex-1"),u(_,"class","flex w-full mt-2 space-x-2"),u(I,"class","dark:border-gray-850 my-2"),u(D,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),u(h,"class","flex flex-col w-full px-5 pb-4 dark:text-gray-200")},m(B,Y){M(B,e,Y),c(e,t),c(t,l),c(l,r),c(t,o),c(t,a),c(e,d),c(e,h),c(h,_),c(_,v),c(v,b),c(v,y),c(v,k),je(k,n[2]),c(h,P),c(h,I),c(h,E),c(h,D),q[$].m(D,null),L=!0,N||(S=[le(a,"click",n[12]),le(k,"input",n[13])],N=!0)},p(B,Y){(!L||Y&16)&&s!==(s=B[4].t("Archived Chats")+"")&&x(r,s),(!L||Y&16&&V!==(V=B[4].t("Search Chats")))&&u(k,"placeholder",V),Y&4&&k.value!==B[2]&&je(k,B[2]);let J=$;$=O(B),$===J?q[$].p(B,Y):(Qe(),Z(q[J],1,1,()=>{q[J]=null}),et(),T=q[$],T?T.p(B,Y):(T=q[$]=F[$](B),T.c()),W(T,1),T.m(D,null))},i(B){L||(W(T),L=!0)},o(B){Z(T),L=!1},d(B){B&&f(e),q[$].d(),N=!1,rt(S)}}}function Hf(n){let e,t,l,s,r,o;function a(_){n[10](_)}let i={message:n[4].t("Are you sure you want to unarchive all archived chats?"),confirmLabel:n[4].t("Unarchive All")};n[3]!==void 0&&(i.show=n[3]),e=new On({props:i}),lt.push(()=>ht(e,"show",a)),e.$on("confirm",n[11]);function d(_){n[19](_)}let h={size:"lg",$$slots:{default:[Uf]},$$scope:{ctx:n}};return n[0]!==void 0&&(h.show=n[0]),s=new Ul({props:h}),lt.push(()=>ht(s,"show",d)),{c(){ae(e.$$.fragment),l=A(),ae(s.$$.fragment)},l(_){oe(e.$$.fragment,_),l=C(_),oe(s.$$.fragment,_)},m(_,v){ie(e,_,v),M(_,l,v),ie(s,_,v),o=!0},p(_,[v]){const b={};v&16&&(b.message=_[4].t("Are you sure you want to unarchive all archived chats?")),v&16&&(b.confirmLabel=_[4].t("Unarchive All")),!t&&v&8&&(t=!0,b.show=_[3],dt(()=>t=!1)),e.$set(b);const w={};v&33554463&&(w.$$scope={dirty:v,ctx:_}),!r&&v&1&&(r=!0,w.show=_[0],dt(()=>r=!1)),s.$set(w)},i(_){o||(W(e.$$.fragment,_),W(s.$$.fragment,_),o=!0)},o(_){Z(e.$$.fragment,_),Z(s.$$.fragment,_),o=!1},d(_){_&&f(l),ce(e,_),ce(s,_)}}}function Pf(n,e,t){let l;const{saveAs:s}=Vs;Xl.extend(Ui);const r=At(),o=kt("i18n");Te(n,o,N=>t(4,l=N));let{show:a=!1}=e,i=[],d="",h=!1;const _=async N=>{await or(localStorage.token,N).catch(S=>{Le.error(`${S}`)}),t(1,i=await kn(localStorage.token)),r("change")},v=async N=>{await ji(localStorage.token,N).catch(S=>{Le.error(`${S}`)}),t(1,i=await kn(localStorage.token))},b=async()=>{const N=await Tc(localStorage.token);let S=new Blob([JSON.stringify(N)],{type:"application/json"});s(S,`${l.t("archived-chat-export")}-${Date.now()}.json`)},w=async()=>{for(const N of i)await or(localStorage.token,N.id);t(1,i=await kn(localStorage.token))};function y(N){h=N,t(3,h)}const k=()=>{w()},V=()=>{t(0,a=!1)};function P(){d=this.value,t(2,d)}const I=N=>d===""||N.title.toLowerCase().includes(d.toLowerCase()),E=async N=>{_(N.id)},D=async N=>{v(N.id)},$=()=>{t(3,h=!0)},T=()=>{b()};function L(N){a=N,t(0,a)}return n.$$set=N=>{"show"in N&&t(0,a=N.show)},n.$$.update=()=>{n.$$.dirty&1&&a&&(async()=>t(1,i=await kn(localStorage.token)))()},[a,i,d,h,l,o,_,v,b,w,y,k,V,P,I,E,D,$,T,L]}class jf extends ot{constructor(e){super(),it(this,e,Pf,Hf,at,{show:0})}}function Rf(n){let e,t;return{c(){e=bt("svg"),t=bt("path"),this.h()},l(l){e=wt(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var s=g(e);t=wt(s,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),g(t).forEach(f),s.forEach(f),this.h()},h(){u(t,"stroke-linecap","round"),u(t,"stroke-linejoin","round"),u(t,"d","M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"fill","none"),u(e,"viewBox","0 0 24 24"),u(e,"stroke-width",n[1]),u(e,"stroke","currentColor"),u(e,"class",n[0])},m(l,s){M(l,e,s),c(e,t)},p(l,[s]){s&2&&u(e,"stroke-width",l[1]),s&1&&u(e,"class",l[0])},i:Ce,o:Ce,d(l){l&&f(e)}}}function xf(n,e,t){let{className:l="w-4 h-4"}=e,{strokeWidth:s="1.5"}=e;return n.$$set=r=>{"className"in r&&t(0,l=r.className),"strokeWidth"in r&&t(1,s=r.strokeWidth)},[l,s]}class zf extends ot{constructor(e){super(),it(this,e,xf,Rf,at,{className:0,strokeWidth:1})}}function Wf(n){let e,t;return{c(){e=bt("svg"),t=bt("path"),this.h()},l(l){e=wt(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var s=g(e);t=wt(s,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),g(t).forEach(f),s.forEach(f),this.h()},h(){u(t,"stroke-linecap","round"),u(t,"stroke-linejoin","round"),u(t,"d","m3 3 1.664 1.664M21 21l-1.5-1.5m-5.485-1.242L12 17.25 4.5 21V8.742m.164-4.078a2.15 2.15 0 0 1 1.743-1.342 48.507 48.507 0 0 1 11.186 0c1.1.128 1.907 1.077 1.907 2.185V19.5M4.664 4.664 19.5 19.5"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"fill","none"),u(e,"viewBox","0 0 24 24"),u(e,"stroke-width",n[1]),u(e,"stroke","currentColor"),u(e,"class",n[0])},m(l,s){M(l,e,s),c(e,t)},p(l,[s]){s&2&&u(e,"stroke-width",l[1]),s&1&&u(e,"class",l[0])},i:Ce,o:Ce,d(l){l&&f(e)}}}function Ff(n,e,t){let{className:l="w-4 h-4"}=e,{strokeWidth:s="1.5"}=e;return n.$$set=r=>{"className"in r&&t(0,l=r.className),"strokeWidth"in r&&t(1,s=r.strokeWidth)},[l,s]}class Yf extends ot{constructor(e){super(),it(this,e,Ff,Wf,at,{className:0,strokeWidth:1})}}function Zf(n){let e,t;return{c(){e=bt("svg"),t=bt("path"),this.h()},l(l){e=wt(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var s=g(e);t=wt(s,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),g(t).forEach(f),s.forEach(f),this.h()},h(){u(t,"stroke-linecap","round"),u(t,"stroke-linejoin","round"),u(t,"d","M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"fill","none"),u(e,"viewBox","0 0 24 24"),u(e,"stroke-width",n[1]),u(e,"stroke","currentColor"),u(e,"class",n[0])},m(l,s){M(l,e,s),c(e,t)},p(l,[s]){s&2&&u(e,"stroke-width",l[1]),s&1&&u(e,"class",l[0])},i:Ce,o:Ce,d(l){l&&f(e)}}}function Gf(n,e,t){let{className:l="size-4"}=e,{strokeWidth:s="1.5"}=e;return n.$$set=r=>{"className"in r&&t(0,l=r.className),"strokeWidth"in r&&t(1,s=r.strokeWidth)},[l,s]}class tc extends ot{constructor(e){super(),it(this,e,Gf,Zf,at,{className:0,strokeWidth:1})}}function Jf(n){let e;const t=n[16].default,l=Ql(t,n,n[31],null);return{c(){l&&l.c()},l(s){l&&l.l(s)},m(s,r){l&&l.m(s,r),e=!0},p(s,r){l&&l.p&&(!e||r[1]&1)&&es(l,t,s,s[31],e?ls(t,s[31],r,null):ts(s[31]),null)},i(s){e||(W(l,s),e=!0)},o(s){Z(l,s),e=!1},d(s){l&&l.d(s)}}}function Kf(n){let e,t;return e=new Ot({props:{content:n[9].t("More"),$$slots:{default:[Jf]},$$scope:{ctx:n}}}),{c(){ae(e.$$.fragment)},l(l){oe(e.$$.fragment,l)},m(l,s){ie(e,l,s),t=!0},p(l,s){const r={};s[0]&512&&(r.content=l[9].t("More")),s[1]&1&&(r.$$scope={dirty:s,ctx:l}),e.$set(r)},i(l){t||(W(e.$$.fragment,l),t=!0)},o(l){Z(e.$$.fragment,l),t=!1},d(l){ce(e,l)}}}function qf(n){let e,t,l,s=n[9].t("Pin")+"",r,o;return e=new zf({props:{strokeWidth:"2"}}),{c(){ae(e.$$.fragment),t=A(),l=m("div"),r=U(s),this.h()},l(a){oe(e.$$.fragment,a),t=C(a),l=p(a,"DIV",{class:!0});var i=g(l);r=H(i,s),i.forEach(f),this.h()},h(){u(l,"class","flex items-center")},m(a,i){ie(e,a,i),M(a,t,i),M(a,l,i),c(l,r),o=!0},p(a,i){(!o||i[0]&512)&&s!==(s=a[9].t("Pin")+"")&&x(r,s)},i(a){o||(W(e.$$.fragment,a),o=!0)},o(a){Z(e.$$.fragment,a),o=!1},d(a){a&&(f(t),f(l)),ce(e,a)}}}function Xf(n){let e,t,l,s=n[9].t("Unpin")+"",r,o;return e=new Yf({props:{strokeWidth:"2"}}),{c(){ae(e.$$.fragment),t=A(),l=m("div"),r=U(s),this.h()},l(a){oe(e.$$.fragment,a),t=C(a),l=p(a,"DIV",{class:!0});var i=g(l);r=H(i,s),i.forEach(f),this.h()},h(){u(l,"class","flex items-center")},m(a,i){ie(e,a,i),M(a,t,i),M(a,l,i),c(l,r),o=!0},p(a,i){(!o||i[0]&512)&&s!==(s=a[9].t("Unpin")+"")&&x(r,s)},i(a){o||(W(e.$$.fragment,a),o=!0)},o(a){Z(e.$$.fragment,a),o=!1},d(a){a&&(f(t),f(l)),ce(e,a)}}}function Qf(n){let e,t,l,s;const r=[Xf,qf],o=[];function a(i,d){return i[8]?0:1}return e=a(n),t=o[e]=r[e](n),{c(){t.c(),l=ut()},l(i){t.l(i),l=ut()},m(i,d){o[e].m(i,d),M(i,l,d),s=!0},p(i,d){let h=e;e=a(i),e===h?o[e].p(i,d):(Qe(),Z(o[h],1,1,()=>{o[h]=null}),et(),t=o[e],t?t.p(i,d):(t=o[e]=r[e](i),t.c()),W(t,1),t.m(l.parentNode,l))},i(i){s||(W(t),s=!0)},o(i){Z(t),s=!1},d(i){i&&f(l),o[e].d(i)}}}function eu(n){let e,t,l,s=n[9].t("Rename")+"",r,o;return e=new Wi({props:{strokeWidth:"2"}}),{c(){ae(e.$$.fragment),t=A(),l=m("div"),r=U(s),this.h()},l(a){oe(e.$$.fragment,a),t=C(a),l=p(a,"DIV",{class:!0});var i=g(l);r=H(i,s),i.forEach(f),this.h()},h(){u(l,"class","flex items-center")},m(a,i){ie(e,a,i),M(a,t,i),M(a,l,i),c(l,r),o=!0},p(a,i){(!o||i[0]&512)&&s!==(s=a[9].t("Rename")+"")&&x(r,s)},i(a){o||(W(e.$$.fragment,a),o=!0)},o(a){Z(e.$$.fragment,a),o=!1},d(a){a&&(f(t),f(l)),ce(e,a)}}}function tu(n){let e,t,l,s=n[9].t("Clone")+"",r,o;return e=new Fc({props:{strokeWidth:"2"}}),{c(){ae(e.$$.fragment),t=A(),l=m("div"),r=U(s),this.h()},l(a){oe(e.$$.fragment,a),t=C(a),l=p(a,"DIV",{class:!0});var i=g(l);r=H(i,s),i.forEach(f),this.h()},h(){u(l,"class","flex items-center")},m(a,i){ie(e,a,i),M(a,t,i),M(a,l,i),c(l,r),o=!0},p(a,i){(!o||i[0]&512)&&s!==(s=a[9].t("Clone")+"")&&x(r,s)},i(a){o||(W(e.$$.fragment,a),o=!0)},o(a){Z(e.$$.fragment,a),o=!1},d(a){a&&(f(t),f(l)),ce(e,a)}}}function lu(n){let e,t,l,s=n[9].t("Archive")+"",r,o;return e=new Ri({props:{strokeWidth:"2"}}),{c(){ae(e.$$.fragment),t=A(),l=m("div"),r=U(s),this.h()},l(a){oe(e.$$.fragment,a),t=C(a),l=p(a,"DIV",{class:!0});var i=g(l);r=H(i,s),i.forEach(f),this.h()},h(){u(l,"class","flex items-center")},m(a,i){ie(e,a,i),M(a,t,i),M(a,l,i),c(l,r),o=!0},p(a,i){(!o||i[0]&512)&&s!==(s=a[9].t("Archive")+"")&&x(r,s)},i(a){o||(W(e.$$.fragment,a),o=!0)},o(a){Z(e.$$.fragment,a),o=!1},d(a){a&&(f(t),f(l)),ce(e,a)}}}function su(n){let e,t,l,s=n[9].t("Share")+"",r,o;return e=new Yc({}),{c(){ae(e.$$.fragment),t=A(),l=m("div"),r=U(s),this.h()},l(a){oe(e.$$.fragment,a),t=C(a),l=p(a,"DIV",{class:!0});var i=g(l);r=H(i,s),i.forEach(f),this.h()},h(){u(l,"class","flex items-center")},m(a,i){ie(e,a,i),M(a,t,i),M(a,l,i),c(l,r),o=!0},p(a,i){(!o||i[0]&512)&&s!==(s=a[9].t("Share")+"")&&x(r,s)},i(a){o||(W(e.$$.fragment,a),o=!0)},o(a){Z(e.$$.fragment,a),o=!1},d(a){a&&(f(t),f(l)),ce(e,a)}}}function nu(n){let e,t,l,s=n[9].t("Download")+"",r,o;return e=new tc({props:{strokeWidth:"2"}}),{c(){ae(e.$$.fragment),t=A(),l=m("div"),r=U(s),this.h()},l(a){oe(e.$$.fragment,a),t=C(a),l=p(a,"DIV",{class:!0});var i=g(l);r=H(i,s),i.forEach(f),this.h()},h(){u(l,"class","flex items-center")},m(a,i){ie(e,a,i),M(a,t,i),M(a,l,i),c(l,r),o=!0},p(a,i){(!o||i[0]&512)&&s!==(s=a[9].t("Download")+"")&&x(r,s)},i(a){o||(W(e.$$.fragment,a),o=!0)},o(a){Z(e.$$.fragment,a),o=!1},d(a){a&&(f(t),f(l)),ce(e,a)}}}function ru(n){let e,t=n[9].t("Export chat (.json)")+"",l;return{c(){e=m("div"),l=U(t),this.h()},l(s){e=p(s,"DIV",{class:!0});var r=g(e);l=H(r,t),r.forEach(f),this.h()},h(){u(e,"class","flex items-center line-clamp-1")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&512&&t!==(t=s[9].t("Export chat (.json)")+"")&&x(l,t)},d(s){s&&f(e)}}}function au(n){let e,t=n[9].t("Plain text (.txt)")+"",l;return{c(){e=m("div"),l=U(t),this.h()},l(s){e=p(s,"DIV",{class:!0});var r=g(e);l=H(r,t),r.forEach(f),this.h()},h(){u(e,"class","flex items-center line-clamp-1")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&512&&t!==(t=s[9].t("Plain text (.txt)")+"")&&x(l,t)},d(s){s&&f(e)}}}function ou(n){let e,t=n[9].t("PDF document (.pdf)")+"",l;return{c(){e=m("div"),l=U(t),this.h()},l(s){e=p(s,"DIV",{class:!0});var r=g(e);l=H(r,t),r.forEach(f),this.h()},h(){u(e,"class","flex items-center line-clamp-1")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&512&&t!==(t=s[9].t("PDF document (.pdf)")+"")&&x(l,t)},d(s){s&&f(e)}}}function iu(n){let e,t,l,s,r,o;return e=new Ut({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[ru]},$$scope:{ctx:n}}}),e.$on("click",n[22]),l=new Ut({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[au]},$$scope:{ctx:n}}}),l.$on("click",n[23]),r=new Ut({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[ou]},$$scope:{ctx:n}}}),r.$on("click",n[24]),{c(){ae(e.$$.fragment),t=A(),ae(l.$$.fragment),s=A(),ae(r.$$.fragment)},l(a){oe(e.$$.fragment,a),t=C(a),oe(l.$$.fragment,a),s=C(a),oe(r.$$.fragment,a)},m(a,i){ie(e,a,i),M(a,t,i),ie(l,a,i),M(a,s,i),ie(r,a,i),o=!0},p(a,i){const d={};i[0]&512|i[1]&1&&(d.$$scope={dirty:i,ctx:a}),e.$set(d);const h={};i[0]&512|i[1]&1&&(h.$$scope={dirty:i,ctx:a}),l.$set(h);const _={};i[0]&512|i[1]&1&&(_.$$scope={dirty:i,ctx:a}),r.$set(_)},i(a){o||(W(e.$$.fragment,a),W(l.$$.fragment,a),W(r.$$.fragment,a),o=!0)},o(a){Z(e.$$.fragment,a),Z(l.$$.fragment,a),Z(r.$$.fragment,a),o=!1},d(a){a&&(f(t),f(s)),ce(e,a),ce(l,a),ce(r,a)}}}function cu(n){let e,t,l,s;return e=new Uc({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[nu]},$$scope:{ctx:n}}}),l=new Hc({props:{class:"w-full rounded-xl px-1 py-1.5 z-50 bg-white dark:bg-gray-850 dark:text-white shadow-lg",transition:mr,sideOffset:8,$$slots:{default:[iu]},$$scope:{ctx:n}}}),{c(){ae(e.$$.fragment),t=A(),ae(l.$$.fragment)},l(r){oe(e.$$.fragment,r),t=C(r),oe(l.$$.fragment,r)},m(r,o){ie(e,r,o),M(r,t,o),ie(l,r,o),s=!0},p(r,o){const a={};o[0]&512|o[1]&1&&(a.$$scope={dirty:o,ctx:r}),e.$set(a);const i={};o[0]&512|o[1]&1&&(i.$$scope={dirty:o,ctx:r}),l.$set(i)},i(r){s||(W(e.$$.fragment,r),W(l.$$.fragment,r),s=!0)},o(r){Z(e.$$.fragment,r),Z(l.$$.fragment,r),s=!1},d(r){r&&f(t),ce(e,r),ce(l,r)}}}function fu(n){let e,t,l,s=n[9].t("Delete")+"",r,o;return e=new pr({props:{strokeWidth:"2"}}),{c(){ae(e.$$.fragment),t=A(),l=m("div"),r=U(s),this.h()},l(a){oe(e.$$.fragment,a),t=C(a),l=p(a,"DIV",{class:!0});var i=g(l);r=H(i,s),i.forEach(f),this.h()},h(){u(l,"class","flex items-center")},m(a,i){ie(e,a,i),M(a,t,i),M(a,l,i),c(l,r),o=!0},p(a,i){(!o||i[0]&512)&&s!==(s=a[9].t("Delete")+"")&&x(r,s)},i(a){o||(W(e.$$.fragment,a),o=!0)},o(a){Z(e.$$.fragment,a),o=!1},d(a){a&&(f(t),f(l)),ce(e,a)}}}function uu(n){let e,t,l,s,r,o,a,i,d,h,_,v,b,w,y,k,V,P,I;return e=new Ut({props:{class:"flex gap-2 items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[Qf]},$$scope:{ctx:n}}}),e.$on("click",n[17]),l=new Ut({props:{class:"flex gap-2 items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[eu]},$$scope:{ctx:n}}}),l.$on("click",n[18]),r=new Ut({props:{class:"flex gap-2 items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[tu]},$$scope:{ctx:n}}}),r.$on("click",n[19]),a=new Ut({props:{class:"flex gap-2 items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[lu]},$$scope:{ctx:n}}}),a.$on("click",n[20]),d=new Ut({props:{class:"flex gap-2 items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800  rounded-md",$$slots:{default:[su]},$$scope:{ctx:n}}}),d.$on("click",n[21]),_=new Mc({props:{$$slots:{default:[cu]},$$scope:{ctx:n}}}),b=new Ut({props:{class:"flex  gap-2  items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[fu]},$$scope:{ctx:n}}}),b.$on("click",n[25]),P=new Bc({props:{chatId:n[6]}}),P.$on("add",n[26]),P.$on("delete",n[27]),P.$on("close",n[28]),{c(){ae(e.$$.fragment),t=A(),ae(l.$$.fragment),s=A(),ae(r.$$.fragment),o=A(),ae(a.$$.fragment),i=A(),ae(d.$$.fragment),h=A(),ae(_.$$.fragment),v=A(),ae(b.$$.fragment),w=A(),y=m("hr"),k=A(),V=m("div"),ae(P.$$.fragment),this.h()},l(E){oe(e.$$.fragment,E),t=C(E),oe(l.$$.fragment,E),s=C(E),oe(r.$$.fragment,E),o=C(E),oe(a.$$.fragment,E),i=C(E),oe(d.$$.fragment,E),h=C(E),oe(_.$$.fragment,E),v=C(E),oe(b.$$.fragment,E),w=C(E),y=p(E,"HR",{class:!0}),k=C(E),V=p(E,"DIV",{class:!0});var D=g(V);oe(P.$$.fragment,D),D.forEach(f),this.h()},h(){u(y,"class","border-gray-50 dark:border-gray-850 my-0.5"),u(V,"class","flex p-1")},m(E,D){ie(e,E,D),M(E,t,D),ie(l,E,D),M(E,s,D),ie(r,E,D),M(E,o,D),ie(a,E,D),M(E,i,D),ie(d,E,D),M(E,h,D),ie(_,E,D),M(E,v,D),ie(b,E,D),M(E,w,D),M(E,y,D),M(E,k,D),M(E,V,D),ie(P,V,null),I=!0},p(E,D){const $={};D[0]&768|D[1]&1&&($.$$scope={dirty:D,ctx:E}),e.$set($);const T={};D[0]&512|D[1]&1&&(T.$$scope={dirty:D,ctx:E}),l.$set(T);const L={};D[0]&512|D[1]&1&&(L.$$scope={dirty:D,ctx:E}),r.$set(L);const N={};D[0]&512|D[1]&1&&(N.$$scope={dirty:D,ctx:E}),a.$set(N);const S={};D[0]&512|D[1]&1&&(S.$$scope={dirty:D,ctx:E}),d.$set(S);const F={};D[0]&512|D[1]&1&&(F.$$scope={dirty:D,ctx:E}),_.$set(F);const q={};D[0]&512|D[1]&1&&(q.$$scope={dirty:D,ctx:E}),b.$set(q);const O={};D[0]&64&&(O.chatId=E[6]),P.$set(O)},i(E){I||(W(e.$$.fragment,E),W(l.$$.fragment,E),W(r.$$.fragment,E),W(a.$$.fragment,E),W(d.$$.fragment,E),W(_.$$.fragment,E),W(b.$$.fragment,E),W(P.$$.fragment,E),I=!0)},o(E){Z(e.$$.fragment,E),Z(l.$$.fragment,E),Z(r.$$.fragment,E),Z(a.$$.fragment,E),Z(d.$$.fragment,E),Z(_.$$.fragment,E),Z(b.$$.fragment,E),Z(P.$$.fragment,E),I=!1},d(E){E&&(f(t),f(s),f(o),f(i),f(h),f(v),f(w),f(y),f(k),f(V)),ce(e,E),ce(l,E),ce(r,E),ce(a,E),ce(d,E),ce(_,E),ce(b,E),ce(P)}}}function du(n){let e,t,l;return t=new zi({props:{class:"w-full max-w-[200px] rounded-xl px-1 py-1.5 z-50 bg-white dark:bg-gray-850 dark:text-white shadow-lg",sideOffset:-2,side:"bottom",align:"start",transition:mr,$$slots:{default:[uu]},$$scope:{ctx:n}}}),{c(){e=m("div"),ae(t.$$.fragment),this.h()},l(s){e=p(s,"DIV",{slot:!0});var r=g(e);oe(t.$$.fragment,r),r.forEach(f),this.h()},h(){u(e,"slot","content")},m(s,r){M(s,e,r),ie(t,e,null),l=!0},p(s,r){const o={};r[0]&1023|r[1]&1&&(o.$$scope={dirty:r,ctx:s}),t.$set(o)},i(s){l||(W(t.$$.fragment,s),l=!0)},o(s){Z(t.$$.fragment,s),l=!1},d(s){s&&f(e),ce(t)}}}function hu(n){let e,t,l;function s(o){n[29](o)}let r={$$slots:{content:[du],default:[Kf]},$$scope:{ctx:n}};return n[7]!==void 0&&(r.show=n[7]),e=new xi({props:r}),lt.push(()=>ht(e,"show",s)),e.$on("change",n[30]),{c(){ae(e.$$.fragment)},l(o){oe(e.$$.fragment,o)},m(o,a){ie(e,o,a),l=!0},p(o,a){const i={};a[0]&1023|a[1]&1&&(i.$$scope={dirty:a,ctx:o}),!t&&a[0]&128&&(t=!0,i.show=o[7],dt(()=>t=!1)),e.$set(i)},i(o){l||(W(e.$$.fragment,o),l=!0)},o(o){Z(e.$$.fragment,o),l=!1},d(o){ce(e,o)}}}function mu(n,e,t){let l,{$$slots:s={},$$scope:r}=e;const{saveAs:o}=Vs,a=At(),i=kt("i18n");Te(n,i,K=>t(9,l=K));let{shareHandler:d}=e,{cloneChatHandler:h}=e,{archiveChatHandler:_}=e,{renameHandler:v}=e,{deleteHandler:b}=e,{onClose:w}=e,{chatId:y=""}=e,k=!1,V=!1;const P=async()=>{await ir(localStorage.token,y),a("change")},I=async()=>{t(8,V=await Vc(localStorage.token,y))},E=async K=>{const te=K.chat.history;return Ya(te,te.currentId).reduce((he,me,pe,de)=>`${he}### ${me.role.toUpperCase()}
${me.content}

`,"").trim()},D=async()=>{const K=await Ol(localStorage.token,y);if(!K)return;const te=await E(K);let se=new Blob([te],{type:"text/plain"});o(se,`chat-${K.chat.title}.txt`)},$=async()=>{const K=await Ol(localStorage.token,y);if(!K)return;const te=K.chat.history,se=Ya(te,te.currentId),ue=await Zc(K.chat.title,se),he=window.URL.createObjectURL(ue),me=document.createElement("a");me.href=he,me.download=`chat-${K.chat.title}.pdf`,document.body.appendChild(me),me.click(),document.body.removeChild(me),window.URL.revokeObjectURL(he)},T=async()=>{const K=await Ol(localStorage.token,y);if(K){let te=new Blob([JSON.stringify([K])],{type:"application/json"});o(te,`chat-export-${Date.now()}.json`)}},L=()=>{P()},N=()=>{v()},S=()=>{h()},F=()=>{_()},q=()=>{d()},O=()=>{T()},B=()=>{D()},Y=()=>{$()},J=()=>{b()},G=K=>{a("tag",{type:"add",name:K.detail.name}),t(7,k=!1)},R=K=>{a("tag",{type:"delete",name:K.detail.name}),t(7,k=!1)},j=()=>{t(7,k=!1),w()};function z(K){k=K,t(7,k)}const X=K=>{K.detail===!1&&w()};return n.$$set=K=>{"shareHandler"in K&&t(0,d=K.shareHandler),"cloneChatHandler"in K&&t(1,h=K.cloneChatHandler),"archiveChatHandler"in K&&t(2,_=K.archiveChatHandler),"renameHandler"in K&&t(3,v=K.renameHandler),"deleteHandler"in K&&t(4,b=K.deleteHandler),"onClose"in K&&t(5,w=K.onClose),"chatId"in K&&t(6,y=K.chatId),"$$scope"in K&&t(31,r=K.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&128&&k&&I()},[d,h,_,v,b,w,y,k,V,l,a,i,P,D,$,T,s,L,N,S,F,q,O,B,Y,J,G,R,j,z,X,r]}class pu extends ot{constructor(e){super(),it(this,e,mu,hu,at,{shareHandler:0,cloneChatHandler:1,archiveChatHandler:2,renameHandler:3,deleteHandler:4,onClose:5,chatId:6},null,[-1,-1])}}function _u(n){let e,t,l;const s=n[4].default,r=Ql(s,n,n[3],null);return{c(){e=m("div"),t=m("div"),r&&r.c(),this.h()},l(o){e=p(o,"DIV",{class:!0});var a=g(e);t=p(a,"DIV",{class:!0,style:!0});var i=g(t);r&&r.l(i),i.forEach(f),a.forEach(f),this.h()},h(){u(t,"class","absolute text-white z-[99999]"),yt(t,"top",n[1]+10+"px"),yt(t,"left",n[0]+10+"px"),u(e,"class","fixed top-0 left-0 w-screen h-[100dvh] z-50 touch-none pointer-events-none")},m(o,a){M(o,e,a),c(e,t),r&&r.m(t,null),n[5](e),l=!0},p(o,[a]){r&&r.p&&(!l||a&8)&&es(r,s,o,o[3],l?ls(s,o[3],a,null):ts(o[3]),null),(!l||a&2)&&yt(t,"top",o[1]+10+"px"),(!l||a&1)&&yt(t,"left",o[0]+10+"px")},i(o){l||(W(r,o),l=!0)},o(o){Z(r,o),l=!1},d(o){o&&f(e),r&&r.d(o),n[5](null)}}}function vu(n,e,t){let{$$slots:l={},$$scope:s}=e,{x:r}=e,{y:o}=e,a=null;Ct(()=>{document.body.appendChild(a),document.body.style.overflow="hidden"}),ss(()=>{document.body.removeChild(a),document.body.style.overflow="unset"});function i(d){lt[d?"unshift":"push"](()=>{a=d,t(2,a)})}return n.$$set=d=>{"x"in d&&t(0,r=d.x),"y"in d&&t(1,o=d.y),"$$scope"in d&&t(3,s=d.$$scope)},[r,o,a,s,l,i]}class lc extends ot{constructor(e){super(),it(this,e,vu,_u,at,{x:0,y:1})}}function gu(n){let e,t;return{c(){e=bt("svg"),t=bt("path"),this.h()},l(l){e=wt(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var s=g(e);t=wt(s,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),g(t).forEach(f),s.forEach(f),this.h()},h(){u(t,"stroke-linecap","round"),u(t,"stroke-linejoin","round"),u(t,"d","M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"fill","none"),u(e,"viewBox","0 0 24 24"),u(e,"stroke-width",n[1]),u(e,"stroke","currentColor"),u(e,"class",n[0])},m(l,s){M(l,e,s),c(e,t)},p(l,[s]){s&2&&u(e,"stroke-width",l[1]),s&1&&u(e,"class",l[0])},i:Ce,o:Ce,d(l){l&&f(e)}}}function bu(n,e,t){let{className:l="size-4"}=e,{strokeWidth:s="1.5"}=e;return n.$$set=r=>{"className"in r&&t(0,l=r.className),"strokeWidth"in r&&t(1,s=r.strokeWidth)},[l,s]}class wu extends ot{constructor(e){super(),it(this,e,bu,gu,at,{className:0,strokeWidth:1})}}function ku(n){let e,t=n[16].t("This will delete")+"",l,s,r,o,a;return{c(){e=m("div"),l=U(t),s=A(),r=m("span"),o=U(n[2]),a=U("."),this.h()},l(i){e=p(i,"DIV",{class:!0});var d=g(e);l=H(d,t),s=C(d),r=p(d,"SPAN",{class:!0});var h=g(r);o=H(h,n[2]),h.forEach(f),a=H(d,"."),d.forEach(f),this.h()},h(){u(r,"class","font-semibold"),u(e,"class","text-sm text-gray-500 flex-1 line-clamp-3")},m(i,d){M(i,e,d),c(e,l),c(e,s),c(e,r),c(r,o),c(e,a)},p(i,d){d[0]&65536&&t!==(t=i[16].t("This will delete")+"")&&x(l,t),d[0]&4&&x(o,i[2])},d(i){i&&f(e)}}}function lo(n){let e,t;return e=new lc({props:{x:n[12],y:n[13],$$slots:{default:[yu]},$$scope:{ctx:n}}}),{c(){ae(e.$$.fragment)},l(l){oe(e.$$.fragment,l)},m(l,s){ie(e,l,s),t=!0},p(l,s){const r={};s[0]&4096&&(r.x=l[12]),s[0]&8192&&(r.y=l[13]),s[0]&4|s[1]&67108864&&(r.$$scope={dirty:s,ctx:l}),e.$set(r)},i(l){t||(W(e.$$.fragment,l),t=!0)},o(l){Z(e.$$.fragment,l),t=!1},d(l){ce(e,l)}}}function yu(n){let e,t,l,s,r,o,a;return l=new wu({props:{className:" size-[18px]",strokeWidth:"2"}}),{c(){e=m("div"),t=m("div"),ae(l.$$.fragment),s=A(),r=m("div"),o=U(n[2]),this.h()},l(i){e=p(i,"DIV",{class:!0});var d=g(e);t=p(d,"DIV",{class:!0});var h=g(t);oe(l.$$.fragment,h),s=C(h),r=p(h,"DIV",{class:!0});var _=g(r);o=H(_,n[2]),_.forEach(f),h.forEach(f),d.forEach(f),this.h()},h(){u(r,"class","text-xs text-white line-clamp-1"),u(t,"class","flex items-center gap-1"),u(e,"class","bg-black/80 backdrop-blur-2xl px-2 py-1 rounded-lg w-fit max-w-40")},m(i,d){M(i,e,d),c(e,t),ie(l,t,null),c(t,s),c(t,r),c(r,o),a=!0},p(i,d){(!a||d[0]&4)&&x(o,i[2])},i(i){a||(W(l.$$.fragment,i),a=!0)},o(i){Z(l.$$.fragment,i),a=!1},d(i){i&&f(e),ce(l)}}}function Eu(n){let e,t,l,s,r,o,a,i;return{c(){e=m("a"),t=m("div"),l=m("div"),s=U(n[2]),this.h()},l(d){e=p(d,"A",{class:!0,href:!0,draggable:!0});var h=g(e);t=p(h,"DIV",{class:!0});var _=g(t);l=p(_,"DIV",{class:!0});var v=g(l);s=H(v,n[2]),v.forEach(f),_.forEach(f),h.forEach(f),this.h()},h(){u(l,"class","text-left self-center overflow-hidden w-full h-[20px]"),u(t,"class","flex self-center flex-1 w-full"),u(e,"class",r="w-full flex justify-between rounded-lg px-[11px] py-[6px] "+(n[1]===n[15]||n[8]?"bg-gray-200 dark:bg-gray-900":n[3]?"bg-gray-100 dark:bg-gray-950":" group-hover:bg-gray-100 dark:group-hover:bg-gray-950")+" whitespace-nowrap text-ellipsis"),u(e,"href",o="/c/"+n[1]),u(e,"draggable","false")},m(d,h){M(d,e,h),c(e,t),c(t,l),c(l,s),a||(i=[le(e,"click",n[29]),le(e,"dblclick",n[30]),le(e,"mouseenter",n[31]),le(e,"mouseleave",n[32]),le(e,"focus",Lu)],a=!0)},p(d,h){h[0]&4&&x(s,d[2]),h[0]&33034&&r!==(r="w-full flex justify-between rounded-lg px-[11px] py-[6px] "+(d[1]===d[15]||d[8]?"bg-gray-200 dark:bg-gray-900":d[3]?"bg-gray-100 dark:bg-gray-950":" group-hover:bg-gray-100 dark:group-hover:bg-gray-950")+" whitespace-nowrap text-ellipsis")&&u(e,"class",r),h[0]&2&&o!==(o="/c/"+d[1])&&u(e,"href",o)},d(d){d&&f(e),a=!1,rt(i)}}}function Iu(n){let e,t,l,s,r,o;return{c(){e=m("div"),t=m("input"),this.h()},l(a){e=p(a,"DIV",{class:!0});var i=g(e);t=p(i,"INPUT",{id:!0,class:!0}),i.forEach(f),this.h()},h(){u(t,"id",l="chat-title-input-"+n[1]),u(t,"class","bg-transparent w-full outline-none mr-10"),u(e,"class",s="w-full flex justify-between rounded-lg px-[11px] py-[6px] "+(n[1]===n[15]||n[8]?"bg-gray-200 dark:bg-gray-900":n[3]?"bg-gray-100 dark:bg-gray-950":"group-hover:bg-gray-100 dark:group-hover:bg-gray-950")+" whitespace-nowrap text-ellipsis")},m(a,i){M(a,e,i),c(e,t),je(t,n[9]),r||(o=[rc(n[24].call(null,t)),le(t,"input",n[28])],r=!0)},p(a,i){i[0]&2&&l!==(l="chat-title-input-"+a[1])&&u(t,"id",l),i[0]&512&&t.value!==a[9]&&je(t,a[9]),i[0]&33034&&s!==(s="w-full flex justify-between rounded-lg px-[11px] py-[6px] "+(a[1]===a[15]||a[8]?"bg-gray-200 dark:bg-gray-900":a[3]?"bg-gray-100 dark:bg-gray-950":"group-hover:bg-gray-100 dark:group-hover:bg-gray-950")+" whitespace-nowrap text-ellipsis")&&u(e,"class",s)},d(a){a&&f(e),r=!1,rt(o)}}}function Du(n){let e,t,l,s;t=new pu({props:{chatId:n[1],cloneChatHandler:n[38],shareHandler:n[39],archiveChatHandler:n[40],renameHandler:n[41],deleteHandler:n[42],onClose:n[43],$$slots:{default:[Au]},$$scope:{ctx:n}}}),t.$on("change",n[44]),t.$on("tag",n[45]);let r=n[1]===n[15]&&so(n);return{c(){e=m("div"),ae(t.$$.fragment),l=A(),r&&r.c(),this.h()},l(o){e=p(o,"DIV",{class:!0});var a=g(e);oe(t.$$.fragment,a),l=C(a),r&&r.l(a),a.forEach(f),this.h()},h(){u(e,"class","flex self-center space-x-1 z-10")},m(o,a){M(o,e,a),ie(t,e,null),c(e,l),r&&r.m(e,null),s=!0},p(o,a){const i={};a[0]&2&&(i.chatId=o[1]),a[0]&2&&(i.cloneChatHandler=o[38]),a[0]&128&&(i.shareHandler=o[39]),a[0]&2&&(i.archiveChatHandler=o[40]),a[0]&774&&(i.renameHandler=o[41]),a[0]&16384&&(i.deleteHandler=o[42]),a[1]&67108864&&(i.$$scope={dirty:a,ctx:o}),t.$set(i),o[1]===o[15]?r?r.p(o,a):(r=so(o),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},i(o){s||(W(t.$$.fragment,o),s=!0)},o(o){Z(t.$$.fragment,o),s=!1},d(o){o&&f(e),ce(t),r&&r.d()}}}function Tu(n){let e,t,l,s,r;return t=new Ot({props:{content:n[16].t("Archive"),className:"flex items-center",$$slots:{default:[Cu]},$$scope:{ctx:n}}}),s=new Ot({props:{content:n[16].t("Delete"),$$slots:{default:[Su]},$$scope:{ctx:n}}}),{c(){e=m("div"),ae(t.$$.fragment),l=A(),ae(s.$$.fragment),this.h()},l(o){e=p(o,"DIV",{class:!0});var a=g(e);oe(t.$$.fragment,a),l=C(a),oe(s.$$.fragment,a),a.forEach(f),this.h()},h(){u(e,"class","flex items-center self-center space-x-1.5")},m(o,a){M(o,e,a),ie(t,e,null),c(e,l),ie(s,e,null),r=!0},p(o,a){const i={};a[0]&65536&&(i.content=o[16].t("Archive")),a[0]&2|a[1]&67108864&&(i.$$scope={dirty:a,ctx:o}),t.$set(i);const d={};a[0]&65536&&(d.content=o[16].t("Delete")),a[0]&2|a[1]&67108864&&(d.$$scope={dirty:a,ctx:o}),s.$set(d)},i(o){r||(W(t.$$.fragment,o),W(s.$$.fragment,o),r=!0)},o(o){Z(t.$$.fragment,o),Z(s.$$.fragment,o),r=!1},d(o){o&&f(e),ce(t),ce(s)}}}function Vu(n){let e,t,l,s,r;return t=new Ot({props:{content:n[16].t("Confirm"),$$slots:{default:[$u]},$$scope:{ctx:n}}}),s=new Ot({props:{content:n[16].t("Cancel"),$$slots:{default:[Nu]},$$scope:{ctx:n}}}),{c(){e=m("div"),ae(t.$$.fragment),l=A(),ae(s.$$.fragment),this.h()},l(o){e=p(o,"DIV",{class:!0});var a=g(e);oe(t.$$.fragment,a),l=C(a),oe(s.$$.fragment,a),a.forEach(f),this.h()},h(){u(e,"class","flex self-center items-center space-x-1.5 z-10 translate-y-[0.5px] -translate-x-[0.5px]")},m(o,a){M(o,e,a),ie(t,e,null),c(e,l),ie(s,e,null),r=!0},p(o,a){const i={};a[0]&65536&&(i.content=o[16].t("Confirm")),a[0]&770|a[1]&67108864&&(i.$$scope={dirty:a,ctx:o}),t.$set(i);const d={};a[0]&65536&&(d.content=o[16].t("Cancel")),a[0]&768|a[1]&67108864&&(d.$$scope={dirty:a,ctx:o}),s.$set(d)},i(o){r||(W(t.$$.fragment,o),W(s.$$.fragment,o),r=!0)},o(o){Z(t.$$.fragment,o),Z(s.$$.fragment,o),r=!1},d(o){o&&f(e),ce(t),ce(s)}}}function Au(n){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 8a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM6.5 8a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM12.5 6.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Z"></path></svg>',l,s;return{c(){e=m("button"),e.innerHTML=t,this.h()},l(r){e=p(r,"BUTTON",{"aria-label":!0,class:!0,"data-svelte-h":!0}),Fe(e)!=="svelte-1nmly1h"&&(e.innerHTML=t),this.h()},h(){u(e,"aria-label","Chat Menu"),u(e,"class","self-center dark:hover:text-white transition")},m(r,o){M(r,e,o),l||(s=le(e,"click",n[37]),l=!0)},p:Ce,d(r){r&&f(e),l=!1,s()}}}function so(n){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 8a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM6.5 8a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM12.5 6.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Z"></path></svg>',l,s;return{c(){e=m("button"),e.innerHTML=t,this.h()},l(r){e=p(r,"BUTTON",{id:!0,class:!0,"data-svelte-h":!0}),Fe(e)!=="svelte-1gozylk"&&(e.innerHTML=t),this.h()},h(){u(e,"id","delete-chat-button"),u(e,"class","hidden")},m(r,o){M(r,e,o),l||(s=le(e,"click",n[46]),l=!0)},p:Ce,d(r){r&&f(e),l=!1,s()}}}function Cu(n){let e,t,l,s,r;return t=new Ri({props:{className:"size-4  translate-y-[0.5px]",strokeWidth:"2"}}),{c(){e=m("button"),ae(t.$$.fragment),this.h()},l(o){e=p(o,"BUTTON",{class:!0,type:!0});var a=g(e);oe(t.$$.fragment,a),a.forEach(f),this.h()},h(){u(e,"class","self-center dark:hover:text-white transition"),u(e,"type","button")},m(o,a){M(o,e,a),ie(t,e,null),l=!0,s||(r=le(e,"click",n[35]),s=!0)},p:Ce,i(o){l||(W(t.$$.fragment,o),l=!0)},o(o){Z(t.$$.fragment,o),l=!1},d(o){o&&f(e),ce(t),s=!1,r()}}}function Su(n){let e,t,l,s,r;return t=new pr({props:{strokeWidth:"2"}}),{c(){e=m("button"),ae(t.$$.fragment),this.h()},l(o){e=p(o,"BUTTON",{class:!0,type:!0});var a=g(e);oe(t.$$.fragment,a),a.forEach(f),this.h()},h(){u(e,"class","self-center dark:hover:text-white transition"),u(e,"type","button")},m(o,a){M(o,e,a),ie(t,e,null),l=!0,s||(r=le(e,"click",n[36]),s=!0)},p:Ce,i(o){l||(W(t.$$.fragment,o),l=!0)},o(o){Z(t.$$.fragment,o),l=!1},d(o){o&&f(e),ce(t),s=!1,r()}}}function $u(n){let e,t,l,s,r;return t=new Jc({props:{className:" size-3.5",strokeWidth:"2.5"}}),{c(){e=m("button"),ae(t.$$.fragment),this.h()},l(o){e=p(o,"BUTTON",{class:!0});var a=g(e);oe(t.$$.fragment,a),a.forEach(f),this.h()},h(){u(e,"class","self-center dark:hover:text-white transition")},m(o,a){M(o,e,a),ie(t,e,null),l=!0,s||(r=le(e,"click",n[33]),s=!0)},p:Ce,i(o){l||(W(t.$$.fragment,o),l=!0)},o(o){Z(t.$$.fragment,o),l=!1},d(o){o&&f(e),ce(t),s=!1,r()}}}function Nu(n){let e,t,l,s,r;return t=new Fi({props:{strokeWidth:"2.5"}}),{c(){e=m("button"),ae(t.$$.fragment),this.h()},l(o){e=p(o,"BUTTON",{class:!0});var a=g(e);oe(t.$$.fragment,a),a.forEach(f),this.h()},h(){u(e,"class","self-center dark:hover:text-white transition")},m(o,a){M(o,e,a),ie(t,e,null),l=!0,s||(r=le(e,"click",n[34]),s=!0)},p:Ce,i(o){l||(W(t.$$.fragment,o),l=!0)},o(o){Z(t.$$.fragment,o),l=!1},d(o){o&&f(e),ce(t),s=!1,r()}}}function Ou(n){let e,t,l,s,r,o,a,i,d,h,_,v,b,w,y,k,V;function P(O){n[25](O)}let I={chatId:n[1]};n[7]!==void 0&&(I.show=n[7]),e=new Pc({props:I}),lt.push(()=>ht(e,"show",P));function E(O){n[26](O)}let D={title:n[16].t("Delete chat?"),$$slots:{default:[ku]},$$scope:{ctx:n}};n[14]!==void 0&&(D.show=n[14]),s=new On({props:D}),lt.push(()=>ht(s,"show",E)),s.$on("confirm",n[27]);let $=n[11]&&n[12]&&n[13]&&lo(n);function T(O,B){return O[8]?Iu:Eu}let L=T(n),N=L(n);const S=[Vu,Tu,Du],F=[];function q(O,B){return O[8]?0:O[4]&&O[5]?1:2}return _=q(n),v=F[_]=S[_](n),{c(){ae(e.$$.fragment),l=A(),ae(s.$$.fragment),o=A(),$&&$.c(),a=A(),i=m("div"),N.c(),d=A(),h=m("div"),v.c(),this.h()},l(O){oe(e.$$.fragment,O),l=C(O),oe(s.$$.fragment,O),o=C(O),$&&$.l(O),a=C(O),i=p(O,"DIV",{class:!0,draggable:!0});var B=g(i);N.l(B),d=C(B),h=p(B,"DIV",{class:!0});var Y=g(h);v.l(Y),Y.forEach(f),B.forEach(f),this.h()},h(){u(h,"class",b=(n[1]===n[15]||n[8]?"from-gray-200 dark:from-gray-900":n[3]?"from-gray-100 dark:from-gray-950":"invisible group-hover:visible from-gray-100 dark:from-gray-950")+" absolute "+(n[0]==="pr-2"?"right-[8px]":"right-0")+" top-[4px] py-1 pr-0.5 mr-1.5 pl-5 bg-gradient-to-l from-80% to-transparent"),u(i,"class",w="w-full "+n[0]+" relative group"),u(i,"draggable",n[6])},m(O,B){ie(e,O,B),M(O,l,B),ie(s,O,B),M(O,o,B),$&&$.m(O,B),M(O,a,B),M(O,i,B),N.m(i,null),c(i,d),c(i,h),F[_].m(h,null),n[49](i),y=!0,k||(V=[le(h,"mouseenter",n[47]),le(h,"mouseleave",n[48])],k=!0)},p(O,B){const Y={};B[0]&2&&(Y.chatId=O[1]),!t&&B[0]&128&&(t=!0,Y.show=O[7],dt(()=>t=!1)),e.$set(Y);const J={};B[0]&65536&&(J.title=O[16].t("Delete chat?")),B[0]&65540|B[1]&67108864&&(J.$$scope={dirty:B,ctx:O}),!r&&B[0]&16384&&(r=!0,J.show=O[14],dt(()=>r=!1)),s.$set(J),O[11]&&O[12]&&O[13]?$?($.p(O,B),B[0]&14336&&W($,1)):($=lo(O),$.c(),W($,1),$.m(a.parentNode,a)):$&&(Qe(),Z($,1,1,()=>{$=null}),et()),L===(L=T(O))&&N?N.p(O,B):(N.d(1),N=L(O),N&&(N.c(),N.m(i,d)));let G=_;_=q(O),_===G?F[_].p(O,B):(Qe(),Z(F[G],1,1,()=>{F[G]=null}),et(),v=F[_],v?v.p(O,B):(v=F[_]=S[_](O),v.c()),W(v,1),v.m(h,null)),(!y||B[0]&33035&&b!==(b=(O[1]===O[15]||O[8]?"from-gray-200 dark:from-gray-900":O[3]?"from-gray-100 dark:from-gray-950":"invisible group-hover:visible from-gray-100 dark:from-gray-950")+" absolute "+(O[0]==="pr-2"?"right-[8px]":"right-0")+" top-[4px] py-1 pr-0.5 mr-1.5 pl-5 bg-gradient-to-l from-80% to-transparent"))&&u(h,"class",b),(!y||B[0]&1&&w!==(w="w-full "+O[0]+" relative group"))&&u(i,"class",w),(!y||B[0]&64)&&u(i,"draggable",O[6])},i(O){y||(W(e.$$.fragment,O),W(s.$$.fragment,O),W($),W(v),y=!0)},o(O){Z(e.$$.fragment,O),Z(s.$$.fragment,O),Z($),Z(v),y=!1},d(O){O&&(f(l),f(o),f(a),f(i)),ce(e,O),ce(s,O),$&&$.d(O),N.d(),F[_].d(),n[49](null),k=!1,rt(V)}}}const Lu=n=>{};function Mu(n,e,t){let l,s,r,o;Te(n,rr,Q=>t(15,l=Q)),Te(n,rl,Q=>t(52,s=Q)),Te(n,An,Q=>t(17,o=Q));const a=kt("i18n");Te(n,a,Q=>t(16,r=Q));const i=At();let{className:d=""}=e,{id:h}=e,{title:_}=e,{selected:v=!1}=e,{shiftKey:b=!1}=e,w=null,y=!1,k=!1;const V=async()=>{w||(t(6,k=!1),w=await Ol(localStorage.token,h),t(6,k=!0))};let P=!1,I=!1,E=_;const D=async(Q,ve)=>{ve===""?Le.error(r.t("Title cannot be an empty string.")):(await Ac(localStorage.token,Q,{title:ve}),Q===l&&ic.set(ve),rl.set(1),await nl.set(await Ll(localStorage.token,s)),await Cn.set(await cr(localStorage.token)))},$=async Q=>{const ve=await Cc(localStorage.token,Q,r.t("Clone of {{TITLE}}",{TITLE:_})).catch(ge=>(Le.error(`${ge}`),null));ve&&(gl(`/c/${ve.id}`),rl.set(1),await nl.set(await Ll(localStorage.token,s)),await Cn.set(await cr(localStorage.token)))},T=async Q=>{await ji(localStorage.token,Q).catch(ge=>(Le.error(`${ge}`),null))&&(Ts.set(await Sn(localStorage.token)),l===Q&&(await gl("/"),await rr.set(""),await Al()),i("change"))},L=async Q=>{await or(localStorage.token,Q),i("change")},N=async Q=>{Q.focus()};let S,F=!1,q=0,O=0;const B=new Image;B.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=";const Y=Q=>{Q.stopPropagation(),Q.dataTransfer.setDragImage(B,0,0),Q.dataTransfer.setData("text/plain",JSON.stringify({type:"chat",id:h,item:w})),t(11,F=!0),t(10,S.style.opacity="0.5",S)},J=Q=>{Q.stopPropagation(),t(12,q=Q.clientX),t(13,O=Q.clientY)},G=Q=>{Q.stopPropagation(),t(10,S.style.opacity="1",S),t(11,F=!1)};Ct(()=>{S&&(S.addEventListener("dragstart",Y),S.addEventListener("drag",J),S.addEventListener("dragend",G))}),ss(()=>{S&&(S.removeEventListener("dragstart",Y),S.removeEventListener("drag",J),S.removeEventListener("dragend",G))});let R=!1;function j(Q){P=Q,t(7,P)}function z(Q){R=Q,t(14,R)}const X=()=>{T(h)};function K(){E=this.value,t(9,E)}const te=()=>{i("select"),o&&Lt.set(!1)},se=()=>{t(9,E=_),t(8,I=!0)},ue=Q=>{t(5,y=!0)},he=Q=>{t(5,y=!1)},me=()=>{D(h,E),t(8,I=!1),t(9,E="")},pe=()=>{t(8,I=!1),t(9,E="")},de=()=>{L(h)},ke=()=>{T(h)},We=()=>{i("select")},Me=()=>{$(h)},be=()=>{t(7,P=!0)},re=()=>{L(h)},Ie=async()=>{t(9,E=_),t(8,I=!0),await Al();const Q=document.getElementById(`chat-title-input-${h}`);Q&&Q.focus()},Be=()=>{t(14,R=!0)},Ye=()=>{i("unselect")},De=async()=>{i("change")},Ae=Q=>{i("tag",Q.detail)},Se=()=>{t(14,R=!0)},Re=Q=>{t(5,y=!0)},Ze=Q=>{t(5,y=!1)};function nt(Q){lt[Q?"unshift":"push"](()=>{S=Q,t(10,S)})}return n.$$set=Q=>{"className"in Q&&t(0,d=Q.className),"id"in Q&&t(1,h=Q.id),"title"in Q&&t(2,_=Q.title),"selected"in Q&&t(3,v=Q.selected),"shiftKey"in Q&&t(4,b=Q.shiftKey)},n.$$.update=()=>{n.$$.dirty[0]&32&&y&&V()},[d,h,_,v,b,y,k,P,I,E,S,F,q,O,R,l,r,o,a,i,D,$,T,L,N,j,z,X,K,te,se,ue,he,me,pe,de,ke,We,Me,be,re,Ie,Be,Ye,De,Ae,Se,Re,Ze,nt]}class vr extends ot{constructor(e){super(),it(this,e,Mu,Ou,at,{className:0,id:1,title:2,selected:3,shiftKey:4},null,[-1,-1])}}function no(n,e,t){const l=n.slice();return l[26]=e[t],l[28]=t,l}function ro(n,e,t){const l=n.slice();return l[23]=e[t],l[25]=t,l}function ao(n){let e,t,l,s,r;function o(d,h){if(d[6].length>0)return Uu;if(d[5].length>0)return Bu}let a=o(n),i=a&&a(n);return{c(){e=m("div"),t=m("div"),i&&i.c(),this.h()},l(d){e=p(d,"DIV",{class:!0});var h=g(e);t=p(h,"DIV",{class:!0});var _=g(t);i&&i.l(_),_.forEach(f),h.forEach(f),this.h()},h(){u(t,"class","px-2 py-2 text-xs group"),u(e,"class","absolute top-0 mt-8 left-0 right-1 border dark:border-gray-900 bg-gray-50 dark:bg-gray-950 rounded-lg z-10 shadow-lg")},m(d,h){M(d,e,h),c(e,t),i&&i.m(t,null),s||(r=[le(e,"mouseenter",n[18]),le(e,"mouseleave",n[19])],s=!0)},p(d,h){a===(a=o(d))&&i?i.p(d,h):(i&&i.d(1),i=a&&a(d),i&&(i.c(),i.m(t,null)))},i(d){d&&(l||Ml(()=>{l=$i(e,Ni,{duration:50}),l.start()}))},o:Ce,d(d){d&&f(e),i&&i.d(),s=!1,rt(r)}}}function Bu(n){let e,t=n[2].t("Search options")+"",l,s,r,o=st(n[5]),a=[];for(let i=0;i<o.length;i+=1)a[i]=oo(no(n,o,i));return{c(){e=m("div"),l=U(t),s=A(),r=m("div");for(let i=0;i<a.length;i+=1)a[i].c();this.h()},l(i){e=p(i,"DIV",{class:!0});var d=g(e);l=H(d,t),d.forEach(f),s=C(i),r=p(i,"DIV",{class:!0});var h=g(r);for(let _=0;_<a.length;_+=1)a[_].l(h);h.forEach(f),this.h()},h(){u(e,"class","px-1 font-medium dark:text-gray-300 text-gray-700 mb-1"),u(r,"class","max-h-60 overflow-auto")},m(i,d){M(i,e,d),c(e,l),M(i,s,d),M(i,r,d);for(let h=0;h<a.length;h+=1)a[h]&&a[h].m(r,null)},p(i,d){if(d&4&&t!==(t=i[2].t("Search options")+"")&&x(l,t),d&169){o=st(i[5]);let h;for(h=0;h<o.length;h+=1){const _=no(i,o,h);a[h]?a[h].p(_,d):(a[h]=oo(_),a[h].c(),a[h].m(r,null))}for(;h<a.length;h+=1)a[h].d(1);a.length=o.length}},d(i){i&&(f(e),f(s),f(r)),$t(a,i)}}}function Uu(n){let e,t="Tags",l,s,r=st(n[6]),o=[];for(let a=0;a<r.length;a+=1)o[a]=io(ro(n,r,a));return{c(){e=m("div"),e.textContent=t,l=A(),s=m("div");for(let a=0;a<o.length;a+=1)o[a].c();this.h()},l(a){e=p(a,"DIV",{class:!0,"data-svelte-h":!0}),Fe(e)!=="svelte-16um22k"&&(e.textContent=t),l=C(a),s=p(a,"DIV",{class:!0});var i=g(s);for(let d=0;d<o.length;d+=1)o[d].l(i);i.forEach(f),this.h()},h(){u(e,"class","px-1 font-medium dark:text-gray-300 text-gray-700 mb-1"),u(s,"class","max-h-60 overflow-auto")},m(a,i){M(a,e,i),M(a,l,i),M(a,s,i);for(let d=0;d<o.length;d+=1)o[d]&&o[d].m(s,null)},p(a,i){if(i&201){r=st(a[6]);let d;for(d=0;d<r.length;d+=1){const h=ro(a,r,d);o[d]?o[d].p(h,i):(o[d]=io(h),o[d].c(),o[d].m(s,null))}for(;d<o.length;d+=1)o[d].d(1);o.length=r.length}},d(a){a&&(f(e),f(l),f(s)),$t(o,a)}}}function oo(n){let e,t,l=n[26].name+"",s,r,o,a=n[26].description+"",i,d,h,_,v;return{c(){e=m("button"),t=m("div"),s=U(l),r=A(),o=m("div"),i=U(a),d=A(),this.h()},l(b){e=p(b,"BUTTON",{class:!0,id:!0});var w=g(e);t=p(w,"DIV",{class:!0});var y=g(t);s=H(y,l),y.forEach(f),r=C(w),o=p(w,"DIV",{class:!0});var k=g(o);i=H(k,a),k.forEach(f),d=C(w),w.forEach(f),this.h()},h(){u(t,"class","dark:text-gray-300 text-gray-700 font-medium"),u(o,"class","text-gray-500 line-clamp-1"),u(e,"class",h="px-1.5 py-0.5 flex gap-1 hover:bg-gray-100 dark:hover:bg-gray-900 w-full rounded "+(n[3]===n[28]?"bg-gray-100 dark:bg-gray-900":"")),u(e,"id","search-option-"+n[28])},m(b,w){M(b,e,w),c(e,t),c(t,s),c(e,r),c(e,o),c(o,i),c(e,d),_||(v=le(e,"click",Si(n[17])),_=!0)},p(b,w){w&32&&l!==(l=b[26].name+"")&&x(s,l),w&32&&a!==(a=b[26].description+"")&&x(i,a),w&8&&h!==(h="px-1.5 py-0.5 flex gap-1 hover:bg-gray-100 dark:hover:bg-gray-900 w-full rounded "+(b[3]===b[28]?"bg-gray-100 dark:bg-gray-900":""))&&u(e,"class",h)},d(b){b&&f(e),_=!1,v()}}}function io(n){let e,t,l=n[23].name+"",s,r,o,a=n[23].id+"",i,d,h,_,v;function b(){return n[16](n[23])}return{c(){e=m("button"),t=m("div"),s=U(l),r=A(),o=m("div"),i=U(a),d=A(),this.h()},l(w){e=p(w,"BUTTON",{class:!0,id:!0});var y=g(e);t=p(y,"DIV",{class:!0});var k=g(t);s=H(k,l),k.forEach(f),r=C(y),o=p(y,"DIV",{class:!0});var V=g(o);i=H(V,a),V.forEach(f),d=C(y),y.forEach(f),this.h()},h(){u(t,"class","dark:text-gray-300 text-gray-700 font-medium line-clamp-1 flex-shrink-0"),u(o,"class","text-gray-500 line-clamp-1"),u(e,"class",h="px-1.5 py-0.5 flex gap-1 hover:bg-gray-100 dark:hover:bg-gray-900 w-full rounded "+(n[3]===n[25]?"bg-gray-100 dark:bg-gray-900":"")),u(e,"id","search-tag-"+n[25])},m(w,y){M(w,e,y),c(e,t),c(t,s),c(e,r),c(e,o),c(o,i),c(e,d),_||(v=le(e,"click",Si(b)),_=!0)},p(w,y){n=w,y&64&&l!==(l=n[23].name+"")&&x(s,l),y&64&&a!==(a=n[23].id+"")&&x(i,a),y&8&&h!==(h="px-1.5 py-0.5 flex gap-1 hover:bg-gray-100 dark:hover:bg-gray-900 w-full rounded "+(n[3]===n[25]?"bg-gray-100 dark:bg-gray-900":""))&&u(e,"class",h)},d(w){w&&f(e),_=!1,v()}}}function Hu(n){let e,t,l,s='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd"></path></svg>',r,o,a,i,d,h,_=n[4]&&(n[5].length>0||n[6].length>0)&&ao(n);return{c(){e=m("div"),t=m("div"),l=m("div"),l.innerHTML=s,r=A(),o=m("input"),i=A(),_&&_.c(),this.h()},l(v){e=p(v,"DIV",{class:!0,id:!0});var b=g(e);t=p(b,"DIV",{class:!0,id:!0});var w=g(t);l=p(w,"DIV",{class:!0,"data-svelte-h":!0}),Fe(l)!=="svelte-1k3m202"&&(l.innerHTML=s),r=C(w),o=p(w,"INPUT",{class:!0,placeholder:!0}),w.forEach(f),i=C(b),_&&_.l(b),b.forEach(f),this.h()},h(){u(l,"class","self-center pl-3 py-2 rounded-l-xl bg-transparent"),u(o,"class","w-full rounded-r-xl py-1.5 pl-2.5 pr-4 text-sm bg-transparent dark:text-gray-300 outline-none"),u(o,"placeholder",a=n[1]?n[1]:n[2].t("Search")),u(t,"class","flex w-full rounded-xl"),u(t,"id","chat-search"),u(e,"class","px-1 mb-1 flex justify-center space-x-2 relative z-10"),u(e,"id","search-container")},m(v,b){M(v,e,b),c(e,t),c(t,l),c(t,r),c(t,o),je(o,n[0]),c(e,i),_&&_.m(e,null),d||(h=[le(o,"input",n[12]),le(o,"input",n[13]),le(o,"focus",n[14]),le(o,"keydown",n[15])],d=!0)},p(v,[b]){b&6&&a!==(a=v[1]?v[1]:v[2].t("Search"))&&u(o,"placeholder",a),b&1&&o.value!==v[0]&&je(o,v[0]),v[4]&&(v[5].length>0||v[6].length>0)?_?(_.p(v,b),b&112&&W(_,1)):(_=ao(v),_.c(),W(_,1),_.m(e,null)):_&&(_.d(1),_=null)},i(v){W(_)},o:Ce,d(v){v&&f(e),_&&_.d(),d=!1,rt(h)}}}function Pu(n,e,t){let l,s;Te(n,Ts,N=>t(11,s=N));const r=At(),o=kt("i18n");Te(n,o,N=>t(2,l=N));let{placeholder:a=""}=e,{value:i=""}=e,d=0,h="",_=[{name:"tag:",description:l.t("search for tags")}],v=!1,b=_,w=[];const y=async()=>{await Ts.set(await Sn(localStorage.token))},k=N=>{const S=document.getElementById("search-container"),F=document.getElementById("chat-search");if(!S.contains(N.target)&&!F.contains(N.target)){if(N.target.id.startsWith("search-tag-")||N.target.id.startsWith("search-option-"))return;t(4,v=!1)}};Ct(()=>{document.addEventListener("click",k)}),ss(()=>{document.removeEventListener("click",k)});function V(){i=this.value,t(0,i)}const P=()=>{r("input")},I=()=>{t(4,v=!0),y()},E=N=>{if(N.key==="Enter"){if(w.length>0){document.getElementById(`search-tag-${d}`).click();return}if(b.length>0){document.getElementById(`search-option-${d}`).click();return}}N.key==="ArrowUp"?(N.preventDefault(),t(3,d=Math.max(0,d-1))):N.key==="ArrowDown"?(N.preventDefault(),w.length>0?t(3,d=Math.min(d+1,w.length-1)):t(3,d=Math.min(d+1,b.length-1))):t(3,d=0)},D=async N=>{const S=i.split(" ");S.pop(),S.push(`tag:${N.id} `),t(0,i=S.join(" ")),r("input")},$=async()=>{const N=i.split(" ");N.pop(),N.push("tag:"),t(0,i=N.join(" ")),r("input")},T=()=>{t(3,d=null)},L=()=>{t(3,d=0)};return n.$$set=N=>{"placeholder"in N&&t(1,a=N.placeholder),"value"in N&&t(0,i=N.value)},n.$$.update=()=>{n.$$.dirty&1&&t(10,h=i&&i.split(" ").at(-1)),n.$$.dirty&1024&&t(5,b=_.filter(N=>N.name.startsWith(h))),n.$$.dirty&3076&&t(6,w=h.startsWith("tag:")?[...s,{id:"none",name:l.t("Untagged")}].filter(N=>{const S=h.slice(4);if(S){const F=S.replace(" ","_").toLowerCase();return N.id!==F?N.id.startsWith(F):!1}else return!0}):[])},[i,a,l,d,v,b,w,r,o,y,h,s,V,P,I,E,D,$,T,L]}class ju extends ot{constructor(e){super(),it(this,e,Pu,Hu,at,{placeholder:1,value:0})}}function co(n){let e;return{c(){e=m("div"),this.h()},l(t){e=p(t,"DIV",{class:!0}),g(e).forEach(f),this.h()},h(){u(e,"class","absolute top-0 left-0 w-full h-full rounded-sm bg-gray-100/50 dark:bg-gray-700/20 bg-opacity-50 dark:bg-opacity-10 z-50 pointer-events-none touch-none")},m(t,l){M(t,e,l)},d(t){t&&f(e)}}}function Ru(n){let e;const t=n[11].default,l=Ql(t,n,n[16],null);return{c(){l&&l.c()},l(s){l&&l.l(s)},m(s,r){l&&l.m(s,r),e=!0},p(s,r){l&&l.p&&(!e||r&65536)&&es(l,t,s,s[16],e?ls(t,s[16],r,null):ts(s[16]),null)},i(s){e||(W(l,s),e=!0)},o(s){Z(l,s),e=!1},d(s){l&&l.d(s)}}}function xu(n){let e,t,l;function s(o){n[13](o)}let r={className:"w-full ",buttonClassName:"w-full",$$slots:{content:[Zu],default:[Yu]},$$scope:{ctx:n}};return n[0]!==void 0&&(r.open=n[0]),e=new Ji({props:r}),lt.push(()=>ht(e,"open",s)),e.$on("change",n[14]),{c(){ae(e.$$.fragment)},l(o){oe(e.$$.fragment,o)},m(o,a){ie(e,o,a),l=!0},p(o,a){const i={};a&65563&&(i.$$scope={dirty:a,ctx:o}),!t&&a&1&&(t=!0,i.open=o[0],dt(()=>t=!1)),e.$set(i)},i(o){l||(W(e.$$.fragment,o),l=!0)},o(o){Z(e.$$.fragment,o),l=!1},d(o){ce(e,o)}}}function zu(n){let e,t;return e=new Gi({props:{className:" size-3",strokeWidth:"2.5"}}),{c(){ae(e.$$.fragment)},l(l){oe(e.$$.fragment,l)},m(l,s){ie(e,l,s),t=!0},i(l){t||(W(e.$$.fragment,l),t=!0)},o(l){Z(e.$$.fragment,l),t=!1},d(l){ce(e,l)}}}function Wu(n){let e,t;return e=new Zi({props:{className:" size-3",strokeWidth:"2.5"}}),{c(){ae(e.$$.fragment)},l(l){oe(e.$$.fragment,l)},m(l,s){ie(e,l,s),t=!0},i(l){t||(W(e.$$.fragment,l),t=!0)},o(l){Z(e.$$.fragment,l),t=!1},d(l){ce(e,l)}}}function fo(n){let e,t,l,s,r;return t=new Ot({props:{content:n[3],$$slots:{default:[Fu]},$$scope:{ctx:n}}}),{c(){e=m("button"),ae(t.$$.fragment),this.h()},l(o){e=p(o,"BUTTON",{class:!0});var a=g(e);oe(t.$$.fragment,a),a.forEach(f),this.h()},h(){u(e,"class","absolute z-10 right-2 invisible group-hover:visible self-center flex items-center dark:text-gray-300")},m(o,a){M(o,e,a),ie(t,e,null),l=!0,s||(r=[le(e,"pointerup",Ku),le(e,"click",n[12])],s=!0)},p(o,a){const i={};a&8&&(i.content=o[3]),a&65536&&(i.$$scope={dirty:a,ctx:o}),t.$set(i)},i(o){l||(W(t.$$.fragment,o),l=!0)},o(o){Z(t.$$.fragment,o),l=!1},d(o){o&&f(e),ce(t),s=!1,rt(r)}}}function Fu(n){let e,t,l,s,r;return t=new Ki({props:{className:" size-3",strokeWidth:"2.5"}}),{c(){e=m("button"),ae(t.$$.fragment),this.h()},l(o){e=p(o,"BUTTON",{class:!0});var a=g(e);oe(t.$$.fragment,a),a.forEach(f),this.h()},h(){u(e,"class","p-0.5 dark:hover:bg-gray-850 rounded-lg touch-auto")},m(o,a){M(o,e,a),ie(t,e,null),l=!0,s||(r=le(e,"click",Ju),s=!0)},p:Ce,i(o){l||(W(t.$$.fragment,o),l=!0)},o(o){Z(t.$$.fragment,o),l=!1},d(o){o&&f(e),ce(t),s=!1,r()}}}function Yu(n){let e,t,l,s,r,o,a,i,d,h;const _=[Wu,zu],v=[];function b(y,k){return y[0]?0:1}s=b(n),r=v[s]=_[s](n);let w=n[4]&&fo(n);return{c(){e=m("div"),t=m("button"),l=m("div"),r.c(),o=A(),a=m("div"),i=U(n[1]),d=A(),w&&w.c(),this.h()},l(y){e=p(y,"DIV",{class:!0});var k=g(e);t=p(k,"BUTTON",{class:!0});var V=g(t);l=p(V,"DIV",{class:!0});var P=g(l);r.l(P),P.forEach(f),o=C(V),a=p(V,"DIV",{class:!0});var I=g(a);i=H(I,n[1]),I.forEach(f),V.forEach(f),d=C(k),w&&w.l(k),k.forEach(f),this.h()},h(){u(l,"class","text-gray-300 dark:text-gray-600"),u(a,"class","translate-y-[0.5px]"),u(t,"class","w-full py-1.5 pl-2 flex items-center gap-1.5 text-xs font-medium"),u(e,"class","w-full group rounded-md relative flex items-center justify-between hover:bg-gray-100 dark:hover:bg-gray-900 text-gray-500 dark:text-gray-500 transition")},m(y,k){M(y,e,k),c(e,t),c(t,l),v[s].m(l,null),c(t,o),c(t,a),c(a,i),c(e,d),w&&w.m(e,null),h=!0},p(y,k){let V=s;s=b(y),s!==V&&(Qe(),Z(v[V],1,1,()=>{v[V]=null}),et(),r=v[s],r||(r=v[s]=_[s](y),r.c()),W(r,1),r.m(l,null)),(!h||k&2)&&x(i,y[1]),y[4]?w?(w.p(y,k),k&16&&W(w,1)):(w=fo(y),w.c(),W(w,1),w.m(e,null)):w&&(Qe(),Z(w,1,1,()=>{w=null}),et())},i(y){h||(W(r),W(w),h=!0)},o(y){Z(r),Z(w),h=!1},d(y){y&&f(e),v[s].d(),w&&w.d()}}}function Zu(n){let e,t;const l=n[11].default,s=Ql(l,n,n[16],null);return{c(){e=m("div"),s&&s.c(),this.h()},l(r){e=p(r,"DIV",{slot:!0,class:!0});var o=g(e);s&&s.l(o),o.forEach(f),this.h()},h(){u(e,"slot","content"),u(e,"class","w-full")},m(r,o){M(r,e,o),s&&s.m(e,null),t=!0},p(r,o){s&&s.p&&(!t||o&65536)&&es(s,l,r,r[16],t?ls(l,r[16],o,null):ts(r[16]),null)},i(r){t||(W(s,r),t=!0)},o(r){Z(s,r),t=!1},d(r){r&&f(e),s&&s.d(r)}}}function Gu(n){let e,t,l,s,r,o,a=n[7]&&co();const i=[xu,Ru],d=[];function h(_,v){return _[2]?0:1}return l=h(n),s=d[l]=i[l](n),{c(){e=m("div"),a&&a.c(),t=A(),s.c(),this.h()},l(_){e=p(_,"DIV",{class:!0});var v=g(e);a&&a.l(v),t=C(v),s.l(v),v.forEach(f),this.h()},h(){u(e,"class",r="relative "+n[5])},m(_,v){M(_,e,v),a&&a.m(e,null),c(e,t),d[l].m(e,null),n[15](e),o=!0},p(_,[v]){_[7]?a||(a=co(),a.c(),a.m(e,t)):a&&(a.d(1),a=null);let b=l;l=h(_),l===b?d[l].p(_,v):(Qe(),Z(d[b],1,1,()=>{d[b]=null}),et(),s=d[l],s?s.p(_,v):(s=d[l]=i[l](_),s.c()),W(s,1),s.m(e,null)),(!o||v&32&&r!==(r="relative "+_[5]))&&u(e,"class",r)},i(_){o||(W(s),o=!0)},o(_){Z(s),o=!1},d(_){_&&f(e),a&&a.d(),d[l].d(),n[15](null)}}}const Ju=n=>{},Ku=n=>{n.stopPropagation()};function qu(n,e,t){let{$$slots:l={},$$scope:s}=e;kt("i18n");const r=At();let{open:o=!0}=e,{id:a=""}=e,{name:i=""}=e,{collapsible:d=!0}=e,{onAddLabel:h=""}=e,{onAdd:_=null}=e,{dragAndDrop:v=!0}=e,{className:b=""}=e,w,y=!1;const k=T=>{T.preventDefault(),T.stopPropagation(),t(7,y=!0)},V=T=>{if(T.preventDefault(),T.stopPropagation(),w.contains(T.target)){if(console.log("Dropped on the Button"),T.dataTransfer.items&&T.dataTransfer.items.length>0)for(const L of Array.from(T.dataTransfer.items))if(L.kind==="file"){const N=L.getAsFile();if(N&&N.type==="application/json"){console.log("Dropped file is a JSON file!");const S=new FileReader;S.onload=async function(F){try{const q=JSON.parse(F.target.result);console.log("Parsed JSON Content: ",q),t(0,o=!0),r("import",q)}catch(q){console.error("Error parsing JSON file:",q)}},S.readAsText(N)}else console.error("Only JSON file types are supported.")}else{t(0,o=!0);const N=T.dataTransfer.getData("text/plain"),S=JSON.parse(N);console.log(S),r("drop",S)}t(7,y=!1)}},P=T=>{T.preventDefault(),T.stopPropagation(),t(7,y=!1)};Ct(()=>{v&&(w.addEventListener("dragover",k),w.addEventListener("drop",V),w.addEventListener("dragleave",P))}),ss(()=>{v&&(w.addEventListener("dragover",k),w.removeEventListener("drop",V),w.removeEventListener("dragleave",P))});const I=T=>{T.stopPropagation(),_()};function E(T){o=T,t(0,o)}const D=T=>{r("change",T.detail)};function $(T){lt[T?"unshift":"push"](()=>{w=T,t(6,w)})}return n.$$set=T=>{"open"in T&&t(0,o=T.open),"id"in T&&t(9,a=T.id),"name"in T&&t(1,i=T.name),"collapsible"in T&&t(2,d=T.collapsible),"onAddLabel"in T&&t(3,h=T.onAddLabel),"onAdd"in T&&t(4,_=T.onAdd),"dragAndDrop"in T&&t(10,v=T.dragAndDrop),"className"in T&&t(5,b=T.className),"$$scope"in T&&t(16,s=T.$$scope)},[o,i,d,h,_,b,w,y,r,a,v,l,I,E,D,$,s]}class gr extends ot{constructor(e){super(),it(this,e,qu,Gu,at,{open:0,id:9,name:1,collapsible:2,onAddLabel:3,onAdd:4,dragAndDrop:10,className:5})}}function Xu(n){let e;const t=n[4].default,l=Ql(t,n,n[10],null);return{c(){l&&l.c()},l(s){l&&l.l(s)},m(s,r){l&&l.m(s,r),e=!0},p(s,r){l&&l.p&&(!e||r&1024)&&es(l,t,s,s[10],e?ls(t,s[10],r,null):ts(s[10]),null)},i(s){e||(W(l,s),e=!0)},o(s){Z(l,s),e=!1},d(s){l&&l.d(s)}}}function Qu(n){let e,t;return e=new Ot({props:{content:n[1].t("More"),$$slots:{default:[Xu]},$$scope:{ctx:n}}}),{c(){ae(e.$$.fragment)},l(l){oe(e.$$.fragment,l)},m(l,s){ie(e,l,s),t=!0},p(l,s){const r={};s&2&&(r.content=l[1].t("More")),s&1024&&(r.$$scope={dirty:s,ctx:l}),e.$set(r)},i(l){t||(W(e.$$.fragment,l),t=!0)},o(l){Z(e.$$.fragment,l),t=!1},d(l){ce(e,l)}}}function ed(n){let e,t,l,s=n[1].t("Rename")+"",r,o;return e=new Wi({props:{strokeWidth:"2"}}),{c(){ae(e.$$.fragment),t=A(),l=m("div"),r=U(s),this.h()},l(a){oe(e.$$.fragment,a),t=C(a),l=p(a,"DIV",{class:!0});var i=g(l);r=H(i,s),i.forEach(f),this.h()},h(){u(l,"class","flex items-center")},m(a,i){ie(e,a,i),M(a,t,i),M(a,l,i),c(l,r),o=!0},p(a,i){(!o||i&2)&&s!==(s=a[1].t("Rename")+"")&&x(r,s)},i(a){o||(W(e.$$.fragment,a),o=!0)},o(a){Z(e.$$.fragment,a),o=!1},d(a){a&&(f(t),f(l)),ce(e,a)}}}function td(n){let e,t,l,s=n[1].t("Export")+"",r,o;return e=new tc({props:{strokeWidth:"2"}}),{c(){ae(e.$$.fragment),t=A(),l=m("div"),r=U(s),this.h()},l(a){oe(e.$$.fragment,a),t=C(a),l=p(a,"DIV",{class:!0});var i=g(l);r=H(i,s),i.forEach(f),this.h()},h(){u(l,"class","flex items-center")},m(a,i){ie(e,a,i),M(a,t,i),M(a,l,i),c(l,r),o=!0},p(a,i){(!o||i&2)&&s!==(s=a[1].t("Export")+"")&&x(r,s)},i(a){o||(W(e.$$.fragment,a),o=!0)},o(a){Z(e.$$.fragment,a),o=!1},d(a){a&&(f(t),f(l)),ce(e,a)}}}function ld(n){let e,t,l,s=n[1].t("Delete")+"",r,o;return e=new pr({props:{strokeWidth:"2"}}),{c(){ae(e.$$.fragment),t=A(),l=m("div"),r=U(s),this.h()},l(a){oe(e.$$.fragment,a),t=C(a),l=p(a,"DIV",{class:!0});var i=g(l);r=H(i,s),i.forEach(f),this.h()},h(){u(l,"class","flex items-center")},m(a,i){ie(e,a,i),M(a,t,i),M(a,l,i),c(l,r),o=!0},p(a,i){(!o||i&2)&&s!==(s=a[1].t("Delete")+"")&&x(r,s)},i(a){o||(W(e.$$.fragment,a),o=!0)},o(a){Z(e.$$.fragment,a),o=!1},d(a){a&&(f(t),f(l)),ce(e,a)}}}function sd(n){let e,t,l,s,r,o;return e=new Ut({props:{class:"flex gap-2 items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[ed]},$$scope:{ctx:n}}}),e.$on("click",n[5]),l=new Ut({props:{class:"flex gap-2 items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[td]},$$scope:{ctx:n}}}),l.$on("click",n[6]),r=new Ut({props:{class:"flex  gap-2  items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[ld]},$$scope:{ctx:n}}}),r.$on("click",n[7]),{c(){ae(e.$$.fragment),t=A(),ae(l.$$.fragment),s=A(),ae(r.$$.fragment)},l(a){oe(e.$$.fragment,a),t=C(a),oe(l.$$.fragment,a),s=C(a),oe(r.$$.fragment,a)},m(a,i){ie(e,a,i),M(a,t,i),ie(l,a,i),M(a,s,i),ie(r,a,i),o=!0},p(a,i){const d={};i&1026&&(d.$$scope={dirty:i,ctx:a}),e.$set(d);const h={};i&1026&&(h.$$scope={dirty:i,ctx:a}),l.$set(h);const _={};i&1026&&(_.$$scope={dirty:i,ctx:a}),r.$set(_)},i(a){o||(W(e.$$.fragment,a),W(l.$$.fragment,a),W(r.$$.fragment,a),o=!0)},o(a){Z(e.$$.fragment,a),Z(l.$$.fragment,a),Z(r.$$.fragment,a),o=!1},d(a){a&&(f(t),f(s)),ce(e,a),ce(l,a),ce(r,a)}}}function nd(n){let e,t,l;return t=new zi({props:{class:"w-full max-w-[160px] rounded-lg px-1 py-1.5  z-50 bg-white dark:bg-gray-850 dark:text-white shadow-lg",sideOffset:-2,side:"bottom",align:"start",transition:mr,$$slots:{default:[sd]},$$scope:{ctx:n}}}),{c(){e=m("div"),ae(t.$$.fragment),this.h()},l(s){e=p(s,"DIV",{slot:!0});var r=g(e);oe(t.$$.fragment,r),r.forEach(f),this.h()},h(){u(e,"slot","content")},m(s,r){M(s,e,r),ie(t,e,null),l=!0},p(s,r){const o={};r&1026&&(o.$$scope={dirty:r,ctx:s}),t.$set(o)},i(s){l||(W(t.$$.fragment,s),l=!0)},o(s){Z(t.$$.fragment,s),l=!1},d(s){s&&f(e),ce(t)}}}function rd(n){let e,t,l;function s(o){n[8](o)}let r={$$slots:{content:[nd],default:[Qu]},$$scope:{ctx:n}};return n[0]!==void 0&&(r.show=n[0]),e=new xi({props:r}),lt.push(()=>ht(e,"show",s)),e.$on("change",n[9]),{c(){ae(e.$$.fragment)},l(o){oe(e.$$.fragment,o)},m(o,a){ie(e,o,a),l=!0},p(o,[a]){const i={};a&1026&&(i.$$scope={dirty:a,ctx:o}),!t&&a&1&&(t=!0,i.show=o[0],dt(()=>t=!1)),e.$set(i)},i(o){l||(W(e.$$.fragment,o),l=!0)},o(o){Z(e.$$.fragment,o),l=!1},d(o){ce(e,o)}}}function ad(n,e,t){let l,{$$slots:s={},$$scope:r}=e;const o=kt("i18n");Te(n,o,w=>t(1,l=w));const a=At();let i=!1;const d=()=>{a("rename")},h=()=>{a("export")},_=()=>{a("delete")};function v(w){i=w,t(0,i)}const b=w=>{w.detail===!1&&a("close")};return n.$$set=w=>{"$$scope"in w&&t(10,r=w.$$scope)},[i,l,o,a,s,d,h,_,v,b,r]}class od extends ot{constructor(e){super(),it(this,e,ad,rd,at,{})}}function uo(n,e,t){const l=n.slice();return l[47]=e[t],l}function ho(n,e,t){const l=n.slice();return l[51]=e[t],l}function nr(n){var l;const e=n.slice(),t=(l=e[1][e[2]])==null?void 0:l.childrenIds.map(s=>e[1][s]).sort((s,r)=>s.name.localeCompare(r.name,void 0,{numeric:!0,sensitivity:"base"}));return e[50]=t,e}function id(n){let e,t,l=Ja.sanitize(n[12].t("This will delete <strong>{{NAME}}</strong> and <strong>all its contents</strong>.",{NAME:n[1][n[2]].name}))+"";return{c(){e=m("div"),t=new ac(!1),this.h()},l(s){e=p(s,"DIV",{class:!0});var r=g(e);t=oc(r,!1),r.forEach(f),this.h()},h(){t.a=null,u(e,"class","text-sm text-gray-700 dark:text-gray-300 flex-1 line-clamp-3")},m(s,r){M(s,e,r),t.m(l,e)},p(s,r){r[0]&4102&&l!==(l=Ja.sanitize(s[12].t("This will delete <strong>{{NAME}}</strong> and <strong>all its contents</strong>.",{NAME:s[1][s[2]].name}))+"")&&t.p(l)},d(s){s&&f(e)}}}function mo(n){let e,t;return e=new lc({props:{x:n[9],y:n[10],$$slots:{default:[cd]},$$scope:{ctx:n}}}),{c(){ae(e.$$.fragment)},l(l){oe(e.$$.fragment,l)},m(l,s){ie(e,l,s),t=!0},p(l,s){const r={};s[0]&512&&(r.x=l[9]),s[0]&1024&&(r.y=l[10]),s[0]&6|s[1]&8388608&&(r.$$scope={dirty:s,ctx:l}),e.$set(r)},i(l){t||(W(e.$$.fragment,l),t=!0)},o(l){Z(e.$$.fragment,l),t=!1},d(l){ce(e,l)}}}function cd(n){let e,t,l,s,r,o=n[1][n[2]].name+"",a,i;return l=new qc({props:{className:"size-3.5",strokeWidth:"2"}}),{c(){e=m("div"),t=m("div"),ae(l.$$.fragment),s=A(),r=m("div"),a=U(o),this.h()},l(d){e=p(d,"DIV",{class:!0});var h=g(e);t=p(h,"DIV",{class:!0});var _=g(t);oe(l.$$.fragment,_),s=C(_),r=p(_,"DIV",{class:!0});var v=g(r);a=H(v,o),v.forEach(f),_.forEach(f),h.forEach(f),this.h()},h(){u(r,"class","text-xs text-white line-clamp-1"),u(t,"class","flex items-center gap-1"),u(e,"class","bg-black/80 backdrop-blur-2xl px-2 py-1 rounded-lg w-fit max-w-40")},m(d,h){M(d,e,h),c(e,t),ie(l,t,null),c(t,s),c(t,r),c(r,a),i=!0},p(d,h){(!i||h[0]&6)&&o!==(o=d[1][d[2]].name+"")&&x(a,o)},i(d){i||(W(l.$$.fragment,d),i=!0)},o(d){Z(l.$$.fragment,d),i=!1},d(d){d&&f(e),ce(l)}}}function po(n){let e;return{c(){e=m("div"),this.h()},l(t){e=p(t,"DIV",{class:!0}),g(e).forEach(f),this.h()},h(){u(e,"class","absolute top-0 left-0 w-full h-full rounded-sm bg-gray-100/50 dark:bg-gray-700/20 bg-opacity-50 dark:bg-opacity-10 z-50 pointer-events-none touch-none")},m(t,l){M(t,e,l)},d(t){t&&f(e)}}}function fd(n){let e,t;return e=new Gi({props:{className:" size-3",strokeWidth:"2.5"}}),{c(){ae(e.$$.fragment)},l(l){oe(e.$$.fragment,l)},m(l,s){ie(e,l,s),t=!0},i(l){t||(W(e.$$.fragment,l),t=!0)},o(l){Z(e.$$.fragment,l),t=!1},d(l){ce(e,l)}}}function ud(n){let e,t;return e=new Zi({props:{className:" size-3",strokeWidth:"2.5"}}),{c(){ae(e.$$.fragment)},l(l){oe(e.$$.fragment,l)},m(l,s){ie(e,l,s),t=!0},i(l){t||(W(e.$$.fragment,l),t=!0)},o(l){Z(e.$$.fragment,l),t=!1},d(l){ce(e,l)}}}function dd(n){let e=n[1][n[2]].name+"",t;return{c(){t=U(e)},l(l){t=H(l,e)},m(l,s){M(l,t,s)},p(l,s){s[0]&6&&e!==(e=l[1][l[2]].name+"")&&x(t,e)},d(l){l&&f(t)}}}function hd(n){let e,t,l,s;return{c(){e=m("input"),this.h()},l(r){e=p(r,"INPUT",{id:!0,type:!0,class:!0}),this.h()},h(){u(e,"id",t="folder-"+n[2]+"-input"),u(e,"type","text"),u(e,"class","w-full h-full bg-transparent text-gray-500 dark:text-gray-500 outline-none")},m(r,o){M(r,e,o),je(e,n[8]),l||(s=[le(e,"input",n[26]),le(e,"blur",n[27]),le(e,"click",gd),le(e,"mousedown",bd),le(e,"keydown",n[28])],l=!0)},p(r,o){o[0]&4&&t!==(t="folder-"+r[2]+"-input")&&u(e,"id",t),o[0]&256&&e.value!==r[8]&&je(e,r[8])},d(r){r&&f(e),l=!1,rt(s)}}}function md(n){let e,t,l,s,r;return t=new Xc({props:{className:"size-4",strokeWidth:"2.5"}}),{c(){e=m("button"),ae(t.$$.fragment),this.h()},l(o){e=p(o,"BUTTON",{class:!0});var a=g(e);oe(t.$$.fragment,a),a.forEach(f),this.h()},h(){u(e,"class","p-0.5 dark:hover:bg-gray-850 rounded-lg touch-auto")},m(o,a){M(o,e,a),ie(t,e,null),l=!0,s||(r=le(e,"click",wd),s=!0)},p:Ce,i(o){l||(W(t.$$.fragment,o),l=!0)},o(o){Z(t.$$.fragment,o),l=!1},d(o){o&&f(e),ce(t),s=!1,r()}}}function pd(n){let e,t,l,s,r,o,a,i,d,h,_,v,b,w;const y=[ud,fd],k=[];function V(D,$){return D[0]?0:1}s=V(n),r=k[s]=y[s](n);function P(D,$){return D[5]?hd:dd}let I=P(n),E=I(n);return h=new od({props:{$$slots:{default:[md]},$$scope:{ctx:n}}}),h.$on("rename",n[29]),h.$on("delete",n[30]),h.$on("export",n[31]),{c(){e=m("div"),t=m("button"),l=m("div"),r.c(),o=A(),a=m("div"),E.c(),i=A(),d=m("button"),ae(h.$$.fragment),this.h()},l(D){e=p(D,"DIV",{class:!0});var $=g(e);t=p($,"BUTTON",{id:!0,class:!0});var T=g(t);l=p(T,"DIV",{class:!0});var L=g(l);r.l(L),L.forEach(f),o=C(T),a=p(T,"DIV",{class:!0});var N=g(a);E.l(N),N.forEach(f),i=C(T),d=p(T,"BUTTON",{class:!0});var S=g(d);oe(h.$$.fragment,S),S.forEach(f),T.forEach(f),$.forEach(f),this.h()},h(){u(l,"class","text-gray-300 dark:text-gray-600"),u(a,"class","translate-y-[0.5px] flex-1 justify-start text-start line-clamp-1"),u(d,"class","absolute z-10 right-2 invisible group-hover:visible self-center flex items-center dark:text-gray-300"),u(t,"id",_="folder-"+n[2]+"-button"),u(t,"class","relative w-full py-1.5 px-2 rounded-md flex items-center gap-1.5 text-xs text-gray-500 dark:text-gray-500 font-medium hover:bg-gray-100 dark:hover:bg-gray-900 transition"),u(e,"class","w-full group")},m(D,$){M(D,e,$),c(e,t),c(t,l),k[s].m(l,null),c(t,o),c(t,a),E.m(a,null),c(t,i),c(t,d),ie(h,d,null),v=!0,b||(w=[le(d,"pointerup",kd),le(t,"dblclick",n[32])],b=!0)},p(D,$){let T=s;s=V(D),s!==T&&(Qe(),Z(k[T],1,1,()=>{k[T]=null}),et(),r=k[s],r||(r=k[s]=y[s](D),r.c()),W(r,1),r.m(l,null)),I===(I=P(D))&&E?E.p(D,$):(E.d(1),E=I(D),E&&(E.c(),E.m(a,null)));const L={};$[1]&8388608&&(L.$$scope={dirty:$,ctx:D}),h.$set(L),(!v||$[0]&4&&_!==(_="folder-"+D[2]+"-button"))&&u(t,"id",_)},i(D){v||(W(r),W(h.$$.fragment,D),v=!0)},o(D){Z(r),Z(h.$$.fragment,D),v=!1},d(D){D&&f(e),k[s].d(),E.d(),ce(h),b=!1,rt(w)}}}function _o(n){var o,a;let e,t,l,s=((o=n[1][n[2]])==null?void 0:o.childrenIds)&&vo(nr(n)),r=((a=n[1][n[2]].items)==null?void 0:a.chats)&&bo(n);return{c(){e=m("div"),s&&s.c(),t=A(),r&&r.c(),this.h()},l(i){e=p(i,"DIV",{class:!0});var d=g(e);s&&s.l(d),t=C(d),r&&r.l(d),d.forEach(f),this.h()},h(){u(e,"class","ml-3 pl-1 mt-[1px] flex flex-col overflow-y-auto scrollbar-hidden border-s border-gray-100 dark:border-gray-900")},m(i,d){M(i,e,d),s&&s.m(e,null),c(e,t),r&&r.m(e,null),l=!0},p(i,d){var h,_;(h=i[1][i[2]])!=null&&h.childrenIds?s?(s.p(nr(i),d),d[0]&6&&W(s,1)):(s=vo(nr(i)),s.c(),W(s,1),s.m(e,t)):s&&(Qe(),Z(s,1,1,()=>{s=null}),et()),(_=i[1][i[2]].items)!=null&&_.chats?r?(r.p(i,d),d[0]&6&&W(r,1)):(r=bo(i),r.c(),W(r,1),r.m(e,null)):r&&(Qe(),Z(r,1,1,()=>{r=null}),et())},i(i){l||(W(s),W(r),l=!0)},o(i){Z(s),Z(r),l=!1},d(i){i&&f(e),s&&s.d(),r&&r.d()}}}function vo(n){let e=[],t=new Map,l,s,r=st(n[50]);const o=a=>`${a[2]}-${a[51].id}`;for(let a=0;a<r.length;a+=1){let i=ho(n,r,a),d=o(i);t.set(d,e[a]=go(d,i))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();l=ut()},l(a){for(let i=0;i<e.length;i+=1)e[i].l(a);l=ut()},m(a,i){for(let d=0;d<e.length;d+=1)e[d]&&e[d].m(a,i);M(a,l,i),s=!0},p(a,i){i[0]&16518&&(r=st(a[50]),Qe(),e=$n(e,i,o,1,a,r,t,l.parentNode,Nn,go,l,ho),et())},i(a){if(!s){for(let i=0;i<r.length;i+=1)W(e[i]);s=!0}},o(a){for(let i=0;i<e.length;i+=1)Z(e[i]);s=!1},d(a){a&&f(l);for(let i=0;i<e.length;i+=1)e[i].d(a)}}}function go(n,e){let t,l,s;return l=new sc({props:{folders:e[1],folderId:e[51].id,parentDragged:e[7]}}),l.$on("import",e[22]),l.$on("update",e[23]),l.$on("change",e[24]),{key:n,first:null,c(){t=ut(),ae(l.$$.fragment),this.h()},l(r){t=ut(),oe(l.$$.fragment,r),this.h()},h(){this.first=t},m(r,o){M(r,t,o),ie(l,r,o),s=!0},p(r,o){e=r;const a={};o[0]&2&&(a.folders=e[1]),o[0]&6&&(a.folderId=e[51].id),o[0]&128&&(a.parentDragged=e[7]),l.$set(a)},i(r){s||(W(l.$$.fragment,r),s=!0)},o(r){Z(l.$$.fragment,r),s=!1},d(r){r&&f(t),ce(l,r)}}}function bo(n){let e=[],t=new Map,l,s,r=st(n[1][n[2]].items.chats);const o=a=>a[47].id;for(let a=0;a<r.length;a+=1){let i=uo(n,r,a),d=o(i);t.set(d,e[a]=wo(d,i))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();l=ut()},l(a){for(let i=0;i<e.length;i+=1)e[i].l(a);l=ut()},m(a,i){for(let d=0;d<e.length;d+=1)e[d]&&e[d].m(a,i);M(a,l,i),s=!0},p(a,i){i[0]&16390&&(r=st(a[1][a[2]].items.chats),Qe(),e=$n(e,i,o,1,a,r,t,l.parentNode,Nn,wo,l,uo),et())},i(a){if(!s){for(let i=0;i<r.length;i+=1)W(e[i]);s=!0}},o(a){for(let i=0;i<e.length;i+=1)Z(e[i]);s=!1},d(a){a&&f(l);for(let i=0;i<e.length;i+=1)e[i].d(a)}}}function wo(n,e){let t,l,s;return l=new vr({props:{id:e[47].id,title:e[47].title}}),l.$on("change",e[25]),{key:n,first:null,c(){t=ut(),ae(l.$$.fragment),this.h()},l(r){t=ut(),oe(l.$$.fragment,r),this.h()},h(){this.first=t},m(r,o){M(r,t,o),ie(l,r,o),s=!0},p(r,o){e=r;const a={};o[0]&6&&(a.id=e[47].id),o[0]&6&&(a.title=e[47].title),l.$set(a)},i(r){s||(W(l.$$.fragment,r),s=!0)},o(r){Z(l.$$.fragment,r),s=!1},d(r){r&&f(t),ce(l,r)}}}function _d(n){var s,r;let e,t,l=((((s=n[1][n[2]])==null?void 0:s.childrenIds)??[]).length>0||(((r=n[1][n[2]].items)==null?void 0:r.chats)??[]).length>0)&&_o(n);return{c(){e=m("div"),l&&l.c(),this.h()},l(o){e=p(o,"DIV",{slot:!0,class:!0});var a=g(e);l&&l.l(a),a.forEach(f),this.h()},h(){u(e,"slot","content"),u(e,"class","w-full")},m(o,a){M(o,e,a),l&&l.m(e,null),t=!0},p(o,a){var i,d;(((i=o[1][o[2]])==null?void 0:i.childrenIds)??[]).length>0||(((d=o[1][o[2]].items)==null?void 0:d.chats)??[]).length>0?l?(l.p(o,a),a[0]&6&&W(l,1)):(l=_o(o),l.c(),W(l,1),l.m(e,null)):l&&(Qe(),Z(l,1,1,()=>{l=null}),et())},i(o){t||(W(l),t=!0)},o(o){Z(l),t=!1},d(o){o&&f(e),l&&l.d()}}}function vd(n){var V,P;let e,t,l,s,r,o,a,i,d,h;function _(I){n[20](I)}let v={title:n[12].t("Delete folder?"),$$slots:{default:[id]},$$scope:{ctx:n}};n[11]!==void 0&&(v.show=n[11]),e=new On({props:v}),lt.push(()=>ht(e,"show",_)),e.$on("confirm",n[21]);let b=n[7]&&n[9]&&n[10]&&mo(n),w=n[6]&&po();function y(I){n[33](I)}let k={className:"w-full",buttonClassName:"w-full",hide:(((V=n[1][n[2]])==null?void 0:V.childrenIds)??[]).length===0&&(((P=n[1][n[2]].items)==null?void 0:P.chats)??[]).length===0,$$slots:{content:[_d],default:[pd]},$$scope:{ctx:n}};return n[0]!==void 0&&(k.open=n[0]),a=new Ji({props:k}),lt.push(()=>ht(a,"open",y)),a.$on("change",n[34]),{c(){ae(e.$$.fragment),l=A(),b&&b.c(),s=A(),r=m("div"),w&&w.c(),o=A(),ae(a.$$.fragment),this.h()},l(I){oe(e.$$.fragment,I),l=C(I),b&&b.l(I),s=C(I),r=p(I,"DIV",{class:!0,draggable:!0});var E=g(r);w&&w.l(E),o=C(E),oe(a.$$.fragment,E),E.forEach(f),this.h()},h(){u(r,"class",d="relative "+n[3]),u(r,"draggable","true")},m(I,E){ie(e,I,E),M(I,l,E),b&&b.m(I,E),M(I,s,E),M(I,r,E),w&&w.m(r,null),c(r,o),ie(a,r,null),n[35](r),h=!0},p(I,E){var T,L;const D={};E[0]&4096&&(D.title=I[12].t("Delete folder?")),E[0]&4102|E[1]&8388608&&(D.$$scope={dirty:E,ctx:I}),!t&&E[0]&2048&&(t=!0,D.show=I[11],dt(()=>t=!1)),e.$set(D),I[7]&&I[9]&&I[10]?b?(b.p(I,E),E[0]&1664&&W(b,1)):(b=mo(I),b.c(),W(b,1),b.m(s.parentNode,s)):b&&(Qe(),Z(b,1,1,()=>{b=null}),et()),I[6]?w||(w=po(),w.c(),w.m(r,o)):w&&(w.d(1),w=null);const $={};E[0]&6&&($.hide=(((T=I[1][I[2]])==null?void 0:T.childrenIds)??[]).length===0&&(((L=I[1][I[2]].items)==null?void 0:L.chats)??[]).length===0),E[0]&2471|E[1]&8388608&&($.$$scope={dirty:E,ctx:I}),!i&&E[0]&1&&(i=!0,$.open=I[0],dt(()=>i=!1)),a.$set($),(!h||E[0]&8&&d!==(d="relative "+I[3]))&&u(r,"class",d)},i(I){h||(W(e.$$.fragment,I),W(b),W(a.$$.fragment,I),h=!0)},o(I){Z(e.$$.fragment,I),Z(b),Z(a.$$.fragment,I),h=!1},d(I){I&&(f(l),f(s),f(r)),ce(e,I),b&&b.d(I),w&&w.d(),ce(a),n[35](null)}}}const gd=n=>{n.stopPropagation()},bd=n=>{n.stopPropagation()},wd=n=>{},kd=n=>{n.stopPropagation()};function yd(n,e,t){let l;const s=kt("i18n");Te(n,s,re=>t(12,l=re));const r=At(),{saveAs:o}=Vs;let{open:a=!1}=e,{folders:i}=e,{folderId:d}=e,{className:h=""}=e,{parentDragged:_=!1}=e,v,b=!1,w=!1,y=!1,k="";const V=re=>{re.preventDefault(),re.stopPropagation(),!(y||_)&&t(6,w=!0)},P=async re=>{if(re.preventDefault(),re.stopPropagation(),!(y||_)&&v.contains(re.target)){if(console.log("Dropped on the Button"),re.dataTransfer.items&&re.dataTransfer.items.length>0)for(const Ie of Array.from(re.dataTransfer.items))if(Ie.kind==="file"){const Be=Ie.getAsFile();if(Be&&Be.type==="application/json"){console.log("Dropped file is a JSON file!");const Ye=new FileReader;Ye.onload=async function(De){try{const Ae=JSON.parse(De.target.result);t(0,a=!0),r("import",{folderId:d,items:Ae})}catch(Ae){console.error("Error parsing JSON file:",Ae)}},Ye.readAsText(Be)}else console.error("Only JSON file types are supported.");console.log(Be)}else{const Be=re.dataTransfer.getData("text/plain"),Ye=JSON.parse(Be);console.log(Ye);const{type:De,id:Ae,item:Se}=Ye;if(De==="folder"){if(t(0,a=!0),Ae===d)return;await ec(localStorage.token,Ae,d).catch(Ze=>(Le.error(`${Ze}`),null))&&r("update")}else if(De==="chat"){t(0,a=!0);let Re=await Ol(localStorage.token,Ae).catch(nt=>null);!Re&&Se&&(Re=await Dn(localStorage.token,Se.chat,(Se==null?void 0:Se.meta)??{})),await fr(localStorage.token,Re.id,d).catch(nt=>(Le.error(`${nt}`),null))&&r("update")}}t(6,w=!1)}},I=re=>{re.preventDefault(),!(y||_)&&t(6,w=!1)},E=new Image;E.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=";let D,$;const T=re=>{re.stopPropagation(),re.dataTransfer.setDragImage(E,0,0),re.dataTransfer.setData("text/plain",JSON.stringify({type:"folder",id:d})),t(7,y=!0),t(4,v.style.opacity="0.5",v)},L=re=>{re.stopPropagation(),t(9,D=re.clientX),t(10,$=re.clientY)},N=re=>{re.stopPropagation(),t(4,v.style.opacity="1",v),t(7,y=!1)};Ct(()=>{t(0,a=i[d].is_expanded),v&&(v.addEventListener("dragover",V),v.addEventListener("drop",P),v.addEventListener("dragleave",I),v.addEventListener("dragstart",T),v.addEventListener("drag",L),v.addEventListener("dragend",N))}),ss(()=>{v&&(v.addEventListener("dragover",V),v.removeEventListener("drop",P),v.removeEventListener("dragleave",I),v.removeEventListener("dragstart",T),v.removeEventListener("drag",L),v.removeEventListener("dragend",N))});let S=!1;const F=async()=>{await Nf(localStorage.token,d).catch(Ie=>(Le.error(`${Ie}`),null))&&(Le.success(l.t("Folder deleted successfully")),r("update"))},q=async()=>{if(k===""){Le.error(l.t("Folder name cannot be empty"));return}if(k===i[d].name){t(5,b=!1);return}const re=i[d].name;t(8,k=k.trim()),t(1,i[d].name=k,i),await Sf(localStorage.token,d,k).catch(Be=>(Le.error(`${Be}`),t(1,i[d].name=re,i),null))&&(t(1,i[d].name=k,i),Le.success(l.t("Folder name updated successfully")),r("update"))},O=async()=>{await $f(localStorage.token,d,a).catch(re=>(Le.error(`${re}`),null))};let B;const Y=re=>{clearTimeout(B),B=setTimeout(()=>{O()},500)},J=async()=>{console.log("Edit"),await Al(),t(8,k=i[d].name),t(5,b=!0),await Al(),setTimeout(()=>{document.getElementById(`folder-${d}-input`).focus()},100)},G=async()=>{const re=await Sc(localStorage.token,d).catch(Be=>(Le.error(`${Be}`),null));if(!re)return;const Ie=new Blob([JSON.stringify(re)],{type:"application/json"});o(Ie,`folder-${i[d].name}-export-${Date.now()}.json`)};function R(re){S=re,t(11,S)}const j=()=>{F()},z=re=>{r("import",re.detail)},X=re=>{r("update",re.detail)},K=re=>{r("change",re.detail)},te=re=>{r("change",re.detail)};function se(){k=this.value,t(8,k)}const ue=()=>{q(),t(5,b=!1)},he=re=>{re.key==="Enter"&&(q(),t(5,b=!1))},me=()=>{J()},pe=()=>{t(11,S=!0)},de=()=>{G()},ke=()=>{J()};function We(re){a=re,t(0,a)}const Me=re=>{r("open",re.detail)};function be(re){lt[re?"unshift":"push"](()=>{v=re,t(4,v)})}return n.$$set=re=>{"open"in re&&t(0,a=re.open),"folders"in re&&t(1,i=re.folders),"folderId"in re&&t(2,d=re.folderId),"className"in re&&t(3,h=re.className),"parentDragged"in re&&t(19,_=re.parentDragged)},n.$$.update=()=>{n.$$.dirty[0]&1&&Y()},[a,i,d,h,v,b,w,y,k,D,$,S,l,s,r,F,q,J,G,_,R,j,z,X,K,te,se,ue,he,me,pe,de,ke,We,Me,be]}class sc extends ot{constructor(e){super(),it(this,e,yd,vd,at,{open:0,folders:1,folderId:2,className:3,parentDragged:19},null,[-1,-1])}}function ko(n,e,t){const l=n.slice();return l[6]=e[t],l}function yo(n,e){let t,l,s;return l=new sc({props:{className:"",folders:e[0],folderId:e[6]}}),l.$on("import",e[3]),l.$on("update",e[4]),l.$on("change",e[5]),{key:n,first:null,c(){t=ut(),ae(l.$$.fragment),this.h()},l(r){t=ut(),oe(l.$$.fragment,r),this.h()},h(){this.first=t},m(r,o){M(r,t,o),ie(l,r,o),s=!0},p(r,o){e=r;const a={};o&1&&(a.folders=e[0]),o&2&&(a.folderId=e[6]),l.$set(a)},i(r){s||(W(l.$$.fragment,r),s=!0)},o(r){Z(l.$$.fragment,r),s=!1},d(r){r&&f(t),ce(l,r)}}}function Ed(n){let e=[],t=new Map,l,s,r=st(n[1]);const o=a=>a[6];for(let a=0;a<r.length;a+=1){let i=ko(n,r,a),d=o(i);t.set(d,e[a]=yo(d,i))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();l=ut()},l(a){for(let i=0;i<e.length;i+=1)e[i].l(a);l=ut()},m(a,i){for(let d=0;d<e.length;d+=1)e[d]&&e[d].m(a,i);M(a,l,i),s=!0},p(a,[i]){i&7&&(r=st(a[1]),Qe(),e=$n(e,i,o,1,a,r,t,l.parentNode,Nn,yo,l,ko),et())},i(a){if(!s){for(let i=0;i<r.length;i+=1)W(e[i]);s=!0}},o(a){for(let i=0;i<e.length;i+=1)Z(e[i]);s=!1},d(a){a&&f(l);for(let i=0;i<e.length;i+=1)e[i].d(a)}}}function Id(n,e,t){const l=At();let{folders:s={}}=e,r=[];const o=d=>{l("import",d.detail)},a=d=>{l("update",d.detail)},i=d=>{l("change",d.detail)};return n.$$set=d=>{"folders"in d&&t(0,s=d.folders)},n.$$.update=()=>{n.$$.dirty&1&&t(1,r=Object.keys(s).filter(d=>s[d].parent_id===null).sort((d,h)=>s[d].name.localeCompare(s[h].name,void 0,{numeric:!0,sensitivity:"base"})))},[s,r,l,o,a,i]}class Dd extends ot{constructor(e){super(),it(this,e,Id,Ed,at,{folders:0})}}function Td(n){let e=n[6].t("Create Channel")+"",t;return{c(){t=U(e)},l(l){t=H(l,e)},m(l,s){M(l,t,s)},p(l,s){s&64&&e!==(e=l[6].t("Create Channel")+"")&&x(t,e)},d(l){l&&f(t)}}}function Vd(n){let e=n[6].t("Edit Channel")+"",t;return{c(){t=U(e)},l(l){t=H(l,e)},m(l,s){M(l,t,s)},p(l,s){s&64&&e!==(e=l[6].t("Edit Channel")+"")&&x(t,e)},d(l){l&&f(t)}}}function Eo(n){let e,t=n[6].t("Delete")+"",l,s,r;return{c(){e=m("button"),l=U(t),this.h()},l(o){e=p(o,"BUTTON",{class:!0,type:!0});var a=g(e);l=H(a,t),a.forEach(f),this.h()},h(){u(e,"class","px-3.5 py-1.5 text-sm font-medium dark:bg-black dark:hover:bg-black/90 dark:text-white bg-white text-black hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center"),u(e,"type","button")},m(o,a){M(o,e,a),c(e,l),s||(r=le(e,"click",n[16]),s=!0)},p(o,a){a&64&&t!==(t=o[6].t("Delete")+"")&&x(l,t)},d(o){o&&f(e),s=!1,r()}}}function Ad(n){let e=n[6].t("Create")+"",t;return{c(){t=U(e)},l(l){t=H(l,e)},m(l,s){M(l,t,s)},p(l,s){s&64&&e!==(e=l[6].t("Create")+"")&&x(t,e)},d(l){l&&f(t)}}}function Cd(n){let e=n[6].t("Update")+"",t;return{c(){t=U(e)},l(l){t=H(l,e)},m(l,s){M(l,t,s)},p(l,s){s&64&&e!==(e=l[6].t("Update")+"")&&x(t,e)},d(l){l&&f(t)}}}function Io(n){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}
											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=m("div"),e.innerHTML=t,this.h()},l(l){e=p(l,"DIV",{class:!0,"data-svelte-h":!0}),Fe(e)!=="svelte-1vuzrxa"&&(e.innerHTML=t),this.h()},h(){u(e,"class","ml-2 self-center")},m(l,s){M(l,e,s)},d(l){l&&f(e)}}}function Sd(n){let e,t,l,s,r,o='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path fill-rule="evenodd" d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z" clip-rule="evenodd"></path></svg>',a,i,d,h,_,v,b=n[6].t("Channel Name")+"",w,y,k,V,P,I,E,D,$,T,L,N,S,F,q,O,B,Y,J,G,R;function j(de,ke){return de[1]?Vd:Td}let z=j(n),X=z(n);function K(de){n[15](de)}let te={};n[3]!==void 0&&(te.accessControl=n[3]),L=new sf({props:te}),lt.push(()=>ht(L,"accessControl",K));let se=n[1]&&Eo(n);function ue(de,ke){return de[1]?Cd:Ad}let he=ue(n),me=he(n),pe=n[4]&&Io();return{c(){e=m("div"),t=m("div"),l=m("div"),X.c(),s=A(),r=m("button"),r.innerHTML=o,a=A(),i=m("div"),d=m("div"),h=m("form"),_=m("div"),v=m("div"),w=U(b),y=A(),k=m("div"),V=m("input"),I=A(),E=m("hr"),D=A(),$=m("div"),T=m("div"),ae(L.$$.fragment),S=A(),F=m("div"),se&&se.c(),q=A(),O=m("button"),me.c(),B=A(),pe&&pe.c(),this.h()},l(de){e=p(de,"DIV",{});var ke=g(e);t=p(ke,"DIV",{class:!0});var We=g(t);l=p(We,"DIV",{class:!0});var Me=g(l);X.l(Me),Me.forEach(f),s=C(We),r=p(We,"BUTTON",{class:!0,"data-svelte-h":!0}),Fe(r)!=="svelte-i7w487"&&(r.innerHTML=o),We.forEach(f),a=C(ke),i=p(ke,"DIV",{class:!0});var be=g(i);d=p(be,"DIV",{class:!0});var re=g(d);h=p(re,"FORM",{class:!0});var Ie=g(h);_=p(Ie,"DIV",{class:!0});var Be=g(_);v=p(Be,"DIV",{class:!0});var Ye=g(v);w=H(Ye,b),Ye.forEach(f),y=C(Be),k=p(Be,"DIV",{class:!0});var De=g(k);V=p(De,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),De.forEach(f),Be.forEach(f),I=C(Ie),E=p(Ie,"HR",{class:!0}),D=C(Ie),$=p(Ie,"DIV",{class:!0});var Ae=g($);T=p(Ae,"DIV",{class:!0});var Se=g(T);oe(L.$$.fragment,Se),Se.forEach(f),Ae.forEach(f),S=C(Ie),F=p(Ie,"DIV",{class:!0});var Re=g(F);se&&se.l(Re),q=C(Re),O=p(Re,"BUTTON",{class:!0,type:!0});var Ze=g(O);me.l(Ze),B=C(Ze),pe&&pe.l(Ze),Ze.forEach(f),Re.forEach(f),Ie.forEach(f),re.forEach(f),be.forEach(f),ke.forEach(f),this.h()},h(){u(l,"class","text-lg font-medium self-center"),u(r,"class","self-center"),u(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4 pb-1"),u(v,"class","mb-1 text-xs text-gray-500"),u(V,"class","w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-none"),u(V,"type","text"),u(V,"placeholder",P=n[6].t("new-channel")),u(V,"autocomplete","off"),u(k,"class","flex-1"),u(_,"class","flex flex-col w-full mt-2"),u(E,"class","border-gray-100 dark:border-gray-700/10 my-2.5 w-full"),u(T,"class","px-3 py-2 bg-gray-50 dark:bg-gray-950 rounded-lg"),u($,"class","my-2 -mx-2"),u(O,"class",Y="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-950 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(n[4]?" cursor-not-allowed":"")),u(O,"type","submit"),O.disabled=n[4],u(F,"class","flex justify-end pt-3 text-sm font-medium gap-1.5"),u(h,"class","flex flex-col w-full"),u(d,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),u(i,"class","flex flex-col md:flex-row w-full px-5 pb-4 md:space-x-4 dark:text-gray-200")},m(de,ke){M(de,e,ke),c(e,t),c(t,l),X.m(l,null),c(t,s),c(t,r),c(e,a),c(e,i),c(i,d),c(d,h),c(h,_),c(_,v),c(v,w),c(_,y),c(_,k),c(k,V),je(V,n[2]),c(h,I),c(h,E),c(h,D),c(h,$),c($,T),ie(L,T,null),c(h,S),c(h,F),se&&se.m(F,null),c(F,q),c(F,O),me.m(O,null),c(O,B),pe&&pe.m(O,null),J=!0,G||(R=[le(r,"click",n[13]),le(V,"input",n[14]),le(h,"submit",Bl(n[17]))],G=!0)},p(de,ke){z===(z=j(de))&&X?X.p(de,ke):(X.d(1),X=z(de),X&&(X.c(),X.m(l,null))),(!J||ke&64)&&b!==(b=de[6].t("Channel Name")+"")&&x(w,b),(!J||ke&64&&P!==(P=de[6].t("new-channel")))&&u(V,"placeholder",P),ke&4&&V.value!==de[2]&&je(V,de[2]);const We={};!N&&ke&8&&(N=!0,We.accessControl=de[3],dt(()=>N=!1)),L.$set(We),de[1]?se?se.p(de,ke):(se=Eo(de),se.c(),se.m(F,q)):se&&(se.d(1),se=null),he===(he=ue(de))&&me?me.p(de,ke):(me.d(1),me=he(de),me&&(me.c(),me.m(O,B))),de[4]?pe||(pe=Io(),pe.c(),pe.m(O,null)):pe&&(pe.d(1),pe=null),(!J||ke&16&&Y!==(Y="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-950 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(de[4]?" cursor-not-allowed":"")))&&u(O,"class",Y),(!J||ke&16)&&(O.disabled=de[4])},i(de){J||(W(L.$$.fragment,de),J=!0)},o(de){Z(L.$$.fragment,de),J=!1},d(de){de&&f(e),X.d(),ce(L),se&&se.d(),me.d(),pe&&pe.d(),G=!1,rt(R)}}}function $d(n){let e,t,l,s,r,o;function a(_){n[18](_)}let i={size:"sm",$$slots:{default:[Sd]},$$scope:{ctx:n}};n[0]!==void 0&&(i.show=n[0]),e=new Ul({props:i}),lt.push(()=>ht(e,"show",a));function d(_){n[19](_)}let h={message:n[6].t("Are you sure you want to delete this channel?"),confirmLabel:n[6].t("Delete")};return n[5]!==void 0&&(h.show=n[5]),s=new On({props:h}),lt.push(()=>ht(s,"show",d)),s.$on("confirm",n[20]),{c(){ae(e.$$.fragment),l=A(),ae(s.$$.fragment)},l(_){oe(e.$$.fragment,_),l=C(_),oe(s.$$.fragment,_)},m(_,v){ie(e,_,v),M(_,l,v),ie(s,_,v),o=!0},p(_,[v]){const b={};v&8388735&&(b.$$scope={dirty:v,ctx:_}),!t&&v&1&&(t=!0,b.show=_[0],dt(()=>t=!1)),e.$set(b);const w={};v&64&&(w.message=_[6].t("Are you sure you want to delete this channel?")),v&64&&(w.confirmLabel=_[6].t("Delete")),!r&&v&32&&(r=!0,w.show=_[5],dt(()=>r=!1)),s.$set(w)},i(_){o||(W(e.$$.fragment,_),W(s.$$.fragment,_),o=!0)},o(_){Z(e.$$.fragment,_),Z(s.$$.fragment,_),o=!1},d(_){_&&f(l),ce(e,_),ce(s,_)}}}function Nd(n,e,t){let l,s;Te(n,hr,S=>t(21,l=S));const r=kt("i18n");Te(n,r,S=>t(6,s=S));let{show:o=!1}=e,{onSubmit:a=()=>{}}=e,{onUpdate:i=()=>{}}=e,{channel:d=null}=e,{edit:h=!1}=e,_="",v=null,b=!1;const w=async()=>{t(4,b=!0),await a({name:_.replace(/\s/g,"-"),access_control:v}),t(0,o=!1),t(4,b=!1)},y=()=>{t(2,_=d.name),t(3,v=d.access_control)};let k=!1;const V=async()=>{t(5,k=!1),await Qc(localStorage.token,d.id).catch(F=>{Le.error(F.message)})&&(Le.success("Channel deleted successfully"),i(),l.url.pathname===`/channels/${d.id}`&&gl("/")),t(0,o=!1)},P=()=>{t(0,o=!1)};function I(){_=this.value,t(2,_)}function E(S){v=S,t(3,v)}const D=()=>{t(5,k=!0)},$=()=>{w()};function T(S){o=S,t(0,o)}function L(S){k=S,t(5,k)}const N=()=>{V()};return n.$$set=S=>{"show"in S&&t(0,o=S.show),"onSubmit"in S&&t(10,a=S.onSubmit),"onUpdate"in S&&t(11,i=S.onUpdate),"channel"in S&&t(12,d=S.channel),"edit"in S&&t(1,h=S.edit)},n.$$.update=()=>{n.$$.dirty&4&&_&&t(2,_=_.replace(/\s/g,"-").toLocaleLowerCase()),n.$$.dirty&4096&&d&&y()},[o,h,_,v,b,k,s,r,w,V,a,i,d,P,I,E,D,$,T,L,N]}class nc extends ot{constructor(e){super(),it(this,e,Nd,$d,at,{show:0,onSubmit:10,onUpdate:11,channel:12,edit:1})}}function Do(n){let e,t,l,s,r,o;return l=new nf({props:{className:"size-3.5"}}),{c(){e=m("button"),t=m("button"),ae(l.$$.fragment),this.h()},l(a){e=p(a,"BUTTON",{class:!0});var i=g(e);t=p(i,"BUTTON",{class:!0});var d=g(t);oe(l.$$.fragment,d),d.forEach(f),i.forEach(f),this.h()},h(){u(t,"class","p-0.5 dark:hover:bg-gray-850 rounded-lg touch-auto"),u(e,"class","absolute z-10 right-2 invisible group-hover:visible self-center flex items-center dark:text-gray-300")},m(a,i){M(a,e,i),c(e,t),ie(l,t,null),s=!0,r||(o=[le(t,"click",Ld),le(e,"click",n[11])],r=!0)},p:Ce,i(a){s||(W(l.$$.fragment,a),s=!0)},o(a){Z(l.$$.fragment,a),s=!1},d(a){a&&f(e),ce(l),r=!1,rt(o)}}}function Od(n){var $;let e,t,l,s,r,o,a,i,d,h,_=n[2].name+"",v,b,w,y,k,V,P;function I(T){n[9](T)}let E={channel:n[2],edit:!0,onUpdate:n[0],onSubmit:n[8]};n[3]!==void 0&&(E.show=n[3]),e=new nc({props:E}),lt.push(()=>ht(e,"show",I));let D=(($=n[7])==null?void 0:$.role)==="admin"&&Do(n);return{c(){ae(e.$$.fragment),l=A(),s=m("div"),r=m("a"),o=m("div"),a=bt("svg"),i=bt("path"),d=A(),h=m("div"),v=U(_),w=A(),D&&D.c(),this.h()},l(T){oe(e.$$.fragment,T),l=C(T),s=p(T,"DIV",{class:!0});var L=g(s);r=p(L,"A",{class:!0,href:!0,draggable:!0});var N=g(r);o=p(N,"DIV",{class:!0});var S=g(o);a=wt(S,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var F=g(a);i=wt(F,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),g(i).forEach(f),F.forEach(f),d=C(S),h=p(S,"DIV",{class:!0});var q=g(h);v=H(q,_),q.forEach(f),S.forEach(f),N.forEach(f),w=C(L),D&&D.l(L),L.forEach(f),this.h()},h(){u(i,"fill-rule","evenodd"),u(i,"d","M7.487 2.89a.75.75 0 1 0-1.474-.28l-.455 2.388H3.61a.75.75 0 0 0 0 1.5h1.663l-.571 2.998H2.75a.75.75 0 0 0 0 1.5h1.666l-.403 2.114a.75.75 0 0 0 1.474.28l.456-2.394h2.973l-.403 2.114a.75.75 0 0 0 1.474.28l.456-2.394h1.947a.75.75 0 0 0 0-1.5h-1.661l.57-2.998h1.95a.75.75 0 0 0 0-1.5h-1.664l.402-2.108a.75.75 0 0 0-1.474-.28l-.455 2.388H7.085l.402-2.108ZM6.8 6.498l-.571 2.998h2.973l.57-2.998H6.8Z"),u(i,"clip-rule","evenodd"),u(a,"xmlns","http://www.w3.org/2000/svg"),u(a,"viewBox","0 0 16 16"),u(a,"fill","currentColor"),u(a,"class","size-5"),u(h,"class","text-left self-center overflow-hidden w-full line-clamp-1"),u(o,"class","flex items-center gap-1"),u(r,"class","w-full flex justify-between"),u(r,"href",b="/channels/"+n[2].id),u(r,"draggable","false"),u(s,"class",y="w-full "+n[1]+" rounded-lg flex relative group hover:bg-gray-100 dark:hover:bg-gray-900 "+(n[5].url.pathname===`/channels/${n[2].id}`?"bg-gray-100 dark:bg-gray-900":"")+" px-2.5 py-1")},m(T,L){ie(e,T,L),M(T,l,L),M(T,s,L),c(s,r),c(r,o),c(o,a),c(a,i),c(o,d),c(o,h),c(h,v),c(s,w),D&&D.m(s,null),n[12](s),k=!0,V||(P=le(r,"click",n[10]),V=!0)},p(T,[L]){var S;const N={};L&4&&(N.channel=T[2]),L&1&&(N.onUpdate=T[0]),L&5&&(N.onSubmit=T[8]),!t&&L&8&&(t=!0,N.show=T[3],dt(()=>t=!1)),e.$set(N),(!k||L&4)&&_!==(_=T[2].name+"")&&x(v,_),(!k||L&4&&b!==(b="/channels/"+T[2].id))&&u(r,"href",b),((S=T[7])==null?void 0:S.role)==="admin"?D?(D.p(T,L),L&128&&W(D,1)):(D=Do(T),D.c(),W(D,1),D.m(s,null)):D&&(Qe(),Z(D,1,1,()=>{D=null}),et()),(!k||L&38&&y!==(y="w-full "+T[1]+" rounded-lg flex relative group hover:bg-gray-100 dark:hover:bg-gray-900 "+(T[5].url.pathname===`/channels/${T[2].id}`?"bg-gray-100 dark:bg-gray-900":"")+" px-2.5 py-1"))&&u(s,"class",y)},i(T){k||(W(e.$$.fragment,T),W(D),k=!0)},o(T){Z(e.$$.fragment,T),Z(D),k=!1},d(T){T&&(f(l),f(s)),ce(e,T),D&&D.d(),n[12](null),V=!1,P()}}}const Ld=n=>{};function Md(n,e,t){let l,s,r;Te(n,hr,k=>t(5,l=k)),Te(n,An,k=>t(6,s=k)),Te(n,Cl,k=>t(7,r=k)),kt("i18n");let{onUpdate:o=()=>{}}=e,{className:a=""}=e,{channel:i}=e,d=!1,h;const _=async({name:k,access_control:V})=>{await ef(localStorage.token,i.id,{name:k,access_control:V}).catch(I=>{Le.error(I.message)})&&Le.success("Channel updated successfully"),o()};function v(k){d=k,t(3,d)}const b=()=>{s&&Lt.set(!1)},w=k=>{k.stopPropagation(),t(3,d=!0)};function y(k){lt[k?"unshift":"push"](()=>{h=k,t(4,h)})}return n.$$set=k=>{"onUpdate"in k&&t(0,o=k.onUpdate),"className"in k&&t(1,a=k.className),"channel"in k&&t(2,i=k.channel)},[o,a,i,d,h,l,s,r,_,v,b,w,y]}class Bd extends ot{constructor(e){super(),it(this,e,Md,Od,at,{onUpdate:0,className:1,channel:2})}}function To(n,e,t){const l=n.slice();return l[81]=e[t],l[83]=t,l}function Vo(n,e,t){const l=n.slice();return l[81]=e[t],l[83]=t,l}function Ao(n,e,t){const l=n.slice();return l[85]=e[t],l}function Co(n){let e,t,l,s;return{c(){e=m("div"),this.h()},l(r){e=p(r,"DIV",{class:!0}),g(e).forEach(f),this.h()},h(){u(e,"class",t=(n[17]?" ml-[4.5rem] md:ml-0":"")+" fixed md:hidden z-40 top-0 right-0 left-0 bottom-0 bg-black/60 w-full min-h-screen h-screen flex justify-center overflow-hidden overscroll-contain")},m(r,o){M(r,e,o),l||(s=le(e,"mousedown",n[36]),l=!0)},p(r,o){o[0]&131072&&t!==(t=(r[17]?" ml-[4.5rem] md:ml-0":"")+" fixed md:hidden z-40 top-0 right-0 left-0 bottom-0 bg-black/60 w-full min-h-screen h-screen flex justify-center overflow-hidden overscroll-contain")&&u(e,"class",t)},d(r){r&&f(e),l=!1,s()}}}function So(n){let e,t,l,s='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="size-[1.1rem]"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 16.875h3.375m0 0h3.375m-3.375 0V13.5m0 3.375v3.375M6 10.5h2.25a2.25 2.25 0 0 0 2.25-2.25V6a2.25 2.25 0 0 0-2.25-2.25H6A2.25 2.25 0 0 0 3.75 6v2.25A2.25 2.25 0 0 0 6 10.5Zm0 9.75h2.25A2.25 2.25 0 0 0 10.5 18v-2.25a2.25 2.25 0 0 0-2.25-2.25H6a2.25 2.25 0 0 0-2.25 2.25V18A2.25 2.25 0 0 0 6 20.25Zm9.75-9.75H18a2.25 2.25 0 0 0 2.25-2.25V6A2.25 2.25 0 0 0 18 3.75h-2.25A2.25 2.25 0 0 0 13.5 6v2.25a2.25 2.25 0 0 0 2.25 2.25Z"></path></svg>',r,o,a,i=n[12].t("Workspace")+"",d,h,_;return{c(){e=m("div"),t=m("a"),l=m("div"),l.innerHTML=s,r=A(),o=m("div"),a=m("div"),d=U(i),this.h()},l(v){e=p(v,"DIV",{class:!0});var b=g(e);t=p(b,"A",{class:!0,href:!0,draggable:!0});var w=g(t);l=p(w,"DIV",{class:!0,"data-svelte-h":!0}),Fe(l)!=="svelte-zod9jr"&&(l.innerHTML=s),r=C(w),o=p(w,"DIV",{class:!0});var y=g(o);a=p(y,"DIV",{class:!0});var k=g(a);d=H(k,i),k.forEach(f),y.forEach(f),w.forEach(f),b.forEach(f),this.h()},h(){u(l,"class","self-center"),u(a,"class","self-center font-medium text-sm font-primary"),u(o,"class","flex self-center"),u(t,"class","flex-grow flex space-x-3 rounded-lg px-2 py-[7px] hover:bg-gray-100 dark:hover:bg-gray-900 transition"),u(t,"href","/workspace"),u(t,"draggable","false"),u(e,"class","px-1.5 flex justify-center text-gray-800 dark:text-gray-200")},m(v,b){M(v,e,b),c(e,t),c(t,l),c(t,r),c(t,o),c(o,a),c(a,d),h||(_=le(t,"click",n[39]),h=!0)},p(v,b){b[0]&4096&&i!==(i=v[12].t("Workspace")+"")&&x(d,i)},d(v){v&&f(e),h=!1,_()}}}function $o(n){let e;return{c(){e=m("div"),this.h()},l(t){e=p(t,"DIV",{class:!0}),g(e).forEach(f),this.h()},h(){u(e,"class","absolute z-40 w-full h-full flex justify-center")},m(t,l){M(t,e,l)},d(t){t&&f(e)}}}function No(n){let e,t;return e=new gr({props:{className:"px-2 mt-0.5",name:n[12].t("Channels"),dragAndDrop:!1,onAdd:n[42],onAddLabel:n[12].t("Create Channel"),$$slots:{default:[Ud]},$$scope:{ctx:n}}}),{c(){ae(e.$$.fragment)},l(l){oe(e.$$.fragment,l)},m(l,s){ie(e,l,s),t=!0},p(l,s){const r={};s[0]&4096&&(r.name=l[12].t("Channels")),s[0]&65600&&(r.onAdd=l[42]),s[0]&4096&&(r.onAddLabel=l[12].t("Create Channel")),s[0]&1048576|s[2]&67108864&&(r.$$scope={dirty:s,ctx:l}),e.$set(r)},i(l){t||(W(e.$$.fragment,l),t=!0)},o(l){Z(e.$$.fragment,l),t=!1},d(l){ce(e,l)}}}function Oo(n){let e,t;return e=new Bd({props:{channel:n[85],onUpdate:n[41]}}),{c(){ae(e.$$.fragment)},l(l){oe(e.$$.fragment,l)},m(l,s){ie(e,l,s),t=!0},p(l,s){const r={};s[0]&1048576&&(r.channel=l[85]),e.$set(r)},i(l){t||(W(e.$$.fragment,l),t=!0)},o(l){Z(e.$$.fragment,l),t=!1},d(l){ce(e,l)}}}function Ud(n){let e,t,l=st(n[20]),s=[];for(let o=0;o<l.length;o+=1)s[o]=Oo(Ao(n,l,o));const r=o=>Z(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=ut()},l(o){for(let a=0;a<s.length;a+=1)s[a].l(o);e=ut()},m(o,a){for(let i=0;i<s.length;i+=1)s[i]&&s[i].m(o,a);M(o,e,a),t=!0},p(o,a){if(a[0]&68157440){l=st(o[20]);let i;for(i=0;i<l.length;i+=1){const d=Ao(o,l,i);s[i]?(s[i].p(d,a),W(s[i],1)):(s[i]=Oo(d),s[i].c(),W(s[i],1),s[i].m(e.parentNode,e))}for(Qe(),i=l.length;i<s.length;i+=1)r(i);et()}},i(o){if(!t){for(let a=0;a<l.length;a+=1)W(s[a]);t=!0}},o(o){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)Z(s[a]);t=!1},d(o){o&&f(e),$t(s,o)}}}function Lo(n){let e;return{c(){e=m("div"),this.h()},l(t){e=p(t,"DIV",{class:!0}),g(e).forEach(f),this.h()},h(){u(e,"class","absolute z-40 w-full h-full flex justify-center")},m(t,l){M(t,e,l)},d(t){t&&f(e)}}}function Mo(n){let e,t,l,s;function r(a){n[47](a)}let o={className:"",name:n[12].t("Pinned"),$$slots:{default:[Hd]},$$scope:{ctx:n}};return n[5]!==void 0&&(o.open=n[5]),t=new gr({props:o}),lt.push(()=>ht(t,"open",r)),t.$on("change",n[48]),t.$on("import",n[49]),t.$on("drop",n[50]),{c(){e=m("div"),ae(t.$$.fragment),this.h()},l(a){e=p(a,"DIV",{class:!0});var i=g(e);oe(t.$$.fragment,i),i.forEach(f),this.h()},h(){u(e,"class","flex flex-col space-y-1 rounded-xl")},m(a,i){M(a,e,i),ie(t,e,null),s=!0},p(a,i){const d={};i[0]&4096&&(d.name=a[12].t("Pinned")),i[0]&2097164|i[2]&67108864&&(d.$$scope={dirty:i,ctx:a}),!l&&i[0]&32&&(l=!0,d.open=a[5],dt(()=>l=!1)),t.$set(d)},i(a){s||(W(t.$$.fragment,a),s=!0)},o(a){Z(t.$$.fragment,a),s=!1},d(a){a&&f(e),ce(t)}}}function Bo(n){let e,t;function l(){return n[43](n[81])}function s(...r){return n[46](n[81],...r)}return e=new vr({props:{className:"",id:n[81].id,title:n[81].title,shiftKey:n[2],selected:n[3]===n[81].id}}),e.$on("select",l),e.$on("unselect",n[44]),e.$on("change",n[45]),e.$on("tag",s),{c(){ae(e.$$.fragment)},l(r){oe(e.$$.fragment,r)},m(r,o){ie(e,r,o),t=!0},p(r,o){n=r;const a={};o[0]&2097152&&(a.id=n[81].id),o[0]&2097152&&(a.title=n[81].title),o[0]&4&&(a.shiftKey=n[2]),o[0]&2097160&&(a.selected=n[3]===n[81].id),e.$set(a)},i(r){t||(W(e.$$.fragment,r),t=!0)},o(r){Z(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function Hd(n){let e,t,l=st(n[21]),s=[];for(let o=0;o<l.length;o+=1)s[o]=Bo(Vo(n,l,o));const r=o=>Z(s[o],1,1,()=>{s[o]=null});return{c(){e=m("div");for(let o=0;o<s.length;o+=1)s[o].c();this.h()},l(o){e=p(o,"DIV",{class:!0});var a=g(e);for(let i=0;i<s.length;i+=1)s[i].l(a);a.forEach(f),this.h()},h(){u(e,"class","ml-3 pl-1 mt-[1px] flex flex-col overflow-y-auto scrollbar-hidden border-s border-gray-100 dark:border-gray-900 svelte-141e0sl")},m(o,a){M(o,e,a);for(let i=0;i<s.length;i+=1)s[i]&&s[i].m(e,null);t=!0},p(o,a){if(a[0]&136314892|a[1]&1){l=st(o[21]);let i;for(i=0;i<l.length;i+=1){const d=Vo(o,l,i);s[i]?(s[i].p(d,a),W(s[i],1)):(s[i]=Bo(d),s[i].c(),W(s[i],1),s[i].m(e,null))}for(Qe(),i=l.length;i<s.length;i+=1)r(i);et()}},i(o){if(!t){for(let a=0;a<l.length;a+=1)W(s[a]);t=!0}},o(o){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)Z(s[a]);t=!1},d(o){o&&f(e),$t(s,o)}}}function Uo(n){let e,t;return e=new Dd({props:{folders:n[9]}}),e.$on("import",n[51]),e.$on("update",n[52]),e.$on("change",n[53]),{c(){ae(e.$$.fragment)},l(l){oe(e.$$.fragment,l)},m(l,s){ie(e,l,s),t=!0},p(l,s){const r={};s[0]&512&&(r.folders=l[9]),e.$set(r)},i(l){t||(W(e.$$.fragment,l),t=!0)},o(l){Z(e.$$.fragment,l),t=!1},d(l){ce(e,l)}}}function Pd(n){let e,t,l,s,r="Loading...",o;return t=new Yi({props:{className:" size-4"}}),{c(){e=m("div"),ae(t.$$.fragment),l=A(),s=m("div"),s.textContent=r,this.h()},l(a){e=p(a,"DIV",{class:!0});var i=g(e);oe(t.$$.fragment,i),l=C(i),s=p(i,"DIV",{class:!0,"data-svelte-h":!0}),Fe(s)!=="svelte-17uns3n"&&(s.textContent=r),i.forEach(f),this.h()},h(){u(s,"class",""),u(e,"class","w-full flex justify-center py-1 text-xs animate-pulse items-center gap-2")},m(a,i){M(a,e,i),ie(t,e,null),c(e,l),c(e,s),o=!0},p:Ce,i(a){o||(W(t.$$.fragment,a),o=!0)},o(a){Z(t.$$.fragment,a),o=!1},d(a){a&&f(e),ce(t)}}}function jd(n){let e,t,l,s=st(n[13]),r=[];for(let i=0;i<s.length;i+=1)r[i]=Po(To(n,s,i));const o=i=>Z(r[i],1,1,()=>{r[i]=null});let a=n[22]&&!n[8]&&jo(n);return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=A(),a&&a.c(),t=ut()},l(i){for(let d=0;d<r.length;d+=1)r[d].l(i);e=C(i),a&&a.l(i),t=ut()},m(i,d){for(let h=0;h<r.length;h+=1)r[h]&&r[h].m(i,d);M(i,e,d),a&&a.m(i,d),M(i,t,d),l=!0},p(i,d){if(d[0]&134230028|d[1]&1){s=st(i[13]);let h;for(h=0;h<s.length;h+=1){const _=To(i,s,h);r[h]?(r[h].p(_,d),W(r[h],1)):(r[h]=Po(_),r[h].c(),W(r[h],1),r[h].m(e.parentNode,e))}for(Qe(),h=s.length;h<r.length;h+=1)o(h);et()}i[22]&&!i[8]?a?(a.p(i,d),d[0]&4194560&&W(a,1)):(a=jo(i),a.c(),W(a,1),a.m(t.parentNode,t)):a&&(Qe(),Z(a,1,1,()=>{a=null}),et())},i(i){if(!l){for(let d=0;d<s.length;d+=1)W(r[d]);W(a),l=!0}},o(i){r=r.filter(Boolean);for(let d=0;d<r.length;d+=1)Z(r[d]);Z(a),l=!1},d(i){i&&(f(e),f(t)),$t(r,i),a&&a.d(i)}}}function Ho(n){let e,t=n[12].t(n[81].time_range)+"",l;return{c(){e=m("div"),l=U(t),this.h()},l(s){e=p(s,"DIV",{class:!0});var r=g(e);l=H(r,t),r.forEach(f),this.h()},h(){u(e,"class","w-full pl-2.5 text-xs text-gray-500 dark:text-gray-500 font-medium "+(n[83]===0?"":"pt-5")+" pb-1.5")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&12288&&t!==(t=s[12].t(s[81].time_range)+"")&&x(l,t)},d(s){s&&f(e)}}}function Po(n){let e,t,l,s=(n[83]===0||n[83]>0&&n[81].time_range!==n[13][n[83]-1].time_range)&&Ho(n);function r(){return n[54](n[81])}function o(...a){return n[57](n[81],...a)}return t=new vr({props:{className:"",id:n[81].id,title:n[81].title,shiftKey:n[2],selected:n[3]===n[81].id}}),t.$on("select",r),t.$on("unselect",n[55]),t.$on("change",n[56]),t.$on("tag",o),{c(){s&&s.c(),e=A(),ae(t.$$.fragment)},l(a){s&&s.l(a),e=C(a),oe(t.$$.fragment,a)},m(a,i){s&&s.m(a,i),M(a,e,i),ie(t,a,i),l=!0},p(a,i){n=a,n[83]===0||n[83]>0&&n[81].time_range!==n[13][n[83]-1].time_range?s?s.p(n,i):(s=Ho(n),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null);const d={};i[0]&8192&&(d.id=n[81].id),i[0]&8192&&(d.title=n[81].title),i[0]&4&&(d.shiftKey=n[2]),i[0]&8200&&(d.selected=n[3]===n[81].id),t.$set(d)},i(a){l||(W(t.$$.fragment,a),l=!0)},o(a){Z(t.$$.fragment,a),l=!1},d(a){a&&f(e),s&&s.d(a),ce(t,a)}}}function jo(n){let e,t;return e=new Kc({props:{$$slots:{default:[Rd]},$$scope:{ctx:n}}}),e.$on("visible",n[58]),{c(){ae(e.$$.fragment)},l(l){oe(e.$$.fragment,l)},m(l,s){ie(e,l,s),t=!0},p(l,s){const r={};s[2]&67108864&&(r.$$scope={dirty:s,ctx:l}),e.$set(r)},i(l){t||(W(e.$$.fragment,l),t=!0)},o(l){Z(e.$$.fragment,l),t=!1},d(l){ce(e,l)}}}function Rd(n){let e,t,l,s,r="Loading...",o;return t=new Yi({props:{className:" size-4"}}),{c(){e=m("div"),ae(t.$$.fragment),l=A(),s=m("div"),s.textContent=r,this.h()},l(a){e=p(a,"DIV",{class:!0});var i=g(e);oe(t.$$.fragment,i),l=C(i),s=p(i,"DIV",{class:!0,"data-svelte-h":!0}),Fe(s)!=="svelte-17uns3n"&&(s.textContent=r),i.forEach(f),this.h()},h(){u(s,"class",""),u(e,"class","w-full flex justify-center py-1 text-xs animate-pulse items-center gap-2")},m(a,i){M(a,e,i),ie(t,e,null),c(e,l),c(e,s),o=!0},p:Ce,i(a){o||(W(t.$$.fragment,a),o=!0)},o(a){Z(t.$$.fragment,a),o=!1},d(a){a&&f(e),ce(t)}}}function xd(n){let e,t,l,s,r,o,a,i,d=n[18]&&Lo(),h=!n[1]&&n[21].length>0&&Mo(n),_=!n[1]&&n[9]&&Uo(n);const v=[jd,Pd],b=[];function w(y,k){return y[13]?0:1}return o=w(n),a=b[o]=v[o](n),{c(){d&&d.c(),e=A(),h&&h.c(),t=A(),_&&_.c(),l=A(),s=m("div"),r=m("div"),a.c(),this.h()},l(y){d&&d.l(y),e=C(y),h&&h.l(y),t=C(y),_&&_.l(y),l=C(y),s=p(y,"DIV",{class:!0});var k=g(s);r=p(k,"DIV",{class:!0});var V=g(r);a.l(V),V.forEach(f),k.forEach(f),this.h()},h(){u(r,"class","pt-1.5"),u(s,"class","flex-1 flex flex-col overflow-y-auto scrollbar-hidden svelte-141e0sl")},m(y,k){d&&d.m(y,k),M(y,e,k),h&&h.m(y,k),M(y,t,k),_&&_.m(y,k),M(y,l,k),M(y,s,k),c(s,r),b[o].m(r,null),i=!0},p(y,k){y[18]?d||(d=Lo(),d.c(),d.m(e.parentNode,e)):d&&(d.d(1),d=null),!y[1]&&y[21].length>0?h?(h.p(y,k),k[0]&2097154&&W(h,1)):(h=Mo(y),h.c(),W(h,1),h.m(t.parentNode,t)):h&&(Qe(),Z(h,1,1,()=>{h=null}),et()),!y[1]&&y[9]?_?(_.p(y,k),k[0]&514&&W(_,1)):(_=Uo(y),_.c(),W(_,1),_.m(l.parentNode,l)):_&&(Qe(),Z(_,1,1,()=>{_=null}),et());let V=o;o=w(y),o===V?b[o].p(y,k):(Qe(),Z(b[V],1,1,()=>{b[V]=null}),et(),a=b[o],a?a.p(y,k):(a=b[o]=v[o](y),a.c()),W(a,1),a.m(r,null))},i(y){i||(W(h),W(_),W(a),i=!0)},o(y){Z(h),Z(_),Z(a),i=!1},d(y){y&&(f(e),f(t),f(l),f(s)),d&&d.d(y),h&&h.d(y),_&&_.d(y),b[o].d()}}}function Ro(n){let e,t;return e=new Lc({props:{role:n[16].role,$$slots:{default:[zd]},$$scope:{ctx:n}}}),e.$on("show",n[63]),{c(){ae(e.$$.fragment)},l(l){oe(e.$$.fragment,l)},m(l,s){ie(e,l,s),t=!0},p(l,s){const r={};s[0]&65536&&(r.role=l[16].role),s[0]&65552|s[2]&67108864&&(r.$$scope={dirty:s,ctx:l}),e.$set(r)},i(l){t||(W(e.$$.fragment,l),t=!0)},o(l){Z(e.$$.fragment,l),t=!1},d(l){ce(e,l)}}}function zd(n){let e,t,l,s,r,o,a=n[16].name+"",i,d,h;return{c(){e=m("button"),t=m("div"),l=m("img"),r=A(),o=m("div"),i=U(a),this.h()},l(_){e=p(_,"BUTTON",{class:!0});var v=g(e);t=p(v,"DIV",{class:!0});var b=g(t);l=p(b,"IMG",{src:!0,class:!0,alt:!0}),b.forEach(f),r=C(v),o=p(v,"DIV",{class:!0});var w=g(o);i=H(w,a),w.forEach(f),v.forEach(f),this.h()},h(){Tn(l.src,s=n[16].profile_image_url)||u(l,"src",s),u(l,"class","max-w-[30px] object-cover rounded-full"),u(l,"alt","User profile"),u(t,"class","self-center mr-3"),u(o,"class","self-center font-medium"),u(e,"class","flex items-center rounded-xl py-2.5 px-2.5 w-full hover:bg-gray-100 dark:hover:bg-gray-900 transition")},m(_,v){M(_,e,v),c(e,t),c(t,l),c(e,r),c(e,o),c(o,i),d||(h=le(e,"click",n[62]),d=!0)},p(_,v){v[0]&65536&&!Tn(l.src,s=_[16].profile_image_url)&&u(l,"src",s),v[0]&65536&&a!==(a=_[16].name+"")&&x(i,a)},d(_){_&&f(e),d=!1,h()}}}function Wd(n){var Se,Re,Ze,nt,Q,ve,ge,$e,Oe,Ue,pt,mt,we,He,qe;let e,t,l,s,r,o,a,i,d,h,_,v='<div class="m-auto self-center"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="size-5"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25H12"></path></svg></div>',b,w,y,k,V=`<img crossorigin="anonymous" src="${uc}/static/favicon.png" class="size-5 -translate-x-1.5 rounded-full" alt="logo"/>`,P,I,E=n[12].t("New Chat")+"",D,$,T,L,N,S,F,q,O,B,Y,J,G,R,j,z,X,K,te,se,ue,he,me,pe;function de(fe){n[32](fe)}let ke={};n[14]!==void 0&&(ke.show=n[14]),e=new jf({props:ke}),lt.push(()=>ht(e,"show",de)),e.$on("change",n[33]);function We(fe){n[35](fe)}let Me={onSubmit:n[34]};n[6]!==void 0&&(Me.show=n[6]),s=new nc({props:Me}),lt.push(()=>ht(s,"show",We));let be=n[11]&&Co(n);L=new jc({props:{className:" size-5",strokeWidth:"2"}});let re=(((Se=n[16])==null?void 0:Se.role)==="admin"||((nt=(Ze=(Re=n[16])==null?void 0:Re.permissions)==null?void 0:Ze.workspace)==null?void 0:nt.models)||((ge=(ve=(Q=n[16])==null?void 0:Q.permissions)==null?void 0:ve.workspace)==null?void 0:ge.knowledge)||((Ue=(Oe=($e=n[16])==null?void 0:$e.permissions)==null?void 0:Oe.workspace)==null?void 0:Ue.prompts)||((we=(mt=(pt=n[16])==null?void 0:pt.permissions)==null?void 0:mt.workspace)==null?void 0:we.tools))&&So(n),Ie=n[18]&&$o();function Be(fe){n[40](fe)}let Ye={placeholder:n[12].t("Search")};n[1]!==void 0&&(Ye.value=n[1]),O=new ju({props:Ye}),lt.push(()=>ht(O,"value",Be)),O.$on("input",n[29]);let De=((qe=(He=n[19])==null?void 0:He.features)==null?void 0:qe.enable_channels)&&(n[16].role==="admin"||n[20].length>0)&&!n[1]&&No(n);j=new gr({props:{collapsible:!n[1],className:"px-2 mt-0.5",name:n[12].t("Chats"),onAdd:n[59],onAddLabel:n[12].t("New Folder"),$$slots:{default:[xd]},$$scope:{ctx:n}}}),j.$on("import",n[60]),j.$on("drop",n[61]);let Ae=n[16]!==void 0&&Ro(n);return{c(){ae(e.$$.fragment),l=A(),ae(s.$$.fragment),o=A(),be&&be.c(),a=A(),i=m("div"),d=m("div"),h=m("div"),_=m("button"),_.innerHTML=v,b=A(),w=m("a"),y=m("div"),k=m("div"),k.innerHTML=V,P=A(),I=m("div"),D=U(E),$=A(),T=m("div"),ae(L.$$.fragment),N=A(),re&&re.c(),S=A(),F=m("div"),Ie&&Ie.c(),q=A(),ae(O.$$.fragment),J=A(),G=m("div"),De&&De.c(),R=A(),ae(j.$$.fragment),X=A(),K=m("div"),te=m("div"),Ae&&Ae.c(),this.h()},l(fe){oe(e.$$.fragment,fe),l=C(fe),oe(s.$$.fragment,fe),o=C(fe),be&&be.l(fe),a=C(fe),i=p(fe,"DIV",{id:!0,class:!0,"data-state":!0});var _e=g(i);d=p(_e,"DIV",{class:!0});var Je=g(d);h=p(Je,"DIV",{class:!0});var ct=g(h);_=p(ct,"BUTTON",{class:!0,"data-svelte-h":!0}),Fe(_)!=="svelte-uwd94y"&&(_.innerHTML=v),b=C(ct),w=p(ct,"A",{id:!0,class:!0,href:!0,draggable:!0});var Ge=g(w);y=p(Ge,"DIV",{class:!0});var Ve=g(y);k=p(Ve,"DIV",{class:!0,"data-svelte-h":!0}),Fe(k)!=="svelte-irsu7d"&&(k.innerHTML=V),P=C(Ve),I=p(Ve,"DIV",{class:!0});var xe=g(I);D=H(xe,E),xe.forEach(f),Ve.forEach(f),$=C(Ge),T=p(Ge,"DIV",{});var tt=g(T);oe(L.$$.fragment,tt),tt.forEach(f),Ge.forEach(f),ct.forEach(f),N=C(Je),re&&re.l(Je),S=C(Je),F=p(Je,"DIV",{class:!0});var ft=g(F);Ie&&Ie.l(ft),q=C(ft),oe(O.$$.fragment,ft),ft.forEach(f),J=C(Je),G=p(Je,"DIV",{class:!0});var _t=g(G);De&&De.l(_t),R=C(_t),oe(j.$$.fragment,_t),_t.forEach(f),X=C(Je),K=p(Je,"DIV",{class:!0});var vt=g(K);te=p(vt,"DIV",{class:!0});var Ke=g(te);Ae&&Ae.l(Ke),Ke.forEach(f),vt.forEach(f),Je.forEach(f),_e.forEach(f),this.h()},h(){u(_,"class","cursor-pointer p-[7px] flex rounded-xl hover:bg-gray-100 dark:hover:bg-gray-900 transition"),u(k,"class","self-center mx-1.5"),u(I,"class","self-center font-medium text-sm text-gray-850 dark:text-white font-primary"),u(y,"class","flex items-center"),u(w,"id","sidebar-new-chat-button"),u(w,"class","flex justify-between items-center flex-1 rounded-lg px-2 py-1 h-full text-right hover:bg-gray-100 dark:hover:bg-gray-900 transition no-drag-region"),u(w,"href","/"),u(w,"draggable","false"),u(h,"class","px-1.5 flex justify-between space-x-1 text-gray-600 dark:text-gray-400"),u(F,"class",Y="relative "+(n[18]?"opacity-20":"")),u(G,"class",z="relative flex flex-col flex-1 overflow-y-auto overflow-x-hidden "+(n[18]?"opacity-20":"")),u(te,"class","flex flex-col font-primary"),u(K,"class","px-2"),u(d,"class",se="py-2 my-auto flex flex-col justify-between h-screen max-h-[100dvh] w-[260px] overflow-x-hidden z-50 "+(n[11]?"":"invisible")),u(i,"id","sidebar"),u(i,"class",ue="h-screen max-h-[100dvh] min-h-screen select-none "+(n[11]?"md:relative w-[260px] max-w-[260px]":"-translate-x-[260px] w-[0px]")+" "+(n[17]?"ml-[4.5rem] md:ml-0 ":"transition-width duration-200 ease-in-out")+" flex-shrink-0 bg-gray-50 text-gray-900 dark:bg-gray-950 dark:text-gray-200 text-sm fixed z-50 top-0 left-0 overflow-x-hidden svelte-141e0sl"),u(i,"data-state",n[11])},m(fe,_e){ie(e,fe,_e),M(fe,l,_e),ie(s,fe,_e),M(fe,o,_e),be&&be.m(fe,_e),M(fe,a,_e),M(fe,i,_e),c(i,d),c(d,h),c(h,_),c(h,b),c(h,w),c(w,y),c(y,k),c(y,P),c(y,I),c(I,D),c(w,$),c(w,T),ie(L,T,null),c(d,N),re&&re.m(d,null),c(d,S),c(d,F),Ie&&Ie.m(F,null),c(F,q),ie(O,F,null),c(d,J),c(d,G),De&&De.m(G,null),c(G,R),ie(j,G,null),c(d,X),c(d,K),c(K,te),Ae&&Ae.m(te,null),n[64](i),he=!0,me||(pe=[le(_,"click",n[37]),le(w,"click",n[38])],me=!0)},p(fe,_e){var xe,tt,ft,_t,vt,Ke,ee,ye,Pe,Ne,Xe,gt,Et,St,It;const Je={};!t&&_e[0]&16384&&(t=!0,Je.show=fe[14],dt(()=>t=!1)),e.$set(Je);const ct={};_e[0]&98368&&(ct.onSubmit=fe[34]),!r&&_e[0]&64&&(r=!0,ct.show=fe[6],dt(()=>r=!1)),s.$set(ct),fe[11]?be?be.p(fe,_e):(be=Co(fe),be.c(),be.m(a.parentNode,a)):be&&(be.d(1),be=null),(!he||_e[0]&4096)&&E!==(E=fe[12].t("New Chat")+"")&&x(D,E),((xe=fe[16])==null?void 0:xe.role)==="admin"||(_t=(ft=(tt=fe[16])==null?void 0:tt.permissions)==null?void 0:ft.workspace)!=null&&_t.models||(ee=(Ke=(vt=fe[16])==null?void 0:vt.permissions)==null?void 0:Ke.workspace)!=null&&ee.knowledge||(Ne=(Pe=(ye=fe[16])==null?void 0:ye.permissions)==null?void 0:Pe.workspace)!=null&&Ne.prompts||(Et=(gt=(Xe=fe[16])==null?void 0:Xe.permissions)==null?void 0:gt.workspace)!=null&&Et.tools?re?re.p(fe,_e):(re=So(fe),re.c(),re.m(d,S)):re&&(re.d(1),re=null),fe[18]?Ie||(Ie=$o(),Ie.c(),Ie.m(F,q)):Ie&&(Ie.d(1),Ie=null);const Ge={};_e[0]&4096&&(Ge.placeholder=fe[12].t("Search")),!B&&_e[0]&2&&(B=!0,Ge.value=fe[1],dt(()=>B=!1)),O.$set(Ge),(!he||_e[0]&262144&&Y!==(Y="relative "+(fe[18]?"opacity-20":"")))&&u(F,"class",Y),(It=(St=fe[19])==null?void 0:St.features)!=null&&It.enable_channels&&(fe[16].role==="admin"||fe[20].length>0)&&!fe[1]?De?(De.p(fe,_e),_e[0]&1638402&&W(De,1)):(De=No(fe),De.c(),W(De,1),De.m(G,R)):De&&(Qe(),Z(De,1,1,()=>{De=null}),et());const Ve={};_e[0]&2&&(Ve.collapsible=!fe[1]),_e[0]&4096&&(Ve.name=fe[12].t("Chats")),_e[0]&4096&&(Ve.onAddLabel=fe[12].t("New Folder")),_e[0]&6566830|_e[2]&67108864&&(Ve.$$scope={dirty:_e,ctx:fe}),j.$set(Ve),(!he||_e[0]&262144&&z!==(z="relative flex flex-col flex-1 overflow-y-auto overflow-x-hidden "+(fe[18]?"opacity-20":"")))&&u(G,"class",z),fe[16]!==void 0?Ae?(Ae.p(fe,_e),_e[0]&65536&&W(Ae,1)):(Ae=Ro(fe),Ae.c(),W(Ae,1),Ae.m(te,null)):Ae&&(Qe(),Z(Ae,1,1,()=>{Ae=null}),et()),(!he||_e[0]&2048&&se!==(se="py-2 my-auto flex flex-col justify-between h-screen max-h-[100dvh] w-[260px] overflow-x-hidden z-50 "+(fe[11]?"":"invisible")))&&u(d,"class",se),(!he||_e[0]&133120&&ue!==(ue="h-screen max-h-[100dvh] min-h-screen select-none "+(fe[11]?"md:relative w-[260px] max-w-[260px]":"-translate-x-[260px] w-[0px]")+" "+(fe[17]?"ml-[4.5rem] md:ml-0 ":"transition-width duration-200 ease-in-out")+" flex-shrink-0 bg-gray-50 text-gray-900 dark:bg-gray-950 dark:text-gray-200 text-sm fixed z-50 top-0 left-0 overflow-x-hidden svelte-141e0sl"))&&u(i,"class",ue),(!he||_e[0]&2048)&&u(i,"data-state",fe[11])},i(fe){he||(W(e.$$.fragment,fe),W(s.$$.fragment,fe),W(L.$$.fragment,fe),W(O.$$.fragment,fe),W(De),W(j.$$.fragment,fe),W(Ae),he=!0)},o(fe){Z(e.$$.fragment,fe),Z(s.$$.fragment,fe),Z(L.$$.fragment,fe),Z(O.$$.fragment,fe),Z(De),Z(j.$$.fragment,fe),Z(Ae),he=!1},d(fe){fe&&(f(l),f(o),f(a),f(i)),ce(e,fe),ce(s,fe),be&&be.d(fe),ce(L),re&&re.d(),Ie&&Ie.d(),ce(O),De&&De.d(),ce(j),Ae&&Ae.d(),n[64](null),me=!1,rt(pe)}}}function Fd(n,e,t){let l,s,r,o,a,i,d,h,_,v,b,w,y,k;Te(n,An,ee=>t(10,l=ee)),Te(n,Lt,ee=>t(11,s=ee)),Te(n,nl,ee=>t(13,o=ee)),Te(n,rl,ee=>t(69,a=ee)),Te(n,Xn,ee=>t(14,i=ee)),Te(n,cc,ee=>t(15,d=ee)),Te(n,Cl,ee=>t(16,h=ee)),Te(n,fc,ee=>t(17,_=ee)),Te(n,En,ee=>t(18,v=ee)),Te(n,rs,ee=>t(19,b=ee)),Te(n,Fa,ee=>t(20,w=ee)),Te(n,Cn,ee=>t(21,y=ee)),Te(n,Is,ee=>t(22,k=ee));const V=kt("i18n");Te(n,V,ee=>t(12,r=ee));let P,I="",E=!1,D=null,$=!1,T=!0,L=!1,N=!1,S=!1,F={};const q=async()=>{const ee=await Cf(localStorage.token).catch(ye=>(Le.error(`${ye}`),[]));t(9,F={});for(const ye of ee)t(9,F[ye.id]={...F[ye.id]||{},...ye},F);for(const ye of ee)ye.parent_id&&(F[ye.parent_id]||t(9,F[ye.parent_id]={},F),t(9,F[ye.parent_id].childrenIds=F[ye.parent_id].childrenIds?[...F[ye.parent_id].childrenIds,ye.id]:[ye.id],F),F[ye.parent_id].childrenIds.sort((Pe,Ne)=>F[Ne].updated_at-F[Pe].updated_at))},O=async(ee="Untitled")=>{if(ee===""){Le.error(r.t("Folder name cannot be empty."));return}const ye=Object.values(F).filter(Xe=>Xe.parent_id===null);if(ye.find(Xe=>Xe.name.toLowerCase()===ee.toLowerCase())){let Xe=1;for(;ye.find(gt=>gt.name.toLowerCase()===`${ee} ${Xe}`.toLowerCase());)Xe++;ee=`${ee} ${Xe}`}const Pe=vc();t(9,F={...F,tempId:{id:Pe,name:ee,created_at:Date.now(),updated_at:Date.now()}}),await Af(localStorage.token,ee).catch(Xe=>(Le.error(`${Xe}`),null))&&await q()},B=async()=>{await Fa.set(await tf(localStorage.token))},Y=async()=>{Ts.set(await Sn(localStorage.token)),Cn.set(await cr(localStorage.token)),q(),rl.set(1),t(8,S=!1),I?await nl.set(await er(localStorage.token,I,a)):await nl.set(await Ll(localStorage.token,a)),Is.set(!0)},J=async()=>{t(7,N=!0),rl.set(a+1);let ee=[];I?ee=await er(localStorage.token,I,a):ee=await Ll(localStorage.token,a),t(8,S=ee.length===0),await nl.set([...o||[],...ee]),t(7,N=!1)};let G;const R=async()=>{if(console.log("search",I),nl.set(null),G&&clearTimeout(G),I===""){await Y();return}else G=setTimeout(async()=>{t(8,S=!1),rl.set(1),await nl.set(await er(localStorage.token,I)),o.length===0&&Ts.set(await Sn(localStorage.token))},1e3)},j=async(ee,ye=!1,Pe=null)=>{console.log("importChatHandler",ee,ye,Pe);for(const Ne of ee)console.log(Ne),Ne.chat&&await Dn(localStorage.token,Ne.chat,(Ne==null?void 0:Ne.meta)??{},ye,Pe);Y()},z=async ee=>{console.log(ee);for(const ye of ee){const Pe=new FileReader;Pe.onload=async Ne=>{const Xe=Ne.target.result;try{const gt=JSON.parse(Xe);j(gt)}catch{Le.error(r.t("Invalid file format."))}},Pe.readAsText(ye)}},X=async(ee,ye,Pe)=>{console.log(ee,ye,Pe),(ee==="delete"||ee==="add")&&Y()},K=ee=>{var ye,Pe;ee.preventDefault(),(Pe=(ye=ee.dataTransfer)==null?void 0:ye.types)!=null&&Pe.includes("Files")},te=()=>{},se=async ee=>{var ye,Pe;if(ee.preventDefault(),console.log(ee),(ye=ee.dataTransfer)!=null&&ye.files){const Ne=Array.from((Pe=ee.dataTransfer)==null?void 0:Pe.files);Ne&&Ne.length>0&&(console.log(Ne),z(Ne))}};let ue,he;function me(){const ee=window.innerWidth,ye=Math.abs(he.screenX-ue.screenX);ue.clientX<40&&ye>=ee/8&&(he.screenX<ue.screenX&&Lt.set(!1),he.screenX>ue.screenX&&Lt.set(!0))}const pe=ee=>{ue=ee.changedTouches[0],console.log(ue.clientX)},de=ee=>{he=ee.changedTouches[0],me()},ke=ee=>{ee.key==="Shift"&&t(2,E=!0)},We=ee=>{ee.key==="Shift"&&t(2,E=!1)},Me=()=>{},be=()=>{t(2,E=!1),t(3,D=null)};Ct(async()=>{t(5,T=localStorage!=null&&localStorage.showPinnedChat?localStorage.showPinnedChat==="true":!0),An.subscribe(ye=>{if(s&&ye&&Lt.set(!1),s&&!ye){const Pe=document.getElementsByTagName("nav")[0];Pe&&(Pe.style["-webkit-app-region"]="drag")}!s&&!ye&&Lt.set(!0)}),Lt.set(l?!1:localStorage.sidebar==="true"),Lt.subscribe(ye=>{localStorage.sidebar=ye;const Pe=document.getElementsByTagName("nav")[0];Pe&&(l&&ye?Pe.style["-webkit-app-region"]="no-drag":Pe.style["-webkit-app-region"]="drag")}),await B(),await Y(),window.addEventListener("keydown",ke),window.addEventListener("keyup",We),window.addEventListener("touchstart",pe),window.addEventListener("touchend",de),window.addEventListener("focus",Me),window.addEventListener("blur",be);const ee=document.getElementById("sidebar");ee==null||ee.addEventListener("dragover",K),ee==null||ee.addEventListener("drop",se),ee==null||ee.addEventListener("dragleave",te)}),ss(()=>{window.removeEventListener("keydown",ke),window.removeEventListener("keyup",We),window.removeEventListener("touchstart",pe),window.removeEventListener("touchend",de),window.removeEventListener("focus",Me),window.removeEventListener("blur",be);const ee=document.getElementById("sidebar");ee==null||ee.removeEventListener("dragover",K),ee==null||ee.removeEventListener("drop",se),ee==null||ee.removeEventListener("dragleave",te)});function re(ee){i=ee,Xn.set(i)}const Ie=async()=>{await Y()},Be=async({name:ee,access_control:ye})=>{await lf(localStorage.token,{name:ee,access_control:ye}).catch(Ne=>(Le.error(`${Ne}`),null))&&(d.emit("join-channels",{auth:{token:h.token}}),await B(),t(6,L=!1))};function Ye(ee){L=ee,t(6,L)}const De=()=>{Lt.set(!s)},Ae=()=>{Lt.set(!s)},Se=async()=>{t(3,D=null),await gl("/");const ee=document.getElementById("new-chat-button");setTimeout(()=>{ee==null||ee.click(),l&&Lt.set(!1)},0)},Re=()=>{t(3,D=null),rr.set(""),l&&Lt.set(!1)};function Ze(ee){I=ee,t(1,I)}const nt=async()=>{await B()},Q=async()=>{h.role==="admin"&&(await Al(),setTimeout(()=>{t(6,L=!0)},0))},ve=ee=>{t(3,D=ee.id)},ge=()=>{t(3,D=null)},$e=async()=>{Y()},Oe=(ee,ye)=>{const{type:Pe,name:Ne}=ye.detail;X(Pe,Ne,ee.id)};function Ue(ee){T=ee,t(5,T)}const pt=ee=>{localStorage.setItem("showPinnedChat",ee.detail),console.log(ee.detail)},mt=ee=>{j(ee.detail,!0)},we=async ee=>{const{type:ye,id:Pe,item:Ne}=ee.detail;if(ye==="chat"){let Xe=await Ol(localStorage.token,Pe).catch(gt=>null);!Xe&&Ne&&(Xe=await Dn(localStorage.token,Ne.chat,(Ne==null?void 0:Ne.meta)??{})),Xe&&(console.log(Xe),Xe.folder_id&&await fr(localStorage.token,Xe.id,null).catch(gt=>(Le.error(`${gt}`),null)),Xe.pinned||await ir(localStorage.token,Xe.id),Y())}},He=ee=>{const{folderId:ye,items:Pe}=ee.detail;j(Pe,!1,ye)},qe=async ee=>{Y()},fe=async()=>{Y()},_e=ee=>{t(3,D=ee.id)},Je=()=>{t(3,D=null)},ct=async()=>{Y()},Ge=(ee,ye)=>{const{type:Pe,name:Ne}=ye.detail;X(Pe,Ne,ee.id)},Ve=ee=>{N||J()},xe=()=>{O()},tt=ee=>{j(ee.detail)},ft=async ee=>{const{type:ye,id:Pe,item:Ne}=ee.detail;if(ye==="chat"){let Xe=await Ol(localStorage.token,Pe).catch(gt=>null);!Xe&&Ne&&(Xe=await Dn(localStorage.token,Ne.chat,(Ne==null?void 0:Ne.meta)??{})),Xe&&(console.log(Xe),Xe.folder_id&&await fr(localStorage.token,Xe.id,null).catch(gt=>(Le.error(`${gt}`),null)),Xe.pinned&&await ir(localStorage.token,Xe.id),Y())}else if(ye==="folder"){if(F[Pe].parent_id===null)return;await ec(localStorage.token,Pe,null).catch(gt=>(Le.error(`${gt}`),null))&&await q()}},_t=()=>{t(4,$=!$)},vt=ee=>{ee.detail==="archived-chat"&&Xn.set(!0)};function Ke(ee){lt[ee?"unshift":"push"](()=>{P=ee,t(0,P)})}return[P,I,E,D,$,T,L,N,S,F,l,s,r,o,i,d,h,_,v,b,w,y,k,V,q,O,B,Y,J,R,j,X,re,Ie,Be,Ye,De,Ae,Se,Re,Ze,nt,Q,ve,ge,$e,Oe,Ue,pt,mt,we,He,qe,fe,_e,Je,ct,Ge,Ve,xe,tt,ft,_t,vt,Ke]}class Yd extends ot{constructor(e){super(),it(this,e,Fd,Wd,at,{},null,[-1,-1,-1])}}function xo(n){let e,t,l,s=n[4].t("Current Password")+"",r,o,a,i,d,h,_,v,b=n[4].t("New Password")+"",w,y,k,V,P,I,E,D,$=n[4].t("Confirm Password")+"",T,L,N,S,F,q,O,B,Y=n[4].t("Update password")+"",J,G,R;return{c(){e=m("div"),t=m("div"),l=m("div"),r=U(s),o=A(),a=m("div"),i=m("input"),h=A(),_=m("div"),v=m("div"),w=U(b),y=A(),k=m("div"),V=m("input"),I=A(),E=m("div"),D=m("div"),T=U($),L=A(),N=m("div"),S=m("input"),q=A(),O=m("div"),B=m("button"),J=U(Y),this.h()},l(j){e=p(j,"DIV",{class:!0});var z=g(e);t=p(z,"DIV",{class:!0});var X=g(t);l=p(X,"DIV",{class:!0});var K=g(l);r=H(K,s),K.forEach(f),o=C(X),a=p(X,"DIV",{class:!0});var te=g(a);i=p(te,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),te.forEach(f),X.forEach(f),h=C(z),_=p(z,"DIV",{class:!0});var se=g(_);v=p(se,"DIV",{class:!0});var ue=g(v);w=H(ue,b),ue.forEach(f),y=C(se),k=p(se,"DIV",{class:!0});var he=g(k);V=p(he,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),he.forEach(f),se.forEach(f),I=C(z),E=p(z,"DIV",{class:!0});var me=g(E);D=p(me,"DIV",{class:!0});var pe=g(D);T=H(pe,$),pe.forEach(f),L=C(me),N=p(me,"DIV",{class:!0});var de=g(N);S=p(de,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),de.forEach(f),me.forEach(f),z.forEach(f),q=C(j),O=p(j,"DIV",{class:!0});var ke=g(O);B=p(ke,"BUTTON",{class:!0});var We=g(B);J=H(We,Y),We.forEach(f),ke.forEach(f),this.h()},h(){u(l,"class","mb-1 text-xs text-gray-500"),u(i,"class","w-full bg-transparent dark:text-gray-300 outline-none placeholder:opacity-30"),u(i,"type","password"),u(i,"placeholder",d=n[4].t("Enter your current password")),u(i,"autocomplete","current-password"),i.required=!0,u(a,"class","flex-1"),u(t,"class","flex flex-col w-full"),u(v,"class","mb-1 text-xs text-gray-500"),u(V,"class","w-full bg-transparent text-sm dark:text-gray-300 outline-none placeholder:opacity-30"),u(V,"type","password"),u(V,"placeholder",P=n[4].t("Enter your new password")),u(V,"autocomplete","new-password"),V.required=!0,u(k,"class","flex-1"),u(_,"class","flex flex-col w-full"),u(D,"class","mb-1 text-xs text-gray-500"),u(S,"class","w-full bg-transparent text-sm dark:text-gray-300 outline-none placeholder:opacity-30"),u(S,"type","password"),u(S,"placeholder",F=n[4].t("Confirm your new password")),u(S,"autocomplete","off"),S.required=!0,u(N,"class","flex-1"),u(E,"class","flex flex-col w-full"),u(e,"class","py-2.5 space-y-1.5"),u(B,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),u(O,"class","mt-3 flex justify-end")},m(j,z){M(j,e,z),c(e,t),c(t,l),c(l,r),c(t,o),c(t,a),c(a,i),je(i,n[1]),c(e,h),c(e,_),c(_,v),c(v,w),c(_,y),c(_,k),c(k,V),je(V,n[2]),c(e,I),c(e,E),c(E,D),c(D,T),c(E,L),c(E,N),c(N,S),je(S,n[3]),M(j,q,z),M(j,O,z),c(O,B),c(B,J),G||(R=[le(i,"input",n[8]),le(V,"input",n[9]),le(S,"input",n[10])],G=!0)},p(j,z){z&16&&s!==(s=j[4].t("Current Password")+"")&&x(r,s),z&16&&d!==(d=j[4].t("Enter your current password"))&&u(i,"placeholder",d),z&2&&i.value!==j[1]&&je(i,j[1]),z&16&&b!==(b=j[4].t("New Password")+"")&&x(w,b),z&16&&P!==(P=j[4].t("Enter your new password"))&&u(V,"placeholder",P),z&4&&V.value!==j[2]&&je(V,j[2]),z&16&&$!==($=j[4].t("Confirm Password")+"")&&x(T,$),z&16&&F!==(F=j[4].t("Confirm your new password"))&&u(S,"placeholder",F),z&8&&S.value!==j[3]&&je(S,j[3]),z&16&&Y!==(Y=j[4].t("Update password")+"")&&x(J,Y)},d(j){j&&(f(e),f(q),f(O)),G=!1,rt(R)}}}function Zd(n){let e,t,l,s=n[4].t("Change Password")+"",r,o,a,i=(n[0]?n[4].t("Hide"):n[4].t("Show"))+"",d,h,_,v,b=n[0]&&xo(n);return{c(){e=m("form"),t=m("div"),l=m("div"),r=U(s),o=A(),a=m("button"),d=U(i),h=A(),b&&b.c(),this.h()},l(w){e=p(w,"FORM",{class:!0});var y=g(e);t=p(y,"DIV",{class:!0});var k=g(t);l=p(k,"DIV",{class:!0});var V=g(l);r=H(V,s),V.forEach(f),o=C(k),a=p(k,"BUTTON",{class:!0,type:!0});var P=g(a);d=H(P,i),P.forEach(f),k.forEach(f),h=C(y),b&&b.l(y),y.forEach(f),this.h()},h(){u(l,"class","font-medium"),u(a,"class","text-xs font-medium text-gray-500"),u(a,"type","button"),u(t,"class","flex justify-between items-center text-sm"),u(e,"class","flex flex-col text-sm")},m(w,y){M(w,e,y),c(e,t),c(t,l),c(l,r),c(t,o),c(t,a),c(a,d),c(e,h),b&&b.m(e,null),_||(v=[le(a,"click",n[7]),le(e,"submit",Bl(n[11]))],_=!0)},p(w,[y]){y&16&&s!==(s=w[4].t("Change Password")+"")&&x(r,s),y&17&&i!==(i=(w[0]?w[4].t("Hide"):w[4].t("Show"))+"")&&x(d,i),w[0]?b?b.p(w,y):(b=xo(w),b.c(),b.m(e,null)):b&&(b.d(1),b=null)},i:Ce,o:Ce,d(w){w&&f(e),b&&b.d(),_=!1,rt(v)}}}function Gd(n,e,t){let l;const s=kt("i18n");Te(n,s,y=>t(4,l=y));let r=!1,o="",a="",i="";const d=async()=>{a===i?(await rf(localStorage.token,o,a).catch(k=>(Le.error(`${k}`),null))&&Le.success(l.t("Successfully updated.")),t(1,o=""),t(2,a=""),t(3,i="")):(Le.error("The passwords you entered don't quite match. Please double-check and try again."),t(2,a=""),t(3,i=""))},h=()=>{t(0,r=!r)};function _(){o=this.value,t(1,o)}function v(){a=this.value,t(2,a)}function b(){i=this.value,t(3,i)}return[r,o,a,i,l,s,d,h,_,v,b,()=>{d()}]}class Jd extends ot{constructor(e){super(),it(this,e,Gd,Zd,at,{})}}function zo(n){var E,D;let e,t,l,s,r=n[10].t("JWT Token")+"",o,a,i,d,h,_,v,b,w,y;d=new Hi({props:{value:localStorage.token,readOnly:!0}});function k($,T){return $[5]?qd:Kd}let V=k(n),P=V(n),I=(((D=(E=n[11])==null?void 0:E.features)==null?void 0:D.enable_api_key)??!0)&&Wo(n);return{c(){e=m("div"),t=m("div"),l=m("div"),s=m("div"),o=U(r),a=A(),i=m("div"),ae(d.$$.fragment),h=A(),_=m("button"),P.c(),v=A(),I&&I.c(),this.h()},l($){e=p($,"DIV",{class:!0});var T=g(e);t=p(T,"DIV",{class:!0});var L=g(t);l=p(L,"DIV",{class:!0});var N=g(l);s=p(N,"DIV",{class:!0});var S=g(s);o=H(S,r),S.forEach(f),N.forEach(f),a=C(L),i=p(L,"DIV",{class:!0});var F=g(i);oe(d.$$.fragment,F),h=C(F),_=p(F,"BUTTON",{class:!0});var q=g(_);P.l(q),q.forEach(f),F.forEach(f),L.forEach(f),v=C(T),I&&I.l(T),T.forEach(f),this.h()},h(){u(s,"class","self-center text-xs font-medium"),u(l,"class","flex justify-between w-full"),u(_,"class","ml-1.5 px-1.5 py-1 dark:hover:bg-gray-850 transition rounded-lg"),u(i,"class","flex mt-2"),u(t,"class","justify-between w-full"),u(e,"class","flex flex-col gap-4")},m($,T){M($,e,T),c(e,t),c(t,l),c(l,s),c(s,o),c(t,a),c(t,i),ie(d,i,null),c(i,h),c(i,_),P.m(_,null),c(e,v),I&&I.m(e,null),b=!0,w||(y=le(_,"click",n[25]),w=!0)},p($,T){var L,N;(!b||T[0]&1024)&&r!==(r=$[10].t("JWT Token")+"")&&x(o,r),V!==(V=k($))&&(P.d(1),P=V($),P&&(P.c(),P.m(_,null))),((N=(L=$[11])==null?void 0:L.features)==null?void 0:N.enable_api_key)??!0?I?(I.p($,T),T[0]&2048&&W(I,1)):(I=Wo($),I.c(),W(I,1),I.m(e,null)):I&&(Qe(),Z(I,1,1,()=>{I=null}),et())},i($){b||(W(d.$$.fragment,$),W(I),b=!0)},o($){Z(d.$$.fragment,$),Z(I),b=!1},d($){$&&f(e),ce(d),P.d(),I&&I.d(),w=!1,y()}}}function Kd(n){let e,t,l;return{c(){e=bt("svg"),t=bt("path"),l=bt("path"),this.h()},l(s){e=wt(s,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var r=g(e);t=wt(r,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),g(t).forEach(f),l=wt(r,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),g(l).forEach(f),r.forEach(f),this.h()},h(){u(t,"fill-rule","evenodd"),u(t,"d","M11.986 3H12a2 2 0 0 1 2 2v6a2 2 0 0 1-1.5 1.937V7A2.5 2.5 0 0 0 10 4.5H4.063A2 2 0 0 1 6 3h.014A2.25 2.25 0 0 1 8.25 1h1.5a2.25 2.25 0 0 1 2.236 2ZM10.5 4v-.75a.75.75 0 0 0-.75-.75h-1.5a.75.75 0 0 0-.75.75V4h3Z"),u(t,"clip-rule","evenodd"),u(l,"fill-rule","evenodd"),u(l,"d","M3 6a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h7a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1H3Zm1.75 2.5a.75.75 0 0 0 0 1.5h3.5a.75.75 0 0 0 0-1.5h-3.5ZM4 11.75a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 0 1.5h-3.5a.75.75 0 0 1-.75-.75Z"),u(l,"clip-rule","evenodd"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"viewBox","0 0 16 16"),u(e,"fill","currentColor"),u(e,"class","w-4 h-4")},m(s,r){M(s,e,r),c(e,t),c(e,l)},d(s){s&&f(e)}}}function qd(n){let e,t;return{c(){e=bt("svg"),t=bt("path"),this.h()},l(l){e=wt(l,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var s=g(e);t=wt(s,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),g(t).forEach(f),s.forEach(f),this.h()},h(){u(t,"fill-rule","evenodd"),u(t,"d","M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z"),u(t,"clip-rule","evenodd"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"viewBox","0 0 20 20"),u(e,"fill","currentColor"),u(e,"class","w-4 h-4")},m(l,s){M(l,e,s),c(e,t)},d(l){l&&f(e)}}}function Wo(n){let e,t,l,s=n[10].t("API Key")+"",r,o,a,i,d,h;const _=[Qd,Xd],v=[];function b(w,y){return w[6]?0:1}return i=b(n),d=v[i]=_[i](n),{c(){e=m("div"),t=m("div"),l=m("div"),r=U(s),o=A(),a=m("div"),d.c(),this.h()},l(w){e=p(w,"DIV",{class:!0});var y=g(e);t=p(y,"DIV",{class:!0});var k=g(t);l=p(k,"DIV",{class:!0});var V=g(l);r=H(V,s),V.forEach(f),k.forEach(f),o=C(y),a=p(y,"DIV",{class:!0});var P=g(a);d.l(P),P.forEach(f),y.forEach(f),this.h()},h(){u(l,"class","self-center text-xs font-medium"),u(t,"class","flex justify-between w-full"),u(a,"class","flex mt-2"),u(e,"class","justify-between w-full")},m(w,y){M(w,e,y),c(e,t),c(t,l),c(l,r),c(e,o),c(e,a),v[i].m(a,null),h=!0},p(w,y){(!h||y[0]&1024)&&s!==(s=w[10].t("API Key")+"")&&x(r,s);let k=i;i=b(w),i===k?v[i].p(w,y):(Qe(),Z(v[k],1,1,()=>{v[k]=null}),et(),d=v[i],d?d.p(w,y):(d=v[i]=_[i](w),d.c()),W(d,1),d.m(a,null))},i(w){h||(W(d),h=!0)},o(w){Z(d),h=!1},d(w){w&&f(e),v[i].d()}}}function Xd(n){let e,t,l,s=n[10].t("Create new secret key")+"",r,o,a,i;return t=new Ki({props:{strokeWidth:"2",className:" size-3.5"}}),{c(){e=m("button"),ae(t.$$.fragment),l=A(),r=U(s),this.h()},l(d){e=p(d,"BUTTON",{class:!0});var h=g(e);oe(t.$$.fragment,h),l=C(h),r=H(h,s),h.forEach(f),this.h()},h(){u(e,"class","flex gap-1.5 items-center font-medium px-3.5 py-1.5 rounded-lg bg-gray-100/70 hover:bg-gray-100 dark:bg-gray-850 dark:hover:bg-gray-850 transition")},m(d,h){M(d,e,h),ie(t,e,null),c(e,l),c(e,r),o=!0,a||(i=le(e,"click",n[28]),a=!0)},p(d,h){(!o||h[0]&1024)&&s!==(s=d[10].t("Create new secret key")+"")&&x(r,s)},i(d){o||(W(t.$$.fragment,d),o=!0)},o(d){Z(t.$$.fragment,d),o=!1},d(d){d&&f(e),ce(t),a=!1,i()}}}function Qd(n){let e,t,l,s,r,o,a,i;e=new Hi({props:{value:n[6],readOnly:!0}});function d(v,b){return v[7]?th:eh}let h=d(n),_=h(n);return r=new Ot({props:{content:n[10].t("Create new key"),$$slots:{default:[lh]},$$scope:{ctx:n}}}),{c(){ae(e.$$.fragment),t=A(),l=m("button"),_.c(),s=A(),ae(r.$$.fragment),this.h()},l(v){oe(e.$$.fragment,v),t=C(v),l=p(v,"BUTTON",{class:!0});var b=g(l);_.l(b),b.forEach(f),s=C(v),oe(r.$$.fragment,v),this.h()},h(){u(l,"class","ml-1.5 px-1.5 py-1 dark:hover:bg-gray-850 transition rounded-lg")},m(v,b){ie(e,v,b),M(v,t,b),M(v,l,b),_.m(l,null),M(v,s,b),ie(r,v,b),o=!0,a||(i=le(l,"click",n[26]),a=!0)},p(v,b){const w={};b[0]&64&&(w.value=v[6]),e.$set(w),h!==(h=d(v))&&(_.d(1),_=h(v),_&&(_.c(),_.m(l,null)));const y={};b[0]&1024&&(y.content=v[10].t("Create new key")),b[1]&1&&(y.$$scope={dirty:b,ctx:v}),r.$set(y)},i(v){o||(W(e.$$.fragment,v),W(r.$$.fragment,v),o=!0)},o(v){Z(e.$$.fragment,v),Z(r.$$.fragment,v),o=!1},d(v){v&&(f(t),f(l),f(s)),ce(e,v),_.d(),ce(r,v),a=!1,i()}}}function eh(n){let e,t,l;return{c(){e=bt("svg"),t=bt("path"),l=bt("path"),this.h()},l(s){e=wt(s,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var r=g(e);t=wt(r,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),g(t).forEach(f),l=wt(r,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),g(l).forEach(f),r.forEach(f),this.h()},h(){u(t,"fill-rule","evenodd"),u(t,"d","M11.986 3H12a2 2 0 0 1 2 2v6a2 2 0 0 1-1.5 1.937V7A2.5 2.5 0 0 0 10 4.5H4.063A2 2 0 0 1 6 3h.014A2.25 2.25 0 0 1 8.25 1h1.5a2.25 2.25 0 0 1 2.236 2ZM10.5 4v-.75a.75.75 0 0 0-.75-.75h-1.5a.75.75 0 0 0-.75.75V4h3Z"),u(t,"clip-rule","evenodd"),u(l,"fill-rule","evenodd"),u(l,"d","M3 6a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h7a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1H3Zm1.75 2.5a.75.75 0 0 0 0 1.5h3.5a.75.75 0 0 0 0-1.5h-3.5ZM4 11.75a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 0 1.5h-3.5a.75.75 0 0 1-.75-.75Z"),u(l,"clip-rule","evenodd"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"viewBox","0 0 16 16"),u(e,"fill","currentColor"),u(e,"class","w-4 h-4")},m(s,r){M(s,e,r),c(e,t),c(e,l)},d(s){s&&f(e)}}}function th(n){let e,t;return{c(){e=bt("svg"),t=bt("path"),this.h()},l(l){e=wt(l,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var s=g(e);t=wt(s,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),g(t).forEach(f),s.forEach(f),this.h()},h(){u(t,"fill-rule","evenodd"),u(t,"d","M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z"),u(t,"clip-rule","evenodd"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"viewBox","0 0 20 20"),u(e,"fill","currentColor"),u(e,"class","w-4 h-4")},m(l,s){M(l,e,s),c(e,t)},d(l){l&&f(e)}}}function lh(n){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="size-4"><path stroke-linecap="round" stroke-linejoin="round" d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"></path></svg>',l,s;return{c(){e=m("button"),e.innerHTML=t,this.h()},l(r){e=p(r,"BUTTON",{class:!0,"data-svelte-h":!0}),Fe(e)!=="svelte-nx3com"&&(e.innerHTML=t),this.h()},h(){u(e,"class","px-1.5 py-1 dark:hover:bg-gray-850transition rounded-lg")},m(r,o){M(r,e,o),l||(s=le(e,"click",n[27]),l=!0)},p:Ce,d(r){r&&f(e),l=!1,s()}}}function sh(n){let e,t,l,s,r,o,a,i,d,h,_,v,b,w='<div class="my-auto text-gray-100"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="m2.695 14.762-1.262 3.155a.5.5 0 0 0 .65.65l3.155-1.262a4 4 0 0 0 1.343-.886L17.5 5.501a2.121 2.121 0 0 0-3-3L3.58 13.419a4 4 0 0 0-.885 1.343Z"></path></svg></div>',y,k,V,P=n[10].t("Profile Image")+"",I,E,D,$,T=n[10].t("Use Initials")+"",L,N,S,F=n[10].t("Use Gravatar")+"",q,O,B,Y=n[10].t("Remove")+"",J,G,R,j,z,X=n[10].t("Name")+"",K,te,se,ue,he,me,pe,de,ke=n[10].t("Notification Webhook")+"",We,Me,be,re,Ie,Be,Ye,De,Ae,Se,Re,Ze,nt,Q=n[10].t("API keys")+"",ve,ge,$e,Oe=(n[4]?n[10].t("Hide"):n[10].t("Show"))+"",Ue,pt,mt,we,He,qe=n[10].t("Save")+"",fe,_e,Je,ct;De=new Jd({});let Ge=n[4]&&zo(n);return{c(){e=m("div"),t=m("div"),l=m("input"),s=A(),r=m("div"),o=m("div"),a=m("div"),i=m("div"),d=m("button"),h=m("img"),v=A(),b=m("div"),b.innerHTML=w,y=A(),k=m("div"),V=m("div"),I=U(P),E=A(),D=m("div"),$=m("button"),L=U(T),N=A(),S=m("button"),q=U(F),O=A(),B=m("button"),J=U(Y),G=A(),R=m("div"),j=m("div"),z=m("div"),K=U(X),te=A(),se=m("div"),ue=m("input"),he=A(),me=m("div"),pe=m("div"),de=m("div"),We=U(ke),Me=A(),be=m("div"),re=m("input"),Be=A(),Ye=m("div"),ae(De.$$.fragment),Ae=A(),Se=m("hr"),Re=A(),Ze=m("div"),nt=m("div"),ve=U(Q),ge=A(),$e=m("button"),Ue=U(Oe),pt=A(),Ge&&Ge.c(),mt=A(),we=m("div"),He=m("button"),fe=U(qe),this.h()},l(Ve){e=p(Ve,"DIV",{class:!0});var xe=g(e);t=p(xe,"DIV",{class:!0});var tt=g(t);l=p(tt,"INPUT",{id:!0,type:!0,accept:!0}),s=C(tt),r=p(tt,"DIV",{class:!0});var ft=g(r);o=p(ft,"DIV",{class:!0});var _t=g(o);a=p(_t,"DIV",{class:!0});var vt=g(a);i=p(vt,"DIV",{class:!0});var Ke=g(i);d=p(Ke,"BUTTON",{class:!0,type:!0});var ee=g(d);h=p(ee,"IMG",{src:!0,alt:!0,class:!0}),v=C(ee),b=p(ee,"DIV",{class:!0,"data-svelte-h":!0}),Fe(b)!=="svelte-11ivb2j"&&(b.innerHTML=w),ee.forEach(f),Ke.forEach(f),vt.forEach(f),y=C(_t),k=p(_t,"DIV",{class:!0});var ye=g(k);V=p(ye,"DIV",{class:!0});var Pe=g(V);I=H(Pe,P),Pe.forEach(f),E=C(ye),D=p(ye,"DIV",{});var Ne=g(D);$=p(Ne,"BUTTON",{class:!0});var Xe=g($);L=H(Xe,T),Xe.forEach(f),N=C(Ne),S=p(Ne,"BUTTON",{class:!0});var gt=g(S);q=H(gt,F),gt.forEach(f),O=C(Ne),B=p(Ne,"BUTTON",{class:!0});var Et=g(B);J=H(Et,Y),Et.forEach(f),Ne.forEach(f),ye.forEach(f),_t.forEach(f),G=C(ft),R=p(ft,"DIV",{class:!0});var St=g(R);j=p(St,"DIV",{class:!0});var It=g(j);z=p(It,"DIV",{class:!0});var Sl=g(z);K=H(Sl,X),Sl.forEach(f),te=C(It),se=p(It,"DIV",{class:!0});var Hl=g(se);ue=p(Hl,"INPUT",{class:!0,type:!0}),Hl.forEach(f),It.forEach(f),St.forEach(f),he=C(ft),me=p(ft,"DIV",{class:!0});var Mt=g(me);pe=p(Mt,"DIV",{class:!0});var bl=g(pe);de=p(bl,"DIV",{class:!0});var wl=g(de);We=H(wl,ke),wl.forEach(f),Me=C(bl),be=p(bl,"DIV",{class:!0});var Pt=g(be);re=p(Pt,"INPUT",{class:!0,type:!0,placeholder:!0}),Pt.forEach(f),bl.forEach(f),Mt.forEach(f),ft.forEach(f),Be=C(tt),Ye=p(tt,"DIV",{class:!0});var cl=g(Ye);oe(De.$$.fragment,cl),cl.forEach(f),Ae=C(tt),Se=p(tt,"HR",{class:!0}),Re=C(tt),Ze=p(tt,"DIV",{class:!0});var al=g(Ze);nt=p(al,"DIV",{class:!0});var $l=g(nt);ve=H($l,Q),$l.forEach(f),ge=C(al),$e=p(al,"BUTTON",{class:!0,type:!0});var Pl=g($e);Ue=H(Pl,Oe),Pl.forEach(f),al.forEach(f),pt=C(tt),Ge&&Ge.l(tt),tt.forEach(f),mt=C(xe),we=p(xe,"DIV",{class:!0});var Bt=g(we);He=p(Bt,"BUTTON",{class:!0});var jl=g(He);fe=H(jl,qe),jl.forEach(f),Bt.forEach(f),xe.forEach(f),this.h()},h(){u(l,"id","profile-image-input"),u(l,"type","file"),l.hidden=!0,u(l,"accept","image/*"),Tn(h.src,_=n[1]!==""?n[1]:Ds(n[2]))||u(h,"src",_),u(h,"alt","profile"),u(h,"class","rounded-full size-16 object-cover"),u(b,"class","absolute flex justify-center rounded-full bottom-0 left-0 right-0 top-0 h-full w-full overflow-hidden bg-gray-700 bg-fixed opacity-0 transition duration-300 ease-in-out hover:opacity-50"),u(d,"class","relative rounded-full dark:bg-gray-700"),u(d,"type","button"),u(i,"class","self-center mt-2"),u(a,"class","flex flex-col"),u(V,"class","mb-0.5 text-sm font-medium"),u($,"class","text-xs text-center text-gray-800 dark:text-gray-400 rounded-full px-4 py-0.5 bg-gray-100 dark:bg-gray-850"),u(S,"class","text-xs text-center text-gray-800 dark:text-gray-400 rounded-full px-4 py-0.5 bg-gray-100 dark:bg-gray-850"),u(B,"class","text-xs text-center text-gray-800 dark:text-gray-400 rounded-lg px-2 py-1"),u(k,"class","flex-1 flex flex-col self-center gap-0.5"),u(o,"class","flex space-x-5"),u(z,"class","mb-1 text-xs font-medium"),u(ue,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),u(ue,"type","text"),ue.required=!0,u(se,"class","flex-1"),u(j,"class","flex flex-col w-full"),u(R,"class","pt-0.5"),u(de,"class","mb-1 text-xs font-medium"),u(re,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),u(re,"type","url"),u(re,"placeholder",Ie=n[10].t("Enter your webhook URL")),re.required=!0,u(be,"class","flex-1"),u(pe,"class","flex flex-col w-full"),u(me,"class","pt-2"),u(r,"class","space-y-1"),u(Ye,"class","py-0.5"),u(Se,"class","dark:border-gray-850 my-4"),u(nt,"class","font-medium"),u($e,"class","text-xs font-medium text-gray-500"),u($e,"type","button"),u(Ze,"class","flex justify-between items-center text-sm"),u(t,"class","space-y-3 overflow-y-scroll max-h-[28rem] lg:max-h-full"),u(He,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),u(we,"class","flex justify-end pt-3 text-sm font-medium"),u(e,"class","flex flex-col h-full justify-between text-sm")},m(Ve,xe){M(Ve,e,xe),c(e,t),c(t,l),n[16](l),c(t,s),c(t,r),c(r,o),c(o,a),c(a,i),c(i,d),c(d,h),c(d,v),c(d,b),c(o,y),c(o,k),c(k,V),c(V,I),c(k,E),c(k,D),c(D,$),c($,L),c(D,N),c(D,S),c(S,q),c(D,O),c(D,B),c(B,J),c(r,G),c(r,R),c(R,j),c(j,z),c(z,K),c(j,te),c(j,se),c(se,ue),je(ue,n[2]),c(r,he),c(r,me),c(me,pe),c(pe,de),c(de,We),c(pe,Me),c(pe,be),c(be,re),je(re,n[3]),c(t,Be),c(t,Ye),ie(De,Ye,null),c(t,Ae),c(t,Se),c(t,Re),c(t,Ze),c(Ze,nt),c(nt,ve),c(Ze,ge),c(Ze,$e),c($e,Ue),c(t,pt),Ge&&Ge.m(t,null),c(e,mt),c(e,we),c(we,He),c(He,fe),_e=!0,Je||(ct=[le(l,"change",n[17]),le(d,"click",n[18]),le($,"click",n[19]),le(S,"click",n[20]),le(B,"click",n[21]),le(ue,"input",n[22]),le(re,"input",n[23]),le($e,"click",n[24]),le(He,"click",n[29])],Je=!0)},p(Ve,xe){(!_e||xe[0]&6&&!Tn(h.src,_=Ve[1]!==""?Ve[1]:Ds(Ve[2])))&&u(h,"src",_),(!_e||xe[0]&1024)&&P!==(P=Ve[10].t("Profile Image")+"")&&x(I,P),(!_e||xe[0]&1024)&&T!==(T=Ve[10].t("Use Initials")+"")&&x(L,T),(!_e||xe[0]&1024)&&F!==(F=Ve[10].t("Use Gravatar")+"")&&x(q,F),(!_e||xe[0]&1024)&&Y!==(Y=Ve[10].t("Remove")+"")&&x(J,Y),(!_e||xe[0]&1024)&&X!==(X=Ve[10].t("Name")+"")&&x(K,X),xe[0]&4&&ue.value!==Ve[2]&&je(ue,Ve[2]),(!_e||xe[0]&1024)&&ke!==(ke=Ve[10].t("Notification Webhook")+"")&&x(We,ke),(!_e||xe[0]&1024&&Ie!==(Ie=Ve[10].t("Enter your webhook URL")))&&u(re,"placeholder",Ie),xe[0]&8&&re.value!==Ve[3]&&je(re,Ve[3]),(!_e||xe[0]&1024)&&Q!==(Q=Ve[10].t("API keys")+"")&&x(ve,Q),(!_e||xe[0]&1040)&&Oe!==(Oe=(Ve[4]?Ve[10].t("Hide"):Ve[10].t("Show"))+"")&&x(Ue,Oe),Ve[4]?Ge?(Ge.p(Ve,xe),xe[0]&16&&W(Ge,1)):(Ge=zo(Ve),Ge.c(),W(Ge,1),Ge.m(t,null)):Ge&&(Qe(),Z(Ge,1,1,()=>{Ge=null}),et()),(!_e||xe[0]&1024)&&qe!==(qe=Ve[10].t("Save")+"")&&x(fe,qe)},i(Ve){_e||(W(De.$$.fragment,Ve),W(Ge),_e=!0)},o(Ve){Z(De.$$.fragment,Ve),Z(Ge),_e=!1},d(Ve){Ve&&f(e),n[16](null),ce(De),Ge&&Ge.d(),Je=!1,rt(ct)}}}function nh(n,e,t){let l,s,r,o;Te(n,Ht,R=>t(30,l=R)),Te(n,Cl,R=>t(9,s=R)),Te(n,rs,R=>t(11,o=R));const a=kt("i18n");Te(n,a,R=>t(10,r=R));let{saveHandler:i}=e,{saveSettings:d}=e,h="",_="",v="",b=!1,w=!1,y="",k=!1,V;const P=async()=>{var j;_!==s.name&&(h===Ds(s.name)||h==="")&&t(1,h=Ds(_)),v!==((j=l==null?void 0:l.notifications)==null?void 0:j.webhook_url)&&d({notifications:{...l.notifications,webhook_url:v}});const R=await of(localStorage.token,_,h).catch(z=>{Le.error(`${z}`)});return R?(await Cl.set(R),!0):!1},I=async()=>{t(6,y=await cf(localStorage.token)),y?Le.success(r.t("API Key created.")):Le.error(r.t("Failed to create API Key."))};Ct(async()=>{var R;t(2,_=s.name),t(1,h=s.profile_image_url),t(3,v=((R=l==null?void 0:l.notifications)==null?void 0:R.webhook_url)??""),t(6,y=await af(localStorage.token).catch(j=>(console.log(j),"")))});function E(R){lt[R?"unshift":"push"](()=>{V=R,t(8,V)})}const D=R=>{const j=V.files??[];let z=new FileReader;z.onload=X=>{let K=`${X.target.result}`;const te=new Image;te.src=K,te.onload=function(){const se=document.createElement("canvas"),ue=se.getContext("2d"),he=te.width/te.height;let me,pe;he>1?(me=250*he,pe=250):(me=250,pe=250/he),se.width=250,se.height=250;const de=(250-me)/2,ke=(250-pe)/2;ue.drawImage(te,de,ke,me,pe);const We=se.toDataURL("image/jpeg");t(1,h=We),t(8,V.files=null,V)}},j.length>0&&["image/gif","image/webp","image/jpeg","image/png"].includes(j[0].type)&&z.readAsDataURL(j[0])},$=()=>{V.click()},T=async()=>{gc()?t(1,h=Ds(_)):Le.info(r.t("Fingerprint spoofing detected: Unable to use initials as avatar. Defaulting to default profile image."),{duration:1e3*10})},L=async()=>{const R=await Gc(s.email);t(1,h=R)},N=async()=>{t(1,h="/user.png")};function S(){_=this.value,t(2,_)}function F(){v=this.value,t(3,v)}const q=()=>{t(4,b=!b)},O=()=>{Za(localStorage.token),t(5,w=!0),setTimeout(()=>{t(5,w=!1)},2e3)},B=()=>{Za(y),t(7,k=!0),setTimeout(()=>{t(7,k=!1)},2e3)},Y=()=>{I()},J=()=>{I()},G=async()=>{await P()&&i()};return n.$$set=R=>{"saveHandler"in R&&t(0,i=R.saveHandler),"saveSettings"in R&&t(15,d=R.saveSettings)},[i,h,_,v,b,w,y,k,V,s,r,o,a,P,I,d,E,D,$,T,L,N,S,F,q,O,B,Y,J,G]}class rh extends ot{constructor(e){super(),it(this,e,nh,sh,at,{saveHandler:0,saveSettings:15},null,[-1,-1])}}function ah(n){let e,t;return{c(){e=U("v"),t=U(il)},l(l){e=H(l,"v"),t=H(l,il)},m(l,s){M(l,e,s),M(l,t,s)},p:Ce,d(l){l&&(f(e),f(t))}}}function Fo(n){let e,t,l,s,r=n[4].t("Ollama Version")+"",o,a,i,d,h=(n[0]??"N/A")+"",_;return{c(){e=m("hr"),t=A(),l=m("div"),s=m("div"),o=U(r),a=A(),i=m("div"),d=m("div"),_=U(h),this.h()},l(v){e=p(v,"HR",{class:!0}),t=C(v),l=p(v,"DIV",{});var b=g(l);s=p(b,"DIV",{class:!0});var w=g(s);o=H(w,r),w.forEach(f),a=C(b),i=p(b,"DIV",{class:!0});var y=g(i);d=p(y,"DIV",{class:!0});var k=g(d);_=H(k,h),k.forEach(f),y.forEach(f),b.forEach(f),this.h()},h(){u(e,"class","dark:border-gray-850"),u(s,"class","mb-2.5 text-sm font-medium"),u(d,"class","flex-1 text-xs text-gray-700 dark:text-gray-200"),u(i,"class","flex w-full")},m(v,b){M(v,e,b),M(v,t,b),M(v,l,b),c(l,s),c(s,o),c(l,a),c(l,i),c(i,d),c(d,_)},p(v,b){b&16&&r!==(r=v[4].t("Ollama Version")+"")&&x(o,r),b&1&&h!==(h=(v[0]??"N/A")+"")&&x(_,h)},d(v){v&&(f(e),f(t),f(l))}}}function Yo(n){let e,t,l;return{c(){e=m("span"),t=U(n[3]),l=U(" -"),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);t=H(r,n[3]),r.forEach(f),l=H(s," -"),this.h()},h(){u(e,"class","text-gray-500 dark:text-gray-300 font-medium")},m(s,r){M(s,e,r),c(e,t),M(s,l,r)},p(s,r){r&8&&x(t,s[3])},d(s){s&&(f(e),f(l))}}}function oh(n){let e,t,l,s,r,o,a,i=n[4].t("Version")+"",d,h,_,v,b,w,y,k,V=(n[1]===null?n[4].t("Checking for updates..."):n[1]?`(v${n[2].latest} ${n[4].t("available!")})`:n[4].t("(latest)"))+"",P,I,E,D,$,T=n[4].t("See what's new")+"",L,N,S,F=n[4].t("Check for updates")+"",q,O,B,Y,J,G,R=`Emoji graphics provided by
			<a href="https://github.com/jdecked/twemoji" target="_blank">Twemoji</a>, licensed under
			<a href="https://creativecommons.org/licenses/by/4.0/" target="_blank">CC-BY 4.0</a>.`,j,z,X='<a href="https://discord.gg/5rJgQTnV4s" target="_blank"><img alt="Discord" src="https://img.shields.io/badge/Discord-Open_WebUI-blue?logo=discord&amp;logoColor=white"/></a> <a href="https://twitter.com/OpenWebUI" target="_blank"><img alt="X (formerly Twitter) Follow" src="https://img.shields.io/twitter/follow/OpenWebUI"/></a> <a href="https://github.com/open-webui/open-webui" target="_blank"><img alt="Github Repo" src="https://img.shields.io/github/stars/open-webui/open-webui?style=social&amp;label=Star us on Github"/></a>',K,te,se,ue,he=new Date().getFullYear()+"",me,pe,de,ke="Open WebUI (Timothy Jaeryang Baek)",We,Me,be,re=!n[3].includes("Open WebUI"),Ie,Be=n[4].t("Created by")+"",Ye,De,Ae,Se="Timothy J. Baek",Re,Ze,nt;w=new Ot({props:{content:dc,$$slots:{default:[ah]},$$scope:{ctx:n}}});let Q=n[0]&&Fo(n),ve=re&&Yo(n);return{c(){e=m("div"),t=m("div"),l=m("div"),s=m("div"),r=m("div"),o=U(n[3]),a=A(),d=U(i),h=A(),_=m("div"),v=m("div"),b=m("div"),ae(w.$$.fragment),y=A(),k=m("a"),P=U(V),E=A(),D=m("button"),$=m("div"),L=U(T),N=A(),S=m("button"),q=U(F),O=A(),Q&&Q.c(),B=A(),Y=m("hr"),J=A(),G=m("div"),G.innerHTML=R,j=A(),z=m("div"),z.innerHTML=X,K=A(),te=m("div"),se=m("pre"),ue=U("Copyright (c) "),me=U(he),pe=U(" "),de=m("a"),de.textContent=ke,We=U(`
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:

1. Redistributions of source code must retain the above copyright notice, this
   list of conditions and the following disclaimer.

2. Redistributions in binary form must reproduce the above copyright notice,
   this list of conditions and the following disclaimer in the documentation
   and/or other materials provided with the distribution.

3. Neither the name of the copyright holder nor the names of its
   contributors may be used to endorse or promote products derived from
   this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
`),Me=A(),be=m("div"),ve&&ve.c(),Ie=A(),Ye=U(Be),De=A(),Ae=m("a"),Ae.textContent=Se,this.h()},l(ge){e=p(ge,"DIV",{class:!0});var $e=g(e);t=p($e,"DIV",{class:!0});var Oe=g(t);l=p(Oe,"DIV",{});var Ue=g(l);s=p(Ue,"DIV",{class:!0});var pt=g(s);r=p(pt,"DIV",{});var mt=g(r);o=H(mt,n[3]),a=C(mt),d=H(mt,i),mt.forEach(f),pt.forEach(f),h=C(Ue),_=p(Ue,"DIV",{class:!0});var we=g(_);v=p(we,"DIV",{class:!0});var He=g(v);b=p(He,"DIV",{class:!0});var qe=g(b);oe(w.$$.fragment,qe),y=C(qe),k=p(qe,"A",{href:!0,target:!0});var fe=g(k);P=H(fe,V),fe.forEach(f),qe.forEach(f),E=C(He),D=p(He,"BUTTON",{class:!0});var _e=g(D);$=p(_e,"DIV",{});var Je=g($);L=H(Je,T),Je.forEach(f),_e.forEach(f),He.forEach(f),N=C(we),S=p(we,"BUTTON",{class:!0});var ct=g(S);q=H(ct,F),ct.forEach(f),we.forEach(f),Ue.forEach(f),O=C(Oe),Q&&Q.l(Oe),B=C(Oe),Y=p(Oe,"HR",{class:!0}),J=C(Oe),G=p(Oe,"DIV",{class:!0,"data-svelte-h":!0}),Fe(G)!=="svelte-1w5x546"&&(G.innerHTML=R),j=C(Oe),z=p(Oe,"DIV",{class:!0,"data-svelte-h":!0}),Fe(z)!=="svelte-1hy20dm"&&(z.innerHTML=X),K=C(Oe),te=p(Oe,"DIV",{});var Ge=g(te);se=p(Ge,"PRE",{class:!0});var Ve=g(se);ue=H(Ve,"Copyright (c) "),me=H(Ve,he),pe=H(Ve," "),de=p(Ve,"A",{href:!0,target:!0,class:!0,"data-svelte-h":!0}),Fe(de)!=="svelte-dl88be"&&(de.textContent=ke),We=H(Ve,`
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:

1. Redistributions of source code must retain the above copyright notice, this
   list of conditions and the following disclaimer.

2. Redistributions in binary form must reproduce the above copyright notice,
   this list of conditions and the following disclaimer in the documentation
   and/or other materials provided with the distribution.

3. Neither the name of the copyright holder nor the names of its
   contributors may be used to endorse or promote products derived from
   this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
`),Ve.forEach(f),Ge.forEach(f),Me=C(Oe),be=p(Oe,"DIV",{class:!0});var xe=g(be);ve&&ve.l(xe),Ie=C(xe),Ye=H(xe,Be),De=C(xe),Ae=p(xe,"A",{class:!0,href:!0,target:!0,"data-svelte-h":!0}),Fe(Ae)!=="svelte-1tvrifl"&&(Ae.textContent=Se),xe.forEach(f),Oe.forEach(f),$e.forEach(f),this.h()},h(){u(s,"class","mb-2.5 text-sm font-medium flex space-x-2 items-center"),u(k,"href",I="https://github.com/open-webui/open-webui/releases/tag/v"+n[2].latest),u(k,"target","_blank"),u(b,"class","flex gap-1"),u(D,"class","underline flex items-center space-x-1 text-xs text-gray-500 dark:text-gray-500"),u(v,"class","flex flex-col text-xs text-gray-700 dark:text-gray-200"),u(S,"class","text-xs px-3 py-1.5 bg-gray-100 hover:bg-gray-200 dark:bg-gray-850 dark:hover:bg-gray-800 transition rounded-lg font-medium"),u(_,"class","flex w-full justify-between items-center"),u(Y,"class","dark:border-gray-850"),u(G,"class","mt-2 text-xs text-gray-400 dark:text-gray-500"),u(z,"class","flex space-x-1"),u(de,"href","https://openwebui.com"),u(de,"target","_blank"),u(de,"class","underline"),u(se,"class","text-xs text-gray-400 dark:text-gray-500"),u(Ae,"class","text-gray-500 dark:text-gray-300 font-medium"),u(Ae,"href","https://github.com/tjbck"),u(Ae,"target","_blank"),u(be,"class","mt-2 text-xs text-gray-400 dark:text-gray-500"),u(t,"class","space-y-3 overflow-y-scroll max-h-[28rem] lg:max-h-full"),u(e,"class","flex flex-col h-full justify-between space-y-3 text-sm mb-6")},m(ge,$e){M(ge,e,$e),c(e,t),c(t,l),c(l,s),c(s,r),c(r,o),c(r,a),c(r,d),c(l,h),c(l,_),c(_,v),c(v,b),ie(w,b,null),c(b,y),c(b,k),c(k,P),c(v,E),c(v,D),c(D,$),c($,L),c(_,N),c(_,S),c(S,q),c(t,O),Q&&Q.m(t,null),c(t,B),c(t,Y),c(t,J),c(t,G),c(t,j),c(t,z),c(t,K),c(t,te),c(te,se),c(se,ue),c(se,me),c(se,pe),c(se,de),c(se,We),c(t,Me),c(t,be),ve&&ve.m(be,null),c(be,Ie),c(be,Ye),c(be,De),c(be,Ae),Re=!0,Ze||(nt=[le(D,"click",n[7]),le(S,"click",n[8])],Ze=!0)},p(ge,[$e]){(!Re||$e&8)&&x(o,ge[3]),(!Re||$e&16)&&i!==(i=ge[4].t("Version")+"")&&x(d,i);const Oe={};$e&512&&(Oe.$$scope={dirty:$e,ctx:ge}),w.$set(Oe),(!Re||$e&22)&&V!==(V=(ge[1]===null?ge[4].t("Checking for updates..."):ge[1]?`(v${ge[2].latest} ${ge[4].t("available!")})`:ge[4].t("(latest)"))+"")&&x(P,V),(!Re||$e&4&&I!==(I="https://github.com/open-webui/open-webui/releases/tag/v"+ge[2].latest))&&u(k,"href",I),(!Re||$e&16)&&T!==(T=ge[4].t("See what's new")+"")&&x(L,T),(!Re||$e&16)&&F!==(F=ge[4].t("Check for updates")+"")&&x(q,F),ge[0]?Q?Q.p(ge,$e):(Q=Fo(ge),Q.c(),Q.m(t,B)):Q&&(Q.d(1),Q=null),$e&8&&(re=!ge[3].includes("Open WebUI")),re?ve?ve.p(ge,$e):(ve=Yo(ge),ve.c(),ve.m(be,Ie)):ve&&(ve.d(1),ve=null),(!Re||$e&16)&&Be!==(Be=ge[4].t("Created by")+"")&&x(Ye,Be)},i(ge){Re||(W(w.$$.fragment,ge),Re=!0)},o(ge){Z(w.$$.fragment,ge),Re=!1},d(ge){ge&&f(e),ce(w),Q&&Q.d(),ve&&ve.d(),Ze=!1,rt(nt)}}}function ih(n,e,t){let l,s;Te(n,Oi,v=>t(3,l=v));const r=kt("i18n");Te(n,r,v=>t(4,s=v));let o="",a=null,i={current:"",latest:""};const d=async()=>{t(1,a=null),t(2,i=await Mi(localStorage.token).catch(v=>({current:il,latest:il}))),console.log(i),t(1,a=ar(i.latest,i.current)),console.log(a)};return Ct(async()=>{t(0,o=await uf(localStorage.token).catch(v=>"")),d()}),[o,a,i,l,s,r,d,()=>{In.set(!0)},()=>{d()}]}class ch extends ot{constructor(e){super(),it(this,e,ih,oh,at,{})}}function Zo(n,e,t){const l=n.slice();return l[33]=e[t],l}function Go(n){let e,t=n[33].title+"",l,s;return{c(){e=m("option"),l=U(t),this.h()},l(r){e=p(r,"OPTION",{});var o=g(e);l=H(o,t),o.forEach(f),this.h()},h(){e.__value=s=n[33].code,je(e,e.__value)},m(r,o){M(r,e,o),c(e,l)},p(r,o){o[0]&4&&t!==(t=r[33].title+"")&&x(l,t),o[0]&4&&s!==(s=r[33].code)&&(e.__value=s,je(e,e.__value))},d(r){r&&f(e)}}}function Jo(n){let e,t=`Couldn&#39;t find your language?
					<a class="text-gray-300 font-medium underline" href="https://github.com/open-webui/open-webui/blob/main/docs/CONTRIBUTING.md#-translations-and-internationalization" target="_blank">Help us translate Open WebUI!</a>`;return{c(){e=m("div"),e.innerHTML=t,this.h()},l(l){e=p(l,"DIV",{class:!0,"data-svelte-h":!0}),Fe(e)!=="svelte-3hlwzt"&&(e.innerHTML=t),this.h()},h(){u(e,"class","mb-2 text-xs text-gray-400 dark:text-gray-500")},m(l,s){M(l,e,s)},d(l){l&&f(e)}}}function fh(n){let e,t=n[10].t("Off")+"",l;return{c(){e=m("span"),l=U(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=H(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&1024&&t!==(t=s[10].t("Off")+"")&&x(l,t)},d(s){s&&f(e)}}}function uh(n){let e,t=n[10].t("On")+"",l;return{c(){e=m("span"),l=U(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=H(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&1024&&t!==(t=s[10].t("On")+"")&&x(l,t)},d(s){s&&f(e)}}}function Ko(n){let e,t,l,s,r=n[10].t("System Prompt")+"",o,a,i,d,h,_,v,b=n[10].t("Advanced Parameters")+"",w,y,k,V=(n[6]?n[10].t("Hide"):n[10].t("Show"))+"",P,I,E,D,$,T=n[6]&&qo(n);return{c(){e=m("hr"),t=A(),l=m("div"),s=m("div"),o=U(r),a=A(),i=m("textarea"),d=A(),h=m("div"),_=m("div"),v=m("div"),w=U(b),y=A(),k=m("button"),P=U(V),I=A(),T&&T.c(),this.h()},l(L){e=p(L,"HR",{class:!0}),t=C(L),l=p(L,"DIV",{});var N=g(l);s=p(N,"DIV",{class:!0});var S=g(s);o=H(S,r),S.forEach(f),a=C(N),i=p(N,"TEXTAREA",{class:!0,rows:!0}),g(i).forEach(f),N.forEach(f),d=C(L),h=p(L,"DIV",{class:!0});var F=g(h);_=p(F,"DIV",{class:!0});var q=g(_);v=p(q,"DIV",{class:!0});var O=g(v);w=H(O,b),O.forEach(f),y=C(q),k=p(q,"BUTTON",{class:!0,type:!0});var B=g(k);P=H(B,V),B.forEach(f),q.forEach(f),I=C(F),T&&T.l(F),F.forEach(f),this.h()},h(){u(e,"class","dark:border-gray-850 my-3"),u(s,"class","my-2.5 text-sm font-medium"),u(i,"class","w-full rounded-lg p-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none resize-none"),u(i,"rows","4"),u(v,"class","font-medium"),u(k,"class","text-xs font-medium text-gray-500"),u(k,"type","button"),u(_,"class","flex justify-between items-center text-sm"),u(h,"class","mt-2 space-y-3 pr-1.5")},m(L,N){M(L,e,N),M(L,t,N),M(L,l,N),c(l,s),c(s,o),c(l,a),c(l,i),je(i,n[5]),M(L,d,N),M(L,h,N),c(h,_),c(_,v),c(v,w),c(_,y),c(_,k),c(k,P),c(h,I),T&&T.m(h,null),E=!0,D||($=[le(i,"input",n[23]),le(k,"click",n[24])],D=!0)},p(L,N){(!E||N[0]&1024)&&r!==(r=L[10].t("System Prompt")+"")&&x(o,r),N[0]&32&&je(i,L[5]),(!E||N[0]&1024)&&b!==(b=L[10].t("Advanced Parameters")+"")&&x(w,b),(!E||N[0]&1088)&&V!==(V=(L[6]?L[10].t("Hide"):L[10].t("Show"))+"")&&x(P,V),L[6]?T?(T.p(L,N),N[0]&64&&W(T,1)):(T=qo(L),T.c(),W(T,1),T.m(h,null)):T&&(Qe(),Z(T,1,1,()=>{T=null}),et())},i(L){E||(W(T),E=!0)},o(L){Z(T),E=!1},d(L){L&&(f(e),f(t),f(l),f(d),f(h)),T&&T.d(),D=!1,rt($)}}}function qo(n){var R;let e,t,l,s,r,o,a,i,d=n[10].t("Keep Alive")+"",h,_,v,b,w,y,k,V,P=n[10].t("Request Mode")+"",I,E,D,$,T,L;function N(j){n[25](j)}let S={admin:((R=n[11])==null?void 0:R.role)==="admin"};n[9]!==void 0&&(S.params=n[9]),e=new hf({props:S}),lt.push(()=>ht(e,"params",N));function F(j,z){return j[8]===null?hh:dh}let q=F(n),O=q(n),B=n[8]!==null&&Xo(n);function Y(j,z){if(j[7]==="")return ph;if(j[7]==="json")return mh}let J=Y(n),G=J&&J(n);return{c(){ae(e.$$.fragment),l=A(),s=m("hr"),r=A(),o=m("div"),a=m("div"),i=m("div"),h=U(d),_=A(),v=m("button"),O.c(),b=A(),B&&B.c(),w=A(),y=m("div"),k=m("div"),V=m("div"),I=U(P),E=A(),D=m("button"),G&&G.c(),this.h()},l(j){oe(e.$$.fragment,j),l=C(j),s=p(j,"HR",{class:!0}),r=C(j),o=p(j,"DIV",{class:!0});var z=g(o);a=p(z,"DIV",{class:!0});var X=g(a);i=p(X,"DIV",{class:!0});var K=g(i);h=H(K,d),K.forEach(f),_=C(X),v=p(X,"BUTTON",{class:!0,type:!0});var te=g(v);O.l(te),te.forEach(f),X.forEach(f),b=C(z),B&&B.l(z),z.forEach(f),w=C(j),y=p(j,"DIV",{});var se=g(y);k=p(se,"DIV",{class:!0});var ue=g(k);V=p(ue,"DIV",{class:!0});var he=g(V);I=H(he,P),he.forEach(f),E=C(ue),D=p(ue,"BUTTON",{class:!0});var me=g(D);G&&G.l(me),me.forEach(f),ue.forEach(f),se.forEach(f),this.h()},h(){u(s,"class","dark:border-gray-850"),u(i,"class","self-center text-xs font-medium"),u(v,"class","p-1 px-3 text-xs flex rounded transition"),u(v,"type","button"),u(a,"class","flex w-full justify-between"),u(o,"class","py-1 w-full justify-between"),u(V,"class","self-center text-sm font-medium"),u(D,"class","p-1 px-3 text-xs flex rounded transition"),u(k,"class","py-1 flex w-full justify-between")},m(j,z){ie(e,j,z),M(j,l,z),M(j,s,z),M(j,r,z),M(j,o,z),c(o,a),c(a,i),c(i,h),c(a,_),c(a,v),O.m(v,null),c(o,b),B&&B.m(o,null),M(j,w,z),M(j,y,z),c(y,k),c(k,V),c(V,I),c(k,E),c(k,D),G&&G.m(D,null),$=!0,T||(L=[le(v,"click",n[26]),le(D,"click",n[28])],T=!0)},p(j,z){var K;const X={};z[0]&2048&&(X.admin=((K=j[11])==null?void 0:K.role)==="admin"),!t&&z[0]&512&&(t=!0,X.params=j[9],dt(()=>t=!1)),e.$set(X),(!$||z[0]&1024)&&d!==(d=j[10].t("Keep Alive")+"")&&x(h,d),q===(q=F(j))&&O?O.p(j,z):(O.d(1),O=q(j),O&&(O.c(),O.m(v,null))),j[8]!==null?B?B.p(j,z):(B=Xo(j),B.c(),B.m(o,null)):B&&(B.d(1),B=null),(!$||z[0]&1024)&&P!==(P=j[10].t("Request Mode")+"")&&x(I,P),J===(J=Y(j))&&G?G.p(j,z):(G&&G.d(1),G=J&&J(j),G&&(G.c(),G.m(D,null)))},i(j){$||(W(e.$$.fragment,j),$=!0)},o(j){Z(e.$$.fragment,j),$=!1},d(j){j&&(f(l),f(s),f(r),f(o),f(w),f(y)),ce(e,j),O.d(),B&&B.d(),G&&G.d(),T=!1,rt(L)}}}function dh(n){let e,t=n[10].t("Custom")+"",l;return{c(){e=m("span"),l=U(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=H(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&1024&&t!==(t=s[10].t("Custom")+"")&&x(l,t)},d(s){s&&f(e)}}}function hh(n){let e,t=n[10].t("Default")+"",l;return{c(){e=m("span"),l=U(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=H(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&1024&&t!==(t=s[10].t("Default")+"")&&x(l,t)},d(s){s&&f(e)}}}function Xo(n){let e,t,l,s,r;return{c(){e=m("div"),t=m("input"),this.h()},l(o){e=p(o,"DIV",{class:!0});var a=g(e);t=p(a,"INPUT",{class:!0,type:!0,placeholder:!0}),a.forEach(f),this.h()},h(){u(t,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),u(t,"type","text"),u(t,"placeholder",l=n[10].t("e.g. '30s','10m'. Valid time units are 's', 'm', 'h'.")),u(e,"class","flex mt-1 space-x-2")},m(o,a){M(o,e,a),c(e,t),je(t,n[8]),s||(r=le(t,"input",n[27]),s=!0)},p(o,a){a[0]&1024&&l!==(l=o[10].t("e.g. '30s','10m'. Valid time units are 's', 'm', 'h'."))&&u(t,"placeholder",l),a[0]&256&&t.value!==o[8]&&je(t,o[8])},d(o){o&&f(e),s=!1,r()}}}function mh(n){let e,t=n[10].t("JSON")+"",l;return{c(){e=m("span"),l=U(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=H(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&1024&&t!==(t=s[10].t("JSON")+"")&&x(l,t)},d(s){s&&f(e)}}}function ph(n){let e,t=n[10].t("Default")+"",l;return{c(){e=m("span"),l=U(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=H(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&1024&&t!==(t=s[10].t("Default")+"")&&x(l,t)},d(s){s&&f(e)}}}function _h(n){var pt,mt;let e,t,l,s,r=n[10].t("WebUI Settings")+"",o,a,i,d,h=n[10].t("Theme")+"",_,v,b,w,y,k,V=n[10].t("System")+"",P,I,E,D=n[10].t("Dark")+"",$,T,L,N=n[10].t("OLED Dark")+"",S,F,q,O=n[10].t("Light")+"",B,Y,J=" Her",G,R,j,z=n[10].t("Language")+"",X,K,te,se,ue,he,me,pe,de,ke=n[10].t("Notifications")+"",We,Me,be,re,Ie,Be,Ye,De=n[10].t("Save")+"",Ae,Se,Re,Ze,nt=st(n[2]),Q=[];for(let we=0;we<nt.length;we+=1)Q[we]=Go(Zo(n,nt,we));let ve=n[10].language==="en-US"&&Jo();function ge(we,He){return we[4]===!0?uh:fh}let $e=ge(n),Oe=$e(n),Ue=(n[11].role==="admin"||((mt=(pt=n[11])==null?void 0:pt.permissions.chat)==null?void 0:mt.controls))&&Ko(n);return{c(){e=m("div"),t=m("div"),l=m("div"),s=m("div"),o=U(r),a=A(),i=m("div"),d=m("div"),_=U(h),v=A(),b=m("div"),w=m("select"),y=m("option"),k=U(" "),P=U(V),I=m("option"),E=U(" "),$=U(D),T=m("option"),L=U(" "),S=U(N),F=m("option"),q=U(" "),B=U(O),Y=m("option"),Y.textContent=J,G=A(),R=m("div"),j=m("div"),X=U(z),K=A(),te=m("div"),se=m("select");for(let we=0;we<Q.length;we+=1)Q[we].c();ue=A(),ve&&ve.c(),he=A(),me=m("div"),pe=m("div"),de=m("div"),We=U(ke),Me=A(),be=m("button"),Oe.c(),re=A(),Ue&&Ue.c(),Ie=A(),Be=m("div"),Ye=m("button"),Ae=U(De),this.h()},l(we){e=p(we,"DIV",{class:!0});var He=g(e);t=p(He,"DIV",{class:!0});var qe=g(t);l=p(qe,"DIV",{class:!0});var fe=g(l);s=p(fe,"DIV",{class:!0});var _e=g(s);o=H(_e,r),_e.forEach(f),a=C(fe),i=p(fe,"DIV",{class:!0});var Je=g(i);d=p(Je,"DIV",{class:!0});var ct=g(d);_=H(ct,h),ct.forEach(f),v=C(Je),b=p(Je,"DIV",{class:!0});var Ge=g(b);w=p(Ge,"SELECT",{class:!0,placeholder:!0});var Ve=g(w);y=p(Ve,"OPTION",{});var xe=g(y);k=H(xe," "),P=H(xe,V),xe.forEach(f),I=p(Ve,"OPTION",{});var tt=g(I);E=H(tt," "),$=H(tt,D),tt.forEach(f),T=p(Ve,"OPTION",{});var ft=g(T);L=H(ft," "),S=H(ft,N),ft.forEach(f),F=p(Ve,"OPTION",{});var _t=g(F);q=H(_t," "),B=H(_t,O),_t.forEach(f),Y=p(Ve,"OPTION",{"data-svelte-h":!0}),Fe(Y)!=="svelte-188ouwx"&&(Y.textContent=J),Ve.forEach(f),Ge.forEach(f),Je.forEach(f),G=C(fe),R=p(fe,"DIV",{class:!0});var vt=g(R);j=p(vt,"DIV",{class:!0});var Ke=g(j);X=H(Ke,z),Ke.forEach(f),K=C(vt),te=p(vt,"DIV",{class:!0});var ee=g(te);se=p(ee,"SELECT",{class:!0,placeholder:!0});var ye=g(se);for(let It=0;It<Q.length;It+=1)Q[It].l(ye);ye.forEach(f),ee.forEach(f),vt.forEach(f),ue=C(fe),ve&&ve.l(fe),he=C(fe),me=p(fe,"DIV",{});var Pe=g(me);pe=p(Pe,"DIV",{class:!0});var Ne=g(pe);de=p(Ne,"DIV",{class:!0});var Xe=g(de);We=H(Xe,ke),Xe.forEach(f),Me=C(Ne),be=p(Ne,"BUTTON",{class:!0,type:!0});var gt=g(be);Oe.l(gt),gt.forEach(f),Ne.forEach(f),Pe.forEach(f),fe.forEach(f),re=C(qe),Ue&&Ue.l(qe),qe.forEach(f),Ie=C(He),Be=p(He,"DIV",{class:!0});var Et=g(Be);Ye=p(Et,"BUTTON",{class:!0});var St=g(Ye);Ae=H(St,De),St.forEach(f),Et.forEach(f),He.forEach(f),this.h()},h(){u(s,"class","mb-1 text-sm font-medium"),u(d,"class","self-center text-xs font-medium"),y.__value="system",je(y,y.__value),I.__value="dark",je(I,I.__value),T.__value="oled-dark",je(T,T.__value),F.__value="light",je(F,F.__value),Y.__value="her",je(Y,Y.__value),u(w,"class","dark:bg-gray-900 w-fit pr-8 rounded py-2 px-2 text-xs bg-transparent outline-none text-right"),u(w,"placeholder","Select a theme"),n[1]===void 0&&Ml(()=>n[18].call(w)),u(b,"class","flex items-center relative"),u(i,"class","flex w-full justify-between"),u(j,"class","self-center text-xs font-medium"),u(se,"class","dark:bg-gray-900 w-fit pr-8 rounded py-2 px-2 text-xs bg-transparent outline-none text-right"),u(se,"placeholder","Select a language"),n[3]===void 0&&Ml(()=>n[20].call(se)),u(te,"class","flex items-center relative"),u(R,"class","flex w-full justify-between"),u(de,"class","self-center text-xs font-medium"),u(be,"class","p-1 px-3 text-xs flex rounded transition"),u(be,"type","button"),u(pe,"class","py-0.5 flex w-full justify-between"),u(l,"class",""),u(t,"class","overflow-y-scroll max-h-[28rem] lg:max-h-full"),u(Ye,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),u(Be,"class","flex justify-end pt-3 text-sm font-medium"),u(e,"class","flex flex-col h-full justify-between text-sm")},m(we,He){M(we,e,He),c(e,t),c(t,l),c(l,s),c(s,o),c(l,a),c(l,i),c(i,d),c(d,_),c(i,v),c(i,b),c(b,w),c(w,y),c(y,k),c(y,P),c(w,I),c(I,E),c(I,$),c(w,T),c(T,L),c(T,S),c(w,F),c(F,q),c(F,B),c(w,Y),ol(w,n[1],!0),c(l,G),c(l,R),c(R,j),c(j,X),c(R,K),c(R,te),c(te,se);for(let qe=0;qe<Q.length;qe+=1)Q[qe]&&Q[qe].m(se,null);ol(se,n[3],!0),c(l,ue),ve&&ve.m(l,null),c(l,he),c(l,me),c(me,pe),c(pe,de),c(de,We),c(pe,Me),c(pe,be),Oe.m(be,null),c(t,re),Ue&&Ue.m(t,null),c(e,Ie),c(e,Be),c(Be,Ye),c(Ye,Ae),Se=!0,Re||(Ze=[le(w,"change",n[18]),le(w,"change",n[19]),le(se,"change",n[20]),le(se,"change",n[21]),le(be,"click",n[22]),le(Ye,"click",n[29])],Re=!0)},p(we,He){var qe,fe;if((!Se||He[0]&1024)&&r!==(r=we[10].t("WebUI Settings")+"")&&x(o,r),(!Se||He[0]&1024)&&h!==(h=we[10].t("Theme")+"")&&x(_,h),(!Se||He[0]&1024)&&V!==(V=we[10].t("System")+"")&&x(P,V),(!Se||He[0]&1024)&&D!==(D=we[10].t("Dark")+"")&&x($,D),(!Se||He[0]&1024)&&N!==(N=we[10].t("OLED Dark")+"")&&x(S,N),(!Se||He[0]&1024)&&O!==(O=we[10].t("Light")+"")&&x(B,O),He[0]&2&&ol(w,we[1]),(!Se||He[0]&1024)&&z!==(z=we[10].t("Language")+"")&&x(X,z),He[0]&4){nt=st(we[2]);let _e;for(_e=0;_e<nt.length;_e+=1){const Je=Zo(we,nt,_e);Q[_e]?Q[_e].p(Je,He):(Q[_e]=Go(Je),Q[_e].c(),Q[_e].m(se,null))}for(;_e<Q.length;_e+=1)Q[_e].d(1);Q.length=nt.length}He[0]&12&&ol(se,we[3]),we[10].language==="en-US"?ve||(ve=Jo(),ve.c(),ve.m(l,he)):ve&&(ve.d(1),ve=null),(!Se||He[0]&1024)&&ke!==(ke=we[10].t("Notifications")+"")&&x(We,ke),$e===($e=ge(we))&&Oe?Oe.p(we,He):(Oe.d(1),Oe=$e(we),Oe&&(Oe.c(),Oe.m(be,null))),we[11].role==="admin"||(fe=(qe=we[11])==null?void 0:qe.permissions.chat)!=null&&fe.controls?Ue?(Ue.p(we,He),He[0]&2048&&W(Ue,1)):(Ue=Ko(we),Ue.c(),W(Ue,1),Ue.m(t,null)):Ue&&(Qe(),Z(Ue,1,1,()=>{Ue=null}),et()),(!Se||He[0]&1024)&&De!==(De=we[10].t("Save")+"")&&x(Ae,De)},i(we){Se||(W(Ue),Se=!0)},o(we){Z(Ue),Se=!1},d(we){we&&f(e),$t(Q,we),ve&&ve.d(),Oe.d(),Ue&&Ue.d(),Re=!1,rt(Ze)}}}function vh(n,e,t){let l,s,r;Te(n,Ht,z=>t(30,l=z)),Te(n,Cl,z=>t(11,r=z));const o=At(),a=kt("i18n");Te(n,a,z=>t(10,s=z));let{saveSettings:i}=e,{getModels:d}=e,h=["dark","light","rose-pine dark","rose-pine-dawn light","oled-dark"],_="system",v=[],b=s.language,w=!1,y="",k=!1;const V=async()=>{await Notification.requestPermission()==="granted"?(t(4,w=!w),i({notificationEnabled:w})):Le.error(s.t("Response notifications cannot be activated as the website permissions have been denied. Please visit your browser settings to grant the necessary access."))};let P="",I=null,E={stream_response:null,function_calling:null,seed:null,temperature:null,frequency_penalty:null,repeat_last_n:null,mirostat:null,mirostat_eta:null,mirostat_tau:null,top_k:null,top_p:null,min_p:null,stop:null,tfs_z:null,num_ctx:null,num_batch:null,num_keep:null,max_tokens:null,num_gpu:null};const D=async()=>{P===""?t(7,P="json"):t(7,P=""),i({requestFormat:P!==""?P:void 0})};Ct(async()=>{var z,X;t(1,_=localStorage.theme??"system"),t(2,v=await df()),t(4,w=l.notificationEnabled??!1),t(5,y=l.system??""),t(7,P=l.requestFormat??""),t(8,I=l.keepAlive??null),t(9,E={...E,...l.params}),t(9,E.stop=(z=l==null?void 0:l.params)!=null&&z.stop?(((X=l==null?void 0:l.params)==null?void 0:X.stop)??[]).join(","):null,E)});const $=z=>{let X=z==="oled-dark"?"dark":z;z==="system"&&(X=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),X==="dark"&&!z.includes("oled")&&(document.documentElement.style.setProperty("--color-gray-800","#333"),document.documentElement.style.setProperty("--color-gray-850","#262626"),document.documentElement.style.setProperty("--color-gray-900","#171717"),document.documentElement.style.setProperty("--color-gray-950","#0d0d0d")),h.filter(te=>te!==X).forEach(te=>{te.split(" ").forEach(se=>{document.documentElement.classList.remove(se)})}),X.split(" ").forEach(te=>{document.documentElement.classList.add(te)});const K=document.querySelector('meta[name="theme-color"]');if(K)if(z.includes("system")){const te=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";console.log("Setting system meta theme color: "+te),K.setAttribute("content",te==="light"?"#ffffff":"#171717")}else console.log("Setting meta theme color: "+z),K.setAttribute("content",z==="dark"?"#171717":z==="oled-dark"?"#000000":z==="her"?"#983724":"#ffffff");console.log(z)},T=z=>{hc.set(z),localStorage.setItem("theme",z),z.includes("oled")&&(document.documentElement.style.setProperty("--color-gray-800","#101010"),document.documentElement.style.setProperty("--color-gray-850","#050505"),document.documentElement.style.setProperty("--color-gray-900","#000000"),document.documentElement.style.setProperty("--color-gray-950","#000000"),document.documentElement.classList.add("dark")),$(z)};function L(){_=Es(this),t(1,_)}const N=()=>T(_);function S(){b=Es(this),t(3,b),t(2,v)}const F=z=>{s.changeLanguage(b)},q=()=>{V()};function O(){y=this.value,t(5,y)}const B=()=>{t(6,k=!k)};function Y(z){E=z,t(9,E)}const J=()=>{t(8,I=I===null?"5m":null)};function G(){I=this.value,t(8,I)}const R=()=>{D()},j=()=>{i({system:y!==""?y:void 0,params:{stream_response:E.stream_response!==null?E.stream_response:void 0,seed:(E.seed!==null?E.seed:void 0)??void 0,stop:E.stop?E.stop.split(",").filter(z=>z):void 0,temperature:E.temperature!==null?E.temperature:void 0,frequency_penalty:E.frequency_penalty!==null?E.frequency_penalty:void 0,repeat_last_n:E.repeat_last_n!==null?E.repeat_last_n:void 0,mirostat:E.mirostat!==null?E.mirostat:void 0,mirostat_eta:E.mirostat_eta!==null?E.mirostat_eta:void 0,mirostat_tau:E.mirostat_tau!==null?E.mirostat_tau:void 0,top_k:E.top_k!==null?E.top_k:void 0,top_p:E.top_p!==null?E.top_p:void 0,min_p:E.min_p!==null?E.min_p:void 0,tfs_z:E.tfs_z!==null?E.tfs_z:void 0,num_ctx:E.num_ctx!==null?E.num_ctx:void 0,num_batch:E.num_batch!==null?E.num_batch:void 0,num_keep:E.num_keep!==null?E.num_keep:void 0,max_tokens:E.max_tokens!==null?E.max_tokens:void 0,use_mmap:E.use_mmap!==null?E.use_mmap:void 0,use_mlock:E.use_mlock!==null?E.use_mlock:void 0,num_thread:E.num_thread!==null?E.num_thread:void 0,num_gpu:E.num_gpu!==null?E.num_gpu:void 0},keepAlive:I?isNaN(I)?I:parseInt(I):void 0}),o("save")};return n.$$set=z=>{"saveSettings"in z&&t(0,i=z.saveSettings),"getModels"in z&&t(17,d=z.getModels)},[i,_,v,b,w,y,k,P,I,E,s,r,o,a,V,D,T,d,L,N,S,F,q,O,B,Y,J,G,R,j]}class gh extends ot{constructor(e){super(),it(this,e,vh,_h,at,{saveSettings:0,getModels:17},null,[-1,-1])}}function bh(n){let e,t=n[26].t("Chat")+"",l;return{c(){e=m("span"),l=U(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=H(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&67108864&&t!==(t=s[26].t("Chat")+"")&&x(l,t)},d(s){s&&f(e)}}}function wh(n){let e,t=n[26].t("Default")+"",l;return{c(){e=m("span"),l=U(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=H(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&67108864&&t!==(t=s[26].t("Default")+"")&&x(l,t)},d(s){s&&f(e)}}}function kh(n){let e,t=n[26].t("Off")+"",l;return{c(){e=m("span"),l=U(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=H(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&67108864&&t!==(t=s[26].t("Off")+"")&&x(l,t)},d(s){s&&f(e)}}}function yh(n){let e,t=n[26].t("On")+"",l;return{c(){e=m("span"),l=U(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=H(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&67108864&&t!==(t=s[26].t("On")+"")&&x(l,t)},d(s){s&&f(e)}}}function Qo(n){let e,t,l,s=n[26].t("Display the username instead of You in the Chat")+"",r,o,a,i,d;function h(b,w){return b[10]===!0?Ih:Eh}let _=h(n),v=_(n);return{c(){e=m("div"),t=m("div"),l=m("div"),r=U(s),o=A(),a=m("button"),v.c(),this.h()},l(b){e=p(b,"DIV",{});var w=g(e);t=p(w,"DIV",{class:!0});var y=g(t);l=p(y,"DIV",{class:!0});var k=g(l);r=H(k,s),k.forEach(f),o=C(y),a=p(y,"BUTTON",{class:!0,type:!0});var V=g(a);v.l(V),V.forEach(f),y.forEach(f),w.forEach(f),this.h()},h(){u(l,"class","self-center text-xs"),u(a,"class","p-1 px-3 text-xs flex rounded transition"),u(a,"type","button"),u(t,"class","py-0.5 flex w-full justify-between")},m(b,w){M(b,e,w),c(e,t),c(t,l),c(l,r),c(t,o),c(t,a),v.m(a,null),i||(d=le(a,"click",n[56]),i=!0)},p(b,w){w[0]&67108864&&s!==(s=b[26].t("Display the username instead of You in the Chat")+"")&&x(r,s),_===(_=h(b))&&v?v.p(b,w):(v.d(1),v=_(b),v&&(v.c(),v.m(a,null)))},d(b){b&&f(e),v.d(),i=!1,d()}}}function Eh(n){let e,t=n[26].t("Off")+"",l;return{c(){e=m("span"),l=U(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=H(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&67108864&&t!==(t=s[26].t("Off")+"")&&x(l,t)},d(s){s&&f(e)}}}function Ih(n){let e,t=n[26].t("On")+"",l;return{c(){e=m("span"),l=U(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=H(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&67108864&&t!==(t=s[26].t("On")+"")&&x(l,t)},d(s){s&&f(e)}}}function Dh(n){let e,t=n[26].t("Off")+"",l;return{c(){e=m("span"),l=U(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=H(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&67108864&&t!==(t=s[26].t("Off")+"")&&x(l,t)},d(s){s&&f(e)}}}function Th(n){let e,t=n[26].t("On")+"",l;return{c(){e=m("span"),l=U(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=H(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&67108864&&t!==(t=s[26].t("On")+"")&&x(l,t)},d(s){s&&f(e)}}}function Vh(n){let e,t=n[26].t("RTL")+"",l;return{c(){e=m("span"),l=U(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=H(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&67108864&&t!==(t=s[26].t("RTL")+"")&&x(l,t)},d(s){s&&f(e)}}}function Ah(n){let e,t=n[26].t("LTR")+"",l;return{c(){e=m("span"),l=U(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=H(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&67108864&&t!==(t=s[26].t("LTR")+"")&&x(l,t)},d(s){s&&f(e)}}}function Ch(n){let e,t=n[26].t("Off")+"",l;return{c(){e=m("span"),l=U(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=H(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&67108864&&t!==(t=s[26].t("Off")+"")&&x(l,t)},d(s){s&&f(e)}}}function Sh(n){let e,t=n[26].t("On")+"",l;return{c(){e=m("span"),l=U(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=H(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&67108864&&t!==(t=s[26].t("On")+"")&&x(l,t)},d(s){s&&f(e)}}}function ei(n){let e,t,l,s=n[26].t("Toast notifications for new updates")+"",r,o,a,i,d,h,_,v=n[26].t(`Show "What's New" modal on login`)+"",b,w,y,k,V;function P(L,N){return L[19]===!0?Nh:$h}let I=P(n),E=I(n);function D(L,N){return L[20]===!0?Lh:Oh}let $=D(n),T=$(n);return{c(){e=m("div"),t=m("div"),l=m("div"),r=U(s),o=A(),a=m("button"),E.c(),i=A(),d=m("div"),h=m("div"),_=m("div"),b=U(v),w=A(),y=m("button"),T.c(),this.h()},l(L){e=p(L,"DIV",{});var N=g(e);t=p(N,"DIV",{class:!0});var S=g(t);l=p(S,"DIV",{class:!0});var F=g(l);r=H(F,s),F.forEach(f),o=C(S),a=p(S,"BUTTON",{class:!0,type:!0});var q=g(a);E.l(q),q.forEach(f),S.forEach(f),N.forEach(f),i=C(L),d=p(L,"DIV",{});var O=g(d);h=p(O,"DIV",{class:!0});var B=g(h);_=p(B,"DIV",{class:!0});var Y=g(_);b=H(Y,v),Y.forEach(f),w=C(B),y=p(B,"BUTTON",{class:!0,type:!0});var J=g(y);T.l(J),J.forEach(f),B.forEach(f),O.forEach(f),this.h()},h(){u(l,"class","self-center text-xs"),u(a,"class","p-1 px-3 text-xs flex rounded transition"),u(a,"type","button"),u(t,"class","py-0.5 flex w-full justify-between"),u(_,"class","self-center text-xs"),u(y,"class","p-1 px-3 text-xs flex rounded transition"),u(y,"type","button"),u(h,"class","py-0.5 flex w-full justify-between")},m(L,N){M(L,e,N),c(e,t),c(t,l),c(l,r),c(t,o),c(t,a),E.m(a,null),M(L,i,N),M(L,d,N),c(d,h),c(h,_),c(_,b),c(h,w),c(h,y),T.m(y,null),k||(V=[le(a,"click",n[59]),le(y,"click",n[60])],k=!0)},p(L,N){N[0]&67108864&&s!==(s=L[26].t("Toast notifications for new updates")+"")&&x(r,s),I===(I=P(L))&&E?E.p(L,N):(E.d(1),E=I(L),E&&(E.c(),E.m(a,null))),N[0]&67108864&&v!==(v=L[26].t(`Show "What's New" modal on login`)+"")&&x(b,v),$===($=D(L))&&T?T.p(L,N):(T.d(1),T=$(L),T&&(T.c(),T.m(y,null)))},d(L){L&&(f(e),f(i),f(d)),E.d(),T.d(),k=!1,rt(V)}}}function $h(n){let e,t=n[26].t("Off")+"",l;return{c(){e=m("span"),l=U(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=H(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&67108864&&t!==(t=s[26].t("Off")+"")&&x(l,t)},d(s){s&&f(e)}}}function Nh(n){let e,t=n[26].t("On")+"",l;return{c(){e=m("span"),l=U(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=H(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&67108864&&t!==(t=s[26].t("On")+"")&&x(l,t)},d(s){s&&f(e)}}}function Oh(n){let e,t=n[26].t("Off")+"",l;return{c(){e=m("span"),l=U(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=H(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&67108864&&t!==(t=s[26].t("Off")+"")&&x(l,t)},d(s){s&&f(e)}}}function Lh(n){let e,t=n[26].t("On")+"",l;return{c(){e=m("span"),l=U(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=H(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&67108864&&t!==(t=s[26].t("On")+"")&&x(l,t)},d(s){s&&f(e)}}}function Mh(n){let e,t=n[26].t("Off")+"",l;return{c(){e=m("span"),l=U(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=H(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&67108864&&t!==(t=s[26].t("Off")+"")&&x(l,t)},d(s){s&&f(e)}}}function Bh(n){let e,t=n[26].t("On")+"",l;return{c(){e=m("span"),l=U(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=H(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&67108864&&t!==(t=s[26].t("On")+"")&&x(l,t)},d(s){s&&f(e)}}}function Uh(n){let e,t=n[26].t("Off")+"",l;return{c(){e=m("span"),l=U(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=H(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&67108864&&t!==(t=s[26].t("Off")+"")&&x(l,t)},d(s){s&&f(e)}}}function Hh(n){let e,t=n[26].t("On")+"",l;return{c(){e=m("span"),l=U(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=H(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&67108864&&t!==(t=s[26].t("On")+"")&&x(l,t)},d(s){s&&f(e)}}}function Ph(n){let e,t=n[26].t("Off")+"",l;return{c(){e=m("span"),l=U(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=H(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&67108864&&t!==(t=s[26].t("Off")+"")&&x(l,t)},d(s){s&&f(e)}}}function jh(n){let e,t=n[26].t("On")+"",l;return{c(){e=m("span"),l=U(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=H(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&67108864&&t!==(t=s[26].t("On")+"")&&x(l,t)},d(s){s&&f(e)}}}function Rh(n){let e,t=n[26].t("Off")+"",l;return{c(){e=m("span"),l=U(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=H(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&67108864&&t!==(t=s[26].t("Off")+"")&&x(l,t)},d(s){s&&f(e)}}}function xh(n){let e,t=n[26].t("On")+"",l;return{c(){e=m("span"),l=U(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=H(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&67108864&&t!==(t=s[26].t("On")+"")&&x(l,t)},d(s){s&&f(e)}}}function zh(n){let e,t=n[26].t("Off")+"",l;return{c(){e=m("span"),l=U(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=H(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&67108864&&t!==(t=s[26].t("Off")+"")&&x(l,t)},d(s){s&&f(e)}}}function Wh(n){let e,t=n[26].t("On")+"",l;return{c(){e=m("span"),l=U(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=H(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&67108864&&t!==(t=s[26].t("On")+"")&&x(l,t)},d(s){s&&f(e)}}}function Fh(n){let e,t=n[26].t("Upload")+"",l;return{c(){e=m("span"),l=U(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=H(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&67108864&&t!==(t=s[26].t("Upload")+"")&&x(l,t)},d(s){s&&f(e)}}}function Yh(n){let e,t=n[26].t("Reset")+"",l;return{c(){e=m("span"),l=U(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=H(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&67108864&&t!==(t=s[26].t("Reset")+"")&&x(l,t)},d(s){s&&f(e)}}}function Zh(n){let e,t=n[26].t("Off")+"",l;return{c(){e=m("span"),l=U(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=H(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&67108864&&t!==(t=s[26].t("Off")+"")&&x(l,t)},d(s){s&&f(e)}}}function Gh(n){let e,t=n[26].t("On")+"",l;return{c(){e=m("span"),l=U(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=H(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&67108864&&t!==(t=s[26].t("On")+"")&&x(l,t)},d(s){s&&f(e)}}}function Jh(n){let e,t=n[26].t("Off")+"",l;return{c(){e=m("span"),l=U(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=H(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&67108864&&t!==(t=s[26].t("Off")+"")&&x(l,t)},d(s){s&&f(e)}}}function Kh(n){let e,t=n[26].t("On")+"",l;return{c(){e=m("span"),l=U(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=H(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&67108864&&t!==(t=s[26].t("On")+"")&&x(l,t)},d(s){s&&f(e)}}}function qh(n){let e,t=n[26].t("Off")+"",l;return{c(){e=m("span"),l=U(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=H(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&67108864&&t!==(t=s[26].t("Off")+"")&&x(l,t)},d(s){s&&f(e)}}}function Xh(n){let e,t=n[26].t("On")+"",l;return{c(){e=m("span"),l=U(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=H(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&67108864&&t!==(t=s[26].t("On")+"")&&x(l,t)},d(s){s&&f(e)}}}function Qh(n){let e,t=n[26].t("Default")+"",l;return{c(){e=m("span"),l=U(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=H(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&67108864&&t!==(t=s[26].t("Default")+"")&&x(l,t)},d(s){s&&f(e)}}}function e1(n){let e,t=n[26].t("Always")+"",l;return{c(){e=m("span"),l=U(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=H(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&67108864&&t!==(t=s[26].t("Always")+"")&&x(l,t)},d(s){s&&f(e)}}}function t1(n){let e,t=n[26].t("Off")+"",l;return{c(){e=m("span"),l=U(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=H(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&67108864&&t!==(t=s[26].t("Off")+"")&&x(l,t)},d(s){s&&f(e)}}}function l1(n){let e,t=n[26].t("On")+"",l;return{c(){e=m("span"),l=U(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=H(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&67108864&&t!==(t=s[26].t("On")+"")&&x(l,t)},d(s){s&&f(e)}}}function s1(n){let e,t=n[26].t("Off")+"",l;return{c(){e=m("span"),l=U(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=H(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&67108864&&t!==(t=s[26].t("Off")+"")&&x(l,t)},d(s){s&&f(e)}}}function n1(n){let e,t=n[26].t("On")+"",l;return{c(){e=m("span"),l=U(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=H(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&67108864&&t!==(t=s[26].t("On")+"")&&x(l,t)},d(s){s&&f(e)}}}function r1(n){let e,t=n[26].t("Off")+"",l;return{c(){e=m("span"),l=U(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=H(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&67108864&&t!==(t=s[26].t("Off")+"")&&x(l,t)},d(s){s&&f(e)}}}function a1(n){let e,t=n[26].t("On")+"",l;return{c(){e=m("span"),l=U(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=H(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&67108864&&t!==(t=s[26].t("On")+"")&&x(l,t)},d(s){s&&f(e)}}}function ti(n){let e,t,l,s=n[26].t("Image Max Compression Size")+"",r,o,a,i,d,h,_,v;return{c(){e=m("div"),t=m("div"),l=m("div"),r=U(s),o=A(),a=m("div"),i=m("input"),d=U(`x
							`),h=m("input"),this.h()},l(b){e=p(b,"DIV",{});var w=g(e);t=p(w,"DIV",{class:!0});var y=g(t);l=p(y,"DIV",{class:!0});var k=g(l);r=H(k,s),k.forEach(f),o=C(y),a=p(y,"DIV",{});var V=g(a);i=p(V,"INPUT",{type:!0,class:!0,min:!0,placeholder:!0}),d=H(V,`x
							`),h=p(V,"INPUT",{type:!0,class:!0,min:!0,placeholder:!0}),V.forEach(f),y.forEach(f),w.forEach(f),this.h()},h(){u(l,"class","self-center text-xs"),u(i,"type","number"),u(i,"class","w-20 bg-transparent outline-none text-center"),u(i,"min","0"),u(i,"placeholder","Width"),u(h,"type","number"),u(h,"class","w-20 bg-transparent outline-none text-center"),u(h,"min","0"),u(h,"placeholder","Height"),u(t,"class","py-0.5 flex w-full justify-between text-xs")},m(b,w){M(b,e,w),c(e,t),c(t,l),c(l,r),c(t,o),c(t,a),c(a,i),je(i,n[18].width),c(a,d),c(a,h),je(h,n[18].height),_||(v=[le(i,"input",n[74]),le(h,"input",n[75])],_=!0)},p(b,w){w[0]&67108864&&s!==(s=b[26].t("Image Max Compression Size")+"")&&x(r,s),w[0]&262144&&Vn(i.value)!==b[18].width&&je(i,b[18].width),w[0]&262144&&Vn(h.value)!==b[18].height&&je(h,b[18].height)},d(b){b&&f(e),_=!1,rt(v)}}}function o1(n){let e,t,l,s,r,o,a=n[26].t("UI")+"",i,d,h,_,v,b=n[26].t("Landing Page Mode")+"",w,y,k,V,P,I,E,D=n[26].t("Chat Bubble UI")+"",$,T,L,N,S,F,q,O,B=n[26].t("Widescreen Mode")+"",Y,J,G,R,j,z,X,K=n[26].t("Chat direction")+"",te,se,ue,he,me,pe,de,ke=n[26].t("Notification Sound")+"",We,Me,be,re,Ie,Be,Ye=n[26].t("Chat")+"",De,Ae,Se,Re,Ze,nt=n[26].t("Title Auto-Generation")+"",Q,ve,ge,$e,Oe,Ue,pt,mt=n[26].t("Chat Tags Auto-Generation")+"",we,He,qe,fe,_e,Je,ct,Ge=n[26].t("Auto-Copy Response to Clipboard")+"",Ve,xe,tt,ft,_t,vt,Ke,ee=n[26].t("Rich Text Input for Chat")+"",ye,Pe,Ne,Xe,gt,Et,St,It=n[26].t("Paste Large Text as File")+"",Sl,Hl,Mt,bl,wl,Pt,cl,al=n[26].t("Chat Background Image")+"",$l,Pl,Bt,jl,as,kl,Rl,os=n[26].t("Allow User Location")+"",As,Ln,fl,Mn,is,yl,xl,cs=n[26].t("Haptic Feedback")+"",Cs,Bn,ul,Un,fs,El,zl,us=n[26].t("Scroll to bottom when switching between branches")+"",Ss,Hn,dl,Pn,ds,Il,Wl,hs=n[26].t("Web Search in Chat")+"",$s,jn,hl,Rn,Fl,ms=n[26].t("Voice")+"",Ns,xn,ps,Dl,Yl,_s=n[26].t("Allow Voice Interruption in Call")+"",Os,zn,ml,Wn,vs,Tl,Zl,gs=n[26].t("Display Emoji in Call")+"",Ls,Fn,pl,Yn,Gl,bs=n[26].t("File")+"",Ms,Zn,ws,Vl,Jl,ks=n[26].t("Image Compression")+"",Bs,Gn,_l,Jn,Kn,Kl,Nl,ys=n[26].t("Save")+"",Us,qn,br;function wr(ne,Ee){return ne[14]===""?wh:bh}let Hs=wr(n),jt=Hs(n);function kr(ne,Ee){return ne[15]===!0?yh:kh}let Ps=kr(n),Rt=Ps(n),Dt=!n[25].chatBubble&&Qo(n);function yr(ne,Ee){return ne[7]===!0?Th:Dh}let js=yr(n),xt=js(n);function Er(ne,Ee){return ne[16]==="LTR"?Ah:Vh}let Rs=Er(n),zt=Rs(n);function Ir(ne,Ee){return ne[13]===!0?Sh:Ch}let xs=Ir(n),Wt=xs(n),Tt=n[27].role==="admin"&&ei(n);function Dr(ne,Ee){return ne[4]===!0?Bh:Mh}let zs=Dr(n),Ft=zs(n);function Tr(ne,Ee){return ne[5]===!0?Hh:Uh}let Ws=Tr(n),Yt=Ws(n);function Vr(ne,Ee){return ne[6]===!0?jh:Ph}let Fs=Vr(n),Zt=Fs(n);function Ar(ne,Ee){return ne[11]===!0?xh:Rh}let Ys=Ar(n),Gt=Ys(n);function Cr(ne,Ee){return ne[12]===!0?Wh:zh}let Zs=Cr(n),Jt=Zs(n);function Sr(ne,Ee){return ne[1]!==null?Yh:Fh}let Gs=Sr(n),Kt=Gs(n);function $r(ne,Ee){return ne[9]===!0?Gh:Zh}let Js=$r(n),qt=Js(n);function Nr(ne,Ee){return ne[23]===!0?Kh:Jh}let Ks=Nr(n),Xt=Ks(n);function Or(ne,Ee){return ne[8]===!0?Xh:qh}let qs=Or(n),Qt=qs(n);function Lr(ne,Ee){return ne[24]==="always"?e1:Qh}let Xs=Lr(n),el=Xs(n);function Mr(ne,Ee){return ne[22]===!0?l1:t1}let Qs=Mr(n),tl=Qs(n);function Br(ne,Ee){return ne[21]===!0?n1:s1}let en=Br(n),ll=en(n);function Ur(ne,Ee){return ne[17]===!0?a1:r1}let tn=Ur(n),sl=tn(n),Vt=n[17]&&ti(n);return{c(){e=m("form"),t=m("input"),l=A(),s=m("div"),r=m("div"),o=m("div"),i=U(a),d=A(),h=m("div"),_=m("div"),v=m("div"),w=U(b),y=A(),k=m("button"),jt.c(),V=A(),P=m("div"),I=m("div"),E=m("div"),$=U(D),T=A(),L=m("button"),Rt.c(),N=A(),Dt&&Dt.c(),S=A(),F=m("div"),q=m("div"),O=m("div"),Y=U(B),J=A(),G=m("button"),xt.c(),R=A(),j=m("div"),z=m("div"),X=m("div"),te=U(K),se=A(),ue=m("button"),zt.c(),he=A(),me=m("div"),pe=m("div"),de=m("div"),We=U(ke),Me=A(),be=m("button"),Wt.c(),re=A(),Tt&&Tt.c(),Ie=A(),Be=m("div"),De=U(Ye),Ae=A(),Se=m("div"),Re=m("div"),Ze=m("div"),Q=U(nt),ve=A(),ge=m("button"),Ft.c(),$e=A(),Oe=m("div"),Ue=m("div"),pt=m("div"),we=U(mt),He=A(),qe=m("button"),Yt.c(),fe=A(),_e=m("div"),Je=m("div"),ct=m("div"),Ve=U(Ge),xe=A(),tt=m("button"),Zt.c(),ft=A(),_t=m("div"),vt=m("div"),Ke=m("div"),ye=U(ee),Pe=A(),Ne=m("button"),Gt.c(),Xe=A(),gt=m("div"),Et=m("div"),St=m("div"),Sl=U(It),Hl=A(),Mt=m("button"),Jt.c(),bl=A(),wl=m("div"),Pt=m("div"),cl=m("div"),$l=U(al),Pl=A(),Bt=m("button"),Kt.c(),jl=A(),as=m("div"),kl=m("div"),Rl=m("div"),As=U(os),Ln=A(),fl=m("button"),qt.c(),Mn=A(),is=m("div"),yl=m("div"),xl=m("div"),Cs=U(cs),Bn=A(),ul=m("button"),Xt.c(),Un=A(),fs=m("div"),El=m("div"),zl=m("div"),Ss=U(us),Hn=A(),dl=m("button"),Qt.c(),Pn=A(),ds=m("div"),Il=m("div"),Wl=m("div"),$s=U(hs),jn=A(),hl=m("button"),el.c(),Rn=A(),Fl=m("div"),Ns=U(ms),xn=A(),ps=m("div"),Dl=m("div"),Yl=m("div"),Os=U(_s),zn=A(),ml=m("button"),tl.c(),Wn=A(),vs=m("div"),Tl=m("div"),Zl=m("div"),Ls=U(gs),Fn=A(),pl=m("button"),ll.c(),Yn=A(),Gl=m("div"),Ms=U(bs),Zn=A(),ws=m("div"),Vl=m("div"),Jl=m("div"),Bs=U(ks),Gn=A(),_l=m("button"),sl.c(),Jn=A(),Vt&&Vt.c(),Kn=A(),Kl=m("div"),Nl=m("button"),Us=U(ys),this.h()},l(ne){e=p(ne,"FORM",{class:!0});var Ee=g(e);t=p(Ee,"INPUT",{type:!0,accept:!0}),l=C(Ee),s=p(Ee,"DIV",{class:!0});var Hr=g(s);r=p(Hr,"DIV",{});var ze=g(r);o=p(ze,"DIV",{class:!0});var Pr=g(o);i=H(Pr,a),Pr.forEach(f),d=C(ze),h=p(ze,"DIV",{});var jr=g(h);_=p(jr,"DIV",{class:!0});var ln=g(_);v=p(ln,"DIV",{class:!0});var Rr=g(v);w=H(Rr,b),Rr.forEach(f),y=C(ln),k=p(ln,"BUTTON",{class:!0,type:!0});var xr=g(k);jt.l(xr),xr.forEach(f),ln.forEach(f),jr.forEach(f),V=C(ze),P=p(ze,"DIV",{});var zr=g(P);I=p(zr,"DIV",{class:!0});var sn=g(I);E=p(sn,"DIV",{class:!0});var Wr=g(E);$=H(Wr,D),Wr.forEach(f),T=C(sn),L=p(sn,"BUTTON",{class:!0,type:!0});var Fr=g(L);Rt.l(Fr),Fr.forEach(f),sn.forEach(f),zr.forEach(f),N=C(ze),Dt&&Dt.l(ze),S=C(ze),F=p(ze,"DIV",{});var Yr=g(F);q=p(Yr,"DIV",{class:!0});var nn=g(q);O=p(nn,"DIV",{class:!0});var Zr=g(O);Y=H(Zr,B),Zr.forEach(f),J=C(nn),G=p(nn,"BUTTON",{class:!0,type:!0});var Gr=g(G);xt.l(Gr),Gr.forEach(f),nn.forEach(f),Yr.forEach(f),R=C(ze),j=p(ze,"DIV",{});var Jr=g(j);z=p(Jr,"DIV",{class:!0});var rn=g(z);X=p(rn,"DIV",{class:!0});var Kr=g(X);te=H(Kr,K),Kr.forEach(f),se=C(rn),ue=p(rn,"BUTTON",{class:!0,type:!0});var qr=g(ue);zt.l(qr),qr.forEach(f),rn.forEach(f),Jr.forEach(f),he=C(ze),me=p(ze,"DIV",{});var Xr=g(me);pe=p(Xr,"DIV",{class:!0});var an=g(pe);de=p(an,"DIV",{class:!0});var Qr=g(de);We=H(Qr,ke),Qr.forEach(f),Me=C(an),be=p(an,"BUTTON",{class:!0,type:!0});var ea=g(be);Wt.l(ea),ea.forEach(f),an.forEach(f),Xr.forEach(f),re=C(ze),Tt&&Tt.l(ze),Ie=C(ze),Be=p(ze,"DIV",{class:!0});var ta=g(Be);De=H(ta,Ye),ta.forEach(f),Ae=C(ze),Se=p(ze,"DIV",{});var la=g(Se);Re=p(la,"DIV",{class:!0});var on=g(Re);Ze=p(on,"DIV",{class:!0});var sa=g(Ze);Q=H(sa,nt),sa.forEach(f),ve=C(on),ge=p(on,"BUTTON",{class:!0,type:!0});var na=g(ge);Ft.l(na),na.forEach(f),on.forEach(f),la.forEach(f),$e=C(ze),Oe=p(ze,"DIV",{});var ra=g(Oe);Ue=p(ra,"DIV",{class:!0});var cn=g(Ue);pt=p(cn,"DIV",{class:!0});var aa=g(pt);we=H(aa,mt),aa.forEach(f),He=C(cn),qe=p(cn,"BUTTON",{class:!0,type:!0});var oa=g(qe);Yt.l(oa),oa.forEach(f),cn.forEach(f),ra.forEach(f),fe=C(ze),_e=p(ze,"DIV",{});var ia=g(_e);Je=p(ia,"DIV",{class:!0});var fn=g(Je);ct=p(fn,"DIV",{class:!0});var ca=g(ct);Ve=H(ca,Ge),ca.forEach(f),xe=C(fn),tt=p(fn,"BUTTON",{class:!0,type:!0});var fa=g(tt);Zt.l(fa),fa.forEach(f),fn.forEach(f),ia.forEach(f),ft=C(ze),_t=p(ze,"DIV",{});var ua=g(_t);vt=p(ua,"DIV",{class:!0});var un=g(vt);Ke=p(un,"DIV",{class:!0});var da=g(Ke);ye=H(da,ee),da.forEach(f),Pe=C(un),Ne=p(un,"BUTTON",{class:!0,type:!0});var ha=g(Ne);Gt.l(ha),ha.forEach(f),un.forEach(f),ua.forEach(f),Xe=C(ze),gt=p(ze,"DIV",{});var ma=g(gt);Et=p(ma,"DIV",{class:!0});var dn=g(Et);St=p(dn,"DIV",{class:!0});var pa=g(St);Sl=H(pa,It),pa.forEach(f),Hl=C(dn),Mt=p(dn,"BUTTON",{class:!0,type:!0});var _a=g(Mt);Jt.l(_a),_a.forEach(f),dn.forEach(f),ma.forEach(f),bl=C(ze),wl=p(ze,"DIV",{});var va=g(wl);Pt=p(va,"DIV",{class:!0});var hn=g(Pt);cl=p(hn,"DIV",{class:!0});var ga=g(cl);$l=H(ga,al),ga.forEach(f),Pl=C(hn),Bt=p(hn,"BUTTON",{class:!0,type:!0});var ba=g(Bt);Kt.l(ba),ba.forEach(f),hn.forEach(f),va.forEach(f),jl=C(ze),as=p(ze,"DIV",{});var wa=g(as);kl=p(wa,"DIV",{class:!0});var mn=g(kl);Rl=p(mn,"DIV",{class:!0});var ka=g(Rl);As=H(ka,os),ka.forEach(f),Ln=C(mn),fl=p(mn,"BUTTON",{class:!0,type:!0});var ya=g(fl);qt.l(ya),ya.forEach(f),mn.forEach(f),wa.forEach(f),Mn=C(ze),is=p(ze,"DIV",{});var Ea=g(is);yl=p(Ea,"DIV",{class:!0});var pn=g(yl);xl=p(pn,"DIV",{class:!0});var Ia=g(xl);Cs=H(Ia,cs),Ia.forEach(f),Bn=C(pn),ul=p(pn,"BUTTON",{class:!0,type:!0});var Da=g(ul);Xt.l(Da),Da.forEach(f),pn.forEach(f),Ea.forEach(f),Un=C(ze),fs=p(ze,"DIV",{});var Ta=g(fs);El=p(Ta,"DIV",{class:!0});var _n=g(El);zl=p(_n,"DIV",{class:!0});var Va=g(zl);Ss=H(Va,us),Va.forEach(f),Hn=C(_n),dl=p(_n,"BUTTON",{class:!0,type:!0});var Aa=g(dl);Qt.l(Aa),Aa.forEach(f),_n.forEach(f),Ta.forEach(f),Pn=C(ze),ds=p(ze,"DIV",{});var Ca=g(ds);Il=p(Ca,"DIV",{class:!0});var vn=g(Il);Wl=p(vn,"DIV",{class:!0});var Sa=g(Wl);$s=H(Sa,hs),Sa.forEach(f),jn=C(vn),hl=p(vn,"BUTTON",{class:!0,type:!0});var $a=g(hl);el.l($a),$a.forEach(f),vn.forEach(f),Ca.forEach(f),Rn=C(ze),Fl=p(ze,"DIV",{class:!0});var Na=g(Fl);Ns=H(Na,ms),Na.forEach(f),xn=C(ze),ps=p(ze,"DIV",{});var Oa=g(ps);Dl=p(Oa,"DIV",{class:!0});var gn=g(Dl);Yl=p(gn,"DIV",{class:!0});var La=g(Yl);Os=H(La,_s),La.forEach(f),zn=C(gn),ml=p(gn,"BUTTON",{class:!0,type:!0});var Ma=g(ml);tl.l(Ma),Ma.forEach(f),gn.forEach(f),Oa.forEach(f),Wn=C(ze),vs=p(ze,"DIV",{});var Ba=g(vs);Tl=p(Ba,"DIV",{class:!0});var bn=g(Tl);Zl=p(bn,"DIV",{class:!0});var Ua=g(Zl);Ls=H(Ua,gs),Ua.forEach(f),Fn=C(bn),pl=p(bn,"BUTTON",{class:!0,type:!0});var Ha=g(pl);ll.l(Ha),Ha.forEach(f),bn.forEach(f),Ba.forEach(f),Yn=C(ze),Gl=p(ze,"DIV",{class:!0});var Pa=g(Gl);Ms=H(Pa,bs),Pa.forEach(f),Zn=C(ze),ws=p(ze,"DIV",{});var ja=g(ws);Vl=p(ja,"DIV",{class:!0});var wn=g(Vl);Jl=p(wn,"DIV",{class:!0});var Ra=g(Jl);Bs=H(Ra,ks),Ra.forEach(f),Gn=C(wn),_l=p(wn,"BUTTON",{class:!0,type:!0});var xa=g(_l);sl.l(xa),xa.forEach(f),wn.forEach(f),ja.forEach(f),Jn=C(ze),Vt&&Vt.l(ze),ze.forEach(f),Hr.forEach(f),Kn=C(Ee),Kl=p(Ee,"DIV",{class:!0});var za=g(Kl);Nl=p(za,"BUTTON",{class:!0,type:!0});var Wa=g(Nl);Us=H(Wa,ys),Wa.forEach(f),za.forEach(f),Ee.forEach(f),this.h()},h(){u(t,"type","file"),t.hidden=!0,u(t,"accept","image/*"),u(o,"class","mb-1.5 text-sm font-medium"),u(v,"class","self-center text-xs"),u(k,"class","p-1 px-3 text-xs flex rounded transition"),u(k,"type","button"),u(_,"class","py-0.5 flex w-full justify-between"),u(E,"class","self-center text-xs"),u(L,"class","p-1 px-3 text-xs flex rounded transition"),u(L,"type","button"),u(I,"class","py-0.5 flex w-full justify-between"),u(O,"class","self-center text-xs"),u(G,"class","p-1 px-3 text-xs flex rounded transition"),u(G,"type","button"),u(q,"class","py-0.5 flex w-full justify-between"),u(X,"class","self-center text-xs"),u(ue,"class","p-1 px-3 text-xs flex rounded transition"),u(ue,"type","button"),u(z,"class","py-0.5 flex w-full justify-between"),u(de,"class","self-center text-xs"),u(be,"class","p-1 px-3 text-xs flex rounded transition"),u(be,"type","button"),u(pe,"class","py-0.5 flex w-full justify-between"),u(Be,"class","my-1.5 text-sm font-medium"),u(Ze,"class","self-center text-xs"),u(ge,"class","p-1 px-3 text-xs flex rounded transition"),u(ge,"type","button"),u(Re,"class","py-0.5 flex w-full justify-between"),u(pt,"class","self-center text-xs"),u(qe,"class","p-1 px-3 text-xs flex rounded transition"),u(qe,"type","button"),u(Ue,"class","py-0.5 flex w-full justify-between"),u(ct,"class","self-center text-xs"),u(tt,"class","p-1 px-3 text-xs flex rounded transition"),u(tt,"type","button"),u(Je,"class","py-0.5 flex w-full justify-between"),u(Ke,"class","self-center text-xs"),u(Ne,"class","p-1 px-3 text-xs flex rounded transition"),u(Ne,"type","button"),u(vt,"class","py-0.5 flex w-full justify-between"),u(St,"class","self-center text-xs"),u(Mt,"class","p-1 px-3 text-xs flex rounded transition"),u(Mt,"type","button"),u(Et,"class","py-0.5 flex w-full justify-between"),u(cl,"class","self-center text-xs"),u(Bt,"class","p-1 px-3 text-xs flex rounded transition"),u(Bt,"type","button"),u(Pt,"class","py-0.5 flex w-full justify-between"),u(Rl,"class","self-center text-xs"),u(fl,"class","p-1 px-3 text-xs flex rounded transition"),u(fl,"type","button"),u(kl,"class","py-0.5 flex w-full justify-between"),u(xl,"class","self-center text-xs"),u(ul,"class","p-1 px-3 text-xs flex rounded transition"),u(ul,"type","button"),u(yl,"class","py-0.5 flex w-full justify-between"),u(zl,"class","self-center text-xs"),u(dl,"class","p-1 px-3 text-xs flex rounded transition"),u(dl,"type","button"),u(El,"class","py-0.5 flex w-full justify-between"),u(Wl,"class","self-center text-xs"),u(hl,"class","p-1 px-3 text-xs flex rounded transition"),u(hl,"type","button"),u(Il,"class","py-0.5 flex w-full justify-between"),u(Fl,"class","my-1.5 text-sm font-medium"),u(Yl,"class","self-center text-xs"),u(ml,"class","p-1 px-3 text-xs flex rounded transition"),u(ml,"type","button"),u(Dl,"class","py-0.5 flex w-full justify-between"),u(Zl,"class","self-center text-xs"),u(pl,"class","p-1 px-3 text-xs flex rounded transition"),u(pl,"type","button"),u(Tl,"class","py-0.5 flex w-full justify-between"),u(Gl,"class","my-1.5 text-sm font-medium"),u(Jl,"class","self-center text-xs"),u(_l,"class","p-1 px-3 text-xs flex rounded transition"),u(_l,"type","button"),u(Vl,"class","py-0.5 flex w-full justify-between"),u(s,"class","space-y-3 overflow-y-scroll max-h-[28rem] lg:max-h-full"),u(Nl,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),u(Nl,"type","submit"),u(Kl,"class","flex justify-end text-sm font-medium"),u(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(ne,Ee){M(ne,e,Ee),c(e,t),n[51](t),c(e,l),c(e,s),c(s,r),c(r,o),c(o,i),c(r,d),c(r,h),c(h,_),c(_,v),c(v,w),c(_,y),c(_,k),jt.m(k,null),c(r,V),c(r,P),c(P,I),c(I,E),c(E,$),c(I,T),c(I,L),Rt.m(L,null),c(r,N),Dt&&Dt.m(r,null),c(r,S),c(r,F),c(F,q),c(q,O),c(O,Y),c(q,J),c(q,G),xt.m(G,null),c(r,R),c(r,j),c(j,z),c(z,X),c(X,te),c(z,se),c(z,ue),zt.m(ue,null),c(r,he),c(r,me),c(me,pe),c(pe,de),c(de,We),c(pe,Me),c(pe,be),Wt.m(be,null),c(r,re),Tt&&Tt.m(r,null),c(r,Ie),c(r,Be),c(Be,De),c(r,Ae),c(r,Se),c(Se,Re),c(Re,Ze),c(Ze,Q),c(Re,ve),c(Re,ge),Ft.m(ge,null),c(r,$e),c(r,Oe),c(Oe,Ue),c(Ue,pt),c(pt,we),c(Ue,He),c(Ue,qe),Yt.m(qe,null),c(r,fe),c(r,_e),c(_e,Je),c(Je,ct),c(ct,Ve),c(Je,xe),c(Je,tt),Zt.m(tt,null),c(r,ft),c(r,_t),c(_t,vt),c(vt,Ke),c(Ke,ye),c(vt,Pe),c(vt,Ne),Gt.m(Ne,null),c(r,Xe),c(r,gt),c(gt,Et),c(Et,St),c(St,Sl),c(Et,Hl),c(Et,Mt),Jt.m(Mt,null),c(r,bl),c(r,wl),c(wl,Pt),c(Pt,cl),c(cl,$l),c(Pt,Pl),c(Pt,Bt),Kt.m(Bt,null),c(r,jl),c(r,as),c(as,kl),c(kl,Rl),c(Rl,As),c(kl,Ln),c(kl,fl),qt.m(fl,null),c(r,Mn),c(r,is),c(is,yl),c(yl,xl),c(xl,Cs),c(yl,Bn),c(yl,ul),Xt.m(ul,null),c(r,Un),c(r,fs),c(fs,El),c(El,zl),c(zl,Ss),c(El,Hn),c(El,dl),Qt.m(dl,null),c(r,Pn),c(r,ds),c(ds,Il),c(Il,Wl),c(Wl,$s),c(Il,jn),c(Il,hl),el.m(hl,null),c(r,Rn),c(r,Fl),c(Fl,Ns),c(r,xn),c(r,ps),c(ps,Dl),c(Dl,Yl),c(Yl,Os),c(Dl,zn),c(Dl,ml),tl.m(ml,null),c(r,Wn),c(r,vs),c(vs,Tl),c(Tl,Zl),c(Zl,Ls),c(Tl,Fn),c(Tl,pl),ll.m(pl,null),c(r,Yn),c(r,Gl),c(Gl,Ms),c(r,Zn),c(r,ws),c(ws,Vl),c(Vl,Jl),c(Jl,Bs),c(Vl,Gn),c(Vl,_l),sl.m(_l,null),c(r,Jn),Vt&&Vt.m(r,null),c(e,Kn),c(e,Kl),c(Kl,Nl),c(Nl,Us),qn||(br=[le(t,"change",n[52]),le(t,"change",n[53]),le(k,"click",n[54]),le(L,"click",n[55]),le(G,"click",n[57]),le(ue,"click",n[48]),le(be,"click",n[58]),le(ge,"click",n[61]),le(qe,"click",n[62]),le(tt,"click",n[63]),le(Ne,"click",n[64]),le(Mt,"click",n[65]),le(Bt,"click",n[66]),le(fl,"click",n[67]),le(ul,"click",n[68]),le(dl,"click",n[69]),le(hl,"click",n[70]),le(ml,"click",n[71]),le(pl,"click",n[72]),le(_l,"click",n[73]),le(e,"submit",Bl(n[76]))],qn=!0)},p(ne,Ee){Ee[0]&67108864&&a!==(a=ne[26].t("UI")+"")&&x(i,a),Ee[0]&67108864&&b!==(b=ne[26].t("Landing Page Mode")+"")&&x(w,b),Hs===(Hs=wr(ne))&&jt?jt.p(ne,Ee):(jt.d(1),jt=Hs(ne),jt&&(jt.c(),jt.m(k,null))),Ee[0]&67108864&&D!==(D=ne[26].t("Chat Bubble UI")+"")&&x($,D),Ps===(Ps=kr(ne))&&Rt?Rt.p(ne,Ee):(Rt.d(1),Rt=Ps(ne),Rt&&(Rt.c(),Rt.m(L,null))),ne[25].chatBubble?Dt&&(Dt.d(1),Dt=null):Dt?Dt.p(ne,Ee):(Dt=Qo(ne),Dt.c(),Dt.m(r,S)),Ee[0]&67108864&&B!==(B=ne[26].t("Widescreen Mode")+"")&&x(Y,B),js===(js=yr(ne))&&xt?xt.p(ne,Ee):(xt.d(1),xt=js(ne),xt&&(xt.c(),xt.m(G,null))),Ee[0]&67108864&&K!==(K=ne[26].t("Chat direction")+"")&&x(te,K),Rs===(Rs=Er(ne))&&zt?zt.p(ne,Ee):(zt.d(1),zt=Rs(ne),zt&&(zt.c(),zt.m(ue,null))),Ee[0]&67108864&&ke!==(ke=ne[26].t("Notification Sound")+"")&&x(We,ke),xs===(xs=Ir(ne))&&Wt?Wt.p(ne,Ee):(Wt.d(1),Wt=xs(ne),Wt&&(Wt.c(),Wt.m(be,null))),ne[27].role==="admin"?Tt?Tt.p(ne,Ee):(Tt=ei(ne),Tt.c(),Tt.m(r,Ie)):Tt&&(Tt.d(1),Tt=null),Ee[0]&67108864&&Ye!==(Ye=ne[26].t("Chat")+"")&&x(De,Ye),Ee[0]&67108864&&nt!==(nt=ne[26].t("Title Auto-Generation")+"")&&x(Q,nt),zs===(zs=Dr(ne))&&Ft?Ft.p(ne,Ee):(Ft.d(1),Ft=zs(ne),Ft&&(Ft.c(),Ft.m(ge,null))),Ee[0]&67108864&&mt!==(mt=ne[26].t("Chat Tags Auto-Generation")+"")&&x(we,mt),Ws===(Ws=Tr(ne))&&Yt?Yt.p(ne,Ee):(Yt.d(1),Yt=Ws(ne),Yt&&(Yt.c(),Yt.m(qe,null))),Ee[0]&67108864&&Ge!==(Ge=ne[26].t("Auto-Copy Response to Clipboard")+"")&&x(Ve,Ge),Fs===(Fs=Vr(ne))&&Zt?Zt.p(ne,Ee):(Zt.d(1),Zt=Fs(ne),Zt&&(Zt.c(),Zt.m(tt,null))),Ee[0]&67108864&&ee!==(ee=ne[26].t("Rich Text Input for Chat")+"")&&x(ye,ee),Ys===(Ys=Ar(ne))&&Gt?Gt.p(ne,Ee):(Gt.d(1),Gt=Ys(ne),Gt&&(Gt.c(),Gt.m(Ne,null))),Ee[0]&67108864&&It!==(It=ne[26].t("Paste Large Text as File")+"")&&x(Sl,It),Zs===(Zs=Cr(ne))&&Jt?Jt.p(ne,Ee):(Jt.d(1),Jt=Zs(ne),Jt&&(Jt.c(),Jt.m(Mt,null))),Ee[0]&67108864&&al!==(al=ne[26].t("Chat Background Image")+"")&&x($l,al),Gs===(Gs=Sr(ne))&&Kt?Kt.p(ne,Ee):(Kt.d(1),Kt=Gs(ne),Kt&&(Kt.c(),Kt.m(Bt,null))),Ee[0]&67108864&&os!==(os=ne[26].t("Allow User Location")+"")&&x(As,os),Js===(Js=$r(ne))&&qt?qt.p(ne,Ee):(qt.d(1),qt=Js(ne),qt&&(qt.c(),qt.m(fl,null))),Ee[0]&67108864&&cs!==(cs=ne[26].t("Haptic Feedback")+"")&&x(Cs,cs),Ks===(Ks=Nr(ne))&&Xt?Xt.p(ne,Ee):(Xt.d(1),Xt=Ks(ne),Xt&&(Xt.c(),Xt.m(ul,null))),Ee[0]&67108864&&us!==(us=ne[26].t("Scroll to bottom when switching between branches")+"")&&x(Ss,us),qs===(qs=Or(ne))&&Qt?Qt.p(ne,Ee):(Qt.d(1),Qt=qs(ne),Qt&&(Qt.c(),Qt.m(dl,null))),Ee[0]&67108864&&hs!==(hs=ne[26].t("Web Search in Chat")+"")&&x($s,hs),Xs===(Xs=Lr(ne))&&el?el.p(ne,Ee):(el.d(1),el=Xs(ne),el&&(el.c(),el.m(hl,null))),Ee[0]&67108864&&ms!==(ms=ne[26].t("Voice")+"")&&x(Ns,ms),Ee[0]&67108864&&_s!==(_s=ne[26].t("Allow Voice Interruption in Call")+"")&&x(Os,_s),Qs===(Qs=Mr(ne))&&tl?tl.p(ne,Ee):(tl.d(1),tl=Qs(ne),tl&&(tl.c(),tl.m(ml,null))),Ee[0]&67108864&&gs!==(gs=ne[26].t("Display Emoji in Call")+"")&&x(Ls,gs),en===(en=Br(ne))&&ll?ll.p(ne,Ee):(ll.d(1),ll=en(ne),ll&&(ll.c(),ll.m(pl,null))),Ee[0]&67108864&&bs!==(bs=ne[26].t("File")+"")&&x(Ms,bs),Ee[0]&67108864&&ks!==(ks=ne[26].t("Image Compression")+"")&&x(Bs,ks),tn===(tn=Ur(ne))&&sl?sl.p(ne,Ee):(sl.d(1),sl=tn(ne),sl&&(sl.c(),sl.m(_l,null))),ne[17]?Vt?Vt.p(ne,Ee):(Vt=ti(ne),Vt.c(),Vt.m(r,null)):Vt&&(Vt.d(1),Vt=null),Ee[0]&67108864&&ys!==(ys=ne[26].t("Save")+"")&&x(Us,ys)},i:Ce,o:Ce,d(ne){ne&&f(e),n[51](null),jt.d(),Rt.d(),Dt&&Dt.d(),xt.d(),zt.d(),Wt.d(),Tt&&Tt.d(),Ft.d(),Yt.d(),Zt.d(),Gt.d(),Jt.d(),Kt.d(),qt.d(),Xt.d(),Qt.d(),el.d(),tl.d(),ll.d(),sl.d(),Vt&&Vt.d(),qn=!1,rt(br)}}}function i1(n,e,t){let l,s,r,o;Te(n,Ht,Ke=>t(25,l=Ke)),Te(n,rs,Ke=>t(79,s=Ke)),Te(n,Cl,Ke=>t(27,o=Ke));const a=At(),i=kt("i18n");Te(n,i,Ke=>t(26,r=Ke));let{saveSettings:d}=e,h=null,_=null,v,b=!0,w=!0,y=!1,k=!1,V=!0,P=!1,I="",E=!1,D=!0,$=!1,T=!0,L="",N=!0,S="LTR",F=!1,q={width:"",height:""},O=!0,B=!0,Y=!1,J=!1,G=!1,R=null;const j=async()=>{t(8,V=!V),d({scrollOnBranchChange:V})},z=async()=>{t(7,k=!k),d({widescreenMode:k})},X=async()=>{t(15,N=!N),d({chatBubble:N})},K=async()=>{t(14,L=L===""?"chat":""),d({landingPageMode:L})},te=async()=>{t(19,O=!O),d({showUpdateToast:O})},se=async()=>{t(13,T=!T),d({notificationSound:T})},ue=async()=>{t(20,B=!B),d({showChangelog:B})},he=async()=>{t(10,E=!E),d({showUsername:E})},me=async()=>{t(21,Y=!Y),d({showEmojiInCall:Y})},pe=async()=>{t(22,J=!J),d({voiceInterruption:J})},de=async()=>{t(17,F=!F),d({imageCompression:F})},ke=async()=>{t(23,G=!G),d({hapticFeedback:G})},We=async()=>{if(t(9,P=!P),P){const Ke=await bc().catch(ee=>(Le.error(ee.message),null));Ke?(await Ic(localStorage.token,{location:Ke}),Le.success(r.t("User location successfully retrieved."))):t(9,P=!1)}d({userLocation:P})},Me=async()=>{t(4,b=!b),d({title:{...l.title,auto:b}})},be=async()=>{t(5,w=!w),d({autoTags:w})},re=async()=>{t(11,D=!D),d({richTextInput:D})},Ie=async()=>{t(12,$=!$),d({largeTextAsFile:$})},Be=async()=>{const Ke=await navigator.clipboard.readText().then(()=>"granted").catch(()=>"");console.log(Ke),Ke==="granted"?(t(6,y=!y),d({responseAutoCopy:y})):Le.error(r.t("Clipboard write permission denied. Please check your browser settings to grant the necessary access."))},Ye=async()=>{t(16,S=S==="LTR"?"RTL":"LTR"),d({chatDirection:S})},De=async()=>{d({models:[I],imageCompressionSize:q})},Ae=async()=>{t(24,R=R===null?"always":null),d({webSearch:R})};Ct(async()=>{var Ke,ee;t(4,b=((Ke=l==null?void 0:l.title)==null?void 0:Ke.auto)??!0),t(5,w=l.autoTags??!0),t(6,y=l.responseAutoCopy??!1),t(10,E=l.showUsername??!1),t(19,O=l.showUpdateToast??!0),t(20,B=l.showChangelog??!0),t(21,Y=l.showEmojiInCall??!1),t(22,J=l.voiceInterruption??!1),t(11,D=l.richTextInput??!0),t(12,$=l.largeTextAsFile??!1),t(14,L=l.landingPageMode??""),t(15,N=l.chatBubble??!0),t(7,k=l.widescreenMode??!1),l.splitLargeChunks,t(8,V=l.scrollOnBranchChange??!0),t(16,S=l.chatDirection??"LTR"),t(9,P=l.userLocation??!1),t(13,T=l.notificationSound??!0),t(23,G=l.hapticFeedback??!1),t(17,F=l.imageCompression??!1),t(18,q=l.imageCompressionSize??{width:"",height:""}),I=((ee=l==null?void 0:l.models)==null?void 0:ee.at(0))??"",s!=null&&s.default_models&&(I=s.default_models.split(",")[0]),t(1,h=l.backgroundImageUrl??null),t(24,R=l.webSearch??null)});function Se(Ke){lt[Ke?"unshift":"push"](()=>{v=Ke,t(3,v)})}function Re(){_=this.files,t(2,_)}const Ze=()=>{let Ke=new FileReader;Ke.onload=ee=>{let ye=`${ee.target.result}`;t(1,h=ye),d({backgroundImageUrl:h})},_&&_.length>0&&["image/gif","image/webp","image/jpeg","image/png"].includes(_[0].type)?Ke.readAsDataURL(_[0]):(console.log(`Unsupported File Type '${_[0].type}'.`),t(2,_=null))},nt=()=>{K()},Q=()=>{X()},ve=()=>{he()},ge=()=>{z()},$e=()=>{se()},Oe=()=>{te()},Ue=()=>{ue()},pt=()=>{Me()},mt=()=>{be()},we=()=>{Be()},He=()=>{re()},qe=()=>{Ie()},fe=()=>{h!==null?(t(1,h=null),d({backgroundImageUrl:h})):v.click()},_e=()=>{We()},Je=()=>{ke()},ct=()=>{j()},Ge=()=>{Ae()},Ve=()=>{pe()},xe=()=>{me()},tt=()=>{de()};function ft(){q.width=Vn(this.value),t(18,q)}function _t(){q.height=Vn(this.value),t(18,q)}const vt=()=>{De(),a("save")};return n.$$set=Ke=>{"saveSettings"in Ke&&t(0,d=Ke.saveSettings)},[d,h,_,v,b,w,y,k,V,P,E,D,$,T,L,N,S,F,q,O,B,Y,J,G,R,l,r,o,a,i,j,z,X,K,te,se,ue,he,me,pe,de,ke,We,Me,be,re,Ie,Be,Ye,De,Ae,Se,Re,Ze,nt,Q,ve,ge,$e,Oe,Ue,pt,mt,we,He,qe,fe,_e,Je,ct,Ge,Ve,xe,tt,ft,_t,vt]}class c1 extends ot{constructor(e){super(),it(this,e,i1,o1,at,{saveSettings:0},null,[-1,-1,-1])}}function li(n,e,t){const l=n.slice();return l[9]=e[t],l}function si(n,e,t){const l=n.slice();return l[27]=e[t],l}function ni(n,e,t){const l=n.slice();return l[32]=e[t],l}function ri(n){let e,t,l=n[8].t("Speech-to-Text Engine")+"",s,r,o,a,i,d=n[8].t("Default")+"",h,_,v=n[8].t("Web API")+"",b,w,y;return{c(){e=m("div"),t=m("div"),s=U(l),r=A(),o=m("div"),a=m("select"),i=m("option"),h=U(d),_=m("option"),b=U(v),this.h()},l(k){e=p(k,"DIV",{class:!0});var V=g(e);t=p(V,"DIV",{class:!0});var P=g(t);s=H(P,l),P.forEach(f),r=C(V),o=p(V,"DIV",{class:!0});var I=g(o);a=p(I,"SELECT",{class:!0,placeholder:!0});var E=g(a);i=p(E,"OPTION",{});var D=g(i);h=H(D,d),D.forEach(f),_=p(E,"OPTION",{});var $=g(_);b=H($,v),$.forEach(f),E.forEach(f),I.forEach(f),V.forEach(f),this.h()},h(){u(t,"class","self-center text-xs font-medium"),i.__value="",je(i,i.__value),_.__value="web",je(_,_.__value),u(a,"class","dark:bg-gray-900 w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),u(a,"placeholder","Select an engine"),n[4]===void 0&&Ml(()=>n[15].call(a)),u(o,"class","flex items-center relative"),u(e,"class","py-0.5 flex w-full justify-between")},m(k,V){M(k,e,V),c(e,t),c(t,s),c(e,r),c(e,o),c(o,a),c(a,i),c(i,h),c(a,_),c(_,b),ol(a,n[4],!0),w||(y=le(a,"change",n[15]),w=!0)},p(k,V){V[0]&256&&l!==(l=k[8].t("Speech-to-Text Engine")+"")&&x(s,l),V[0]&256&&d!==(d=k[8].t("Default")+"")&&x(h,d),V[0]&256&&v!==(v=k[8].t("Web API")+"")&&x(b,v),V[0]&16&&ol(a,k[4])},d(k){k&&f(e),w=!1,y()}}}function f1(n){let e,t=n[8].t("Off")+"",l;return{c(){e=m("span"),l=U(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=H(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&256&&t!==(t=s[8].t("Off")+"")&&x(l,t)},d(s){s&&f(e)}}}function u1(n){let e,t=n[8].t("On")+"",l;return{c(){e=m("span"),l=U(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=H(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&256&&t!==(t=s[8].t("On")+"")&&x(l,t)},d(s){s&&f(e)}}}function d1(n){let e,t=n[8].t("Off")+"",l;return{c(){e=m("span"),l=U(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=H(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&256&&t!==(t=s[8].t("Off")+"")&&x(l,t)},d(s){s&&f(e)}}}function h1(n){let e,t=n[8].t("On")+"",l;return{c(){e=m("span"),l=U(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=H(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&256&&t!==(t=s[8].t("On")+"")&&x(l,t)},d(s){s&&f(e)}}}function ai(n){let e,t=n[32]+"",l,s,r;return{c(){e=m("option"),l=U(t),s=U("x"),this.h()},l(o){e=p(o,"OPTION",{});var a=g(e);l=H(a,t),s=H(a,"x"),a.forEach(f),this.h()},h(){e.__value=n[32],je(e,e.__value),e.selected=r=n[6]===n[32]},m(o,a){M(o,e,a),c(e,l),c(e,s)},p(o,a){a[0]&4160&&r!==(r=o[6]===o[32])&&(e.selected=r)},d(o){o&&f(e)}}}function m1(n){let e,t,l=n[8].t("Set Voice")+"",s,r,o,a,i,d,h,_,v,b=st(n[5]),w=[];for(let y=0;y<b.length;y+=1)w[y]=oi(li(n,b,y));return{c(){e=m("div"),t=m("div"),s=U(l),r=A(),o=m("div"),a=m("div"),i=m("input"),d=A(),h=m("datalist");for(let y=0;y<w.length;y+=1)w[y].c();this.h()},l(y){e=p(y,"DIV",{});var k=g(e);t=p(k,"DIV",{class:!0});var V=g(t);s=H(V,l),V.forEach(f),r=C(k),o=p(k,"DIV",{class:!0});var P=g(o);a=p(P,"DIV",{class:!0});var I=g(a);i=p(I,"INPUT",{list:!0,class:!0,placeholder:!0}),d=C(I),h=p(I,"DATALIST",{id:!0});var E=g(h);for(let D=0;D<w.length;D+=1)w[D].l(E);E.forEach(f),I.forEach(f),P.forEach(f),k.forEach(f),this.h()},h(){u(t,"class","mb-2.5 text-sm font-medium"),u(i,"list","voice-list"),u(i,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),u(i,"placeholder","Select a voice"),u(h,"id","voice-list"),u(a,"class","flex-1"),u(o,"class","flex w-full")},m(y,k){M(y,e,k),c(e,t),c(t,s),c(e,r),c(e,o),c(o,a),c(a,i),je(i,n[9]),c(a,d),c(a,h);for(let V=0;V<w.length;V+=1)w[V]&&w[V].m(h,null);_||(v=le(i,"input",n[22]),_=!0)},p(y,k){if(k[0]&256&&l!==(l=y[8].t("Set Voice")+"")&&x(s,l),k[0]&552&&i.value!==y[9]&&je(i,y[9]),k[0]&32){b=st(y[5]);let V;for(V=0;V<b.length;V+=1){const P=li(y,b,V);w[V]?w[V].p(P,k):(w[V]=oi(P),w[V].c(),w[V].m(h,null))}for(;V<w.length;V+=1)w[V].d(1);w.length=b.length}},i:Ce,o:Ce,d(y){y&&f(e),$t(w,y),_=!1,v()}}}function p1(n){let e,t,l=n[8].t("Set Voice")+"",s,r,o,a,i,d,h=n[8].t("Default")+"",_,v,b,w,y,k=n[8].t("Allow non-local voices")+"",V,P,I,E,D,$,T,L,N=st(n[5].filter(n[19])),S=[];for(let O=0;O<N.length;O+=1)S[O]=ii(si(n,N,O));function F(O){n[21](O)}let q={};return n[3]!==void 0&&(q.state=n[3]),E=new qi({props:q}),lt.push(()=>ht(E,"state",F)),{c(){e=m("div"),t=m("div"),s=U(l),r=A(),o=m("div"),a=m("div"),i=m("select"),d=m("option"),_=U(h);for(let O=0;O<S.length;O+=1)S[O].c();b=A(),w=m("div"),y=m("div"),V=U(k),P=A(),I=m("div"),ae(E.$$.fragment),this.h()},l(O){e=p(O,"DIV",{});var B=g(e);t=p(B,"DIV",{class:!0});var Y=g(t);s=H(Y,l),Y.forEach(f),r=C(B),o=p(B,"DIV",{class:!0});var J=g(o);a=p(J,"DIV",{class:!0});var G=g(a);i=p(G,"SELECT",{class:!0});var R=g(i);d=p(R,"OPTION",{});var j=g(d);_=H(j,h),j.forEach(f);for(let te=0;te<S.length;te+=1)S[te].l(R);R.forEach(f),G.forEach(f),J.forEach(f),b=C(B),w=p(B,"DIV",{class:!0});var z=g(w);y=p(z,"DIV",{class:!0});var X=g(y);V=H(X,k),X.forEach(f),P=C(z),I=p(z,"DIV",{class:!0});var K=g(I);oe(E.$$.fragment,K),K.forEach(f),z.forEach(f),B.forEach(f),this.h()},h(){u(t,"class","mb-2.5 text-sm font-medium"),d.__value="",je(d,d.__value),d.selected=v=n[9]!=="",u(i,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),n[9]===void 0&&Ml(()=>n[20].call(i)),u(a,"class","flex-1"),u(o,"class","flex w-full"),u(y,"class","text-xs"),u(I,"class","mt-1"),u(w,"class","flex items-center justify-between my-1.5")},m(O,B){M(O,e,B),c(e,t),c(t,s),c(e,r),c(e,o),c(o,a),c(a,i),c(i,d),c(d,_);for(let Y=0;Y<S.length;Y+=1)S[Y]&&S[Y].m(i,null);ol(i,n[9],!0),c(e,b),c(e,w),c(w,y),c(y,V),c(w,P),c(w,I),ie(E,I,null),$=!0,T||(L=le(i,"change",n[20]),T=!0)},p(O,B){if((!$||B[0]&256)&&l!==(l=O[8].t("Set Voice")+"")&&x(s,l),(!$||B[0]&256)&&h!==(h=O[8].t("Default")+"")&&x(_,h),(!$||B[0]&552&&v!==(v=O[9]!==""))&&(d.selected=v),B[0]&552){N=st(O[5].filter(O[19]));let J;for(J=0;J<N.length;J+=1){const G=si(O,N,J);S[J]?S[J].p(G,B):(S[J]=ii(G),S[J].c(),S[J].m(i,null))}for(;J<S.length;J+=1)S[J].d(1);S.length=N.length}B[0]&552&&ol(i,O[9]),(!$||B[0]&256)&&k!==(k=O[8].t("Allow non-local voices")+"")&&x(V,k);const Y={};!D&&B[0]&8&&(D=!0,Y.state=O[3],dt(()=>D=!1)),E.$set(Y)},i(O){$||(W(E.$$.fragment,O),$=!0)},o(O){Z(E.$$.fragment,O),$=!1},d(O){O&&f(e),$t(S,O),ce(E),T=!1,L()}}}function oi(n){let e,t=n[9].name+"",l,s;return{c(){e=m("option"),l=U(t),this.h()},l(r){e=p(r,"OPTION",{});var o=g(e);l=H(o,t),o.forEach(f),this.h()},h(){e.__value=s=n[9].id,je(e,e.__value)},m(r,o){M(r,e,o),c(e,l)},p(r,o){o[0]&32&&t!==(t=r[9].name+"")&&x(l,t),o[0]&32&&s!==(s=r[9].id)&&(e.__value=s,je(e,e.__value))},d(r){r&&f(e)}}}function ii(n){let e,t=n[27].name+"",l,s,r;return{c(){e=m("option"),l=U(t),this.h()},l(o){e=p(o,"OPTION",{class:!0});var a=g(e);l=H(a,t),a.forEach(f),this.h()},h(){e.__value=s=n[27].name,je(e,e.__value),u(e,"class","bg-gray-100 dark:bg-gray-700"),e.selected=r=n[9]===n[27].name},m(o,a){M(o,e,a),c(e,l)},p(o,a){a[0]&40&&t!==(t=o[27].name+"")&&x(l,t),a[0]&40&&s!==(s=o[27].name)&&(e.__value=s,je(e,e.__value)),a[0]&552&&r!==(r=o[9]===o[27].name)&&(e.selected=r)},d(o){o&&f(e)}}}function _1(n){let e,t,l,s,r=n[8].t("STT Settings")+"",o,a,i,d,h,_=n[8].t("Instant Auto-Send After Voice Transcription")+"",v,b,w,y,k,V,P=n[8].t("TTS Settings")+"",I,E,D,$,T=n[8].t("Auto-playback response")+"",L,N,S,F,q,O,B=n[8].t("Speech Playback Speed")+"",Y,J,G,R,j,z,X,K,te,se,ue,he,me=n[8].t("Save")+"",pe,de,ke,We,Me=n[7].audio.stt.engine!=="web"&&ri(n);function be(Q,ve){return Q[1]===!0?u1:f1}let re=be(n),Ie=re(n);function Be(Q,ve){return Q[2]===!0?h1:d1}let Ye=Be(n),De=Ye(n),Ae=st(n[12]),Se=[];for(let Q=0;Q<Ae.length;Q+=1)Se[Q]=ai(ni(n,Ae,Q));const Re=[p1,m1],Ze=[];function nt(Q,ve){return Q[7].audio.tts.engine===""?0:Q[7].audio.tts.engine!==""?1:-1}return~(K=nt(n))&&(te=Ze[K]=Re[K](n)),{c(){e=m("form"),t=m("div"),l=m("div"),s=m("div"),o=U(r),a=A(),Me&&Me.c(),i=A(),d=m("div"),h=m("div"),v=U(_),b=A(),w=m("button"),Ie.c(),y=A(),k=m("div"),V=m("div"),I=U(P),E=A(),D=m("div"),$=m("div"),L=U(T),N=A(),S=m("button"),De.c(),F=A(),q=m("div"),O=m("div"),Y=U(B),J=A(),G=m("div"),R=m("select");for(let Q=0;Q<Se.length;Q+=1)Se[Q].c();j=A(),z=m("hr"),X=A(),te&&te.c(),se=A(),ue=m("div"),he=m("button"),pe=U(me),this.h()},l(Q){e=p(Q,"FORM",{class:!0});var ve=g(e);t=p(ve,"DIV",{class:!0});var ge=g(t);l=p(ge,"DIV",{});var $e=g(l);s=p($e,"DIV",{class:!0});var Oe=g(s);o=H(Oe,r),Oe.forEach(f),a=C($e),Me&&Me.l($e),i=C($e),d=p($e,"DIV",{class:!0});var Ue=g(d);h=p(Ue,"DIV",{class:!0});var pt=g(h);v=H(pt,_),pt.forEach(f),b=C(Ue),w=p(Ue,"BUTTON",{class:!0,type:!0});var mt=g(w);Ie.l(mt),mt.forEach(f),Ue.forEach(f),$e.forEach(f),y=C(ge),k=p(ge,"DIV",{});var we=g(k);V=p(we,"DIV",{class:!0});var He=g(V);I=H(He,P),He.forEach(f),E=C(we),D=p(we,"DIV",{class:!0});var qe=g(D);$=p(qe,"DIV",{class:!0});var fe=g($);L=H(fe,T),fe.forEach(f),N=C(qe),S=p(qe,"BUTTON",{class:!0,type:!0});var _e=g(S);De.l(_e),_e.forEach(f),qe.forEach(f),F=C(we),q=p(we,"DIV",{class:!0});var Je=g(q);O=p(Je,"DIV",{class:!0});var ct=g(O);Y=H(ct,B),ct.forEach(f),J=C(Je),G=p(Je,"DIV",{class:!0});var Ge=g(G);R=p(Ge,"SELECT",{class:!0});var Ve=g(R);for(let ft=0;ft<Se.length;ft+=1)Se[ft].l(Ve);Ve.forEach(f),Ge.forEach(f),Je.forEach(f),we.forEach(f),j=C(ge),z=p(ge,"HR",{class:!0}),X=C(ge),te&&te.l(ge),ge.forEach(f),se=C(ve),ue=p(ve,"DIV",{class:!0});var xe=g(ue);he=p(xe,"BUTTON",{class:!0,type:!0});var tt=g(he);pe=H(tt,me),tt.forEach(f),xe.forEach(f),ve.forEach(f),this.h()},h(){u(s,"class","mb-1 text-sm font-medium"),u(h,"class","self-center text-xs font-medium"),u(w,"class","p-1 px-3 text-xs flex rounded transition"),u(w,"type","button"),u(d,"class","py-0.5 flex w-full justify-between"),u(V,"class","mb-1 text-sm font-medium"),u($,"class","self-center text-xs font-medium"),u(S,"class","p-1 px-3 text-xs flex rounded transition"),u(S,"type","button"),u(D,"class","py-0.5 flex w-full justify-between"),u(O,"class","self-center text-xs font-medium"),u(R,"class","dark:bg-gray-900 w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),n[6]===void 0&&Ml(()=>n[18].call(R)),u(G,"class","flex items-center relative"),u(q,"class","py-0.5 flex w-full justify-between"),u(z,"class","dark:border-gray-850"),u(t,"class","space-y-3 overflow-y-scroll max-h-[28rem] lg:max-h-full"),u(he,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),u(he,"type","submit"),u(ue,"class","flex justify-end text-sm font-medium"),u(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(Q,ve){M(Q,e,ve),c(e,t),c(t,l),c(l,s),c(s,o),c(l,a),Me&&Me.m(l,null),c(l,i),c(l,d),c(d,h),c(h,v),c(d,b),c(d,w),Ie.m(w,null),c(t,y),c(t,k),c(k,V),c(V,I),c(k,E),c(k,D),c(D,$),c($,L),c(D,N),c(D,S),De.m(S,null),c(k,F),c(k,q),c(q,O),c(O,Y),c(q,J),c(q,G),c(G,R);for(let ge=0;ge<Se.length;ge+=1)Se[ge]&&Se[ge].m(R,null);ol(R,n[6],!0),c(t,j),c(t,z),c(t,X),~K&&Ze[K].m(t,null),c(e,se),c(e,ue),c(ue,he),c(he,pe),de=!0,ke||(We=[le(w,"click",n[16]),le(S,"click",n[17]),le(R,"change",n[18]),le(e,"submit",Bl(n[23]))],ke=!0)},p(Q,ve){if((!de||ve[0]&256)&&r!==(r=Q[8].t("STT Settings")+"")&&x(o,r),Q[7].audio.stt.engine!=="web"?Me?Me.p(Q,ve):(Me=ri(Q),Me.c(),Me.m(l,i)):Me&&(Me.d(1),Me=null),(!de||ve[0]&256)&&_!==(_=Q[8].t("Instant Auto-Send After Voice Transcription")+"")&&x(v,_),re===(re=be(Q))&&Ie?Ie.p(Q,ve):(Ie.d(1),Ie=re(Q),Ie&&(Ie.c(),Ie.m(w,null))),(!de||ve[0]&256)&&P!==(P=Q[8].t("TTS Settings")+"")&&x(I,P),(!de||ve[0]&256)&&T!==(T=Q[8].t("Auto-playback response")+"")&&x(L,T),Ye===(Ye=Be(Q))&&De?De.p(Q,ve):(De.d(1),De=Ye(Q),De&&(De.c(),De.m(S,null))),(!de||ve[0]&256)&&B!==(B=Q[8].t("Speech Playback Speed")+"")&&x(Y,B),ve[0]&4160){Ae=st(Q[12]);let $e;for($e=0;$e<Ae.length;$e+=1){const Oe=ni(Q,Ae,$e);Se[$e]?Se[$e].p(Oe,ve):(Se[$e]=ai(Oe),Se[$e].c(),Se[$e].m(R,null))}for(;$e<Se.length;$e+=1)Se[$e].d(1);Se.length=Ae.length}ve[0]&4160&&ol(R,Q[6]);let ge=K;K=nt(Q),K===ge?~K&&Ze[K].p(Q,ve):(te&&(Qe(),Z(Ze[ge],1,1,()=>{Ze[ge]=null}),et()),~K?(te=Ze[K],te?te.p(Q,ve):(te=Ze[K]=Re[K](Q),te.c()),W(te,1),te.m(t,null)):te=null),(!de||ve[0]&256)&&me!==(me=Q[8].t("Save")+"")&&x(pe,me)},i(Q){de||(W(te),de=!0)},o(Q){Z(te),de=!1},d(Q){Q&&f(e),Me&&Me.d(),Ie.d(),De.d(),$t(Se,Q),~K&&Ze[K].d(),ke=!1,rt(We)}}}function v1(n,e,t){let l,s,r;Te(n,Ht,O=>t(25,l=O)),Te(n,rs,O=>t(7,s=O));const o=At(),a=kt("i18n");Te(n,a,O=>t(8,r=O));let{saveSettings:i}=e,d=!1,h=!1,_=!1,v="",b=[],w="",y=1;const k=[2,1.75,1.5,1.25,1,.75,.5],V=async()=>{if(s.audio.tts.engine===""){const O=setInterval(async()=>{t(5,b=await speechSynthesis.getVoices()),b.length>0&&clearInterval(O)},100)}else{const O=await mf(localStorage.token).catch(B=>{Le.error(`${B}`)});O&&(console.log(O),t(5,b=O.voices))}},P=async()=>{t(2,h=!h),i({responseAutoPlayback:h})},I=async()=>{t(1,d=!d),i({speechAutoSend:d})};Ct(async()=>{var O,B,Y,J,G,R,j,z,X,K;t(6,y=((B=(O=l.audio)==null?void 0:O.tts)==null?void 0:B.playbackRate)??1),l.conversationMode,t(1,d=l.speechAutoSend??!1),t(2,h=l.responseAutoPlayback??!1),t(4,v=((J=(Y=l==null?void 0:l.audio)==null?void 0:Y.stt)==null?void 0:J.engine)??""),((R=(G=l==null?void 0:l.audio)==null?void 0:G.tts)==null?void 0:R.defaultVoice)===s.audio.tts.voice?t(9,w=((z=(j=l==null?void 0:l.audio)==null?void 0:j.tts)==null?void 0:z.voice)??s.audio.tts.voice??""):t(9,w=s.audio.tts.voice??""),t(3,_=((K=(X=l.audio)==null?void 0:X.tts)==null?void 0:K.nonLocalVoices)??!1),await V()});function E(){v=Es(this),t(4,v)}const D=()=>{I()},$=()=>{P()};function T(){y=Es(this),t(6,y),t(12,k)}const L=O=>_||O.localService===!0;function N(){w=Es(this),t(9,w),t(5,b),t(3,_)}function S(O){_=O,t(3,_)}function F(){w=this.value,t(9,w),t(5,b),t(3,_)}const q=async()=>{var O,B;i({audio:{stt:{engine:v!==""?v:void 0},tts:{playbackRate:y,voice:w!==""?w:void 0,defaultVoice:((B=(O=s==null?void 0:s.audio)==null?void 0:O.tts)==null?void 0:B.voice)??"",nonLocalVoices:s.audio.tts.engine===""?_:void 0}}}),o("save")};return n.$$set=O=>{"saveSettings"in O&&t(0,i=O.saveSettings)},[i,d,h,_,v,b,y,s,r,w,o,a,k,P,I,E,D,$,T,L,N,S,F,q]}class g1 extends ot{constructor(e){super(),it(this,e,v1,_1,at,{saveSettings:0},null,[-1,-1])}}function b1(n){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-4"><path d="M3.375 3C2.339 3 1.5 3.84 1.5 4.875v.75c0 1.036.84 1.875 1.875 1.875h17.25c1.035 0 1.875-.84 1.875-1.875v-.75C22.5 3.839 21.66 3 20.625 3H3.375Z"></path><path fill-rule="evenodd" d="m3.087 9 .54 9.176A3 3 0 0 0 6.62 21h10.757a3 3 0 0 0 2.995-2.824L20.913 9H3.087Zm6.163 3.75A.75.75 0 0 1 10 12h4a.75.75 0 0 1 0 1.5h-4a.75.75 0 0 1-.75-.75Z" clip-rule="evenodd"></path></svg>',s,r,o=n[4].t("Archive All Chats")+"",a,i,d;return{c(){e=m("button"),t=m("div"),t.innerHTML=l,s=A(),r=m("div"),a=U(o),this.h()},l(h){e=p(h,"BUTTON",{class:!0});var _=g(e);t=p(_,"DIV",{class:!0,"data-svelte-h":!0}),Fe(t)!=="svelte-1duozwn"&&(t.innerHTML=l),s=C(_),r=p(_,"DIV",{class:!0});var v=g(r);a=H(v,o),v.forEach(f),_.forEach(f),this.h()},h(){u(t,"class","self-center mr-3"),u(r,"class","self-center text-sm font-medium"),u(e,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition")},m(h,_){M(h,e,_),c(e,t),c(e,s),c(e,r),c(r,a),i||(d=le(e,"click",n[16]),i=!0)},p(h,_){_&16&&o!==(o=h[4].t("Archive All Chats")+"")&&x(a,o)},d(h){h&&f(e),i=!1,d()}}}function w1(n){let e,t,l,s,r,o,a,i=n[4].t("Are you sure?")+"",d,h,_,v,b='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z" clip-rule="evenodd"></path></svg>',w,y,k='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',V,P;return{c(){e=m("div"),t=m("div"),l=bt("svg"),s=bt("path"),r=bt("path"),o=A(),a=m("span"),d=U(i),h=A(),_=m("div"),v=m("button"),v.innerHTML=b,w=A(),y=m("button"),y.innerHTML=k,this.h()},l(I){e=p(I,"DIV",{class:!0});var E=g(e);t=p(E,"DIV",{class:!0});var D=g(t);l=wt(D,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var $=g(l);s=wt($,"path",{d:!0}),g(s).forEach(f),r=wt($,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),g(r).forEach(f),$.forEach(f),o=C(D),a=p(D,"SPAN",{});var T=g(a);d=H(T,i),T.forEach(f),D.forEach(f),h=C(E),_=p(E,"DIV",{class:!0});var L=g(_);v=p(L,"BUTTON",{class:!0,"data-svelte-h":!0}),Fe(v)!=="svelte-88c061"&&(v.innerHTML=b),w=C(L),y=p(L,"BUTTON",{class:!0,"data-svelte-h":!0}),Fe(y)!=="svelte-1601eo8"&&(y.innerHTML=k),L.forEach(f),E.forEach(f),this.h()},h(){u(s,"d","M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"),u(r,"fill-rule","evenodd"),u(r,"d","M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM5.72 7.47a.75.75 0 0 1 1.06 0L8 8.69l1.22-1.22a.75.75 0 1 1 1.06 1.06L9.06 9.75l1.22 1.22a.75.75 0 1 1-1.06 1.06L8 10.81l-1.22 1.22a.75.75 0 0 1-1.06-1.06l1.22-1.22-1.22-1.22a.75.75 0 0 1 0-1.06Z"),u(r,"clip-rule","evenodd"),u(l,"xmlns","http://www.w3.org/2000/svg"),u(l,"viewBox","0 0 16 16"),u(l,"fill","currentColor"),u(l,"class","w-4 h-4"),u(t,"class","flex items-center space-x-3"),u(v,"class","hover:text-white transition"),u(y,"class","hover:text-white transition"),u(_,"class","flex space-x-1.5 items-center"),u(e,"class","flex justify-between rounded-md items-center py-2 px-3.5 w-full transition")},m(I,E){M(I,e,E),c(e,t),c(t,l),c(l,s),c(l,r),c(t,o),c(t,a),c(a,d),c(e,h),c(e,_),c(_,v),c(_,w),c(_,y),V||(P=[le(v,"click",n[14]),le(y,"click",n[15])],V=!0)},p(I,E){E&16&&i!==(i=I[4].t("Are you sure?")+"")&&x(d,i)},d(I){I&&f(e),V=!1,rt(P)}}}function k1(n){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm7 7a.75.75 0 0 1-.75.75h-4.5a.75.75 0 0 1 0-1.5h4.5A.75.75 0 0 1 11 9Z" clip-rule="evenodd"></path></svg>',s,r,o=n[4].t("Delete All Chats")+"",a,i,d;return{c(){e=m("button"),t=m("div"),t.innerHTML=l,s=A(),r=m("div"),a=U(o),this.h()},l(h){e=p(h,"BUTTON",{class:!0});var _=g(e);t=p(_,"DIV",{class:!0,"data-svelte-h":!0}),Fe(t)!=="svelte-15aqp4h"&&(t.innerHTML=l),s=C(_),r=p(_,"DIV",{class:!0});var v=g(r);a=H(v,o),v.forEach(f),_.forEach(f),this.h()},h(){u(t,"class","self-center mr-3"),u(r,"class","self-center text-sm font-medium"),u(e,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition")},m(h,_){M(h,e,_),c(e,t),c(e,s),c(e,r),c(r,a),i||(d=le(e,"click",n[19]),i=!0)},p(h,_){_&16&&o!==(o=h[4].t("Delete All Chats")+"")&&x(a,o)},d(h){h&&f(e),i=!1,d()}}}function y1(n){let e,t,l,s,r,o,a,i=n[4].t("Are you sure?")+"",d,h,_,v,b='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z" clip-rule="evenodd"></path></svg>',w,y,k='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',V,P;return{c(){e=m("div"),t=m("div"),l=bt("svg"),s=bt("path"),r=bt("path"),o=A(),a=m("span"),d=U(i),h=A(),_=m("div"),v=m("button"),v.innerHTML=b,w=A(),y=m("button"),y.innerHTML=k,this.h()},l(I){e=p(I,"DIV",{class:!0});var E=g(e);t=p(E,"DIV",{class:!0});var D=g(t);l=wt(D,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var $=g(l);s=wt($,"path",{d:!0}),g(s).forEach(f),r=wt($,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),g(r).forEach(f),$.forEach(f),o=C(D),a=p(D,"SPAN",{});var T=g(a);d=H(T,i),T.forEach(f),D.forEach(f),h=C(E),_=p(E,"DIV",{class:!0});var L=g(_);v=p(L,"BUTTON",{class:!0,"data-svelte-h":!0}),Fe(v)!=="svelte-19nv6qp"&&(v.innerHTML=b),w=C(L),y=p(L,"BUTTON",{class:!0,"data-svelte-h":!0}),Fe(y)!=="svelte-ekcykx"&&(y.innerHTML=k),L.forEach(f),E.forEach(f),this.h()},h(){u(s,"d","M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"),u(r,"fill-rule","evenodd"),u(r,"d","M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM5.72 7.47a.75.75 0 0 1 1.06 0L8 8.69l1.22-1.22a.75.75 0 1 1 1.06 1.06L9.06 9.75l1.22 1.22a.75.75 0 1 1-1.06 1.06L8 10.81l-1.22 1.22a.75.75 0 0 1-1.06-1.06l1.22-1.22-1.22-1.22a.75.75 0 0 1 0-1.06Z"),u(r,"clip-rule","evenodd"),u(l,"xmlns","http://www.w3.org/2000/svg"),u(l,"viewBox","0 0 16 16"),u(l,"fill","currentColor"),u(l,"class","w-4 h-4"),u(t,"class","flex items-center space-x-3"),u(v,"class","hover:text-white transition"),u(y,"class","hover:text-white transition"),u(_,"class","flex space-x-1.5 items-center"),u(e,"class","flex justify-between rounded-md items-center py-2 px-3.5 w-full transition")},m(I,E){M(I,e,E),c(e,t),c(t,l),c(l,s),c(l,r),c(t,o),c(t,a),c(a,d),c(e,h),c(e,_),c(_,v),c(_,w),c(_,y),V||(P=[le(v,"click",n[17]),le(y,"click",n[18])],V=!0)},p(I,E){E&16&&i!==(i=I[4].t("Are you sure?")+"")&&x(d,i)},d(I){I&&f(e),V=!1,rt(P)}}}function E1(n){let e,t,l,s,r,o,a,i='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 9.5a.75.75 0 0 1-.75-.75V8.06l-.72.72a.75.75 0 0 1-1.06-1.06l2-2a.75.75 0 0 1 1.06 0l2 2a.75.75 0 1 1-1.06 1.06l-.72-.72v2.69a.75.75 0 0 1-.75.75Z" clip-rule="evenodd"></path></svg>',d,h,_=n[4].t("Import Chats")+"",v,b,w,y,k='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 3.5a.75.75 0 0 1 .75.75v2.69l.72-.72a.75.75 0 1 1 1.06 1.06l-2 2a.75.75 0 0 1-1.06 0l-2-2a.75.75 0 0 1 1.06-1.06l.72.72V6.25A.75.75 0 0 1 8 5.5Z" clip-rule="evenodd"></path></svg>',V,P,I=n[4].t("Export Chats")+"",E,D,$,T,L,N,S,F;function q(R,j){return R[1]?w1:b1}let O=q(n),B=O(n);function Y(R,j){return R[2]?y1:k1}let J=Y(n),G=J(n);return{c(){e=m("div"),t=m("div"),l=m("div"),s=m("input"),r=A(),o=m("button"),a=m("div"),a.innerHTML=i,d=A(),h=m("div"),v=U(_),b=A(),w=m("button"),y=m("div"),y.innerHTML=k,V=A(),P=m("div"),E=U(I),D=A(),$=m("hr"),T=A(),L=m("div"),B.c(),N=A(),G.c(),this.h()},l(R){e=p(R,"DIV",{class:!0});var j=g(e);t=p(j,"DIV",{class:!0});var z=g(t);l=p(z,"DIV",{class:!0});var X=g(l);s=p(X,"INPUT",{id:!0,type:!0,accept:!0}),r=C(X),o=p(X,"BUTTON",{class:!0});var K=g(o);a=p(K,"DIV",{class:!0,"data-svelte-h":!0}),Fe(a)!=="svelte-135keqh"&&(a.innerHTML=i),d=C(K),h=p(K,"DIV",{class:!0});var te=g(h);v=H(te,_),te.forEach(f),K.forEach(f),b=C(X),w=p(X,"BUTTON",{class:!0});var se=g(w);y=p(se,"DIV",{class:!0,"data-svelte-h":!0}),Fe(y)!=="svelte-7e4f4y"&&(y.innerHTML=k),V=C(se),P=p(se,"DIV",{class:!0});var ue=g(P);E=H(ue,I),ue.forEach(f),se.forEach(f),X.forEach(f),D=C(z),$=p(z,"HR",{class:!0}),T=C(z),L=p(z,"DIV",{class:!0});var he=g(L);B.l(he),N=C(he),G.l(he),he.forEach(f),z.forEach(f),j.forEach(f),this.h()},h(){u(s,"id","chat-import-input"),u(s,"type","file"),u(s,"accept",".json"),s.hidden=!0,u(a,"class","self-center mr-3"),u(h,"class","self-center text-sm font-medium"),u(o,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),u(y,"class","self-center mr-3"),u(P,"class","self-center text-sm font-medium"),u(w,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),u(l,"class","flex flex-col"),u($,"class","dark:border-gray-850"),u(L,"class","flex flex-col"),u(t,"class","space-y-2 overflow-y-scroll max-h-[28rem] lg:max-h-full"),u(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(R,j){M(R,e,j),c(e,t),c(t,l),c(l,s),n[10](s),c(l,r),c(l,o),c(o,a),c(o,d),c(o,h),c(h,v),c(l,b),c(l,w),c(w,y),c(w,V),c(w,P),c(P,E),c(t,D),c(t,$),c(t,T),c(t,L),B.m(L,null),c(L,N),G.m(L,null),S||(F=[le(s,"change",n[11]),le(o,"click",n[12]),le(w,"click",n[13])],S=!0)},p(R,[j]){j&16&&_!==(_=R[4].t("Import Chats")+"")&&x(v,_),j&16&&I!==(I=R[4].t("Export Chats")+"")&&x(E,I),O===(O=q(R))&&B?B.p(R,j):(B.d(1),B=O(R),B&&(B.c(),B.m(L,N))),J===(J=Y(R))&&G?G.p(R,j):(G.d(1),G=J(R),G&&(G.c(),G.m(L,null)))},i:Ce,o:Ce,d(R){R&&f(e),n[10](null),B.d(),G.d(),S=!1,rt(F)}}}function I1(n,e,t){let l,s;Te(n,rl,S=>t(20,l=S));const{saveAs:r}=Vs,o=kt("i18n");Te(n,o,S=>t(4,s=S));let{saveSettings:a}=e,i,d=!1,h=!1,_;const v=async S=>{for(const F of S)console.log(F),F.chat?await Ga(localStorage.token,F.chat):await Ga(localStorage.token,F);rl.set(1),await nl.set(await Ll(localStorage.token,l)),Is.set(!0)},b=async()=>{let S=new Blob([JSON.stringify(await $c(localStorage.token))],{type:"application/json"});r(S,`chat-export-${Date.now()}.json`)},w=async()=>{await gl("/"),await Nc(localStorage.token).catch(S=>{Le.error(`${S}`)}),rl.set(1),await nl.set(await Ll(localStorage.token,l)),Is.set(!0)},y=async()=>{await gl("/"),await Oc(localStorage.token).catch(S=>{Le.error(`${S}`)}),rl.set(1),await nl.set(await Ll(localStorage.token,l)),Is.set(!0)};function k(S){lt[S?"unshift":"push"](()=>{_=S,t(3,_)})}function V(){i=this.files,t(0,i)}const P=()=>{_.click()},I=()=>{b()},E=()=>{w(),t(1,d=!1)},D=()=>{t(1,d=!1)},$=()=>{t(1,d=!0)},T=()=>{y(),t(2,h=!1)},L=()=>{t(2,h=!1)},N=()=>{t(2,h=!0)};return n.$$set=S=>{"saveSettings"in S&&t(9,a=S.saveSettings)},n.$$.update=()=>{if(n.$$.dirty&1&&i){console.log(i);let S=new FileReader;S.onload=F=>{let q=JSON.parse(F.target.result);if(console.log(q),wc(q)=="openai")try{q=kc(q)}catch(O){console.log("Unable to import chats:",O)}v(q)},i.length>0&&S.readAsText(i[0])}},[i,d,h,_,s,o,b,w,y,a,k,V,P,I,E,D,$,T,L,N]}class D1 extends ot{constructor(e){super(),it(this,e,I1,E1,at,{saveSettings:9})}}function ci(n){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}
											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=m("div"),e.innerHTML=t,this.h()},l(l){e=p(l,"DIV",{class:!0,"data-svelte-h":!0}),Fe(e)!=="svelte-1vuzrxa"&&(e.innerHTML=t),this.h()},h(){u(e,"class","ml-2 self-center")},m(l,s){M(l,e,s)},d(l){l&&f(e)}}}function T1(n){let e,t,l,s=n[3].t("Add Memory")+"",r,o,a,i='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',d,h,_,v,b,w,y,k,V,P,I=n[3].t('Refer to yourself as "User" (e.g., "User is learning Spanish")')+"",E,D,$,T,L=n[3].t("Add")+"",N,S,F,q,O,B=n[1]&&ci();return{c(){e=m("div"),t=m("div"),l=m("div"),r=U(s),o=A(),a=m("button"),a.innerHTML=i,d=A(),h=m("div"),_=m("div"),v=m("form"),b=m("div"),w=m("textarea"),k=A(),V=m("div"),P=U(" "),E=U(I),D=A(),$=m("div"),T=m("button"),N=U(L),S=A(),B&&B.c(),this.h()},l(Y){e=p(Y,"DIV",{});var J=g(e);t=p(J,"DIV",{class:!0});var G=g(t);l=p(G,"DIV",{class:!0});var R=g(l);r=H(R,s),R.forEach(f),o=C(G),a=p(G,"BUTTON",{class:!0,"data-svelte-h":!0}),Fe(a)!=="svelte-745w2y"&&(a.innerHTML=i),G.forEach(f),d=C(J),h=p(J,"DIV",{class:!0});var j=g(h);_=p(j,"DIV",{class:!0});var z=g(_);v=p(z,"FORM",{class:!0});var X=g(v);b=p(X,"DIV",{class:!0});var K=g(b);w=p(K,"TEXTAREA",{class:!0,rows:!0,placeholder:!0}),g(w).forEach(f),k=C(K),V=p(K,"DIV",{class:!0});var te=g(V);P=H(te," "),E=H(te,I),te.forEach(f),K.forEach(f),D=C(X),$=p(X,"DIV",{class:!0});var se=g($);T=p(se,"BUTTON",{class:!0,type:!0});var ue=g(T);N=H(ue,L),S=C(ue),B&&B.l(ue),ue.forEach(f),se.forEach(f),X.forEach(f),z.forEach(f),j.forEach(f),J.forEach(f),this.h()},h(){u(l,"class","text-lg font-medium self-center"),u(a,"class","self-center"),u(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4 pb-2"),u(w,"class","bg-transparent w-full text-sm resize-none rounded-xl p-3 outline outline-1 outline-gray-100 dark:outline-gray-800"),u(w,"rows","3"),u(w,"placeholder",y=n[3].t("Enter a detail about yourself for your LLMs to recall")),u(V,"class","text-xs text-gray-500"),u(b,"class",""),u(T,"class",F="px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-3xl flex flex-row space-x-1 items-center "+(n[1]?" cursor-not-allowed":"")),u(T,"type","submit"),T.disabled=n[1],u($,"class","flex justify-end pt-1 text-sm font-medium"),u(v,"class","flex flex-col w-full"),u(_,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),u(h,"class","flex flex-col md:flex-row w-full px-5 pb-4 md:space-x-4 dark:text-gray-200")},m(Y,J){M(Y,e,J),c(e,t),c(t,l),c(l,r),c(t,o),c(t,a),c(e,d),c(e,h),c(h,_),c(_,v),c(v,b),c(b,w),je(w,n[2]),c(b,k),c(b,V),c(V,P),c(V,E),c(v,D),c(v,$),c($,T),c(T,N),c(T,S),B&&B.m(T,null),q||(O=[le(a,"click",n[6]),le(w,"input",n[7]),le(v,"submit",Bl(n[8]))],q=!0)},p(Y,J){J&8&&s!==(s=Y[3].t("Add Memory")+"")&&x(r,s),J&8&&y!==(y=Y[3].t("Enter a detail about yourself for your LLMs to recall"))&&u(w,"placeholder",y),J&4&&je(w,Y[2]),J&8&&I!==(I=Y[3].t('Refer to yourself as "User" (e.g., "User is learning Spanish")')+"")&&x(E,I),J&8&&L!==(L=Y[3].t("Add")+"")&&x(N,L),Y[1]?B||(B=ci(),B.c(),B.m(T,null)):B&&(B.d(1),B=null),J&2&&F!==(F="px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-3xl flex flex-row space-x-1 items-center "+(Y[1]?" cursor-not-allowed":""))&&u(T,"class",F),J&2&&(T.disabled=Y[1])},d(Y){Y&&f(e),B&&B.d(),q=!1,rt(O)}}}function V1(n){let e,t,l;function s(o){n[9](o)}let r={size:"sm",$$slots:{default:[T1]},$$scope:{ctx:n}};return n[0]!==void 0&&(r.show=n[0]),e=new Ul({props:r}),lt.push(()=>ht(e,"show",s)),{c(){ae(e.$$.fragment)},l(o){oe(e.$$.fragment,o)},m(o,a){ie(e,o,a),l=!0},p(o,[a]){const i={};a&2063&&(i.$$scope={dirty:a,ctx:o}),!t&&a&1&&(t=!0,i.show=o[0],dt(()=>t=!1)),e.$set(i)},i(o){l||(W(e.$$.fragment,o),l=!0)},o(o){Z(e.$$.fragment,o),l=!1},d(o){ce(e,o)}}}function A1(n,e,t){let l;const s=At();let{show:r}=e;const o=kt("i18n");Te(n,o,w=>t(3,l=w));let a=!1,i="";const d=async()=>{t(1,a=!0);const w=await Rc(localStorage.token,i).catch(y=>(Le.error(`${y}`),null));w&&(console.log(w),Le.success(l.t("Memory added successfully")),t(2,i=""),t(0,r=!1),s("save")),t(1,a=!1)},h=()=>{t(0,r=!1)};function _(){i=this.value,t(2,i)}const v=()=>{d()};function b(w){r=w,t(0,r)}return n.$$set=w=>{"show"in w&&t(0,r=w.show)},[r,a,i,l,o,d,h,_,v,b]}class C1 extends ot{constructor(e){super(),it(this,e,A1,V1,at,{show:0})}}function fi(n){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}
											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=m("div"),e.innerHTML=t,this.h()},l(l){e=p(l,"DIV",{class:!0,"data-svelte-h":!0}),Fe(e)!=="svelte-1vuzrxa"&&(e.innerHTML=t),this.h()},h(){u(e,"class","ml-2 self-center")},m(l,s){M(l,e,s)},d(l){l&&f(e)}}}function S1(n){let e,t,l,s=n[3].t("Edit Memory")+"",r,o,a,i='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',d,h,_,v,b,w,y,k,V,P,I=n[3].t('Refer to yourself as "User" (e.g., "User is learning Spanish")')+"",E,D,$,T,L=n[3].t("Update")+"",N,S,F,q,O,B=n[1]&&fi();return{c(){e=m("div"),t=m("div"),l=m("div"),r=U(s),o=A(),a=m("button"),a.innerHTML=i,d=A(),h=m("div"),_=m("div"),v=m("form"),b=m("div"),w=m("textarea"),k=A(),V=m("div"),P=U(" "),E=U(I),D=A(),$=m("div"),T=m("button"),N=U(L),S=A(),B&&B.c(),this.h()},l(Y){e=p(Y,"DIV",{});var J=g(e);t=p(J,"DIV",{class:!0});var G=g(t);l=p(G,"DIV",{class:!0});var R=g(l);r=H(R,s),R.forEach(f),o=C(G),a=p(G,"BUTTON",{class:!0,"data-svelte-h":!0}),Fe(a)!=="svelte-745w2y"&&(a.innerHTML=i),G.forEach(f),d=C(J),h=p(J,"DIV",{class:!0});var j=g(h);_=p(j,"DIV",{class:!0});var z=g(_);v=p(z,"FORM",{class:!0});var X=g(v);b=p(X,"DIV",{class:!0});var K=g(b);w=p(K,"TEXTAREA",{class:!0,rows:!0,placeholder:!0}),g(w).forEach(f),k=C(K),V=p(K,"DIV",{class:!0});var te=g(V);P=H(te," "),E=H(te,I),te.forEach(f),K.forEach(f),D=C(X),$=p(X,"DIV",{class:!0});var se=g($);T=p(se,"BUTTON",{class:!0,type:!0});var ue=g(T);N=H(ue,L),S=C(ue),B&&B.l(ue),ue.forEach(f),se.forEach(f),X.forEach(f),z.forEach(f),j.forEach(f),J.forEach(f),this.h()},h(){u(l,"class","text-lg font-medium self-center"),u(a,"class","self-center"),u(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4 pb-2"),u(w,"class","bg-transparent w-full text-sm resize-none rounded-xl p-3 outline outline-1 outline-gray-100 dark:outline-gray-800"),u(w,"rows","3"),u(w,"placeholder",y=n[3].t("Enter a detail about yourself for your LLMs to recall")),u(V,"class","text-xs text-gray-500"),u(b,"class",""),u(T,"class",F="px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-3xl flex flex-row space-x-1 items-center "+(n[1]?" cursor-not-allowed":"")),u(T,"type","submit"),T.disabled=n[1],u($,"class","flex justify-end pt-1 text-sm font-medium"),u(v,"class","flex flex-col w-full"),u(_,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),u(h,"class","flex flex-col md:flex-row w-full px-5 pb-4 md:space-x-4 dark:text-gray-200")},m(Y,J){M(Y,e,J),c(e,t),c(t,l),c(l,r),c(t,o),c(t,a),c(e,d),c(e,h),c(h,_),c(_,v),c(v,b),c(b,w),je(w,n[2]),c(b,k),c(b,V),c(V,P),c(V,E),c(v,D),c(v,$),c($,T),c(T,N),c(T,S),B&&B.m(T,null),q||(O=[le(a,"click",n[7]),le(w,"input",n[8]),le(v,"submit",Bl(n[9]))],q=!0)},p(Y,J){J&8&&s!==(s=Y[3].t("Edit Memory")+"")&&x(r,s),J&8&&y!==(y=Y[3].t("Enter a detail about yourself for your LLMs to recall"))&&u(w,"placeholder",y),J&4&&je(w,Y[2]),J&8&&I!==(I=Y[3].t('Refer to yourself as "User" (e.g., "User is learning Spanish")')+"")&&x(E,I),J&8&&L!==(L=Y[3].t("Update")+"")&&x(N,L),Y[1]?B||(B=fi(),B.c(),B.m(T,null)):B&&(B.d(1),B=null),J&2&&F!==(F="px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-3xl flex flex-row space-x-1 items-center "+(Y[1]?" cursor-not-allowed":""))&&u(T,"class",F),J&2&&(T.disabled=Y[1])},d(Y){Y&&f(e),B&&B.d(),q=!1,rt(O)}}}function $1(n){let e,t,l;function s(o){n[10](o)}let r={size:"sm",$$slots:{default:[S1]},$$scope:{ctx:n}};return n[0]!==void 0&&(r.show=n[0]),e=new Ul({props:r}),lt.push(()=>ht(e,"show",s)),{c(){ae(e.$$.fragment)},l(o){oe(e.$$.fragment,o)},m(o,a){ie(e,o,a),l=!0},p(o,[a]){const i={};a&8207&&(i.$$scope={dirty:a,ctx:o}),!t&&a&1&&(t=!0,i.show=o[0],dt(()=>t=!1)),e.$set(i)},i(o){l||(W(e.$$.fragment,o),l=!0)},o(o){Z(e.$$.fragment,o),l=!1},d(o){ce(e,o)}}}function N1(n,e,t){let l;const s=At();let{show:r}=e,{memory:o={}}=e;const a=kt("i18n");Te(n,a,k=>t(3,l=k));let i=!1,d="";const h=()=>{t(2,d=o.content)},_=async()=>{t(1,i=!0);const k=await xc(localStorage.token,o.id,d).catch(V=>(Le.error(`${V}`),null));k&&(console.log(k),Le.success(l.t("Memory updated successfully")),s("save"),t(0,r=!1)),t(1,i=!1)},v=()=>{t(0,r=!1)};function b(){d=this.value,t(2,d)}const w=()=>{_()};function y(k){r=k,t(0,r)}return n.$$set=k=>{"show"in k&&t(0,r=k.show),"memory"in k&&t(6,o=k.memory)},n.$$.update=()=>{n.$$.dirty&1&&r&&h()},[r,i,d,l,a,_,o,v,b,w,y]}class O1 extends ot{constructor(e){super(),it(this,e,N1,$1,at,{show:0,memory:6})}}function ui(n,e,t){const l=n.slice();return l[19]=e[t],l}function L1(n){let e,t,l=n[5].t("Memories accessible by LLMs will be shown here.")+"",s;return{c(){e=m("div"),t=m("div"),s=U(l),this.h()},l(r){e=p(r,"DIV",{class:!0});var o=g(e);t=p(o,"DIV",{class:!0});var a=g(t);s=H(a,l),a.forEach(f),o.forEach(f),this.h()},h(){u(t,"class","my-auto pb-10 px-4 w-full text-gray-500"),u(e,"class","text-center flex h-full text-sm w-full")},m(r,o){M(r,e,o),c(e,t),c(t,s)},p(r,o){o&32&&l!==(l=r[5].t("Memories accessible by LLMs will be shown here.")+"")&&x(s,l)},i:Ce,o:Ce,d(r){r&&f(e)}}}function M1(n){let e,t,l,s,r,o,a=n[5].t("Name")+"",i,d,h,_=n[5].t("Last Modified")+"",v,b,w,y,k,V,P=st(n[1]),I=[];for(let D=0;D<P.length;D+=1)I[D]=di(ui(n,P,D));const E=D=>Z(I[D],1,1,()=>{I[D]=null});return{c(){e=m("div"),t=m("div"),l=m("table"),s=m("thead"),r=m("tr"),o=m("th"),i=U(a),d=A(),h=m("th"),v=U(_),b=A(),w=m("th"),y=A(),k=m("tbody");for(let D=0;D<I.length;D+=1)I[D].c();this.h()},l(D){e=p(D,"DIV",{class:!0});var $=g(e);t=p($,"DIV",{class:!0});var T=g(t);l=p(T,"TABLE",{class:!0});var L=g(l);s=p(L,"THEAD",{class:!0});var N=g(s);r=p(N,"TR",{});var S=g(r);o=p(S,"TH",{scope:!0,class:!0});var F=g(o);i=H(F,a),F.forEach(f),d=C(S),h=p(S,"TH",{scope:!0,class:!0});var q=g(h);v=H(q,_),q.forEach(f),b=C(S),w=p(S,"TH",{scope:!0,class:!0}),g(w).forEach(f),S.forEach(f),N.forEach(f),y=C(L),k=p(L,"TBODY",{});var O=g(k);for(let B=0;B<I.length;B+=1)I[B].l(O);O.forEach(f),L.forEach(f),T.forEach(f),$.forEach(f),this.h()},h(){u(o,"scope","col"),u(o,"class","px-3 py-2"),u(h,"scope","col"),u(h,"class","px-3 py-2 hidden md:flex"),u(w,"scope","col"),u(w,"class","px-3 py-2 text-right"),u(s,"class","text-xs text-gray-700 uppercase bg-transparent dark:text-gray-200 border-b-2 dark:border-gray-800"),u(l,"class","w-full text-sm text-left text-gray-600 dark:text-gray-400 table-auto"),u(t,"class","relative overflow-x-auto"),u(e,"class","text-left text-sm w-full mb-4 overflow-y-scroll")},m(D,$){M(D,e,$),c(e,t),c(t,l),c(l,s),c(s,r),c(r,o),c(o,i),c(r,d),c(r,h),c(h,v),c(r,b),c(r,w),c(l,y),c(l,k);for(let T=0;T<I.length;T+=1)I[T]&&I[T].m(k,null);V=!0},p(D,$){if((!V||$&32)&&a!==(a=D[5].t("Name")+"")&&x(i,a),(!V||$&32)&&_!==(_=D[5].t("Last Modified")+"")&&x(v,_),$&58){P=st(D[1]);let T;for(T=0;T<P.length;T+=1){const L=ui(D,P,T);I[T]?(I[T].p(L,$),W(I[T],1)):(I[T]=di(L),I[T].c(),W(I[T],1),I[T].m(k,null))}for(Qe(),T=P.length;T<I.length;T+=1)E(T);et()}},i(D){if(!V){for(let $=0;$<P.length;$+=1)W(I[$]);V=!0}},o(D){I=I.filter(Boolean);for(let $=0;$<I.length;$+=1)Z(I[$]);V=!1},d(D){D&&f(e),$t(I,D)}}}function B1(n){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4 s-FoVA_WMOgxUD"><path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125" class="s-FoVA_WMOgxUD"></path></svg>',l,s;function r(){return n[9](n[19])}return{c(){e=m("button"),e.innerHTML=t,this.h()},l(o){e=p(o,"BUTTON",{class:!0,"data-svelte-h":!0}),Fe(e)!=="svelte-1hkti8u"&&(e.innerHTML=t),this.h()},h(){u(e,"class","self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl")},m(o,a){M(o,e,a),l||(s=le(e,"click",r),l=!0)},p(o,a){n=o},d(o){o&&f(e),l=!1,s()}}}function U1(n){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"></path></svg>',l,s;function r(){return n[10](n[19])}return{c(){e=m("button"),e.innerHTML=t,this.h()},l(o){e=p(o,"BUTTON",{class:!0,"data-svelte-h":!0}),Fe(e)!=="svelte-1uabthr"&&(e.innerHTML=t),this.h()},h(){u(e,"class","self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl")},m(o,a){M(o,e,a),l||(s=le(e,"click",r),l=!0)},p(o,a){n=o},d(o){o&&f(e),l=!1,s()}}}function di(n){let e,t,l,s=n[19].content+"",r,o,a,i,d=Xl(n[19].updated_at*1e3).format("LLL")+"",h,_,v,b,w,y,k,V,P;return w=new Ot({props:{content:"Edit",$$slots:{default:[B1]},$$scope:{ctx:n}}}),k=new Ot({props:{content:"Delete",$$slots:{default:[U1]},$$scope:{ctx:n}}}),{c(){e=m("tr"),t=m("td"),l=m("div"),r=U(s),o=A(),a=m("td"),i=m("div"),h=U(d),_=A(),v=m("td"),b=m("div"),ae(w.$$.fragment),y=A(),ae(k.$$.fragment),V=A(),this.h()},l(I){e=p(I,"TR",{class:!0});var E=g(e);t=p(E,"TD",{class:!0});var D=g(t);l=p(D,"DIV",{class:!0});var $=g(l);r=H($,s),$.forEach(f),D.forEach(f),o=C(E),a=p(E,"TD",{class:!0});var T=g(a);i=p(T,"DIV",{class:!0});var L=g(i);h=H(L,d),L.forEach(f),T.forEach(f),_=C(E),v=p(E,"TD",{class:!0});var N=g(v);b=p(N,"DIV",{class:!0});var S=g(b);oe(w.$$.fragment,S),y=C(S),oe(k.$$.fragment,S),S.forEach(f),N.forEach(f),V=C(E),E.forEach(f),this.h()},h(){u(l,"class","line-clamp-1"),u(t,"class","px-3 py-1"),u(i,"class","my-auto whitespace-nowrap"),u(a,"class","px-3 py-1 hidden md:flex h-[2.5rem]"),u(b,"class","flex justify-end w-full"),u(v,"class","px-3 py-1"),u(e,"class","border-b dark:border-gray-800 items-center")},m(I,E){M(I,e,E),c(e,t),c(t,l),c(l,r),c(e,o),c(e,a),c(a,i),c(i,h),c(e,_),c(e,v),c(v,b),ie(w,b,null),c(b,y),ie(k,b,null),c(e,V),P=!0},p(I,E){(!P||E&2)&&s!==(s=I[19].content+"")&&x(r,s),(!P||E&2)&&d!==(d=Xl(I[19].updated_at*1e3).format("LLL")+"")&&x(h,d);const D={};E&4194330&&(D.$$scope={dirty:E,ctx:I}),w.$set(D);const $={};E&4194338&&($.$$scope={dirty:E,ctx:I}),k.$set($)},i(I){P||(W(w.$$.fragment,I),W(k.$$.fragment,I),P=!0)},o(I){Z(w.$$.fragment,I),Z(k.$$.fragment,I),P=!1},d(I){I&&f(e),ce(w),ce(k)}}}function H1(n){let e,t,l,s=n[5].t("Memory")+"",r,o,a,i='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',d,h,_,v,b,w,y,k,V=n[5].t("Add Memory")+"",P,I,E,D=n[5].t("Clear memory")+"",$,T,L,N;const S=[M1,L1],F=[];function q(O,B){return O[1].length>0?0:1}return v=q(n),b=F[v]=S[v](n),{c(){e=m("div"),t=m("div"),l=m("div"),r=U(s),o=A(),a=m("button"),a.innerHTML=i,d=A(),h=m("div"),_=m("div"),b.c(),w=A(),y=m("div"),k=m("button"),P=U(V),I=A(),E=m("button"),$=U(D),this.h()},l(O){e=p(O,"DIV",{});var B=g(e);t=p(B,"DIV",{class:!0});var Y=g(t);l=p(Y,"DIV",{class:!0});var J=g(l);r=H(J,s),J.forEach(f),o=C(Y),a=p(Y,"BUTTON",{class:!0,"data-svelte-h":!0}),Fe(a)!=="svelte-745w2y"&&(a.innerHTML=i),Y.forEach(f),d=C(B),h=p(B,"DIV",{class:!0});var G=g(h);_=p(G,"DIV",{class:!0});var R=g(_);b.l(R),R.forEach(f),w=C(G),y=p(G,"DIV",{class:!0});var j=g(y);k=p(j,"BUTTON",{class:!0});var z=g(k);P=H(z,V),z.forEach(f),I=C(j),E=p(j,"BUTTON",{class:!0});var X=g(E);$=H(X,D),X.forEach(f),j.forEach(f),G.forEach(f),B.forEach(f),this.h()},h(){u(l,"class","text-lg font-medium self-center"),u(a,"class","self-center"),u(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4 pb-1"),u(_,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6 h-[28rem] max-h-screen outline outline-1 rounded-xl outline-gray-100 dark:outline-gray-800 mb-4 mt-1"),u(k,"class","px-3.5 py-1.5 font-medium hover:bg-black/5 dark:hover:bg-white/5 outline outline-1 outline-gray-300 dark:outline-gray-800 rounded-3xl"),u(E,"class","px-3.5 py-1.5 font-medium text-red-500 hover:bg-black/5 dark:hover:bg-white/5 outline outline-1 outline-red-300 dark:outline-red-800 rounded-3xl"),u(y,"class","flex text-sm font-medium gap-1.5"),u(h,"class","flex flex-col w-full px-5 pb-5 dark:text-gray-200")},m(O,B){M(O,e,B),c(e,t),c(t,l),c(l,r),c(t,o),c(t,a),c(e,d),c(e,h),c(h,_),F[v].m(_,null),c(h,w),c(h,y),c(y,k),c(k,P),c(y,I),c(y,E),c(E,$),T=!0,L||(N=[le(a,"click",n[8]),le(k,"click",n[11]),le(E,"click",n[12])],L=!0)},p(O,B){(!T||B&32)&&s!==(s=O[5].t("Memory")+"")&&x(r,s);let Y=v;v=q(O),v===Y?F[v].p(O,B):(Qe(),Z(F[Y],1,1,()=>{F[Y]=null}),et(),b=F[v],b?b.p(O,B):(b=F[v]=S[v](O),b.c()),W(b,1),b.m(_,null)),(!T||B&32)&&V!==(V=O[5].t("Add Memory")+"")&&x(P,V),(!T||B&32)&&D!==(D=O[5].t("Clear memory")+"")&&x($,D)},i(O){T||(W(b),T=!0)},o(O){Z(b),T=!1},d(O){O&&f(e),F[v].d(),L=!1,rt(N)}}}function P1(n){let e,t,l,s,r,o,a,i,d;function h(k){n[13](k)}let _={size:"xl",$$slots:{default:[H1]},$$scope:{ctx:n}};n[0]!==void 0&&(_.show=n[0]),e=new Ul({props:_}),lt.push(()=>ht(e,"show",h));function v(k){n[14](k)}let b={};n[2]!==void 0&&(b.show=n[2]),s=new C1({props:b}),lt.push(()=>ht(s,"show",v)),s.$on("save",n[15]);function w(k){n[16](k)}let y={memory:n[4]};return n[3]!==void 0&&(y.show=n[3]),a=new O1({props:y}),lt.push(()=>ht(a,"show",w)),a.$on("save",n[17]),{c(){ae(e.$$.fragment),l=A(),ae(s.$$.fragment),o=A(),ae(a.$$.fragment)},l(k){oe(e.$$.fragment,k),l=C(k),oe(s.$$.fragment,k),o=C(k),oe(a.$$.fragment,k)},m(k,V){ie(e,k,V),M(k,l,V),ie(s,k,V),M(k,o,V),ie(a,k,V),d=!0},p(k,[V]){const P={};V&4194367&&(P.$$scope={dirty:V,ctx:k}),!t&&V&1&&(t=!0,P.show=k[0],dt(()=>t=!1)),e.$set(P);const I={};!r&&V&4&&(r=!0,I.show=k[2],dt(()=>r=!1)),s.$set(I);const E={};V&16&&(E.memory=k[4]),!i&&V&8&&(i=!0,E.show=k[3],dt(()=>i=!1)),a.$set(E)},i(k){d||(W(e.$$.fragment,k),W(s.$$.fragment,k),W(a.$$.fragment,k),d=!0)},o(k){Z(e.$$.fragment,k),Z(s.$$.fragment,k),Z(a.$$.fragment,k),d=!1},d(k){k&&(f(l),f(o)),ce(e,k),ce(s,k),ce(a,k)}}}function j1(n,e,t){let l;At();const s=kt("i18n");Te(n,s,D=>t(5,l=D)),Xl.extend(Ui);let{show:r=!1}=e,o=[],a=!0,i=!1,d=!1,h=null;const _=()=>{t(0,r=!1)},v=D=>{t(4,h=D),t(3,d=!0)},b=async D=>{await zc(localStorage.token,D.id).catch(T=>(Le.error(`${T}`),null))&&(Le.success(l.t("Memory deleted successfully")),t(1,o=await yn(localStorage.token)))},w=()=>{t(2,i=!0)},y=async()=>{await Wc(localStorage.token).catch($=>(Le.error(`${$}`),null))&&(Le.success(l.t("Memory cleared successfully")),t(1,o=[]))};function k(D){r=D,t(0,r)}function V(D){i=D,t(2,i)}const P=async()=>{t(1,o=await yn(localStorage.token))};function I(D){d=D,t(3,d)}const E=async()=>{t(1,o=await yn(localStorage.token))};return n.$$set=D=>{"show"in D&&t(0,r=D.show)},n.$$.update=()=>{n.$$.dirty&131&&r&&o.length===0&&a&&(async()=>(t(1,o=await yn(localStorage.token)),t(7,a=!1)))()},[r,o,i,d,h,l,s,a,_,v,b,w,y,k,V,P,I,E]}class R1 extends ot{constructor(e){super(),it(this,e,j1,P1,at,{show:0})}}function x1(n){let e,t=n[3].t("Memory")+"",l,s,r,o,a=n[3].t("Experimental")+"",i,d;return{c(){e=m("div"),l=U(t),s=A(),r=m("span"),o=U("("),i=U(a),d=U(")"),this.h()},l(h){e=p(h,"DIV",{class:!0});var _=g(e);l=H(_,t),s=C(_),r=p(_,"SPAN",{class:!0});var v=g(r);o=H(v,"("),i=H(v,a),d=H(v,")"),v.forEach(f),_.forEach(f),this.h()},h(){u(r,"class","text-xs text-gray-500"),u(e,"class","text-sm font-medium")},m(h,_){M(h,e,_),c(e,l),c(e,s),c(e,r),c(r,o),c(r,i),c(r,d)},p(h,_){_&8&&t!==(t=h[3].t("Memory")+"")&&x(l,t),_&8&&a!==(a=h[3].t("Experimental")+"")&&x(i,a)},d(h){h&&f(e)}}}function z1(n){let e,t,l,s,r,o,a,i,d,h,_,v,b,w,y,k=n[3].t("You can personalize your interactions with LLMs by adding memories through the 'Manage' button below, making them more helpful and tailored to you.")+"",V,P,I,E,D=n[3].t("Manage")+"",$,T,L,N,S=n[3].t("Save")+"",F,q,O,B;function Y(j){n[6](j)}let J={};n[1]!==void 0&&(J.show=n[1]),e=new R1({props:J}),lt.push(()=>ht(e,"show",Y)),i=new Ot({props:{content:n[3].t("This is an experimental feature, it may not function as expected and is subject to change at any time."),$$slots:{default:[x1]},$$scope:{ctx:n}}});function G(j){n[7](j)}let R={};return n[2]!==void 0&&(R.state=n[2]),_=new qi({props:R}),lt.push(()=>ht(_,"state",G)),_.$on("change",n[8]),{c(){ae(e.$$.fragment),l=A(),s=m("form"),r=m("div"),o=m("div"),a=m("div"),ae(i.$$.fragment),d=A(),h=m("div"),ae(_.$$.fragment),b=A(),w=m("div"),y=m("div"),V=U(k),P=A(),I=m("div"),E=m("button"),$=U(D),T=A(),L=m("div"),N=m("button"),F=U(S),this.h()},l(j){oe(e.$$.fragment,j),l=C(j),s=p(j,"FORM",{class:!0});var z=g(s);r=p(z,"DIV",{class:!0});var X=g(r);o=p(X,"DIV",{});var K=g(o);a=p(K,"DIV",{class:!0});var te=g(a);oe(i.$$.fragment,te),d=C(te),h=p(te,"DIV",{class:!0});var se=g(h);oe(_.$$.fragment,se),se.forEach(f),te.forEach(f),K.forEach(f),b=C(X),w=p(X,"DIV",{class:!0});var ue=g(w);y=p(ue,"DIV",{});var he=g(y);V=H(he,k),he.forEach(f),ue.forEach(f),P=C(X),I=p(X,"DIV",{class:!0});var me=g(I);E=p(me,"BUTTON",{type:!0,class:!0});var pe=g(E);$=H(pe,D),pe.forEach(f),me.forEach(f),X.forEach(f),T=C(z),L=p(z,"DIV",{class:!0});var de=g(L);N=p(de,"BUTTON",{class:!0,type:!0});var ke=g(N);F=H(ke,S),ke.forEach(f),de.forEach(f),z.forEach(f),this.h()},h(){u(h,"class",""),u(a,"class","flex items-center justify-between mb-1"),u(w,"class","text-xs text-gray-600 dark:text-gray-400"),u(E,"type","button"),u(E,"class","px-3.5 py-1.5 font-medium hover:bg-black/5 dark:hover:bg-white/5 outline outline-1 outline-gray-300 dark:outline-gray-800 rounded-3xl"),u(I,"class","mt-3 mb-1 ml-1"),u(r,"class","py-1 overflow-y-scroll max-h-[28rem] lg:max-h-full"),u(N,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),u(N,"type","submit"),u(L,"class","flex justify-end text-sm font-medium"),u(s,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(j,z){ie(e,j,z),M(j,l,z),M(j,s,z),c(s,r),c(r,o),c(o,a),ie(i,a,null),c(a,d),c(a,h),ie(_,h,null),c(r,b),c(r,w),c(w,y),c(y,V),c(r,P),c(r,I),c(I,E),c(E,$),c(s,T),c(s,L),c(L,N),c(N,F),q=!0,O||(B=[le(E,"click",n[9]),le(s,"submit",Bl(n[10]))],O=!0)},p(j,[z]){const X={};!t&&z&2&&(t=!0,X.show=j[1],dt(()=>t=!1)),e.$set(X);const K={};z&8&&(K.content=j[3].t("This is an experimental feature, it may not function as expected and is subject to change at any time.")),z&4104&&(K.$$scope={dirty:z,ctx:j}),i.$set(K);const te={};!v&&z&4&&(v=!0,te.state=j[2],dt(()=>v=!1)),_.$set(te),(!q||z&8)&&k!==(k=j[3].t("You can personalize your interactions with LLMs by adding memories through the 'Manage' button below, making them more helpful and tailored to you.")+"")&&x(V,k),(!q||z&8)&&D!==(D=j[3].t("Manage")+"")&&x($,D),(!q||z&8)&&S!==(S=j[3].t("Save")+"")&&x(F,S)},i(j){q||(W(e.$$.fragment,j),W(i.$$.fragment,j),W(_.$$.fragment,j),q=!0)},o(j){Z(e.$$.fragment,j),Z(i.$$.fragment,j),Z(_.$$.fragment,j),q=!1},d(j){j&&(f(l),f(s)),ce(e,j),ce(i),ce(_),O=!1,rt(B)}}}function W1(n,e,t){let l,s;Te(n,Ht,y=>t(11,l=y));const r=At(),o=kt("i18n");Te(n,o,y=>t(3,s=y));let{saveSettings:a}=e,i=!1,d=!1;Ct(async()=>{t(2,d=(l==null?void 0:l.memory)??!1)});function h(y){i=y,t(1,i)}function _(y){d=y,t(2,d)}const v=async()=>{a({memory:d})},b=()=>{t(1,i=!0)},w=()=>{r("save")};return n.$$set=y=>{"saveSettings"in y&&t(0,a=y.saveSettings)},[a,i,d,s,r,o,h,_,v,b,w]}class F1 extends ot{constructor(e){super(),it(this,e,W1,z1,at,{saveSettings:0})}}function hi(n,e,t){const l=n.slice();return l[33]=e[t],l}function Y1(n){let e,t=n[4].t("No results found")+"",l;return{c(){e=m("div"),l=U(t),this.h()},l(s){e=p(s,"DIV",{class:!0});var r=g(e);l=H(r,t),r.forEach(f),this.h()},h(){u(e,"class","text-center text-gray-500 mt-4")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&16&&t!==(t=s[4].t("No results found")+"")&&x(l,t)},i:Ce,o:Ce,d(s){s&&f(e)}}}function Z1(n){let e=[],t=new Map,l,s,r=st(n[2]);const o=a=>a[33];for(let a=0;a<r.length;a+=1){let i=hi(n,r,a),d=o(i);t.set(d,e[a]=pi(d,i))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();l=ut()},l(a){for(let i=0;i<e.length;i+=1)e[i].l(a);l=ut()},m(a,i){for(let d=0;d<e.length;d+=1)e[d]&&e[d].m(a,i);M(a,l,i),s=!0},p(a,i){i[0]&61&&(r=st(a[2]),Qe(),e=$n(e,i,o,1,a,r,t,l.parentNode,Nn,pi,l,hi),et())},i(a){if(!s){for(let i=0;i<r.length;i+=1)W(e[i]);s=!0}},o(a){for(let i=0;i<e.length;i+=1)Z(e[i]);s=!1},d(a){a&&f(l);for(let i=0;i<e.length;i+=1)e[i].d(a)}}}function G1(n){let e,t=n[5].role==="admin"&&mi(n);return{c(){t&&t.c(),e=ut()},l(l){t&&t.l(l),e=ut()},m(l,s){t&&t.m(l,s),M(l,e,s)},p(l,s){l[5].role==="admin"?t?t.p(l,s):(t=mi(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Ce,o:Ce,d(l){l&&f(e),t&&t.d(l)}}}function J1(n){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z" clip-rule="evenodd"></path></svg>',s,r,o=n[4].t("About")+"",a,i,d,h,_;return{c(){e=m("button"),t=m("div"),t.innerHTML=l,s=A(),r=m("div"),a=U(o),i=A(),this.h()},l(v){e=p(v,"BUTTON",{class:!0});var b=g(e);t=p(b,"DIV",{class:!0,"data-svelte-h":!0}),Fe(t)!=="svelte-im5r31"&&(t.innerHTML=l),s=C(b),r=p(b,"DIV",{class:!0});var w=g(r);a=H(w,o),w.forEach(f),i=C(b),b.forEach(f),this.h()},h(){u(t,"class","self-center mr-2"),u(r,"class","self-center"),u(e,"class",d="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(n[3]==="about"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"))},m(v,b){M(v,e,b),c(e,t),c(e,s),c(e,r),c(r,a),c(e,i),h||(_=le(e,"click",n[18]),h=!0)},p(v,b){b[0]&16&&o!==(o=v[4].t("About")+"")&&x(a,o),b[0]&8&&d!==(d="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(v[3]==="about"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"))&&u(e,"class",d)},i:Ce,o:Ce,d(v){v&&f(e),h=!1,_()}}}function K1(n){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15 8A7 7 0 1 1 1 8a7 7 0 0 1 14 0Zm-5-2a2 2 0 1 1-4 0 2 2 0 0 1 4 0ZM8 9c-1.825 0-3.422.977-4.295 2.437A5.49 5.49 0 0 0 8 13.5a5.49 5.49 0 0 0 4.294-2.063A4.997 4.997 0 0 0 8 9Z" clip-rule="evenodd"></path></svg>',s,r,o=n[4].t("Account")+"",a,i,d,h,_;return{c(){e=m("button"),t=m("div"),t.innerHTML=l,s=A(),r=m("div"),a=U(o),i=A(),this.h()},l(v){e=p(v,"BUTTON",{class:!0});var b=g(e);t=p(b,"DIV",{class:!0,"data-svelte-h":!0}),Fe(t)!=="svelte-uyxh8m"&&(t.innerHTML=l),s=C(b),r=p(b,"DIV",{class:!0});var w=g(r);a=H(w,o),w.forEach(f),i=C(b),b.forEach(f),this.h()},h(){u(t,"class","self-center mr-2"),u(r,"class","self-center"),u(e,"class",d="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(n[3]==="account"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"))},m(v,b){M(v,e,b),c(e,t),c(e,s),c(e,r),c(r,a),c(e,i),h||(_=le(e,"click",n[17]),h=!0)},p(v,b){b[0]&16&&o!==(o=v[4].t("Account")+"")&&x(a,o),b[0]&8&&d!==(d="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(v[3]==="account"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"))&&u(e,"class",d)},i:Ce,o:Ce,d(v){v&&f(e),h=!1,_()}}}function q1(n){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M8 2C4.262 2 1 4.57 1 8c0 1.86.98 3.486 2.455 4.566a3.472 3.472 0 0 1-.469 1.26.75.75 0 0 0 .713 1.14 6.961 6.961 0 0 0 3.06-1.06c.403.062.818.094 1.241.094 3.738 0 7-2.57 7-6s-3.262-6-7-6ZM5 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm7-1a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM8 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z" clip-rule="evenodd"></path></svg>',s,r,o=n[4].t("Chats")+"",a,i,d,h,_;return{c(){e=m("button"),t=m("div"),t.innerHTML=l,s=A(),r=m("div"),a=U(o),i=A(),this.h()},l(v){e=p(v,"BUTTON",{class:!0});var b=g(e);t=p(b,"DIV",{class:!0,"data-svelte-h":!0}),Fe(t)!=="svelte-hp16vk"&&(t.innerHTML=l),s=C(b),r=p(b,"DIV",{class:!0});var w=g(r);a=H(w,o),w.forEach(f),i=C(b),b.forEach(f),this.h()},h(){u(t,"class","self-center mr-2"),u(r,"class","self-center"),u(e,"class",d="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(n[3]==="chats"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"))},m(v,b){M(v,e,b),c(e,t),c(e,s),c(e,r),c(r,a),c(e,i),h||(_=le(e,"click",n[16]),h=!0)},p(v,b){b[0]&16&&o!==(o=v[4].t("Chats")+"")&&x(a,o),b[0]&8&&d!==(d="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(v[3]==="chats"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"))&&u(e,"class",d)},i:Ce,o:Ce,d(v){v&&f(e),h=!1,_()}}}function X1(n){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M7.557 2.066A.75.75 0 0 1 8 2.75v10.5a.75.75 0 0 1-1.248.56L3.59 11H2a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h1.59l3.162-2.81a.75.75 0 0 1 .805-.124ZM12.95 3.05a.75.75 0 1 0-1.06 1.06 5.5 5.5 0 0 1 0 7.78.75.75 0 1 0 1.06 1.06 7 7 0 0 0 0-9.9Z"></path><path d="M10.828 5.172a.75.75 0 1 0-1.06 1.06 2.5 2.5 0 0 1 0 3.536.75.75 0 1 0 1.06 1.06 4 4 0 0 0 0-5.656Z"></path></svg>',s,r,o=n[4].t("Audio")+"",a,i,d,h,_;return{c(){e=m("button"),t=m("div"),t.innerHTML=l,s=A(),r=m("div"),a=U(o),i=A(),this.h()},l(v){e=p(v,"BUTTON",{class:!0});var b=g(e);t=p(b,"DIV",{class:!0,"data-svelte-h":!0}),Fe(t)!=="svelte-1bad48g"&&(t.innerHTML=l),s=C(b),r=p(b,"DIV",{class:!0});var w=g(r);a=H(w,o),w.forEach(f),i=C(b),b.forEach(f),this.h()},h(){u(t,"class","self-center mr-2"),u(r,"class","self-center"),u(e,"class",d="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(n[3]==="audio"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"))},m(v,b){M(v,e,b),c(e,t),c(e,s),c(e,r),c(r,a),c(e,i),h||(_=le(e,"click",n[15]),h=!0)},p(v,b){b[0]&16&&o!==(o=v[4].t("Audio")+"")&&x(a,o),b[0]&8&&d!==(d="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(v[3]==="audio"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"))&&u(e,"class",d)},i:Ce,o:Ce,d(v){v&&f(e),h=!1,_()}}}function Q1(n){let e,t,l,s,r,o=n[4].t("Personalization")+"",a,i,d,h,_,v;return l=new pf({}),{c(){e=m("button"),t=m("div"),ae(l.$$.fragment),s=A(),r=m("div"),a=U(o),i=A(),this.h()},l(b){e=p(b,"BUTTON",{class:!0});var w=g(e);t=p(w,"DIV",{class:!0});var y=g(t);oe(l.$$.fragment,y),y.forEach(f),s=C(w),r=p(w,"DIV",{class:!0});var k=g(r);a=H(k,o),k.forEach(f),i=C(w),w.forEach(f),this.h()},h(){u(t,"class","self-center mr-2"),u(r,"class","self-center"),u(e,"class",d="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(n[3]==="personalization"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"))},m(b,w){M(b,e,w),c(e,t),ie(l,t,null),c(e,s),c(e,r),c(r,a),c(e,i),h=!0,_||(v=le(e,"click",n[14]),_=!0)},p(b,w){(!h||w[0]&16)&&o!==(o=b[4].t("Personalization")+"")&&x(a,o),(!h||w[0]&8&&d!==(d="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(b[3]==="personalization"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&u(e,"class",d)},i(b){h||(W(l.$$.fragment,b),h=!0)},o(b){Z(l.$$.fragment,b),h=!1},d(b){b&&f(e),ce(l),_=!1,v()}}}function e0(n){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M2 4.25A2.25 2.25 0 0 1 4.25 2h7.5A2.25 2.25 0 0 1 14 4.25v5.5A2.25 2.25 0 0 1 11.75 12h-1.312c.1.128.21.248.328.36a.75.75 0 0 1 .234.545v.345a.75.75 0 0 1-.75.75h-4.5a.75.75 0 0 1-.75-.75v-.345a.75.75 0 0 1 .234-.545c.118-.111.228-.232.328-.36H4.25A2.25 2.25 0 0 1 2 9.75v-5.5Zm2.25-.75a.75.75 0 0 0-.75.75v4.5c0 .414.336.75.75.75h7.5a.75.75 0 0 0 .75-.75v-4.5a.75.75 0 0 0-.75-.75h-7.5Z" clip-rule="evenodd"></path></svg>',s,r,o=n[4].t("Interface")+"",a,i,d,h,_;return{c(){e=m("button"),t=m("div"),t.innerHTML=l,s=A(),r=m("div"),a=U(o),i=A(),this.h()},l(v){e=p(v,"BUTTON",{class:!0});var b=g(e);t=p(b,"DIV",{class:!0,"data-svelte-h":!0}),Fe(t)!=="svelte-183k9gv"&&(t.innerHTML=l),s=C(b),r=p(b,"DIV",{class:!0});var w=g(r);a=H(w,o),w.forEach(f),i=C(b),b.forEach(f),this.h()},h(){u(t,"class","self-center mr-2"),u(r,"class","self-center"),u(e,"class",d="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(n[3]==="interface"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"))},m(v,b){M(v,e,b),c(e,t),c(e,s),c(e,r),c(r,a),c(e,i),h||(_=le(e,"click",n[13]),h=!0)},p(v,b){b[0]&16&&o!==(o=v[4].t("Interface")+"")&&x(a,o),b[0]&8&&d!==(d="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(v[3]==="interface"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"))&&u(e,"class",d)},i:Ce,o:Ce,d(v){v&&f(e),h=!1,_()}}}function t0(n){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M8.34 1.804A1 1 0 019.32 1h1.36a1 1 0 01.98.804l.295 1.473c.497.144.971.342 1.416.587l1.25-.834a1 1 0 011.262.125l.962.962a1 1 0 01.125 1.262l-.834 1.25c.245.445.443.919.587 1.416l1.473.294a1 1 0 01.804.98v1.361a1 1 0 01-.804.98l-1.473.295a6.95 6.95 0 01-.587 1.416l.834 1.25a1 1 0 01-.125 1.262l-.962.962a1 1 0 01-1.262.125l-1.25-.834a6.953 6.953 0 01-1.416.587l-.294 1.473a1 1 0 01-.98.804H9.32a1 1 0 01-.98-.804l-.295-1.473a6.957 6.957 0 01-1.416-.587l-1.25.834a1 1 0 01-1.262-.125l-.962-.962a1 1 0 01-.125-1.262l.834-1.25a6.957 6.957 0 01-.587-1.416l-1.473-.294A1 1 0 011 10.68V9.32a1 1 0 01.804-.98l1.473-.295c.144-.497.342-.971.587-1.416l-.834-1.25a1 1 0 01.125-1.262l.962-.962A1 1 0 015.38 3.03l1.25.834a6.957 6.957 0 011.416-.587l.294-1.473zM13 10a3 3 0 11-6 0 3 3 0 016 0z" clip-rule="evenodd"></path></svg>',s,r,o=n[4].t("General")+"",a,i,d,h,_;return{c(){e=m("button"),t=m("div"),t.innerHTML=l,s=A(),r=m("div"),a=U(o),i=A(),this.h()},l(v){e=p(v,"BUTTON",{class:!0});var b=g(e);t=p(b,"DIV",{class:!0,"data-svelte-h":!0}),Fe(t)!=="svelte-d0uebp"&&(t.innerHTML=l),s=C(b),r=p(b,"DIV",{class:!0});var w=g(r);a=H(w,o),w.forEach(f),i=C(b),b.forEach(f),this.h()},h(){u(t,"class","self-center mr-2"),u(r,"class","self-center"),u(e,"class",d="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(n[3]==="general"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"))},m(v,b){M(v,e,b),c(e,t),c(e,s),c(e,r),c(r,a),c(e,i),h||(_=le(e,"click",n[12]),h=!0)},p(v,b){b[0]&16&&o!==(o=v[4].t("General")+"")&&x(a,o),b[0]&8&&d!==(d="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(v[3]==="general"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"))&&u(e,"class",d)},i:Ce,o:Ce,d(v){v&&f(e),h=!1,_()}}}function mi(n){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-4"><path fill-rule="evenodd" d="M4.5 3.75a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3V6.75a3 3 0 0 0-3-3h-15Zm4.125 3a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Zm-3.873 8.703a4.126 4.126 0 0 1 7.746 0 .75.75 0 0 1-.351.92 7.47 7.47 0 0 1-3.522.877 7.47 7.47 0 0 1-3.522-.877.75.75 0 0 1-.351-.92ZM15 8.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15ZM14.25 12a.75.75 0 0 1 .75-.75h3.75a.75.75 0 0 1 0 1.5H15a.75.75 0 0 1-.75-.75Zm.75 2.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15Z" clip-rule="evenodd"></path></svg>',s,r,o=n[4].t("Admin Settings")+"",a,i,d,h,_;return{c(){e=m("button"),t=m("div"),t.innerHTML=l,s=A(),r=m("div"),a=U(o),i=A(),this.h()},l(v){e=p(v,"BUTTON",{class:!0});var b=g(e);t=p(b,"DIV",{class:!0,"data-svelte-h":!0}),Fe(t)!=="svelte-1rekzwz"&&(t.innerHTML=l),s=C(b),r=p(b,"DIV",{class:!0});var w=g(r);a=H(w,o),w.forEach(f),i=C(b),b.forEach(f),this.h()},h(){u(t,"class","self-center mr-2"),u(r,"class","self-center"),u(e,"class",d="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(n[3]==="admin"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"))},m(v,b){M(v,e,b),c(e,t),c(e,s),c(e,r),c(r,a),c(e,i),h||(_=le(e,"click",n[19]),h=!0)},p(v,b){b[0]&16&&o!==(o=v[4].t("Admin Settings")+"")&&x(a,o),b[0]&8&&d!==(d="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(v[3]==="admin"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"))&&u(e,"class",d)},d(v){v&&f(e),h=!1,_()}}}function pi(n,e){let t,l,s,r,o;const a=[t0,e0,Q1,X1,q1,K1,J1,G1],i=[];function d(h,_){return h[33]==="general"?0:h[33]==="interface"?1:h[33]==="personalization"?2:h[33]==="audio"?3:h[33]==="chats"?4:h[33]==="account"?5:h[33]==="about"?6:h[33]==="admin"?7:-1}return~(l=d(e))&&(s=i[l]=a[l](e)),{key:n,first:null,c(){t=ut(),s&&s.c(),r=ut(),this.h()},l(h){t=ut(),s&&s.l(h),r=ut(),this.h()},h(){this.first=t},m(h,_){M(h,t,_),~l&&i[l].m(h,_),M(h,r,_),o=!0},p(h,_){e=h;let v=l;l=d(e),l===v?~l&&i[l].p(e,_):(s&&(Qe(),Z(i[v],1,1,()=>{i[v]=null}),et()),~l?(s=i[l],s?s.p(e,_):(s=i[l]=a[l](e),s.c()),W(s,1),s.m(r.parentNode,r)):s=null)},i(h){o||(W(s),o=!0)},o(h){Z(s),o=!1},d(h){h&&(f(t),f(r)),~l&&i[l].d(h)}}}function l0(n){let e,t;return e=new ch({}),{c(){ae(e.$$.fragment)},l(l){oe(e.$$.fragment,l)},m(l,s){ie(e,l,s),t=!0},p:Ce,i(l){t||(W(e.$$.fragment,l),t=!0)},o(l){Z(e.$$.fragment,l),t=!1},d(l){ce(e,l)}}}function s0(n){let e,t;return e=new rh({props:{saveSettings:n[8],saveHandler:n[24]}}),{c(){ae(e.$$.fragment)},l(l){oe(e.$$.fragment,l)},m(l,s){ie(e,l,s),t=!0},p(l,s){const r={};s[0]&16&&(r.saveHandler=l[24]),e.$set(r)},i(l){t||(W(e.$$.fragment,l),t=!0)},o(l){Z(e.$$.fragment,l),t=!1},d(l){ce(e,l)}}}function n0(n){let e,t;return e=new D1({props:{saveSettings:n[8]}}),{c(){ae(e.$$.fragment)},l(l){oe(e.$$.fragment,l)},m(l,s){ie(e,l,s),t=!0},p:Ce,i(l){t||(W(e.$$.fragment,l),t=!0)},o(l){Z(e.$$.fragment,l),t=!1},d(l){ce(e,l)}}}function r0(n){let e,t;return e=new g1({props:{saveSettings:n[8]}}),e.$on("save",n[23]),{c(){ae(e.$$.fragment)},l(l){oe(e.$$.fragment,l)},m(l,s){ie(e,l,s),t=!0},p:Ce,i(l){t||(W(e.$$.fragment,l),t=!0)},o(l){Z(e.$$.fragment,l),t=!1},d(l){ce(e,l)}}}function a0(n){let e,t;return e=new F1({props:{saveSettings:n[8]}}),e.$on("save",n[22]),{c(){ae(e.$$.fragment)},l(l){oe(e.$$.fragment,l)},m(l,s){ie(e,l,s),t=!0},p:Ce,i(l){t||(W(e.$$.fragment,l),t=!0)},o(l){Z(e.$$.fragment,l),t=!1},d(l){ce(e,l)}}}function o0(n){let e,t;return e=new c1({props:{saveSettings:n[8]}}),e.$on("save",n[21]),{c(){ae(e.$$.fragment)},l(l){oe(e.$$.fragment,l)},m(l,s){ie(e,l,s),t=!0},p:Ce,i(l){t||(W(e.$$.fragment,l),t=!0)},o(l){Z(e.$$.fragment,l),t=!1},d(l){ce(e,l)}}}function i0(n){let e,t;return e=new gh({props:{getModels:n[9],saveSettings:n[8]}}),e.$on("save",n[20]),{c(){ae(e.$$.fragment)},l(l){oe(e.$$.fragment,l)},m(l,s){ie(e,l,s),t=!0},p:Ce,i(l){t||(W(e.$$.fragment,l),t=!0)},o(l){Z(e.$$.fragment,l),t=!1},d(l){ce(e,l)}}}function c0(n){let e,t,l,s=n[4].t("Settings")+"",r,o,a,i='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',d,h,_,v,b,w,y,k,V,P,I,E,D,$,T,L,N,S,F;w=new _f({props:{className:"size-3.5"}});const q=[Z1,Y1],O=[];function B(R,j){return R[2].length>0?0:1}I=B(n),E=O[I]=q[I](n);const Y=[i0,o0,a0,r0,n0,s0,l0],J=[];function G(R,j){return R[3]==="general"?0:R[3]==="interface"?1:R[3]==="personalization"?2:R[3]==="audio"?3:R[3]==="chats"?4:R[3]==="account"?5:R[3]==="about"?6:-1}return~(T=G(n))&&(L=J[T]=Y[T](n)),{c(){e=m("div"),t=m("div"),l=m("div"),r=U(s),o=A(),a=m("button"),a.innerHTML=i,d=A(),h=m("div"),_=m("div"),v=m("div"),b=m("div"),ae(w.$$.fragment),y=A(),k=m("input"),P=A(),E.c(),D=A(),$=m("div"),L&&L.c(),this.h()},l(R){e=p(R,"DIV",{class:!0});var j=g(e);t=p(j,"DIV",{class:!0});var z=g(t);l=p(z,"DIV",{class:!0});var X=g(l);r=H(X,s),X.forEach(f),o=C(z),a=p(z,"BUTTON",{class:!0,"data-svelte-h":!0}),Fe(a)!=="svelte-745w2y"&&(a.innerHTML=i),z.forEach(f),d=C(j),h=p(j,"DIV",{class:!0});var K=g(h);_=p(K,"DIV",{id:!0,class:!0});var te=g(_);v=p(te,"DIV",{class:!0,id:!0});var se=g(v);b=p(se,"DIV",{class:!0});var ue=g(b);oe(w.$$.fragment,ue),ue.forEach(f),y=C(se),k=p(se,"INPUT",{class:!0,placeholder:!0}),se.forEach(f),P=C(te),E.l(te),te.forEach(f),D=C(K),$=p(K,"DIV",{class:!0});var he=g($);L&&L.l(he),he.forEach(f),K.forEach(f),j.forEach(f),this.h()},h(){u(l,"class","text-lg font-medium self-center"),u(a,"class","self-center"),u(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4 pb-1"),u(b,"class","self-center rounded-l-xl bg-transparent"),u(k,"class","w-full py-1.5 text-sm bg-transparent dark:text-gray-300 outline-none svelte-1vx7r9s"),u(k,"placeholder",V=n[4].t("Search")),u(v,"class","hidden md:flex w-full rounded-xl -mb-1 px-0.5 gap-2"),u(v,"id","settings-search"),u(_,"id","settings-tabs-container"),u(_,"class","tabs flex flex-row overflow-x-auto gap-2.5 md:gap-1 md:flex-col flex-1 md:flex-none md:w-40 dark:text-gray-200 text-sm font-medium text-left mb-1 md:mb-0 -translate-y-1 svelte-1vx7r9s"),u($,"class","flex-1 md:min-h-[32rem] max-h-[32rem]"),u(h,"class","flex flex-col md:flex-row w-full px-4 pt-1 pb-4 md:space-x-4"),u(e,"class","text-gray-700 dark:text-gray-100")},m(R,j){M(R,e,j),c(e,t),c(t,l),c(l,r),c(t,o),c(t,a),c(e,d),c(e,h),c(h,_),c(_,v),c(v,b),ie(w,b,null),c(v,y),c(v,k),je(k,n[1]),c(_,P),O[I].m(_,null),c(h,D),c(h,$),~T&&J[T].m($,null),N=!0,S||(F=[le(a,"click",n[10]),le(k,"input",n[11]),le(k,"input",n[7])],S=!0)},p(R,j){(!N||j[0]&16)&&s!==(s=R[4].t("Settings")+"")&&x(r,s),(!N||j[0]&16&&V!==(V=R[4].t("Search")))&&u(k,"placeholder",V),j[0]&2&&k.value!==R[1]&&je(k,R[1]);let z=I;I=B(R),I===z?O[I].p(R,j):(Qe(),Z(O[z],1,1,()=>{O[z]=null}),et(),E=O[I],E?E.p(R,j):(E=O[I]=q[I](R),E.c()),W(E,1),E.m(_,null));let X=T;T=G(R),T===X?~T&&J[T].p(R,j):(L&&(Qe(),Z(J[X],1,1,()=>{J[X]=null}),et()),~T?(L=J[T],L?L.p(R,j):(L=J[T]=Y[T](R),L.c()),W(L,1),L.m($,null)):L=null)},i(R){N||(W(w.$$.fragment,R),W(E),W(L),N=!0)},o(R){Z(w.$$.fragment,R),Z(E),Z(L),N=!1},d(R){R&&f(e),ce(w),O[I].d(),~T&&J[T].d(),S=!1,rt(F)}}}function f0(n){let e,t,l;function s(o){n[25](o)}let r={size:"xl",$$slots:{default:[c0]},$$scope:{ctx:n}};return n[0]!==void 0&&(r.show=n[0]),e=new Ul({props:r}),lt.push(()=>ht(e,"show",s)),{c(){ae(e.$$.fragment)},l(o){oe(e.$$.fragment,o)},m(o,a){ie(e,o,a),l=!0},p(o,a){const i={};a[0]&63|a[1]&32&&(i.$$scope={dirty:a,ctx:o}),!t&&a[0]&1&&(t=!0,i.show=o[0],dt(()=>t=!1)),e.$set(i)},i(o){l||(W(e.$$.fragment,o),l=!0)},o(o){Z(e.$$.fragment,o),l=!1},d(o){ce(e,o)}}}function u0(n,e,t){let l,s,r;Te(n,Ht,z=>t(27,l=z)),Te(n,Cl,z=>t(5,r=z));const o=kt("i18n");Te(n,o,z=>t(4,s=z));let{show:a=!1}=e;const i=[{id:"general",title:"General",keywords:["general","theme","language","notifications","system","systemprompt","prompt","advanced","settings","defaultsettings","configuration","systemsettings","notificationsettings","systempromptconfig","languageoptions","defaultparameters","systemparameters"]},{id:"interface",title:"Interface",keywords:["defaultmodel","selectmodel","ui","userinterface","display","layout","design","landingpage","landingpagemode","default","chat","chatbubble","chatui","username","showusername","displayusername","widescreen","widescreenmode","fullscreen","expandmode","chatdirection","lefttoright","ltr","righttoleft","rtl","notifications","toast","toastnotifications","largechunks","streamlargechunks","scroll","scrollonbranchchange","scrollbehavior","richtext","richtextinput","background","chatbackground","chatbackgroundimage","backgroundimage","uploadbackground","resetbackground","titleautogen","titleautogeneration","autotitle","chattags","autochattags","responseautocopy","clipboard","location","userlocation","userlocationaccess","haptic","hapticfeedback","vibration","voice","voicecontrol","voiceinterruption","call","emojis","displayemoji","save","interfaceoptions","interfacecustomization","alwaysonwebsearch"]},{id:"personalization",title:"Personalization",keywords:["personalization","memory","personalize","preferences","profile","personalsettings","customsettings","userpreferences","accountpreferences"]},{id:"audio",title:"Audio",keywords:["audio","sound","soundsettings","audiocontrol","volume","speech","speechrecognition","stt","speechtotext","tts","texttospeech","playback","playbackspeed","voiceplayback","speechplayback","audiooutput","speechengine","voicecontrol","audioplayback","transcription","autotranscribe","autosend","speechsettings","audiovoice","voiceoptions","setvoice","nonlocalvoices","savesettings","audioconfig","speechconfig","voicerecognition","speechsynthesis","speechmode","voicespeed","speechrate","speechspeed","audioinput","audiofeatures","voicemodes"]},{id:"chats",title:"Chats",keywords:["chat","messages","conversations","chatsettings","history","chathistory","messagehistory","messagearchive","convo","chats","conversationhistory","exportmessages","chatactivity"]},{id:"account",title:"Account",keywords:["account","profile","security","privacy","settings","login","useraccount","userdata","api","apikey","userprofile","profiledetails","accountsettings","accountpreferences","securitysettings","privacysettings"]},{id:"admin",title:"Admin",keywords:["admin","administrator","adminsettings","adminpanel","systemadmin","administratoraccess","systemcontrol","manage","management","admincontrols","adminfeatures","usercontrol","arenamodel","evaluations","websearch","database","pipelines","images","audio","documents","rag","models","ollama","openai","users"]},{id:"about",title:"About",keywords:["about","info","information","version","documentation","help","support","details","aboutus","softwareinfo","timothyjaeryangbaek","openwebui","release","updates","updateinfo","versioninfo","aboutapp","terms","termsandconditions","contact","aboutpage"]}];let d="",h=i.map(z=>z.id),_;const v=z=>{const X=z.toLowerCase().trim();return i.filter(K=>K.title.toLowerCase().includes(X)||K.keywords.some(te=>te.includes(X))).map(K=>K.id)},b=()=>{clearTimeout(_),_=setTimeout(()=>{t(2,h=v(d)),h.length>0&&!h.includes(k)&&t(3,k=h[0])},100)},w=async z=>{console.log(z),await Ht.set({...l,...z}),await Li.set(await y()),await Pi(localStorage.token,{ui:l})},y=async()=>await Bi(localStorage.token);let k="general";const V=z=>{const X=document.getElementById("settings-tabs-container");X&&(z.preventDefault(),X.scrollLeft+=z.deltaY)},P=async()=>{await Al();const z=document.getElementById("settings-tabs-container");z&&z.addEventListener("wheel",V)},I=async()=>{await Al();const z=document.getElementById("settings-tabs-container");z&&z.removeEventListener("wheel",V)},E=()=>{t(0,a=!1)};function D(){d=this.value,t(1,d)}const $=()=>{t(3,k="general")},T=()=>{t(3,k="interface")},L=()=>{t(3,k="personalization")},N=()=>{t(3,k="audio")},S=()=>{t(3,k="chats")},F=()=>{t(3,k="account")},q=()=>{t(3,k="about")},O=async()=>{await gl("/admin/settings"),t(0,a=!1)},B=()=>{Le.success(s.t("Settings saved successfully!"))},Y=()=>{Le.success(s.t("Settings saved successfully!"))},J=()=>{Le.success(s.t("Settings saved successfully!"))},G=()=>{Le.success(s.t("Settings saved successfully!"))},R=()=>{Le.success(s.t("Settings saved successfully!"))};function j(z){a=z,t(0,a)}return n.$$set=z=>{"show"in z&&t(0,a=z.show)},n.$$.update=()=>{n.$$.dirty[0]&1&&(a?P():I())},[a,d,h,k,s,r,o,b,w,y,E,D,$,T,L,N,S,F,q,O,B,Y,J,G,R,j]}class d0 extends ot{constructor(e){super(),it(this,e,u0,f0,at,{show:0},null,[-1,-1])}}function _i(n,e,t){const l=n.slice();return l[18]=e[t],l}function vi(n){let e,t=st({length:n[6]}),l=[];for(let s=0;s<t.length;s+=1)l[s]=gi(_i(n,t,s));return{c(){e=m("div");for(let s=0;s<l.length;s+=1)l[s].c();this.h()},l(s){e=p(s,"DIV",{class:!0});var r=g(e);for(let o=0;o<l.length;o+=1)l[o].l(r);r.forEach(f),this.h()},h(){u(e,"class","confetti-holder svelte-io58ff"),ql(e,"rounded",n[9]),ql(e,"cone",n[10]),ql(e,"no-gravity",n[11])},m(s,r){M(s,e,r);for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(e,null)},p(s,r){if(r&20991){t=st({length:s[6]});let o;for(o=0;o<t.length;o+=1){const a=_i(s,t,o);l[o]?l[o].p(a,r):(l[o]=gi(a),l[o].c(),l[o].m(e,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}r&512&&ql(e,"rounded",s[9]),r&1024&&ql(e,"cone",s[10]),r&2048&&ql(e,"no-gravity",s[11])},d(s){s&&f(e),$t(l,s)}}}function gi(n){let e;return{c(){e=m("div"),this.h()},l(t){e=p(t,"DIV",{class:!0,style:!0}),g(e).forEach(f),this.h()},h(){u(e,"class","confetti svelte-io58ff"),yt(e,"--fall-distance",n[8]),yt(e,"--size",n[0]+"px"),yt(e,"--color",n[14]()),yt(e,"--skew",Nt(-45,45)+"deg,"+Nt(-45,45)+"deg"),yt(e,"--rotation-xyz",Nt(-10,10)+", "+Nt(-10,10)+", "+Nt(-10,10)),yt(e,"--rotation-deg",Nt(0,360)+"deg"),yt(e,"--translate-y-multiplier",Nt(n[2][0],n[2][1])),yt(e,"--translate-x-multiplier",Nt(n[1][0],n[1][1])),yt(e,"--scale",.1*Nt(2,10)),yt(e,"--transition-duration",n[4]?`calc(${n[3]}ms * var(--scale))`:`${n[3]}ms`),yt(e,"--transition-delay",Nt(n[5][0],n[5][1])+"ms"),yt(e,"--transition-iteration-count",n[4]?"infinite":n[7]),yt(e,"--x-spread",1-n[12])},m(t,l){M(t,e,l)},p(t,l){l&256&&yt(e,"--fall-distance",t[8]),l&1&&yt(e,"--size",t[0]+"px"),l&4&&yt(e,"--translate-y-multiplier",Nt(t[2][0],t[2][1])),l&2&&yt(e,"--translate-x-multiplier",Nt(t[1][0],t[1][1])),l&24&&yt(e,"--transition-duration",t[4]?`calc(${t[3]}ms * var(--scale))`:`${t[3]}ms`),l&32&&yt(e,"--transition-delay",Nt(t[5][0],t[5][1])+"ms"),l&144&&yt(e,"--transition-iteration-count",t[4]?"infinite":t[7]),l&4096&&yt(e,"--x-spread",1-t[12])},d(t){t&&f(e)}}}function h0(n){let e,t=!n[13]&&vi(n);return{c(){t&&t.c(),e=ut()},l(l){t&&t.l(l),e=ut()},m(l,s){t&&t.m(l,s),M(l,e,s)},p(l,[s]){l[13]?t&&(t.d(1),t=null):t?t.p(l,s):(t=vi(l),t.c(),t.m(e.parentNode,e))},i:Ce,o:Ce,d(l){l&&f(e),t&&t.d(l)}}}function Nt(n,e){return Math.random()*(e-n)+n}function m0(n,e,t){let{size:l=10}=e,{x:s=[-.5,.5]}=e,{y:r=[.25,1]}=e,{duration:o=2e3}=e,{infinite:a=!1}=e,{delay:i=[0,50]}=e,{colorRange:d=[0,360]}=e,{colorArray:h=[]}=e,{amount:_=50}=e,{iterationCount:v=1}=e,{fallDistance:b="100px"}=e,{rounded:w=!1}=e,{cone:y=!1}=e,{noGravity:k=!1}=e,{xSpread:V=.15}=e,{destroyOnComplete:P=!0}=e,I=!1;Ct(()=>{!P||a||v=="infinite"||setTimeout(()=>t(13,I=!0),(o+i[1])*v)});function E(){return h.length?h[Math.round(Math.random()*(h.length-1))]:`hsl(${Math.round(Nt(d[0],d[1]))}, 75%, 50%)`}return n.$$set=D=>{"size"in D&&t(0,l=D.size),"x"in D&&t(1,s=D.x),"y"in D&&t(2,r=D.y),"duration"in D&&t(3,o=D.duration),"infinite"in D&&t(4,a=D.infinite),"delay"in D&&t(5,i=D.delay),"colorRange"in D&&t(15,d=D.colorRange),"colorArray"in D&&t(16,h=D.colorArray),"amount"in D&&t(6,_=D.amount),"iterationCount"in D&&t(7,v=D.iterationCount),"fallDistance"in D&&t(8,b=D.fallDistance),"rounded"in D&&t(9,w=D.rounded),"cone"in D&&t(10,y=D.cone),"noGravity"in D&&t(11,k=D.noGravity),"xSpread"in D&&t(12,V=D.xSpread),"destroyOnComplete"in D&&t(17,P=D.destroyOnComplete)},[l,s,r,o,a,i,_,v,b,w,y,k,V,I,E,d,h,P]}class p0 extends ot{constructor(e){super(),it(this,e,m0,h0,at,{size:0,x:1,y:2,duration:3,infinite:4,delay:5,colorRange:15,colorArray:16,amount:6,iterationCount:7,fallDistance:8,rounded:9,cone:10,noGravity:11,xSpread:12,destroyOnComplete:17})}}function bi(n,e,t){const l=n.slice();return l[10]=e[t],l}function wi(n,e,t){const l=n.slice();return l[13]=e[t],l}function ki(n,e,t){const l=n.slice();return l[16]=e[t],l}function yi(n){let e,t=st(Object.keys(n[1])),l=[];for(let s=0;s<t.length;s+=1)l[s]=Di(bi(n,t,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=ut()},l(s){for(let r=0;r<l.length;r+=1)l[r].l(s);e=ut()},m(s,r){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(s,r);M(s,e,r)},p(s,r){if(r&2){t=st(Object.keys(s[1]));let o;for(o=0;o<t.length;o+=1){const a=bi(s,t,o);l[o]?l[o].p(a,r):(l[o]=Di(a),l[o].c(),l[o].m(e.parentNode,e))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},d(s){s&&f(e),$t(l,s)}}}function Ei(n){let e,t,l=n[1][n[10]][n[13]][n[16]].title+"",s,r,o,a=n[1][n[10]][n[13]][n[16]].content+"",i;return{c(){e=m("div"),t=m("div"),s=U(l),r=A(),o=m("div"),i=U(a),this.h()},l(d){e=p(d,"DIV",{class:!0});var h=g(e);t=p(h,"DIV",{class:!0});var _=g(t);s=H(_,l),_.forEach(f),r=C(h),o=p(h,"DIV",{class:!0});var v=g(o);i=H(v,a),v.forEach(f),h.forEach(f),this.h()},h(){u(t,"class","font-semibold uppercase"),u(o,"class","mb-2 mt-1"),u(e,"class","text-sm mb-2")},m(d,h){M(d,e,h),c(e,t),c(t,s),c(e,r),c(e,o),c(o,i)},p(d,h){h&2&&l!==(l=d[1][d[10]][d[13]][d[16]].title+"")&&x(s,l),h&2&&a!==(a=d[1][d[10]][d[13]][d[16]].content+"")&&x(i,a)},d(d){d&&f(e)}}}function Ii(n){let e,t,l=n[13]+"",s,r,o,a,i=st(Object.keys(n[1][n[10]][n[13]])),d=[];for(let h=0;h<i.length;h+=1)d[h]=Ei(ki(n,i,h));return{c(){e=m("div"),t=m("div"),s=U(l),o=A(),a=m("div");for(let h=0;h<d.length;h+=1)d[h].c();this.h()},l(h){e=p(h,"DIV",{class:!0});var _=g(e);t=p(_,"DIV",{class:!0});var v=g(t);s=H(v,l),v.forEach(f),o=C(_),a=p(_,"DIV",{class:!0});var b=g(a);for(let w=0;w<d.length;w+=1)d[w].l(b);b.forEach(f),_.forEach(f),this.h()},h(){u(t,"class",r="font-semibold uppercase text-xs "+(n[13]==="added"?"text-white bg-blue-600":n[13]==="fixed"?"text-white bg-green-600":n[13]==="changed"?"text-white bg-yellow-600":n[13]==="removed"?"text-white bg-red-600":"")+" w-fit px-3 rounded-full my-2.5"),u(a,"class","my-2.5 px-1.5"),u(e,"class","")},m(h,_){M(h,e,_),c(e,t),c(t,s),c(e,o),c(e,a);for(let v=0;v<d.length;v+=1)d[v]&&d[v].m(a,null)},p(h,_){if(_&2&&l!==(l=h[13]+"")&&x(s,l),_&2&&r!==(r="font-semibold uppercase text-xs "+(h[13]==="added"?"text-white bg-blue-600":h[13]==="fixed"?"text-white bg-green-600":h[13]==="changed"?"text-white bg-yellow-600":h[13]==="removed"?"text-white bg-red-600":"")+" w-fit px-3 rounded-full my-2.5")&&u(t,"class",r),_&2){i=st(Object.keys(h[1][h[10]][h[13]]));let v;for(v=0;v<i.length;v+=1){const b=ki(h,i,v);d[v]?d[v].p(b,_):(d[v]=Ei(b),d[v].c(),d[v].m(a,null))}for(;v<d.length;v+=1)d[v].d(1);d.length=i.length}},d(h){h&&f(e),$t(d,h)}}}function Di(n){let e,t,l,s=n[10]+"",r,o,a=n[1][n[10]].date+"",i,d,h,_,v,b=st(Object.keys(n[1][n[10]]).filter(Ti)),w=[];for(let y=0;y<b.length;y+=1)w[y]=Ii(wi(n,b,y));return{c(){e=m("div"),t=m("div"),l=U("v"),r=U(s),o=U(" - "),i=U(a),d=A(),h=m("hr"),_=A();for(let y=0;y<w.length;y+=1)w[y].c();v=A(),this.h()},l(y){e=p(y,"DIV",{class:!0});var k=g(e);t=p(k,"DIV",{class:!0});var V=g(t);l=H(V,"v"),r=H(V,s),o=H(V," - "),i=H(V,a),V.forEach(f),d=C(k),h=p(k,"HR",{class:!0}),_=C(k);for(let P=0;P<w.length;P+=1)w[P].l(k);v=C(k),k.forEach(f),this.h()},h(){u(t,"class","font-semibold text-xl mb-1 dark:text-white"),u(h,"class","dark:border-gray-800 my-2"),u(e,"class","mb-3 pr-2")},m(y,k){M(y,e,k),c(e,t),c(t,l),c(t,r),c(t,o),c(t,i),c(e,d),c(e,h),c(e,_);for(let V=0;V<w.length;V+=1)w[V]&&w[V].m(e,null);c(e,v)},p(y,k){if(k&2&&s!==(s=y[10]+"")&&x(r,s),k&2&&a!==(a=y[1][y[10]].date+"")&&x(i,a),k&2){b=st(Object.keys(y[1][y[10]]).filter(Ti));let V;for(V=0;V<b.length;V+=1){const P=wi(y,b,V);w[V]?w[V].p(P,k):(w[V]=Ii(P),w[V].c(),w[V].m(e,v))}for(;V<w.length;V+=1)w[V].d(1);w.length=b.length}},d(y){y&&f(e),$t(w,y)}}}function _0(n){let e,t,l,s=n[2].t("Whats New in")+"",r,o,a,i,d,h,_,v='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',b,w,y,k=n[2].t("Release Notes")+"",V,P,I,E,D,$,T,L,N,S,F,q,O,B,Y,J=n[2].t("Okay, Let's Go!")+"",G,R,j,z;d=new p0({props:{x:[-1,-.25],y:[0,.5]}});let X=n[1]&&yi(n);return{c(){e=m("div"),t=m("div"),l=m("div"),r=U(s),o=A(),a=U(n[3]),i=A(),ae(d.$$.fragment),h=A(),_=m("button"),_.innerHTML=v,b=A(),w=m("div"),y=m("div"),V=U(k),P=A(),I=m("div"),E=A(),D=m("div"),$=U("v"),T=U(il),L=A(),N=m("div"),S=m("div"),F=m("div"),X&&X.c(),q=A(),O=m("div"),B=m("button"),Y=m("span"),G=U(J),this.h()},l(K){e=p(K,"DIV",{class:!0});var te=g(e);t=p(te,"DIV",{class:!0});var se=g(t);l=p(se,"DIV",{class:!0});var ue=g(l);r=H(ue,s),o=C(ue),a=H(ue,n[3]),i=C(ue),oe(d.$$.fragment,ue),ue.forEach(f),h=C(se),_=p(se,"BUTTON",{class:!0,"data-svelte-h":!0}),Fe(_)!=="svelte-14wj4tl"&&(_.innerHTML=v),se.forEach(f),b=C(te),w=p(te,"DIV",{class:!0});var he=g(w);y=p(he,"DIV",{class:!0});var me=g(y);V=H(me,k),me.forEach(f),P=C(he),I=p(he,"DIV",{class:!0}),g(I).forEach(f),E=C(he),D=p(he,"DIV",{class:!0});var pe=g(D);$=H(pe,"v"),T=H(pe,il),pe.forEach(f),he.forEach(f),te.forEach(f),L=C(K),N=p(K,"DIV",{class:!0});var de=g(N);S=p(de,"DIV",{class:!0});var ke=g(S);F=p(ke,"DIV",{class:!0});var We=g(F);X&&X.l(We),We.forEach(f),ke.forEach(f),q=C(de),O=p(de,"DIV",{class:!0});var Me=g(O);B=p(Me,"BUTTON",{class:!0});var be=g(B);Y=p(be,"SPAN",{class:!0});var re=g(Y);G=H(re,J),re.forEach(f),be.forEach(f),Me.forEach(f),de.forEach(f),this.h()},h(){u(l,"class","text-xl font-semibold"),u(_,"class","self-center"),u(t,"class","flex justify-between items-start"),u(y,"class","text-sm dark:text-gray-200"),u(I,"class","flex self-center w-[1px] h-6 mx-2.5 bg-gray-200 dark:bg-gray-700"),u(D,"class","text-sm dark:text-gray-200"),u(w,"class","flex items-center mt-1"),u(e,"class","px-5 pt-4 dark:text-gray-300 text-gray-700"),u(F,"class","mb-3"),u(S,"class","overflow-y-scroll max-h-96 scrollbar-hidden"),u(Y,"class","relative"),u(B,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),u(O,"class","flex justify-end pt-3 text-sm font-medium"),u(N,"class","w-full p-4 px-5 text-gray-700 dark:text-gray-100")},m(K,te){M(K,e,te),c(e,t),c(t,l),c(l,r),c(l,o),c(l,a),c(l,i),ie(d,l,null),c(t,h),c(t,_),c(e,b),c(e,w),c(w,y),c(y,V),c(w,P),c(w,I),c(w,E),c(w,D),c(D,$),c(D,T),M(K,L,te),M(K,N,te),c(N,S),c(S,F),X&&X.m(F,null),c(N,q),c(N,O),c(O,B),c(B,Y),c(Y,G),R=!0,j||(z=[le(_,"click",n[7]),le(B,"click",n[8])],j=!0)},p(K,te){(!R||te&4)&&s!==(s=K[2].t("Whats New in")+"")&&x(r,s),(!R||te&8)&&x(a,K[3]),(!R||te&4)&&k!==(k=K[2].t("Release Notes")+"")&&x(V,k),K[1]?X?X.p(K,te):(X=yi(K),X.c(),X.m(F,null)):X&&(X.d(1),X=null),(!R||te&4)&&J!==(J=K[2].t("Okay, Let's Go!")+"")&&x(G,J)},i(K){R||(W(d.$$.fragment,K),R=!0)},o(K){Z(d.$$.fragment,K),R=!1},d(K){K&&(f(e),f(L),f(N)),ce(d),X&&X.d(),j=!1,rt(z)}}}function v0(n){let e,t,l;function s(o){n[9](o)}let r={size:"lg",$$slots:{default:[_0]},$$scope:{ctx:n}};return n[0]!==void 0&&(r.show=n[0]),e=new Ul({props:r}),lt.push(()=>ht(e,"show",s)),{c(){ae(e.$$.fragment)},l(o){oe(e.$$.fragment,o)},m(o,a){ie(e,o,a),l=!0},p(o,[a]){const i={};a&524351&&(i.$$scope={dirty:a,ctx:o}),!t&&a&1&&(t=!0,i.show=o[0],dt(()=>t=!1)),e.$set(i)},i(o){l||(W(e.$$.fragment,o),l=!0)},o(o){Z(e.$$.fragment,o),l=!1},d(o){ce(e,o)}}}const Ti=n=>n!=="date";function g0(n,e,t){let l,s,r,o;Te(n,Oi,b=>t(3,s=b)),Te(n,rs,b=>t(4,r=b)),Te(n,Ht,b=>t(5,o=b));const a=kt("i18n");Te(n,a,b=>t(2,l=b));let{show:i=!1}=e,d=null;Ct(async()=>{const b=await _c();t(1,d=b)});const h=()=>{localStorage.version=r.version,t(0,i=!1)},_=async()=>{localStorage.version=r.version,await Ht.set({...o,version:r.version}),await Pi(localStorage.token,{ui:o}),t(0,i=!1)};function v(b){i=b,t(0,i)}return n.$$set=b=>{"show"in b&&t(0,i=b.show)},[i,d,l,s,r,o,a,h,_,v]}class b0 extends ot{constructor(e){super(),it(this,e,g0,v0,at,{show:0})}}function Vi(n){let e,t,l=n[1].t("Admin")+"",s,r,o=n[0].name+"",a,i,d=n[0].email+"",h,_;return{c(){e=m("div"),t=m("div"),s=U(l),r=U(": "),a=U(o),i=U(" ("),h=U(d),_=U(")"),this.h()},l(v){e=p(v,"DIV",{class:!0});var b=g(e);t=p(b,"DIV",{});var w=g(t);s=H(w,l),r=H(w,": "),a=H(w,o),i=H(w," ("),h=H(w,d),_=H(w,")"),w.forEach(f),b.forEach(f),this.h()},h(){u(e,"class","mt-4 text-sm font-medium text-center")},m(v,b){M(v,e,b),c(e,t),c(t,s),c(t,r),c(t,a),c(t,i),c(t,h),c(t,_)},p(v,b){b&2&&l!==(l=v[1].t("Admin")+"")&&x(s,l),b&1&&o!==(o=v[0].name+"")&&x(a,o),b&1&&d!==(d=v[0].email+"")&&x(h,d)},d(v){v&&f(e)}}}function w0(n){let e,t,l,s,r,o=n[1].t("Account Activation Pending")+"",a,i,d,h=n[1].t("Contact Admin for WebUI Access")+"",_,v,b,w=n[1].t("Your account status is currently pending activation.")+"",y,k,V,P=n[1].t("To access the WebUI, please reach out to the administrator. Admins can manage user statuses from the Admin Panel.")+"",I,E,D,$,T,L=n[1].t("Check Again")+"",N,S,F,q=n[1].t("Sign Out")+"",O,B,Y,J=n[0]&&Vi(n);return{c(){e=m("div"),t=m("div"),l=m("div"),s=m("div"),r=m("div"),a=U(o),i=m("br"),d=A(),_=U(h),v=A(),b=m("div"),y=U(w),k=m("br"),V=A(),I=U(P),E=A(),J&&J.c(),D=A(),$=m("div"),T=m("button"),N=U(L),S=A(),F=m("button"),O=U(q),this.h()},l(G){e=p(G,"DIV",{class:!0});var R=g(e);t=p(R,"DIV",{class:!0});var j=g(t);l=p(j,"DIV",{class:!0});var z=g(l);s=p(z,"DIV",{class:!0});var X=g(s);r=p(X,"DIV",{class:!0});var K=g(r);a=H(K,o),i=p(K,"BR",{}),d=C(K),_=H(K,h),K.forEach(f),v=C(X),b=p(X,"DIV",{class:!0});var te=g(b);y=H(te,w),k=p(te,"BR",{}),V=C(te),I=H(te,P),te.forEach(f),E=C(X),J&&J.l(X),D=C(X),$=p(X,"DIV",{class:!0});var se=g($);T=p(se,"BUTTON",{class:!0});var ue=g(T);N=H(ue,L),ue.forEach(f),S=C(se),F=p(se,"BUTTON",{class:!0});var he=g(F);O=H(he,q),he.forEach(f),se.forEach(f),X.forEach(f),z.forEach(f),j.forEach(f),R.forEach(f),this.h()},h(){u(r,"class","text-center dark:text-white text-2xl font-medium z-50"),u(b,"class","mt-4 text-center text-sm dark:text-gray-200 w-full"),u(T,"class","relative z-20 flex px-5 py-2 rounded-full bg-white border border-gray-100 dark:border-none hover:bg-gray-100 text-gray-700 transition font-medium text-sm"),u(F,"class","text-xs text-center w-full mt-2 text-gray-400 underline"),u($,"class","mt-6 mx-auto relative group w-fit"),u(s,"class","max-w-md"),u(l,"class","m-auto pb-10 flex flex-col justify-center"),u(t,"class","absolute w-full h-full backdrop-blur-lg bg-white/10 dark:bg-gray-900/50 flex justify-center"),u(e,"class","fixed w-full h-full flex z-[999]")},m(G,R){M(G,e,R),c(e,t),c(t,l),c(l,s),c(s,r),c(r,a),c(r,i),c(r,d),c(r,_),c(s,v),c(s,b),c(b,y),c(b,k),c(b,V),c(b,I),c(s,E),J&&J.m(s,null),c(s,D),c(s,$),c($,T),c(T,N),c($,S),c($,F),c(F,O),B||(Y=[le(T,"click",n[3]),le(F,"click",n[4])],B=!0)},p(G,[R]){R&2&&o!==(o=G[1].t("Account Activation Pending")+"")&&x(a,o),R&2&&h!==(h=G[1].t("Contact Admin for WebUI Access")+"")&&x(_,h),R&2&&w!==(w=G[1].t("Your account status is currently pending activation.")+"")&&x(y,w),R&2&&P!==(P=G[1].t("To access the WebUI, please reach out to the administrator. Admins can manage user statuses from the Admin Panel.")+"")&&x(I,P),G[0]?J?J.p(G,R):(J=Vi(G),J.c(),J.m(s,D)):J&&(J.d(1),J=null),R&2&&L!==(L=G[1].t("Check Again")+"")&&x(N,L),R&2&&q!==(q=G[1].t("Sign Out")+"")&&x(O,q)},i:Ce,o:Ce,d(G){G&&f(e),J&&J.d(),B=!1,rt(Y)}}}function k0(n,e,t){let l;const s=kt("i18n");Te(n,s,i=>t(1,l=i));let r=null;return Ct(async()=>{t(0,r=await ff(localStorage.token).catch(i=>(console.error(i),null)))}),[r,l,s,async()=>{location.href="/"},async()=>{localStorage.removeItem("token"),location.href="/auth"}]}class y0 extends ot{constructor(e){super(),it(this,e,k0,w0,at,{})}}function E0(n){let e,t,l=n[1].t("A new version (v{{LATEST_VERSION}}) is now available.",{LATEST_VERSION:n[0].latest})+"",s,r,o,a=n[1].t("Update for the latest features and improvements.")+"",i,d,h,_,v,b,w,y;return v=new Fi({}),{c(){e=m("div"),t=m("div"),s=U(l),r=A(),o=m("a"),i=U(a),d=A(),h=m("div"),_=m("button"),ae(v.$$.fragment),this.h()},l(k){e=p(k,"DIV",{class:!0});var V=g(e);t=p(V,"DIV",{class:!0});var P=g(t);s=H(P,l),r=C(P),o=p(P,"A",{href:!0,target:!0,class:!0});var I=g(o);i=H(I,a),I.forEach(f),P.forEach(f),d=C(V),h=p(V,"DIV",{class:!0});var E=g(h);_=p(E,"BUTTON",{class:!0});var D=g(_);oe(v.$$.fragment,D),D.forEach(f),E.forEach(f),V.forEach(f),this.h()},h(){u(o,"href","https://github.com/open-webui/open-webui/releases"),u(o,"target","_blank"),u(o,"class","underline"),u(t,"class","flex-1 font-medium"),u(_,"class","hover:text-blue-900 dark:hover:text-blue-300 transition"),u(h,"class","flex-shrink-0 pr-1"),u(e,"class","flex items-start bg-[#F1F8FE] dark:bg-[#020C1D] border border-[3371D5] dark:border-[#03113B] text-[#3371D5] dark:text-[#6795EC] rounded-lg px-3.5 py-3 text-xs max-w-80 pr-2 w-full shadow-lg")},m(k,V){M(k,e,V),c(e,t),c(t,s),c(t,r),c(t,o),c(o,i),c(e,d),c(e,h),c(h,_),ie(v,_,null),b=!0,w||(y=le(_,"click",n[4]),w=!0)},p(k,[V]){(!b||V&3)&&l!==(l=k[1].t("A new version (v{{LATEST_VERSION}}) is now available.",{LATEST_VERSION:k[0].latest})+"")&&x(s,l),(!b||V&2)&&a!==(a=k[1].t("Update for the latest features and improvements.")+"")&&x(i,a)},i(k){b||(W(v.$$.fragment,k),b=!0)},o(k){Z(v.$$.fragment,k),b=!1},d(k){k&&f(e),ce(v),w=!1,y()}}}function I0(n,e,t){let l;const s=At(),r=kt("i18n");Te(n,r,i=>t(1,l=i));let{version:o={current:il,latest:il}}=e;const a=()=>{s("close")};return n.$$set=i=>{"version"in i&&t(0,o=i.version)},[o,l,s,r,a]}class D0 extends ot{constructor(e){super(),it(this,e,I0,E0,at,{version:0})}}function Ai(n){let e,t,l,s;return t=new D0({props:{version:n[3]}}),t.$on("close",n[15]),{c(){e=m("div"),ae(t.$$.fragment),this.h()},l(r){e=p(r,"DIV",{class:!0});var o=g(e);oe(t.$$.fragment,o),o.forEach(f),this.h()},h(){u(e,"class","absolute bottom-8 right-8 z-50")},m(r,o){M(r,e,o),ie(t,e,null),s=!0},p(r,o){const a={};o&8&&(a.version=r[3]),t.$set(a)},i(r){s||(W(t.$$.fragment,r),r&&(l||Ml(()=>{l=$i(e,Ni,{duration:100}),l.start()})),s=!0)},o(r){Z(t.$$.fragment,r),s=!1},d(r){r&&f(e),ce(t)}}}function Ci(n){let e,t,l,s,r,o,a;const i=[V0,T0],d=[];function h(b,w){return w&16&&(e=null),e==null&&(e=!["user","admin"].includes(b[4].role)),e?0:b[2].length>0?1:-1}~(t=h(n,-1))&&(l=d[t]=i[t](n)),r=new Yd({});const _=n[12].default,v=Ql(_,n,n[11],null);return{c(){l&&l.c(),s=A(),ae(r.$$.fragment),o=A(),v&&v.c()},l(b){l&&l.l(b),s=C(b),oe(r.$$.fragment,b),o=C(b),v&&v.l(b)},m(b,w){~t&&d[t].m(b,w),M(b,s,w),ie(r,b,w),M(b,o,w),v&&v.m(b,w),a=!0},p(b,w){let y=t;t=h(b,w),t===y?~t&&d[t].p(b,w):(l&&(Qe(),Z(d[y],1,1,()=>{d[y]=null}),et()),~t?(l=d[t],l?l.p(b,w):(l=d[t]=i[t](b),l.c()),W(l,1),l.m(s.parentNode,s)):l=null),v&&v.p&&(!a||w&2048)&&es(v,_,b,b[11],a?ls(_,b[11],w,null):ts(b[11]),null)},i(b){a||(W(l),W(r.$$.fragment,b),W(v,b),a=!0)},o(b){Z(l),Z(r.$$.fragment,b),Z(v,b),a=!1},d(b){b&&(f(s),f(o)),~t&&d[t].d(b),ce(r,b),v&&v.d(b)}}}function T0(n){let e,t,l,s,r,o="Important Update<br/> Action Required for Chat Log Storage",a,i,d=n[8].t("Saving chat logs directly to your browser's storage is no longer supported. Please take a moment to download and delete your chat logs by clicking the button below. Don't worry, you can easily re-import your chat logs to the backend through")+"",h,_,v,b=n[8].t("Settings")+"",w,y,k=n[8].t("Chats")+"",V,P,I=n[8].t("Import Chats")+"",E,D,$=n[8].t("This ensures that your valuable conversations are securely saved to your backend database. Thank you!")+"",T,L,N,S,F="Download & Delete",q,O,B=n[8].t("Close")+"",Y,J,G;return{c(){e=m("div"),t=m("div"),l=m("div"),s=m("div"),r=m("div"),r.innerHTML=o,a=A(),i=m("div"),h=U(d),_=A(),v=m("span"),w=U(b),y=U(" > "),V=U(k),P=U(" > "),E=U(I),D=U(". "),T=U($),L=A(),N=m("div"),S=m("button"),S.textContent=F,q=A(),O=m("button"),Y=U(B),this.h()},l(R){e=p(R,"DIV",{class:!0});var j=g(e);t=p(j,"DIV",{class:!0});var z=g(t);l=p(z,"DIV",{class:!0});var X=g(l);s=p(X,"DIV",{class:!0});var K=g(s);r=p(K,"DIV",{class:!0,"data-svelte-h":!0}),Fe(r)!=="svelte-mnqwc6"&&(r.innerHTML=o),a=C(K),i=p(K,"DIV",{class:!0});var te=g(i);h=H(te,d),_=C(te),v=p(te,"SPAN",{class:!0});var se=g(v);w=H(se,b),y=H(se," > "),V=H(se,k),P=H(se," > "),E=H(se,I),se.forEach(f),D=H(te,". "),T=H(te,$),te.forEach(f),L=C(K),N=p(K,"DIV",{class:!0});var ue=g(N);S=p(ue,"BUTTON",{class:!0,"data-svelte-h":!0}),Fe(S)!=="svelte-1ia8i9q"&&(S.textContent=F),q=C(ue),O=p(ue,"BUTTON",{class:!0});var he=g(O);Y=H(he,B),he.forEach(f),ue.forEach(f),K.forEach(f),X.forEach(f),z.forEach(f),j.forEach(f),this.h()},h(){u(r,"class","text-center dark:text-white text-2xl font-medium z-50"),u(v,"class","font-semibold dark:text-white"),u(i,"class","mt-4 text-center text-sm dark:text-gray-200 w-full"),u(S,"class","relative z-20 flex px-5 py-2 rounded-full bg-white border border-gray-100 dark:border-none hover:bg-gray-100 transition font-medium text-sm"),u(O,"class","text-xs text-center w-full mt-2 text-gray-400 underline"),u(N,"class","mt-6 mx-auto relative group w-fit"),u(s,"class","max-w-md"),u(l,"class","m-auto pb-44 flex flex-col justify-center"),u(t,"class","absolute w-full h-full backdrop-blur-md bg-white/20 dark:bg-gray-900/50 flex justify-center"),u(e,"class","fixed w-full h-full flex z-50")},m(R,j){M(R,e,j),c(e,t),c(t,l),c(l,s),c(s,r),c(s,a),c(s,i),c(i,h),c(i,_),c(i,v),c(v,w),c(v,y),c(v,V),c(v,P),c(v,E),c(i,D),c(i,T),c(s,L),c(s,N),c(N,S),c(N,q),c(N,O),c(O,Y),J||(G=[le(S,"click",n[16]),le(O,"click",n[17])],J=!0)},p(R,j){j&256&&d!==(d=R[8].t("Saving chat logs directly to your browser's storage is no longer supported. Please take a moment to download and delete your chat logs by clicking the button below. Don't worry, you can easily re-import your chat logs to the backend through")+"")&&x(h,d),j&256&&b!==(b=R[8].t("Settings")+"")&&x(w,b),j&256&&k!==(k=R[8].t("Chats")+"")&&x(V,k),j&256&&I!==(I=R[8].t("Import Chats")+"")&&x(E,I),j&256&&$!==($=R[8].t("This ensures that your valuable conversations are securely saved to your backend database. Thank you!")+"")&&x(T,$),j&256&&B!==(B=R[8].t("Close")+"")&&x(Y,B)},i:Ce,o:Ce,d(R){R&&f(e),J=!1,rt(G)}}}function V0(n){let e,t;return e=new y0({}),{c(){ae(e.$$.fragment)},l(l){oe(e.$$.fragment,l)},m(l,s){ie(e,l,s),t=!0},p:Ce,i(l){t||(W(e.$$.fragment,l),t=!0)},o(l){Z(e.$$.fragment,l),t=!1},d(l){ce(e,l)}}}function A0(n){var P;let e,t,l,s,r,o,a=n[3]&&ar(n[3].latest,n[3].current)&&(((P=n[5])==null?void 0:P.showUpdateToast)??!0),i,d,h,_;function v(I){n[13](I)}let b={};n[6]!==void 0&&(b.show=n[6]),e=new d0({props:b}),lt.push(()=>ht(e,"show",v));function w(I){n[14](I)}let y={};n[7]!==void 0&&(y.show=n[7]),s=new b0({props:y}),lt.push(()=>ht(s,"show",w));let k=a&&Ai(n),V=n[0]&&Ci(n);return{c(){ae(e.$$.fragment),l=A(),ae(s.$$.fragment),o=A(),k&&k.c(),i=A(),d=m("div"),h=m("div"),V&&V.c(),this.h()},l(I){oe(e.$$.fragment,I),l=C(I),oe(s.$$.fragment,I),o=C(I),k&&k.l(I),i=C(I),d=p(I,"DIV",{class:!0});var E=g(d);h=p(E,"DIV",{class:!0});var D=g(h);V&&V.l(D),D.forEach(f),E.forEach(f),this.h()},h(){u(h,"class","text-gray-700 dark:text-gray-100 bg-white dark:bg-gray-900 h-screen max-h-[100dvh] overflow-auto flex flex-row justify-end"),u(d,"class","app relative")},m(I,E){ie(e,I,E),M(I,l,E),ie(s,I,E),M(I,o,E),k&&k.m(I,E),M(I,i,E),M(I,d,E),c(d,h),V&&V.m(h,null),_=!0},p(I,[E]){var T;const D={};!t&&E&64&&(t=!0,D.show=I[6],dt(()=>t=!1)),e.$set(D);const $={};!r&&E&128&&(r=!0,$.show=I[7],dt(()=>r=!1)),s.$set($),E&40&&(a=I[3]&&ar(I[3].latest,I[3].current)&&(((T=I[5])==null?void 0:T.showUpdateToast)??!0)),a?k?(k.p(I,E),E&40&&W(k,1)):(k=Ai(I),k.c(),W(k,1),k.m(i.parentNode,i)):k&&(Qe(),Z(k,1,1,()=>{k=null}),et()),I[0]?V?(V.p(I,E),E&1&&W(V,1)):(V=Ci(I),V.c(),W(V,1),V.m(h,null)):V&&(Qe(),Z(V,1,1,()=>{V=null}),et())},i(I){_||(W(e.$$.fragment,I),W(s.$$.fragment,I),W(k),W(V),_=!0)},o(I){Z(e.$$.fragment,I),Z(s.$$.fragment,I),Z(k),Z(V),_=!1},d(I){I&&(f(l),f(o),f(i),f(d)),ce(e,I),ce(s,I),k&&k.d(I),V&&V.d()}}}function C0(n,e,t){let l,s,r,o,a,i,d,h;Te(n,Cl,N=>t(4,l=N)),Te(n,hr,N=>t(18,s=N)),Te(n,rs,N=>t(19,r=N)),Te(n,Ht,N=>t(5,o=N)),Te(n,En,N=>t(20,a=N)),Te(n,Qn,N=>t(6,i=N)),Te(n,In,N=>t(7,d=N));let{$$slots:_={},$$scope:v}=e;const{saveAs:b}=Vs,w=kt("i18n");Te(n,w,N=>t(8,h=N));let y=!1,k=null,V=[],P;Ct(async()=>{if(l===void 0)await gl("/auth");else if(["user","admin"].includes(l.role)){try{if(t(1,k=await Df("Chats",1)),k){const S=await k.getAllFromIndex("chats","timestamp");t(2,V=S.map((F,q)=>S[S.length-1-q])),V.length===0&&await Xa("Chats")}console.log(k)}catch{}const N=await Dc(localStorage.token).catch(S=>(console.error(S),null));if(N)Ht.set(N.ui);else{let S={};try{S=JSON.parse(localStorage.getItem("settings")??"{}")}catch(F){console.error("Failed to parse settings from localStorage",F)}Ht.set(S)}if(Li.set(await Bi(localStorage.token)),mc.set(await Ec(localStorage.token)),pc.set(await yc(localStorage.token)),document.addEventListener("keydown",async function(S){var O,B,Y,J,G;const F=S.ctrlKey||S.metaKey,q=S.shiftKey;if(F&&q&&S.key.toLowerCase()==="o"&&(S.preventDefault(),console.log("newChat"),(O=document.getElementById("sidebar-new-chat-button"))==null||O.click()),q&&S.key==="Escape"&&(S.preventDefault(),console.log("focusInput"),(B=document.getElementById("chat-input"))==null||B.focus()),F&&q&&S.key===";"){S.preventDefault(),console.log("copyLastCodeBlock");const R=[...document.getElementsByClassName("copy-code-button")].at(-1);R==null||R.click()}if(F&&q&&S.key.toLowerCase()==="c"){S.preventDefault(),console.log("copyLastResponse");const R=[...document.getElementsByClassName("copy-response-button")].at(-1);console.log(R),R==null||R.click()}if(F&&q&&S.key.toLowerCase()==="s"&&(S.preventDefault(),console.log("toggleSidebar"),(Y=document.getElementById("sidebar-toggle-button"))==null||Y.click()),F&&q&&(S.key==="Backspace"||S.key==="Delete")&&(S.preventDefault(),console.log("deleteChat"),(J=document.getElementById("delete-chat-button"))==null||J.click()),F&&S.key==="."&&(S.preventDefault(),console.log("openSettings"),Qn.set(!i)),F&&S.key==="/"&&(S.preventDefault(),console.log("showShortcuts"),(G=document.getElementById("show-shortcuts-button"))==null||G.click()),F&&q&&S.key.toLowerCase()==="'"){S.preventDefault(),console.log("temporaryChat"),En.set(!a),await gl("/");const R=document.getElementById("new-chat-button");setTimeout(()=>{R==null||R.click()},0)}}),l.role==="admin"&&((o==null?void 0:o.showChangelog)??!0)&&In.set((o==null?void 0:o.version)!==r.version),s.url.searchParams.get("temporary-chat")==="true"&&En.set(!0),l.role==="admin")if(localStorage.dismissedUpdateToast){const S=new Date(Number(localStorage.dismissedUpdateToast));new Date-S>24*60*60*1e3&&I()}else I();await Al()}t(0,y=!0)});const I=async()=>{t(3,P=await Mi(localStorage.token).catch(N=>({current:il,latest:il})))};function E(N){i=N,Qn.set(i)}function D(N){d=N,In.set(d)}const $=()=>{localStorage.setItem("dismissedUpdateToast",Date.now().toString()),t(3,P=null)},T=async()=>{let N=new Blob([JSON.stringify(V)],{type:"application/json"});b(N,`chat-export-${Date.now()}.json`);const S=k.transaction("chats","readwrite");await Promise.all([S.store.clear(),S.done]),await Xa("Chats"),t(2,V=[])},L=async()=>{t(2,V=[])};return n.$$set=N=>{"$$scope"in N&&t(11,v=N.$$scope)},[y,k,V,P,l,o,i,d,h,b,w,v,_,E,D,$,T,L]}class Vm extends ot{constructor(e){super(),it(this,e,C0,A0,at,{})}}export{Vm as component};
//# sourceMappingURL=2.qrYuMlUJ.js.map
