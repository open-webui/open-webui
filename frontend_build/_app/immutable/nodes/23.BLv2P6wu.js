import{s as $e,y as Ze,e as n,k as I,t as F,c as i,a as d,I as Ke,o as x,b as X,d as c,f as a,i as Ne,g as e,C as ce,u as de,z as Ye,h as G,A as Fe,H as Xe,p as Ge,j as Je,n as Qe}from"../chunks/scheduler.Dg_Xn4WQ.js";import{S as Le,i as Pe,f as et,b as Se,d as We,m as qe,t as ze,a as Oe,e as Re}from"../chunks/index.gNonUo3Z.js";import{g as Me}from"../chunks/entry.C1o6s8Km.js";import{c as tt,g as at}from"../chunks/index.Bzw6WA74.js";import{t as be}from"../chunks/Toaster.svelte_svelte_type_style_lang.CM0nbnqF.js";import{n as st}from"../chunks/index.C2zJs1dP.js";import{A as lt}from"../chunks/AccessControl.BdBhtnxq.js";function je(o){let t,l=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
										transform-origin: center;
										animation: spinner_AtaB 0.75s infinite linear;
									}
									@keyframes spinner_AtaB {
										100% {
											transform: rotate(360deg);
										}
									}
								</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){t=n("div"),t.innerHTML=l,this.h()},l(s){t=i(s,"DIV",{class:!0,"data-svelte-h":!0}),Ke(t)!=="svelte-1k8nuce"&&(t.innerHTML=l),this.h()},h(){a(t,"class","ml-1.5 self-center")},m(s,E){Ne(s,t,E)},d(s){s&&c(t)}}}function rt(o){let t,l,s,E='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M17 10a.75.75 0 01-.75.75H5.612l4.158 3.96a.75.75 0 11-1.04 1.08l-5.5-5.25a.75.75 0 010-1.08l5.5-5.25a.75.75 0 111.04 1.08L5.612 9.25H16.25A.75.75 0 0117 10z" clip-rule="evenodd"></path></svg>',V,g,h=o[4].t("Back")+"",C,j,v,w,A,B=o[4].t("Create a knowledge base")+"",O,y,k,T,$,R=o[4].t("What are you working on?")+"",J,ue,K,_,Q,fe,H,N,U=o[4].t("What are you trying to achieve?")+"",ee,ge,L,b,te,ve,P,S,D,me,pe,W,Z,m,q,Y=o[4].t("Create Knowledge")+"",ae,he,se,p,_e,we;function Ue(r){o[10](r)}let ye={accessRoles:["read","write"]};o[3]!==void 0&&(ye.accessControl=o[3]),D=new lt({props:ye}),Ze.push(()=>et(D,"accessControl",Ue));let f=o[0]&&je();return{c(){t=n("div"),l=n("button"),s=n("div"),s.innerHTML=E,V=I(),g=n("div"),C=F(h),j=I(),v=n("form"),w=n("div"),A=n("div"),O=F(B),y=I(),k=n("div"),T=n("div"),$=n("div"),J=F(R),ue=I(),K=n("div"),_=n("input"),fe=I(),H=n("div"),N=n("div"),ee=F(U),ge=I(),L=n("div"),b=n("textarea"),ve=I(),P=n("div"),S=n("div"),Se(D.$$.fragment),pe=I(),W=n("div"),Z=n("div"),m=n("button"),q=n("div"),ae=F(Y),he=I(),f&&f.c(),this.h()},l(r){t=i(r,"DIV",{class:!0});var u=d(t);l=i(u,"BUTTON",{class:!0});var M=d(l);s=i(M,"DIV",{class:!0,"data-svelte-h":!0}),Ke(s)!=="svelte-1klo87r"&&(s.innerHTML=E),V=x(M),g=i(M,"DIV",{class:!0});var ke=d(g);C=X(ke,h),ke.forEach(c),M.forEach(c),j=x(u),v=i(u,"FORM",{class:!0});var z=d(v);w=i(z,"DIV",{class:!0});var le=d(w);A=i(le,"DIV",{class:!0});var Ee=d(A);O=X(Ee,B),Ee.forEach(c),y=x(le),k=i(le,"DIV",{class:!0});var re=d(k);T=i(re,"DIV",{class:!0});var oe=d(T);$=i(oe,"DIV",{class:!0});var Ce=d($);J=X(Ce,R),Ce.forEach(c),ue=x(oe),K=i(oe,"DIV",{class:!0});var De=d(K);_=i(De,"INPUT",{class:!0,type:!0,placeholder:!0}),De.forEach(c),oe.forEach(c),fe=x(re),H=i(re,"DIV",{});var ne=d(H);N=i(ne,"DIV",{class:!0});var Ie=d(N);ee=X(Ie,U),Ie.forEach(c),ge=x(ne),L=i(ne,"DIV",{class:!0});var xe=d(L);b=i(xe,"TEXTAREA",{class:!0,rows:!0,placeholder:!0}),d(b).forEach(c),xe.forEach(c),ne.forEach(c),re.forEach(c),le.forEach(c),ve=x(z),P=i(z,"DIV",{class:!0});var Ve=d(P);S=i(Ve,"DIV",{class:!0});var Ae=d(S);We(D.$$.fragment,Ae),Ae.forEach(c),Ve.forEach(c),pe=x(z),W=i(z,"DIV",{class:!0});var Te=d(W);Z=i(Te,"DIV",{});var Be=d(Z);m=i(Be,"BUTTON",{class:!0,type:!0});var ie=d(m);q=i(ie,"DIV",{class:!0});var He=d(q);ae=X(He,Y),He.forEach(c),he=x(ie),f&&f.l(ie),ie.forEach(c),Be.forEach(c),Te.forEach(c),z.forEach(c),u.forEach(c),this.h()},h(){a(s,"class","self-center"),a(g,"class","self-center font-medium text-sm"),a(l,"class","flex space-x-1"),a(A,"class","text-2xl font-medium font-primary mb-2.5"),a($,"class","text-sm mb-2"),a(_,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),a(_,"type","text"),a(_,"placeholder",Q=o[4].t("Name your knowledge base")),_.required=!0,a(K,"class","w-full mt-1"),a(T,"class","w-full"),a(N,"class","text-sm mb-2"),a(b,"class","w-full resize-none rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),a(b,"rows","4"),a(b,"placeholder",te=o[4].t("Describe your knowledge base and objectives")),b.required=!0,a(L,"class","w-full mt-1"),a(k,"class","w-full flex flex-col gap-2.5"),a(w,"class","w-full flex flex-col justify-center"),a(S,"class","px-3 py-2 bg-gray-50 dark:bg-gray-950 rounded-lg"),a(P,"class","mt-2"),a(q,"class","self-center font-medium"),a(m,"class",se="text-sm px-4 py-2 transition rounded-lg "+(o[0]?" cursor-not-allowed bg-gray-100 dark:bg-gray-800":" bg-gray-50 hover:bg-gray-100 dark:bg-gray-850 dark:hover:bg-gray-800")+" flex"),a(m,"type","submit"),m.disabled=o[0],a(W,"class","flex justify-end mt-2"),a(v,"class","flex flex-col max-w-lg mx-auto mt-10 mb-10"),a(t,"class","w-full max-h-full")},m(r,u){Ne(r,t,u),e(t,l),e(l,s),e(l,V),e(l,g),e(g,C),e(t,j),e(t,v),e(v,w),e(w,A),e(A,O),e(w,y),e(w,k),e(k,T),e(T,$),e($,J),e(T,ue),e(T,K),e(K,_),ce(_,o[1]),e(k,fe),e(k,H),e(H,N),e(N,ee),e(H,ge),e(H,L),e(L,b),ce(b,o[2]),e(v,ve),e(v,P),e(P,S),qe(D,S,null),e(v,pe),e(v,W),e(W,Z),e(Z,m),e(m,q),e(q,ae),e(m,he),f&&f.m(m,null),p=!0,_e||(we=[de(l,"click",o[7]),de(_,"input",o[8]),de(b,"input",o[9]),de(v,"submit",Ye(o[11]))],_e=!0)},p(r,[u]){(!p||u&16)&&h!==(h=r[4].t("Back")+"")&&G(C,h),(!p||u&16)&&B!==(B=r[4].t("Create a knowledge base")+"")&&G(O,B),(!p||u&16)&&R!==(R=r[4].t("What are you working on?")+"")&&G(J,R),(!p||u&16&&Q!==(Q=r[4].t("Name your knowledge base")))&&a(_,"placeholder",Q),u&2&&_.value!==r[1]&&ce(_,r[1]),(!p||u&16)&&U!==(U=r[4].t("What are you trying to achieve?")+"")&&G(ee,U),(!p||u&16&&te!==(te=r[4].t("Describe your knowledge base and objectives")))&&a(b,"placeholder",te),u&4&&ce(b,r[2]);const M={};!me&&u&8&&(me=!0,M.accessControl=r[3],Fe(()=>me=!1)),D.$set(M),(!p||u&16)&&Y!==(Y=r[4].t("Create Knowledge")+"")&&G(ae,Y),r[0]?f||(f=je(),f.c(),f.m(m,null)):f&&(f.d(1),f=null),(!p||u&1&&se!==(se="text-sm px-4 py-2 transition rounded-lg "+(r[0]?" cursor-not-allowed bg-gray-100 dark:bg-gray-800":" bg-gray-50 hover:bg-gray-100 dark:bg-gray-850 dark:hover:bg-gray-800")+" flex"))&&a(m,"class",se),(!p||u&1)&&(m.disabled=r[0])},i(r){p||(ze(D.$$.fragment,r),p=!0)},o(r){Oe(D.$$.fragment,r),p=!1},d(r){r&&c(t),Re(D),f&&f.d(),_e=!1,Xe(we)}}}function ot(o,t,l){let s;const E=Ge("i18n");Je(o,E,y=>l(4,s=y));let V=!1,g="",h="",C=null;const j=async()=>{if(l(0,V=!0),g.trim()===""||h.trim()===""){be.error(s.t("Please fill in all fields.")),l(1,g=""),l(2,h=""),l(0,V=!1);return}const y=await tt(localStorage.token,g,h,C).catch(k=>{be.error(`${k}`)});y&&(be.success(s.t("Knowledge created successfully.")),st.set(await at(localStorage.token)),Me(`/workspace/knowledge/${y.id}`)),l(0,V=!1)},v=()=>{Me("/workspace/knowledge")};function w(){g=this.value,l(1,g)}function A(){h=this.value,l(2,h)}function B(y){C=y,l(3,C)}return[V,g,h,C,s,E,j,v,w,A,B,()=>{j()}]}class nt extends Le{constructor(t){super(),Pe(this,t,ot,rt,$e,{})}}function it(o){let t,l;return t=new nt({}),{c(){Se(t.$$.fragment)},l(s){We(t.$$.fragment,s)},m(s,E){qe(t,s,E),l=!0},p:Qe,i(s){l||(ze(t.$$.fragment,s),l=!0)},o(s){Oe(t.$$.fragment,s),l=!1},d(s){Re(t,s)}}}class pt extends Le{constructor(t){super(),Pe(this,t,null,it,$e,{})}}export{pt as component};
//# sourceMappingURL=23.BLv2P6wu.js.map
