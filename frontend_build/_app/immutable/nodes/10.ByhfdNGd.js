import{s as ot,y as Se,A as Ne,p as Ot,j as Le,e as g,c as v,a as $,d as c,f as p,i as L,r as qt,v as Jt,w as Zt,x as Kt,k as S,o as M,J as Qt,t as J,b as Z,g as m,h as Q,E as It,F as Dt,m as Xt,N as et,C as Vt,u as Ce,H as Yt,q as jt,D as en,n as tn,l as Ht}from"../chunks/scheduler.CRl-z1y4.js";import{S as it,i as ft,f as Te,b as j,d as G,m as x,t as F,a as T,e as z,g as je,c as Ge}from"../chunks/index.Ci9MLlfz.js";import{a as nn,c as ln,f as Oe,W as sn,m as Re}from"../chunks/index.iZ7GkiWf.js";import{a as at,f as rn,g as Ye,t as an,h as on,i as fn,c as cn}from"../chunks/index.9W4jP9JS.js";import{e as Ct,u as un,o as dn}from"../chunks/each.Cd7EUOR7.js";import{t as me}from"../chunks/Toaster.svelte_svelte_type_style_lang.CQ9dEDgo.js";import{f as mn}from"../chunks/FileSaver.min.CimDdHIv.js";import{g as St}from"../chunks/entry.CKIhGktT.js";import{T as Je}from"../chunks/Tooltip.DuavYtFf.js";import{C as Mt}from"../chunks/ConfirmDialog.BpLky8Hi.js";import{g as We}from"../chunks/index.BPZ_ALe6.js";import"../chunks/updater.e7zyckLc.js";import{D as _n,M as qe}from"../chunks/Dropdown.9uTl7bwK.js";import{b as pn}from"../chunks/menu-trigger.HLnuFu5_.js";import{f as hn}from"../chunks/index.BFuekP1B.js";import{G as Gt}from"../chunks/GarbageBin.CwQsafHT.js";import{S as gn,D as vn}from"../chunks/DocumentDuplicate.ClVU3vKI.js";import{A as $n}from"../chunks/ArrowDownTray.D_H3KREq.js";import{S as xt}from"../chunks/Switch.XdZuashh.js";import{G as wn}from"../chunks/GlobeAlt.DueHkXLJ.js";import{E as bn}from"../chunks/EllipsisHorizontal.f3ex1JiB.js";import{M as kn,V as yn}from"../chunks/ManifestModal.BpH11O7i.js";import{H as En}from"../chunks/Heart.YMLj5iRO.js";import{S as In}from"../chunks/Search.aCWnjc4H.js";import{P as Dn}from"../chunks/Plus.BWtK4UEr.js";import{C as Vn}from"../chunks/ChevronRight.a1FlZXle.js";function Hn(r){let e;const n=r[11].default,t=qt(n,r,r[20],null);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,o){t&&t.m(s,o),e=!0},p(s,o){t&&t.p&&(!e||o&1048576)&&Jt(t,n,s,s[20],e?Kt(n,s[20],o,null):Zt(s[20]),null)},i(s){e||(F(t,s),e=!0)},o(s){T(t,s),e=!1},d(s){t&&t.d(s)}}}function Cn(r){let e,n;return e=new Je({props:{content:r[9].t("More"),$$slots:{default:[Hn]},$$scope:{ctx:r}}}),{c(){j(e.$$.fragment)},l(t){G(e.$$.fragment,t)},m(t,s){x(e,t,s),n=!0},p(t,s){const o={};s&512&&(o.content=t[9].t("More")),s&1048576&&(o.$$scope={dirty:s,ctx:t}),e.$set(o)},i(t){n||(F(e.$$.fragment,t),n=!0)},o(t){T(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function Ft(r){let e,n,t,s,o,a=r[9].t("Global")+"",l,f,h,w,V,I,H,N;t=new wn({});function b(u){r[12](u)}let i={};return r[0].is_global!==void 0&&(i.state=r[0].is_global),w=new xt({props:i}),Se.push(()=>Te(w,"state",b)),w.$on("change",function(){Qt(r[6])&&r[6].apply(this,arguments)}),{c(){e=g("div"),n=g("div"),j(t.$$.fragment),s=S(),o=g("div"),l=J(a),f=S(),h=g("div"),j(w.$$.fragment),I=S(),H=g("hr"),this.h()},l(u){e=v(u,"DIV",{class:!0});var k=$(e);n=v(k,"DIV",{class:!0});var E=$(n);G(t.$$.fragment,E),s=M(E),o=v(E,"DIV",{class:!0});var C=$(o);l=Z(C,a),C.forEach(c),E.forEach(c),f=M(k),h=v(k,"DIV",{});var B=$(h);G(w.$$.fragment,B),B.forEach(c),k.forEach(c),I=M(u),H=v(u,"HR",{class:!0}),this.h()},h(){p(o,"class","flex items-center"),p(n,"class","flex gap-2 items-center"),p(e,"class","flex gap-2 justify-between items-center px-3 py-2 text-sm font-medium cursor-pointerrounded-md"),p(H,"class","border-gray-100 dark:border-gray-800 my-1")},m(u,k){L(u,e,k),m(e,n),x(t,n,null),m(n,s),m(n,o),m(o,l),m(e,f),m(e,h),x(w,h,null),L(u,I,k),L(u,H,k),N=!0},p(u,k){r=u,(!N||k&512)&&a!==(a=r[9].t("Global")+"")&&Q(l,a);const E={};!V&&k&1&&(V=!0,E.state=r[0].is_global,Ne(()=>V=!1)),w.$set(E)},i(u){N||(F(t.$$.fragment,u),F(w.$$.fragment,u),N=!0)},o(u){T(t.$$.fragment,u),T(w.$$.fragment,u),N=!1},d(u){u&&(c(e),c(I),c(H)),z(t),z(w)}}}function Sn(r){let e,n,t,s,o=r[9].t("Edit")+"",a;return{c(){e=It("svg"),n=It("path"),t=S(),s=g("div"),a=J(o),this.h()},l(l){e=Dt(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var f=$(e);n=Dt(f,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),$(n).forEach(c),f.forEach(c),t=M(l),s=v(l,"DIV",{class:!0});var h=$(s);a=Z(h,o),h.forEach(c),this.h()},h(){p(n,"stroke-linecap","round"),p(n,"stroke-linejoin","round"),p(n,"d","M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"),p(e,"xmlns","http://www.w3.org/2000/svg"),p(e,"fill","none"),p(e,"viewBox","0 0 24 24"),p(e,"stroke-width","1.5"),p(e,"stroke","currentColor"),p(e,"class","w-4 h-4"),p(s,"class","flex items-center")},m(l,f){L(l,e,f),m(e,n),L(l,t,f),L(l,s,f),m(s,a)},p(l,f){f&512&&o!==(o=l[9].t("Edit")+"")&&Q(a,o)},d(l){l&&(c(e),c(t),c(s))}}}function Mn(r){let e,n,t,s=r[9].t("Share")+"",o,a;return e=new gn({}),{c(){j(e.$$.fragment),n=S(),t=g("div"),o=J(s),this.h()},l(l){G(e.$$.fragment,l),n=M(l),t=v(l,"DIV",{class:!0});var f=$(t);o=Z(f,s),f.forEach(c),this.h()},h(){p(t,"class","flex items-center")},m(l,f){x(e,l,f),L(l,n,f),L(l,t,f),m(t,o),a=!0},p(l,f){(!a||f&512)&&s!==(s=l[9].t("Share")+"")&&Q(o,s)},i(l){a||(F(e.$$.fragment,l),a=!0)},o(l){T(e.$$.fragment,l),a=!1},d(l){l&&(c(n),c(t)),z(e,l)}}}function Fn(r){let e,n,t,s=r[9].t("Clone")+"",o,a;return e=new vn({}),{c(){j(e.$$.fragment),n=S(),t=g("div"),o=J(s),this.h()},l(l){G(e.$$.fragment,l),n=M(l),t=v(l,"DIV",{class:!0});var f=$(t);o=Z(f,s),f.forEach(c),this.h()},h(){p(t,"class","flex items-center")},m(l,f){x(e,l,f),L(l,n,f),L(l,t,f),m(t,o),a=!0},p(l,f){(!a||f&512)&&s!==(s=l[9].t("Clone")+"")&&Q(o,s)},i(l){a||(F(e.$$.fragment,l),a=!0)},o(l){T(e.$$.fragment,l),a=!1},d(l){l&&(c(n),c(t)),z(e,l)}}}function Ln(r){let e,n,t,s=r[9].t("Export")+"",o,a;return e=new $n({}),{c(){j(e.$$.fragment),n=S(),t=g("div"),o=J(s),this.h()},l(l){G(e.$$.fragment,l),n=M(l),t=v(l,"DIV",{class:!0});var f=$(t);o=Z(f,s),f.forEach(c),this.h()},h(){p(t,"class","flex items-center")},m(l,f){x(e,l,f),L(l,n,f),L(l,t,f),m(t,o),a=!0},p(l,f){(!a||f&512)&&s!==(s=l[9].t("Export")+"")&&Q(o,s)},i(l){a||(F(e.$$.fragment,l),a=!0)},o(l){T(e.$$.fragment,l),a=!1},d(l){l&&(c(n),c(t)),z(e,l)}}}function Nn(r){let e,n,t,s=r[9].t("Delete")+"",o,a;return e=new Gt({props:{strokeWidth:"2"}}),{c(){j(e.$$.fragment),n=S(),t=g("div"),o=J(s),this.h()},l(l){G(e.$$.fragment,l),n=M(l),t=v(l,"DIV",{class:!0});var f=$(t);o=Z(f,s),f.forEach(c),this.h()},h(){p(t,"class","flex items-center")},m(l,f){x(e,l,f),L(l,n,f),L(l,t,f),m(t,o),a=!0},p(l,f){(!a||f&512)&&s!==(s=l[9].t("Delete")+"")&&Q(o,s)},i(l){a||(F(e.$$.fragment,l),a=!0)},o(l){T(e.$$.fragment,l),a=!1},d(l){l&&(c(n),c(t)),z(e,l)}}}function Tn(r){let e=["filter","action"].includes(r[0].type),n,t,s,o,a,l,f,h,w,V,I,H,N,b=e&&Ft(r);return t=new qe({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800  rounded-md",$$slots:{default:[Sn]},$$scope:{ctx:r}}}),t.$on("click",r[13]),o=new qe({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800  rounded-md",$$slots:{default:[Mn]},$$scope:{ctx:r}}}),o.$on("click",r[14]),l=new qe({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[Fn]},$$scope:{ctx:r}}}),l.$on("click",r[15]),h=new qe({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[Ln]},$$scope:{ctx:r}}}),h.$on("click",r[16]),H=new qe({props:{class:"flex  gap-2  items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[Nn]},$$scope:{ctx:r}}}),H.$on("click",r[17]),{c(){b&&b.c(),n=S(),j(t.$$.fragment),s=S(),j(o.$$.fragment),a=S(),j(l.$$.fragment),f=S(),j(h.$$.fragment),w=S(),V=g("hr"),I=S(),j(H.$$.fragment),this.h()},l(i){b&&b.l(i),n=M(i),G(t.$$.fragment,i),s=M(i),G(o.$$.fragment,i),a=M(i),G(l.$$.fragment,i),f=M(i),G(h.$$.fragment,i),w=M(i),V=v(i,"HR",{class:!0}),I=M(i),G(H.$$.fragment,i),this.h()},h(){p(V,"class","border-gray-100 dark:border-gray-800 my-1")},m(i,u){b&&b.m(i,u),L(i,n,u),x(t,i,u),L(i,s,u),x(o,i,u),L(i,a,u),x(l,i,u),L(i,f,u),x(h,i,u),L(i,w,u),L(i,V,u),L(i,I,u),x(H,i,u),N=!0},p(i,u){u&1&&(e=["filter","action"].includes(i[0].type)),e?b?(b.p(i,u),u&1&&F(b,1)):(b=Ft(i),b.c(),F(b,1),b.m(n.parentNode,n)):b&&(je(),T(b,1,1,()=>{b=null}),Ge());const k={};u&1049088&&(k.$$scope={dirty:u,ctx:i}),t.$set(k);const E={};u&1049088&&(E.$$scope={dirty:u,ctx:i}),o.$set(E);const C={};u&1049088&&(C.$$scope={dirty:u,ctx:i}),l.$set(C);const B={};u&1049088&&(B.$$scope={dirty:u,ctx:i}),h.$set(B);const W={};u&1049088&&(W.$$scope={dirty:u,ctx:i}),H.$set(W)},i(i){N||(F(b),F(t.$$.fragment,i),F(o.$$.fragment,i),F(l.$$.fragment,i),F(h.$$.fragment,i),F(H.$$.fragment,i),N=!0)},o(i){T(b),T(t.$$.fragment,i),T(o.$$.fragment,i),T(l.$$.fragment,i),T(h.$$.fragment,i),T(H.$$.fragment,i),N=!1},d(i){i&&(c(n),c(s),c(a),c(f),c(w),c(V),c(I)),b&&b.d(i),z(t,i),z(o,i),z(l,i),z(h,i),z(H,i)}}}function Bn(r){let e,n,t;return n=new pn({props:{class:"w-full max-w-[180px] rounded-xl px-1 py-1.5 border border-gray-300/30 dark:border-gray-700/50 z-50 bg-white dark:bg-gray-850 dark:text-white shadow",sideOffset:-2,side:"bottom",align:"start",transition:hn,$$slots:{default:[Tn]},$$scope:{ctx:r}}}),{c(){e=g("div"),j(n.$$.fragment),this.h()},l(s){e=v(s,"DIV",{slot:!0});var o=$(e);G(n.$$.fragment,o),o.forEach(c),this.h()},h(){p(e,"slot","content")},m(s,o){L(s,e,o),x(n,e,null),t=!0},p(s,o){const a={};o&1049215&&(a.$$scope={dirty:o,ctx:s}),n.$set(a)},i(s){t||(F(n.$$.fragment,s),t=!0)},o(s){T(n.$$.fragment,s),t=!1},d(s){s&&c(e),z(n)}}}function An(r){let e,n,t;function s(a){r[18](a)}let o={$$slots:{content:[Bn],default:[Cn]},$$scope:{ctx:r}};return r[8]!==void 0&&(o.show=r[8]),e=new _n({props:o}),Se.push(()=>Te(e,"show",s)),e.$on("change",r[19]),{c(){j(e.$$.fragment)},l(a){G(e.$$.fragment,a)},m(a,l){x(e,a,l),t=!0},p(a,[l]){const f={};l&1049215&&(f.$$scope={dirty:l,ctx:a}),!n&&l&256&&(n=!0,f.show=a[8],Ne(()=>n=!1)),e.$set(f)},i(a){t||(F(e.$$.fragment,a),t=!0)},o(a){T(e.$$.fragment,a),t=!1},d(a){z(e,a)}}}function Un(r,e,n){let t,{$$slots:s={},$$scope:o}=e;const a=Ot("i18n");Le(r,a,D=>n(9,t=D));let{func:l}=e,{editHandler:f}=e,{shareHandler:h}=e,{cloneHandler:w}=e,{exportHandler:V}=e,{deleteHandler:I}=e,{toggleGlobalHandler:H}=e,{onClose:N}=e,b=!1;function i(D){r.$$.not_equal(l.is_global,D)&&(l.is_global=D,n(0,l))}const u=()=>{f()},k=()=>{h()},E=()=>{w()},C=()=>{V()},B=()=>{I()};function W(D){b=D,n(8,b)}const K=D=>{D.detail===!1&&N()};return r.$$set=D=>{"func"in D&&n(0,l=D.func),"editHandler"in D&&n(1,f=D.editHandler),"shareHandler"in D&&n(2,h=D.shareHandler),"cloneHandler"in D&&n(3,w=D.cloneHandler),"exportHandler"in D&&n(4,V=D.exportHandler),"deleteHandler"in D&&n(5,I=D.deleteHandler),"toggleGlobalHandler"in D&&n(6,H=D.toggleGlobalHandler),"onClose"in D&&n(7,N=D.onClose),"$$scope"in D&&n(20,o=D.$$scope)},[l,f,h,w,V,I,H,N,b,t,a,s,i,u,k,E,C,B,W,K,o]}class On extends it{constructor(e){super(),ft(this,e,Un,An,ot,{func:0,editHandler:1,shareHandler:2,cloneHandler:3,exportHandler:4,deleteHandler:5,toggleGlobalHandler:6,onClose:7})}}function Lt(r,e,n){const t=r.slice();return t[46]=e[n],t[47]=e,t[48]=n,t}function Nt(r){var o,a,l;let e,n,t=(((l=(a=(o=r[46])==null?void 0:o.meta)==null?void 0:a.manifest)==null?void 0:l.version)??"")+"",s;return{c(){e=g("div"),n=J("v"),s=J(t),this.h()},l(f){e=v(f,"DIV",{class:!0});var h=$(e);n=Z(h,"v"),s=Z(h,t),h.forEach(c),this.h()},h(){p(e,"class","text-xs font-bold px-1 rounded line-clamp-1 bg-gray-500/20 text-gray-700 dark:text-gray-200")},m(f,h){L(f,e,h),m(e,n),m(e,s)},p(f,h){var w,V,I;h[0]&512&&t!==(t=(((I=(V=(w=f[46])==null?void 0:w.meta)==null?void 0:V.manifest)==null?void 0:I.version)??"")+"")&&Q(s,t)},d(f){f&&c(e)}}}function jn(r){var H,N,b;let e,n,t,s,o,a=(((b=(N=(H=r[46])==null?void 0:H.meta)==null?void 0:N.manifest)==null?void 0:b.funding_url)??!1)&&Tt(r);n=new Je({props:{content:r[12].t("Valves"),$$slots:{default:[zn]},$$scope:{ctx:r}}});function l(){return r[26](r[46])}function f(){return r[27](r[46])}function h(){return r[28](r[46])}function w(){return r[29](r[46])}function V(){return r[30](r[46])}function I(){return r[31](r[46])}return s=new On({props:{func:r[46],editHandler:l,shareHandler:f,cloneHandler:h,exportHandler:w,deleteHandler:V,toggleGlobalHandler:I,onClose:Kn,$$slots:{default:[Pn]},$$scope:{ctx:r}}}),{c(){a&&a.c(),e=S(),j(n.$$.fragment),t=S(),j(s.$$.fragment)},l(i){a&&a.l(i),e=M(i),G(n.$$.fragment,i),t=M(i),G(s.$$.fragment,i)},m(i,u){a&&a.m(i,u),L(i,e,u),x(n,i,u),L(i,t,u),x(s,i,u),o=!0},p(i,u){var C,B,W;r=i,((W=(B=(C=r[46])==null?void 0:C.meta)==null?void 0:B.manifest)==null?void 0:W.funding_url)??!1?a?(a.p(r,u),u[0]&512&&F(a,1)):(a=Tt(r),a.c(),F(a,1),a.m(e.parentNode,e)):a&&(je(),T(a,1,1,()=>{a=null}),Ge());const k={};u[0]&4096&&(k.content=r[12].t("Valves")),u[0]&704|u[1]&262144&&(k.$$scope={dirty:u,ctx:r}),n.$set(k);const E={};u[0]&512&&(E.func=r[46]),u[0]&512&&(E.editHandler=l),u[0]&512&&(E.shareHandler=f),u[0]&512&&(E.cloneHandler=h),u[0]&512&&(E.exportHandler=w),u[0]&896&&(E.deleteHandler=V),u[0]&512&&(E.toggleGlobalHandler=I),u[1]&262144&&(E.$$scope={dirty:u,ctx:r}),s.$set(E)},i(i){o||(F(a),F(n.$$.fragment,i),F(s.$$.fragment,i),o=!0)},o(i){T(a),T(n.$$.fragment,i),T(s.$$.fragment,i),o=!1},d(i){i&&(c(e),c(t)),a&&a.d(i),z(n,i),z(s,i)}}}function Gn(r){let e,n;return e=new Je({props:{content:r[12].t("Delete"),$$slots:{default:[Rn]},$$scope:{ctx:r}}}),{c(){j(e.$$.fragment)},l(t){G(e.$$.fragment,t)},m(t,s){x(e,t,s),n=!0},p(t,s){const o={};s[0]&4096&&(o.content=t[12].t("Delete")),s[0]&512|s[1]&262144&&(o.$$scope={dirty:s,ctx:t}),e.$set(o)},i(t){n||(F(e.$$.fragment,t),n=!0)},o(t){T(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function Tt(r){let e,n;return e=new Je({props:{content:r[12].t("Support"),$$slots:{default:[xn]},$$scope:{ctx:r}}}),{c(){j(e.$$.fragment)},l(t){G(e.$$.fragment,t)},m(t,s){x(e,t,s),n=!0},p(t,s){const o={};s[0]&4096&&(o.content=t[12].t("Support")),s[0]&672|s[1]&262144&&(o.$$scope={dirty:s,ctx:t}),e.$set(o)},i(t){n||(F(e.$$.fragment,t),n=!0)},o(t){T(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function xn(r){let e,n,t,s,o;n=new En({});function a(){return r[24](r[46])}return{c(){e=g("button"),j(n.$$.fragment),this.h()},l(l){e=v(l,"BUTTON",{class:!0,type:!0});var f=$(e);G(n.$$.fragment,f),f.forEach(c),this.h()},h(){p(e,"class","self-center w-fit text-sm px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),p(e,"type","button")},m(l,f){L(l,e,f),x(n,e,null),t=!0,s||(o=Ce(e,"click",a),s=!0)},p(l,f){r=l},i(l){t||(F(n.$$.fragment,l),t=!0)},o(l){T(n.$$.fragment,l),t=!1},d(l){l&&c(e),z(n),s=!1,o()}}}function zn(r){let e,n='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-4"><path stroke-linecap="round" stroke-linejoin="round" d="M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"></path><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"></path></svg>',t,s;function o(){return r[25](r[46])}return{c(){e=g("button"),e.innerHTML=n,this.h()},l(a){e=v(a,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),et(e)!=="svelte-1d80tim"&&(e.innerHTML=n),this.h()},h(){p(e,"class","self-center w-fit text-sm px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),p(e,"type","button")},m(a,l){L(a,e,l),t||(s=Ce(e,"click",o),t=!0)},p(a,l){r=a},d(a){a&&c(e),t=!1,s()}}}function Pn(r){let e,n,t;return n=new bn({props:{className:"size-5"}}),{c(){e=g("button"),j(n.$$.fragment),this.h()},l(s){e=v(s,"BUTTON",{class:!0,type:!0});var o=$(e);G(n.$$.fragment,o),o.forEach(c),this.h()},h(){p(e,"class","self-center w-fit text-sm p-1.5 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),p(e,"type","button")},m(s,o){L(s,e,o),x(n,e,null),t=!0},p:tn,i(s){t||(F(n.$$.fragment,s),t=!0)},o(s){T(n.$$.fragment,s),t=!1},d(s){s&&c(e),z(n)}}}function Rn(r){let e,n,t,s,o;n=new Gt({});function a(){return r[23](r[46])}return{c(){e=g("button"),j(n.$$.fragment),this.h()},l(l){e=v(l,"BUTTON",{class:!0,type:!0});var f=$(e);G(n.$$.fragment,f),f.forEach(c),this.h()},h(){p(e,"class","self-center w-fit text-sm px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),p(e,"type","button")},m(l,f){L(l,e,f),x(n,e,null),t=!0,s||(o=Ce(e,"click",a),s=!0)},p(l,f){r=l},i(l){t||(F(n.$$.fragment,l),t=!0)},o(l){T(n.$$.fragment,l),t=!1},d(l){l&&c(e),z(n),s=!1,o()}}}function Wn(r){let e,n,t;function s(l){r[32](l,r[46])}function o(...l){return r[33](r[46],...l)}let a={};return r[46].is_active!==void 0&&(a.state=r[46].is_active),e=new xt({props:a}),Se.push(()=>Te(e,"state",s)),e.$on("change",o),{c(){j(e.$$.fragment)},l(l){G(e.$$.fragment,l)},m(l,f){x(e,l,f),t=!0},p(l,f){r=l;const h={};!n&&f[0]&512&&(n=!0,h.state=r[46].is_active,Ne(()=>n=!1)),e.$set(h)},i(l){t||(F(e.$$.fragment,l),t=!0)},o(l){T(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function Bt(r,e){var De,He,pe;let n,t,s,o,a,l,f=e[46].type+"",h,w,V,I,H=e[46].name+"",N,b,i,u,k=e[46].id+"",E,C,B,W=e[46].meta.description+"",K,D,oe,te,q,U,Ie,_e,ne,ie,X,Y=((pe=(He=(De=e[46])==null?void 0:De.meta)==null?void 0:He.manifest)==null?void 0:pe.version)&&Nt(e);const de=[Gn,jn],re=[];function we(le,R){return le[1]?0:1}return q=we(e),U=re[q]=de[q](e),ne=new Je({props:{content:e[46].is_active?e[12].t("Enabled"):e[12].t("Disabled"),$$slots:{default:[Wn]},$$scope:{ctx:e}}}),{key:r,first:null,c(){n=g("div"),t=g("a"),s=g("div"),o=g("div"),a=g("div"),l=g("div"),h=J(f),w=S(),Y&&Y.c(),V=S(),I=g("div"),N=J(H),b=S(),i=g("div"),u=g("div"),E=J(k),C=S(),B=g("div"),K=J(W),oe=S(),te=g("div"),U.c(),Ie=S(),_e=g("div"),j(ne.$$.fragment),ie=S(),this.h()},l(le){n=v(le,"DIV",{class:!0});var R=$(n);t=v(R,"A",{class:!0,href:!0});var se=$(t);s=v(se,"DIV",{class:!0});var ce=$(s);o=v(ce,"DIV",{class:!0});var ue=$(o);a=v(ue,"DIV",{class:!0});var fe=$(a);l=v(fe,"DIV",{class:!0});var ge=$(l);h=Z(ge,f),ge.forEach(c),w=M(fe),Y&&Y.l(fe),V=M(fe),I=v(fe,"DIV",{class:!0});var he=$(I);N=Z(he,H),he.forEach(c),fe.forEach(c),b=M(ue),i=v(ue,"DIV",{class:!0});var _=$(i);u=v(_,"DIV",{class:!0});var A=$(u);E=Z(A,k),A.forEach(c),C=M(_),B=v(_,"DIV",{class:!0});var O=$(B);K=Z(O,W),O.forEach(c),_.forEach(c),ue.forEach(c),ce.forEach(c),se.forEach(c),oe=M(R),te=v(R,"DIV",{class:!0});var P=$(te);U.l(P),Ie=M(P),_e=v(P,"DIV",{class:!0});var ve=$(_e);G(ne.$$.fragment,ve),ve.forEach(c),P.forEach(c),ie=M(R),R.forEach(c),this.h()},h(){p(l,"class","text-xs font-bold px-1 rounded uppercase line-clamp-1 bg-gray-500/20 text-gray-700 dark:text-gray-200"),p(I,"class","line-clamp-1"),p(a,"class","font-semibold flex items-center gap-1.5"),p(u,"class","text-gray-500 text-xs font-medium flex-shrink-0"),p(B,"class","text-xs overflow-hidden text-ellipsis line-clamp-1"),p(i,"class","flex gap-1.5 px-1"),p(o,"class","flex-1 self-center pl-1"),p(s,"class","flex items-center text-left"),p(t,"class","flex flex-1 space-x-3.5 cursor-pointer w-full"),p(t,"href",D=`/admin/functions/edit?id=${encodeURIComponent(e[46].id)}`),p(_e,"class","self-center mx-1"),p(te,"class","flex flex-row gap-0.5 self-center"),p(n,"class","flex space-x-4 cursor-pointer w-full px-3 py-2 dark:hover:bg-white/5 hover:bg-black/5 rounded-xl"),this.first=n},m(le,R){L(le,n,R),m(n,t),m(t,s),m(s,o),m(o,a),m(a,l),m(l,h),m(a,w),Y&&Y.m(a,null),m(a,V),m(a,I),m(I,N),m(o,b),m(o,i),m(i,u),m(u,E),m(i,C),m(i,B),m(B,K),m(n,oe),m(n,te),re[q].m(te,null),m(te,Ie),m(te,_e),x(ne,_e,null),m(n,ie),X=!0},p(le,R){var ue,fe,ge;e=le,(!X||R[0]&512)&&f!==(f=e[46].type+"")&&Q(h,f),(ge=(fe=(ue=e[46])==null?void 0:ue.meta)==null?void 0:fe.manifest)!=null&&ge.version?Y?Y.p(e,R):(Y=Nt(e),Y.c(),Y.m(a,V)):Y&&(Y.d(1),Y=null),(!X||R[0]&512)&&H!==(H=e[46].name+"")&&Q(N,H),(!X||R[0]&512)&&k!==(k=e[46].id+"")&&Q(E,k),(!X||R[0]&512)&&W!==(W=e[46].meta.description+"")&&Q(K,W),(!X||R[0]&512&&D!==(D=`/admin/functions/edit?id=${encodeURIComponent(e[46].id)}`))&&p(t,"href",D);let se=q;q=we(e),q===se?re[q].p(e,R):(je(),T(re[se],1,1,()=>{re[se]=null}),Ge(),U=re[q],U?U.p(e,R):(U=re[q]=de[q](e),U.c()),F(U,1),U.m(te,Ie));const ce={};R[0]&4608&&(ce.content=e[46].is_active?e[12].t("Enabled"):e[12].t("Disabled")),R[0]&3584|R[1]&262144&&(ce.$$scope={dirty:R,ctx:e}),ne.$set(ce)},i(le){X||(F(U),F(ne.$$.fragment,le),X=!0)},o(le){T(U),T(ne.$$.fragment,le),X=!1},d(le){le&&c(n),Y&&Y.d(),re[q].d(),z(ne)}}}function At(r){let e,n,t=r[12].t("Made by Open WebUI Community")+"",s,o,a,l,f,h=r[12].t("Discover a function")+"",w,V,I,H=r[12].t("Discover, download, and explore custom functions")+"",N,b,i,u,k,E;return k=new Vn({}),{c(){e=g("div"),n=g("div"),s=J(t),o=S(),a=g("a"),l=g("div"),f=g("div"),w=J(h),V=S(),I=g("div"),N=J(H),b=S(),i=g("div"),u=g("div"),j(k.$$.fragment),this.h()},l(C){e=v(C,"DIV",{class:!0});var B=$(e);n=v(B,"DIV",{class:!0});var W=$(n);s=Z(W,t),W.forEach(c),o=M(B),a=v(B,"A",{class:!0,href:!0,target:!0});var K=$(a);l=v(K,"DIV",{class:!0});var D=$(l);f=v(D,"DIV",{class:!0});var oe=$(f);w=Z(oe,h),oe.forEach(c),V=M(D),I=v(D,"DIV",{class:!0});var te=$(I);N=Z(te,H),te.forEach(c),D.forEach(c),b=M(K),i=v(K,"DIV",{});var q=$(i);u=v(q,"DIV",{});var U=$(u);G(k.$$.fragment,U),U.forEach(c),q.forEach(c),K.forEach(c),B.forEach(c),this.h()},h(){p(n,"class","text-xl font-medium mb-1 line-clamp-1"),p(f,"class","font-semibold line-clamp-1"),p(I,"class","text-sm line-clamp-1"),p(l,"class","self-center"),p(a,"class","flex cursor-pointer items-center justify-between hover:bg-gray-50 dark:hover:bg-gray-850 w-full mb-2 px-3.5 py-1.5 rounded-xl transition"),p(a,"href","https://openwebui.com/#open-webui-community"),p(a,"target","_blank"),p(e,"class","my-16")},m(C,B){L(C,e,B),m(e,n),m(n,s),m(e,o),m(e,a),m(a,l),m(l,f),m(f,w),m(l,V),m(l,I),m(I,N),m(a,b),m(a,i),m(i,u),x(k,u,null),E=!0},p(C,B){(!E||B[0]&4096)&&t!==(t=C[12].t("Made by Open WebUI Community")+"")&&Q(s,t),(!E||B[0]&4096)&&h!==(h=C[12].t("Discover a function")+"")&&Q(w,h),(!E||B[0]&4096)&&H!==(H=C[12].t("Discover, download, and explore custom functions")+"")&&Q(N,H)},i(C){E||(F(k.$$.fragment,C),E=!0)},o(C){T(k.$$.fragment,C),E=!1},d(C){C&&c(e),z(k)}}}function qn(r){let e,n=r[12].t("This will delete")+"",t,s,o,a=r[7].name+"",l,f;return{c(){e=g("div"),t=J(n),s=S(),o=g("span"),l=J(a),f=J("."),this.h()},l(h){e=v(h,"DIV",{class:!0});var w=$(e);t=Z(w,n),s=M(w),o=v(w,"SPAN",{class:!0});var V=$(o);l=Z(V,a),V.forEach(c),f=Z(w,"."),w.forEach(c),this.h()},h(){p(o,"class","font-semibold"),p(e,"class","text-sm text-gray-500")},m(h,w){L(h,e,w),m(e,t),m(e,s),m(e,o),m(o,l),m(e,f)},p(h,w){w[0]&4096&&n!==(n=h[12].t("This will delete")+"")&&Q(t,n),w[0]&128&&a!==(a=h[7].name+"")&&Q(l,a)},d(h){h&&c(e)}}}function Jn(r){let e,n,t,s="Please carefully review the following warnings:",o,a,l,f=r[12].t("Functions allow arbitrary code execution.")+"",h,w,V,I=r[12].t("Do not install functions from sources you do not fully trust.")+"",H,N,b,i=r[12].t("I acknowledge that I have read and I understand the implications of my action. I am aware of the risks associated with executing arbitrary code and I have verified the trustworthiness of the source.")+"",u;return{c(){e=g("div"),n=g("div"),t=g("div"),t.textContent=s,o=S(),a=g("ul"),l=g("li"),h=J(f),w=S(),V=g("li"),H=J(I),N=S(),b=g("div"),u=J(i),this.h()},l(k){e=v(k,"DIV",{class:!0});var E=$(e);n=v(E,"DIV",{class:!0});var C=$(n);t=v(C,"DIV",{"data-svelte-h":!0}),et(t)!=="svelte-1a6manw"&&(t.textContent=s),o=M(C),a=v(C,"UL",{class:!0});var B=$(a);l=v(B,"LI",{});var W=$(l);h=Z(W,f),W.forEach(c),w=M(B),V=v(B,"LI",{});var K=$(V);H=Z(K,I),K.forEach(c),B.forEach(c),C.forEach(c),N=M(E),b=v(E,"DIV",{class:!0});var D=$(b);u=Z(D,i),D.forEach(c),E.forEach(c),this.h()},h(){p(a,"class","mt-1 list-disc pl-4 text-xs"),p(n,"class","bg-yellow-500/20 text-yellow-700 dark:text-yellow-200 rounded-lg px-4 py-3"),p(b,"class","my-3"),p(e,"class","text-sm text-gray-500")},m(k,E){L(k,e,E),m(e,n),m(n,t),m(n,o),m(n,a),m(a,l),m(l,h),m(a,w),m(a,V),m(V,H),m(e,N),m(e,b),m(b,u)},p(k,E){E[0]&4096&&f!==(f=k[12].t("Functions allow arbitrary code execution.")+"")&&Q(h,f),E[0]&4096&&I!==(I=k[12].t("Do not install functions from sources you do not fully trust.")+"")&&Q(H,I),E[0]&4096&&i!==(i=k[12].t("I acknowledge that I have read and I understand the implications of my action. I am aware of the risks associated with executing arbitrary code and I have verified the trustworthiness of the source.")+"")&&Q(u,i)},d(k){k&&c(e)}}}function Zn(r){var ht,gt,vt,$t;let e,n,t,s,o,a=r[12].t("Functions")+"",l,f,h,w,V,I=r[9].length+"",H,N,b,i,u,k,E,C,B,W,K,D,oe,te,q,U=[],Ie=new Map,_e,ne,ie,X,Y,de,re,we=r[12].t("Import Functions")+"",De,He,pe,le='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 9.5a.75.75 0 0 1-.75-.75V8.06l-.72.72a.75.75 0 0 1-1.06-1.06l2-2a.75.75 0 0 1 1.06 0l2 2a.75.75 0 1 1-1.06 1.06l-.72-.72v2.69a.75.75 0 0 1-.75.75Z" clip-rule="evenodd"></path></svg>',R,se,ce,ue=r[12].t("Export Functions")+"",fe,ge,he,_='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 3.5a.75.75 0 0 1 .75.75v2.69l.72-.72a.75.75 0 1 1 1.06 1.06l-2 2a.75.75 0 0 1-1.06 0l-2-2a.75.75 0 0 1 1.06-1.06l.72.72V6.25A.75.75 0 0 1 8 5.5Z" clip-rule="evenodd"></path></svg>',A,O,P,ve,$e,Ve,tt,Ze,be,nt,Ke,ke,lt,ye,st,ct;document.title=e=`
		`+r[12].t("Functions")+" | "+r[13]+`
	`,k=new In({props:{className:"size-3.5"}}),oe=new Dn({props:{className:"size-3.5"}});let xe=Ct(r[9]);const ut=d=>d[46].id;for(let d=0;d<xe.length;d+=1){let y=Lt(r,xe,d),ae=ut(y);Ie.set(ae,U[d]=Bt(ae,y))}let ee=((ht=r[11])==null?void 0:ht.features.enable_community_sharing)&&At(r);function zt(d){r[39](d)}let dt={title:r[12].t("Delete function?"),$$slots:{default:[qn]},$$scope:{ctx:r}};r[8]!==void 0&&(dt.show=r[8]),P=new Mt({props:dt}),Se.push(()=>Te(P,"show",zt)),P.$on("confirm",r[40]);function Pt(d){r[41](d)}let mt={manifest:((vt=(gt=r[7])==null?void 0:gt.meta)==null?void 0:vt.manifest)??{}};r[5]!==void 0&&(mt.show=r[5]),Ve=new kn({props:mt}),Se.push(()=>Te(Ve,"show",Pt));function Rt(d){r[42](d)}let _t={type:"function",id:(($t=r[7])==null?void 0:$t.id)??null};r[6]!==void 0&&(_t.show=r[6]),be=new yn({props:_t}),Se.push(()=>Te(be,"show",Rt)),be.$on("save",r[43]);function Wt(d){r[44](d)}let pt={$$slots:{default:[Jn]},$$scope:{ctx:r}};return r[4]!==void 0&&(pt.show=r[4]),ke=new Mt({props:pt}),Se.push(()=>Te(ke,"show",Wt)),ke.$on("confirm",r[45]),{c(){n=S(),t=g("div"),s=g("div"),o=g("div"),l=J(a),f=S(),h=g("div"),w=S(),V=g("span"),H=J(I),N=S(),b=g("div"),i=g("div"),u=g("div"),j(k.$$.fragment),E=S(),C=g("input"),W=S(),K=g("div"),D=g("a"),j(oe.$$.fragment),te=S(),q=g("div");for(let d=0;d<U.length;d+=1)U[d].c();_e=S(),ne=g("div"),ie=g("div"),X=g("input"),Y=S(),de=g("button"),re=g("div"),De=J(we),He=S(),pe=g("div"),pe.innerHTML=le,R=S(),se=g("button"),ce=g("div"),fe=J(ue),ge=S(),he=g("div"),he.innerHTML=_,A=S(),ee&&ee.c(),O=S(),j(P.$$.fragment),$e=S(),j(Ve.$$.fragment),Ze=S(),j(be.$$.fragment),Ke=S(),j(ke.$$.fragment),this.h()},l(d){Xt("svelte-6oeup7",document.head).forEach(c),n=M(d),t=v(d,"DIV",{class:!0});var ae=$(t);s=v(ae,"DIV",{class:!0});var Be=$(s);o=v(Be,"DIV",{class:!0});var Ee=$(o);l=Z(Ee,a),f=M(Ee),h=v(Ee,"DIV",{class:!0}),$(h).forEach(c),w=M(Ee),V=v(Ee,"SPAN",{class:!0});var Ae=$(V);H=Z(Ae,I),Ae.forEach(c),Ee.forEach(c),Be.forEach(c),N=M(ae),b=v(ae,"DIV",{class:!0});var Me=$(b);i=v(Me,"DIV",{class:!0});var Fe=$(i);u=v(Fe,"DIV",{class:!0});var ze=$(u);G(k.$$.fragment,ze),ze.forEach(c),E=M(Fe),C=v(Fe,"INPUT",{class:!0,placeholder:!0}),Fe.forEach(c),W=M(Me),K=v(Me,"DIV",{});var Pe=$(K);D=v(Pe,"A",{class:!0,href:!0});var wt=$(D);G(oe.$$.fragment,wt),wt.forEach(c),Pe.forEach(c),Me.forEach(c),ae.forEach(c),te=M(d),q=v(d,"DIV",{class:!0});var bt=$(q);for(let rt=0;rt<U.length;rt+=1)U[rt].l(bt);bt.forEach(c),_e=M(d),ne=v(d,"DIV",{class:!0});var kt=$(ne);ie=v(kt,"DIV",{class:!0});var Ue=$(ie);X=v(Ue,"INPUT",{id:!0,type:!0,accept:!0}),Y=M(Ue),de=v(Ue,"BUTTON",{class:!0});var Qe=$(de);re=v(Qe,"DIV",{class:!0});var yt=$(re);De=Z(yt,we),yt.forEach(c),He=M(Qe),pe=v(Qe,"DIV",{class:!0,"data-svelte-h":!0}),et(pe)!=="svelte-aqr4dt"&&(pe.innerHTML=le),Qe.forEach(c),R=M(Ue),se=v(Ue,"BUTTON",{class:!0});var Xe=$(se);ce=v(Xe,"DIV",{class:!0});var Et=$(ce);fe=Z(Et,ue),Et.forEach(c),ge=M(Xe),he=v(Xe,"DIV",{class:!0,"data-svelte-h":!0}),et(he)!=="svelte-1n7zye"&&(he.innerHTML=_),Xe.forEach(c),Ue.forEach(c),kt.forEach(c),A=M(d),ee&&ee.l(d),O=M(d),G(P.$$.fragment,d),$e=M(d),G(Ve.$$.fragment,d),Ze=M(d),G(be.$$.fragment,d),Ke=M(d),G(ke.$$.fragment,d),this.h()},h(){p(h,"class","flex self-center w-[1px] h-6 mx-2.5 bg-gray-50 dark:bg-gray-850"),p(V,"class","text-base font-lg text-gray-500 dark:text-gray-300"),p(o,"class","flex md:self-center text-xl items-center font-medium px-0.5"),p(s,"class","flex justify-between items-center"),p(u,"class","self-center ml-1 mr-3"),p(C,"class","w-full text-sm pr-4 py-1 rounded-r-xl outline-none bg-transparent"),p(C,"placeholder",B=r[12].t("Search Functions")),p(i,"class","flex flex-1"),p(D,"class","px-2 py-2 rounded-xl hover:bg-gray-700/10 dark:hover:bg-gray-100/10 dark:text-gray-300 dark:hover:text-white transition font-medium text-sm flex items-center space-x-1"),p(D,"href","/admin/functions/create"),p(b,"class","flex w-full space-x-2"),p(t,"class","flex flex-col gap-1 mt-1.5 mb-2"),p(q,"class","mb-5"),p(X,"id","documents-import-input"),p(X,"type","file"),p(X,"accept",".json"),X.hidden=!0,p(re,"class","self-center mr-2 font-medium line-clamp-1"),p(pe,"class","self-center"),p(de,"class","flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition"),p(ce,"class","self-center mr-2 font-medium line-clamp-1"),p(he,"class","self-center"),p(se,"class","flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition"),p(ie,"class","flex space-x-2"),p(ne,"class","flex justify-end w-full mb-2")},m(d,y){L(d,n,y),L(d,t,y),m(t,s),m(s,o),m(o,l),m(o,f),m(o,h),m(o,w),m(o,V),m(V,H),m(t,N),m(t,b),m(b,i),m(i,u),x(k,u,null),m(i,E),m(i,C),Vt(C,r[0]),m(b,W),m(b,K),m(K,D),x(oe,D,null),L(d,te,y),L(d,q,y);for(let ae=0;ae<U.length;ae+=1)U[ae]&&U[ae].m(q,null);L(d,_e,y),L(d,ne,y),m(ne,ie),m(ie,X),r[34](X),m(ie,Y),m(ie,de),m(de,re),m(re,De),m(de,He),m(de,pe),m(ie,R),m(ie,se),m(se,ce),m(ce,fe),m(se,ge),m(se,he),L(d,A,y),ee&&ee.m(d,y),L(d,O,y),x(P,d,y),L(d,$e,y),x(Ve,d,y),L(d,Ze,y),x(be,d,y),L(d,Ke,y),x(ke,d,y),ye=!0,st||(ct=[Ce(C,"input",r[22]),Ce(X,"change",r[35]),Ce(X,"change",r[36]),Ce(de,"click",r[37]),Ce(se,"click",r[38])],st=!0)},p(d,y){var Me,Fe,ze,Pe;(!ye||y[0]&12288)&&e!==(e=`
		`+d[12].t("Functions")+" | "+d[13]+`
	`)&&(document.title=e),(!ye||y[0]&4096)&&a!==(a=d[12].t("Functions")+"")&&Q(l,a),(!ye||y[0]&512)&&I!==(I=d[9].length+"")&&Q(H,I),(!ye||y[0]&4096&&B!==(B=d[12].t("Search Functions")))&&p(C,"placeholder",B),y[0]&1&&C.value!==d[0]&&Vt(C,d[0]),y[0]&2039778&&(xe=Ct(d[9]),je(),U=un(U,y,ut,1,d,xe,Ie,q,dn,Bt,null,Lt),Ge()),(!ye||y[0]&4096)&&we!==(we=d[12].t("Import Functions")+"")&&Q(De,we),(!ye||y[0]&4096)&&ue!==(ue=d[12].t("Export Functions")+"")&&Q(fe,ue),(Me=d[11])!=null&&Me.features.enable_community_sharing?ee?(ee.p(d,y),y[0]&2048&&F(ee,1)):(ee=At(d),ee.c(),F(ee,1),ee.m(O.parentNode,O)):ee&&(je(),T(ee,1,1,()=>{ee=null}),Ge());const ae={};y[0]&4096&&(ae.title=d[12].t("Delete function?")),y[0]&4224|y[1]&262144&&(ae.$$scope={dirty:y,ctx:d}),!ve&&y[0]&256&&(ve=!0,ae.show=d[8],Ne(()=>ve=!1)),P.$set(ae);const Be={};y[0]&128&&(Be.manifest=((ze=(Fe=d[7])==null?void 0:Fe.meta)==null?void 0:ze.manifest)??{}),!tt&&y[0]&32&&(tt=!0,Be.show=d[5],Ne(()=>tt=!1)),Ve.$set(Be);const Ee={};y[0]&128&&(Ee.id=((Pe=d[7])==null?void 0:Pe.id)??null),!nt&&y[0]&64&&(nt=!0,Ee.show=d[6],Ne(()=>nt=!1)),be.$set(Ee);const Ae={};y[0]&4096|y[1]&262144&&(Ae.$$scope={dirty:y,ctx:d}),!lt&&y[0]&16&&(lt=!0,Ae.show=d[4],Ne(()=>lt=!1)),ke.$set(Ae)},i(d){if(!ye){F(k.$$.fragment,d),F(oe.$$.fragment,d);for(let y=0;y<xe.length;y+=1)F(U[y]);F(ee),F(P.$$.fragment,d),F(Ve.$$.fragment,d),F(be.$$.fragment,d),F(ke.$$.fragment,d),ye=!0}},o(d){T(k.$$.fragment,d),T(oe.$$.fragment,d);for(let y=0;y<U.length;y+=1)T(U[y]);T(ee),T(P.$$.fragment,d),T(Ve.$$.fragment,d),T(be.$$.fragment,d),T(ke.$$.fragment,d),ye=!1},d(d){d&&(c(n),c(t),c(te),c(q),c(_e),c(ne),c(A),c(O),c($e),c(Ze),c(Ke)),z(k),z(oe);for(let y=0;y<U.length;y+=1)U[y].d();r[34](null),ee&&ee.d(d),z(P,d),z(Ve,d),z(be,d),z(ke,d),st=!1,Yt(ct)}}}const Kn=()=>{};function Qn(r,e,n){let t,s,o,a,l;Le(r,nn,_=>n(10,t=_)),Le(r,ln,_=>n(11,s=_)),Le(r,Oe,_=>n(21,a=_)),Le(r,sn,_=>n(13,l=_));const{saveAs:f}=mn,h=Ot("i18n");Le(r,h,_=>n(12,o=_));let w=!1,V,I,H=!1,N="",b=!1,i=!1,u=null,k=!1,E=[];const C=async _=>{const A=await at(localStorage.token,_.id).catch($e=>(me.error(`${$e}`),null));me.success(o.t("Redirecting you to Open WebUI Community"));const O="https://openwebui.com",P=await window.open(`${O}/functions/create`,"_blank"),ve=$e=>{$e.origin===O&&$e.data==="loaded"&&(P.postMessage(JSON.stringify(A),"*"),window.removeEventListener("message",ve))};window.addEventListener("message",ve,!1),console.log(A)},B=async _=>{const A=await at(localStorage.token,_.id).catch(O=>(me.error(`${O}`),null));A&&(sessionStorage.function=JSON.stringify({...A,id:`${A.id}_clone`,name:`${A.name} (Clone)`}),St("/admin/functions/create"))},W=async _=>{const A=await at(localStorage.token,_.id).catch(O=>(me.error(`${O}`),null));if(A){let O=new Blob([JSON.stringify([A])],{type:"application/json"});f(O,`function-${A.id}-export-${Date.now()}.json`)}},K=async _=>{var O;await rn(localStorage.token,_.id).catch(P=>(me.error(`${P}`),null))&&(me.success(o.t("Function deleted successfully")),Oe.set(await Ye(localStorage.token)),Re.set(await We(localStorage.token,((O=s==null?void 0:s.features)==null?void 0:O.enable_direct_connections)&&((t==null?void 0:t.directConnections)??null))))},D=async _=>{var O;await an(localStorage.token,_.id).catch(P=>{me.error(`${P}`)})&&(_.is_global?_.type==="filter"?me.success(o.t("Filter is now globally enabled")):me.success(o.t("Function is now globally enabled")):_.type==="filter"?me.success(o.t("Filter is now globally disabled")):me.success(o.t("Function is now globally disabled")),Oe.set(await Ye(localStorage.token)),Re.set(await We(localStorage.token,((O=s==null?void 0:s.features)==null?void 0:O.enable_direct_connections)&&((t==null?void 0:t.directConnections)??null))))};jt(()=>{const _=P=>{P.key==="Shift"&&n(1,w=!0)},A=P=>{P.key==="Shift"&&n(1,w=!1)},O=()=>{n(1,w=!1)};return window.addEventListener("keydown",_),window.addEventListener("keyup",A),window.addEventListener("blur",O),()=>{window.removeEventListener("keydown",_),window.removeEventListener("keyup",A),window.removeEventListener("blur",O)}});function oe(){N=this.value,n(0,N)}const te=_=>{K(_)},q=_=>{n(7,u=_),n(5,b=!0)},U=_=>{n(7,u=_),n(6,i=!0)},Ie=_=>{St(`/admin/functions/edit?id=${encodeURIComponent(_.id)}`)},_e=_=>{C(_)},ne=_=>{B(_)},ie=_=>{W(_)},X=async _=>{n(7,u=_),n(8,k=!0)},Y=_=>{["filter","action"].includes(_.type)&&D(_)};function de(_,A){r.$$.not_equal(A.is_active,_)&&(A.is_active=_,n(9,E),n(21,a),n(0,N))}const re=async(_,A)=>{var O;on(localStorage.token,_.id),Re.set(await We(localStorage.token,((O=s==null?void 0:s.features)==null?void 0:O.enable_direct_connections)&&((t==null?void 0:t.directConnections)??null)))};function we(_){Se[_?"unshift":"push"](()=>{V=_,n(2,V)})}function De(){I=this.files,n(3,I)}const He=()=>{console.log(I),n(4,H=!0)},pe=()=>{V.click()},le=async()=>{const _=await fn(localStorage.token).catch(A=>(me.error(`${A}`),null));if(_){let A=new Blob([JSON.stringify(_)],{type:"application/json"});f(A,`functions-export-${Date.now()}.json`)}};function R(_){k=_,n(8,k)}const se=()=>{K(u)};function ce(_){b=_,n(5,b)}function ue(_){i=_,n(6,i)}const fe=async()=>{var _;await en(),Re.set(await We(localStorage.token,((_=s==null?void 0:s.features)==null?void 0:_.enable_direct_connections)&&((t==null?void 0:t.directConnections)??null)))};function ge(_){H=_,n(4,H)}const he=()=>{const _=new FileReader;_.onload=async A=>{var P;const O=JSON.parse(A.target.result);console.log(O);for(const ve of O)await cn(localStorage.token,ve).catch($e=>(me.error(`${$e}`),null));me.success(o.t("Functions imported successfully")),Oe.set(await Ye(localStorage.token)),Re.set(await We(localStorage.token,((P=s==null?void 0:s.features)==null?void 0:P.enable_direct_connections)&&((t==null?void 0:t.directConnections)??null)))},_.readAsText(I[0])};return r.$$.update=()=>{r.$$.dirty[0]&2097153&&n(9,E=a.filter(_=>N===""||_.name.toLowerCase().includes(N.toLowerCase())||_.id.toLowerCase().includes(N.toLowerCase())).sort((_,A)=>_.type.localeCompare(A.type)||_.name.localeCompare(A.name)))},[N,w,V,I,H,b,i,u,k,E,t,s,o,l,f,h,C,B,W,K,D,a,oe,te,q,U,Ie,_e,ne,ie,X,Y,de,re,we,De,He,pe,le,R,se,ce,ue,fe,ge,he]}class Xn extends it{constructor(e){super(),ft(this,e,Qn,Zn,ot,{},null,[-1,-1])}}function Ut(r){let e,n;return e=new Xn({}),{c(){j(e.$$.fragment)},l(t){G(e.$$.fragment,t)},m(t,s){x(e,t,s),n=!0},i(t){n||(F(e.$$.fragment,t),n=!0)},o(t){T(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function Yn(r){let e,n,t=r[0]!==null&&Ut();return{c(){t&&t.c(),e=Ht()},l(s){t&&t.l(s),e=Ht()},m(s,o){t&&t.m(s,o),L(s,e,o),n=!0},p(s,[o]){s[0]!==null?t?o&1&&F(t,1):(t=Ut(),t.c(),F(t,1),t.m(e.parentNode,e)):t&&(je(),T(t,1,1,()=>{t=null}),Ge())},i(s){n||(F(t),n=!0)},o(s){T(t),n=!1},d(s){s&&c(e),t&&t.d(s)}}}function el(r,e,n){let t;return Le(r,Oe,s=>n(0,t=s)),jt(async()=>{await Promise.all([(async()=>{Oe.set(await Ye(localStorage.token))})()])}),[t]}class Vl extends it{constructor(e){super(),ft(this,e,el,Yn,ot,{})}}export{Vl as component};
//# sourceMappingURL=10.ByhfdNGd.js.map
